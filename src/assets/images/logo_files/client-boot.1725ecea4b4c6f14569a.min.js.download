(()=>{var ul=Object.defineProperty;var h=(B,A)=>ul(B,"name",{value:A,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["client-boot"],{7485973703:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>o});const t=["radio","searchbox","slider","spinbutton","switch","textbox","combobox","listbox","option"],s=["button","submit","reset"];function o(n){if(!n)return!1;const c=n.nodeName;if((c==="BUTTON"||c==="INPUT"&&s.includes(n.getAttribute("type")||""))&&n.matches('[role="toolbar"] button, [role="toolbar"] input'))return!0;const a=n.getAttribute("role");return a?t.includes(a):!1}h(o,"isInlineAriaWidget")},3289229314:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4662204317),l=e.n(c);const i={warning:"warning",inverted:"inverted"};function a(d){let{children:m,className:f,dataQa:u,onClick:E=n.A,onKeyDown:v=n.A,role:g=void 0,tabIndex:T=void 0,ariaLabel:p=void 0,variant:O}=d;const y={[l().inverted]:O===i.inverted,[l().warning]:O===i.warning};return t.createElement("div",{className:o()(f,l().callout,y),"data-sk":"callout","data-qa":u,onClick:E,onKeyDown:v,role:g,tabIndex:T,"aria-label":p},m)}h(a,"Callout"),a.displayName="Callout",a.displayName="Callout";const r=a},3828212396:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(3289229314);const s=t.A},5270110349:(B,A,e)=>{"use strict";e.d(A,{FK:()=>o,P:()=>c,RG:()=>t,ny:()=>n,pI:()=>s});const t={xxlarge:102,xlarge:72,large:56,medium:36,small:20,smallListVariant:24,smallListVariantOutline:16,inline:14},s={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},o={normal:"12px",none:"0"},n={small:"small",medium:"medium"},c={true:!0,bestOnly:"best_only",false:!1}},3496839845:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(9720146556);const s=h(function(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;if(!i)return l;const{label:a,options:r}=i,d=new t.A(n,{fuzzyLimit:3,...c});if(!r)isFinite(d.normalizeAndScore(a))&&l.push(i);else{const m=[];r.forEach(f=>{const{label:u}=f;isFinite(d.normalizeAndScore(u))&&m.push(f)}),m.length&&l.push({label:i.label,options:m})}return l},"findMatches");function o(n,c){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c?n.reduce((i,a)=>s(c,l,i,a),[]):n}h(o,"defaultFilter")},4637971620:(B,A,e)=>{"use strict";e.d(A,{F:()=>t,n:()=>s});const t={small:"small",medium:"medium",large:"large"},s={small:22,medium:26,large:32}},5720609494:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(4468463074);let s=h(class extends t.A{getOffsetForKey(n){if(!n)return this.totalHeight;const c=this.getTop(n);return c===void 0?0:c-this.anchorOffset}setHeight(n,c,l){if(this.anchor!==!1)return super.setHeight(n,c),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(l,this.STICKY_EPSILON_SETHEIGHT))return super.setHeight(n,c),this.bracketScrollTop(1/0);let i=l;if(this.getBottom(n)<=l+this.anchorOffset){const r=c-this.getHeight(n);i+=r}return super.setHeight(n,c),this.bracketScrollTop(i)}setKeys(n,c){if(this.anchor!==!1)return super.setKeys(n),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(c))return super.setKeys(n),this.bracketScrollTop(1/0);const l=c+this.anchorOffset,i=this.findAnchor(this.keys,n,l);if(!i)return super.setKeys(n),this.bracketScrollTop(c);const a=this.getTop(i)-l;super.setKeys(n);const r=this.getTop(i)-l,d=a-r;return this.bracketScrollTop(c-d)}setContainerHeight(n,c){return this.anchor!==!1?(this.containerHeight=n,this.layout(),this.bracketScrollTop(this.getOffsetForKey(this.anchor))):this.shouldStickToBottom(c)?(this.containerHeight=n,this.layout(),this.bracketScrollTop(1/0)):(this.containerHeight=n,this.layout(),c)}setBottomMargin(n){this.bottomMargin=n}setStickToBottom(n){this.stickToBottom=n}setAnchor(n,c){this.anchor=n,typeof c!="number"?this.anchorOffset=this.ANCHOR_OFFSET:this.anchorOffset=c}findAnchor(n,c,l){for(let i=0;i<n.length;i++){const a=n[i];if(this.getBottom(a)>l){for(let r=0;r<c.length;r++)if(c[r]===a)return a}}return null}bracketScrollTop(n){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,n))}shouldStickToBottom(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.STICKY_EPSILON;return this.stickToBottom?n>=this.totalHeight-this.containerHeight-c+this.bottomMargin:!1}constructor({keys:n,heightCache:c,gutter:l,onTotalHeightChange:i,containerHeight:a=0,stickToBottom:r=!1,bottomMargin:d=0,ANCHOR_OFFSET:m=0,STICKY_EPSILON:f=2,STICKY_EPSILON_SETHEIGHT:u=2}={}){super({keys:n,heightCache:c,gutter:l,onTotalHeightChange:i}),this.containerHeight=a,this.stickToBottom=r,this.bottomMargin=d,this.STICKY_EPSILON=f,this.STICKY_EPSILON_SETHEIGHT=u,this.ANCHOR_OFFSET=m,this.anchorOffset=m,this.anchor=!1}},"AnchorLayout")},4468463074:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(2208015175),s=e(166097325),o=e(7715417323),n=e(7550158021);let c=h(class{layout(){const{keys:i}=this,a={};let r=0;(0,t.A)(i,d=>{a[d]=r;const m=this.getHeight(d);r+=m+(m>0?this.gutter:0)}),(0,s.A)(a,this.tops)||(this.tops=a),r!==this.totalHeight&&this.onTotalHeightChange(r),this.totalHeight=r}getHeight(i){return this.heightCache.get(i)}getHeightValidity(i){return this.heightCache.getValidity(i)}getTop(i){return this.tops[i]}getBottom(i){return this.tops[i]+this.getHeight(i)}getTops(){return this.tops}getTotalHeight(){return this.totalHeight}getOffsetForKey(i){return i?this.getTop(i):this.totalHeight}getBounds(i,a){const r=this.keys;let d=0;for(;d+1<r.length;){const f=r[d+1];if(this.getTop(f)>i)break;d+=1}let m=d;for(;m<r.length;){const f=r[m];if(this.getTop(f)>a)break;m+=1}return{start:d,end:m}}setHeight(i,a,r){this.heightCache.set(i,a),this.layout()}setKeys(i,a){this.keys=i,this.layout()}constructor({keys:i=[],gutter:a=0,heightCache:r=new n.A,onTotalHeightChange:d=o.A}={}){this.keys=i,this.heightCache=r,this.onTotalHeightChange=d,this.gutter=a,this.tops={},this.totalHeight=0,this.layout()}},"Layout")},7550158021:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});let t=h(class{get(n){return n in this.heights?this.heights[n]:this.DEFAULT_HEIGHT}set(n,c){this.heights[n]=c}getValidity(n){return n in this.heights}constructor({DEFAULT_HEIGHT:n=50,heights:c}={}){this.heights=c||{},this.DEFAULT_HEIGHT=n}},"HeightCache"),s=h(class extends t{getValidity(n){return!!this.validity[n]}set(n,c){super.set(n,c),this.validity[n]=!0}invalidate(n){if(!n){this.validity={};return}delete this.validity[n]}constructor(n){super(n),this.validity={}}},"ValidityHeightCache")},4665139800:(B,A,e)=>{"use strict";e.d(A,{A:()=>P});var t=e(3134334389),s=e(7715417323),o=e(338698394),n=e(1739415438),c=e(3659369705),l=e(9682034663),i=e(2688958968),a=e(2691514942),r=e(7418708689);const d='<div aria-hidden="true" style="position:absolute" tabindex="1"></div>',m='<div aria-hidden="true" style="position:absolute" tabindex="0"></div>',f={},u={},E=h((b,S)=>{const N=b.createElement("div");N.innerHTML=d+m;const L=N.firstChild,D=N.lastChild,k=b.body;!L||!D||(k.insertBefore(L,k.firstChild),k.appendChild(D),u[S].firstHiddenTabStop=L,u[S].lastHiddenTabStop=D)},"createHiddenTabStops"),v=h((b,S)=>{const{firstHiddenTabStop:N,lastHiddenTabStop:L}=u[S];N&&(b==null||b.body.removeChild(N)),L&&(b==null||b.body.removeChild(L))},"removeHiddenTabStops"),g=h(b=>{const S=(0,l.Fp)(b.getElementById("client-ui"));S&&S.focus()},"focusFirstInClient"),T=h(b=>{const S=(0,l.LQ)(b.getElementById("client-ui"));S&&S.focus()},"focusLastInClient"),p=h((b,S)=>{let{keyCode:N,type:L,shiftKey:D,ctrlKey:k,metaKey:x}=S;const R=u[b];N===i.wn&&(k||(0,c.cX)()&&x||(R.keydownTimeoutId&&clearTimeout(R.keydownTimeoutId),R.relatedEvent={type:L,keyCode:N,shiftKey:D},R.keydownTimeoutId=setTimeout(()=>{R.relatedEvent=null},15)))},"onDocumentKeyDown"),O=h((b,S)=>{let{type:N}=S;const L=u[b];L.mousedownTimeoutId&&clearTimeout(L.mousedownTimeoutId),L.relatedEvent={type:N},L.mousedownTimeoutId=setTimeout(()=>{L.relatedEvent=null},15)},"onDocumentMouseDown"),y=h((b,S)=>{const{currentTarget:N,target:L,relatedTarget:D}=S,k=u[b],x=k.relatedEvent,R=x&&x.type==="keydown"?x:null,U=k.firstHiddenTabStop,F=k.lastHiddenTabStop,W=L===U,w=L===F;if(L!==N){if(W&&R){if(R.shiftKey){L.blur();return}if(!D){g(N);return}}if(w&&R){R.shiftKey?T(N):L.blur();return}if(!D&&!R&&(W||w)){if(k.relatedEvent={type:"keydown",shiftKey:!1,keyCode:9},W){g(N),k.relatedEvent=null;return}w&&(T(N),k.relatedEvent=null)}}},"onDocumentFocus"),C=h((b,S)=>{const{currentTarget:N,relatedTarget:L}=S,D=u[b];D.blurTimeoutId&&(clearTimeout(D.blurTimeoutId),D.blurTimeoutId=null);const{shiftKey:k,type:x,keyCode:R}=D.relatedEvent||{};!L&&x==="keydown"&&(D.blurTimeoutId=setTimeout(()=>{if(N.activeElement!==N.body)return;D.relatedEvent={type:x,shiftKey:k,keyCode:R},(k?T:g)(N),D.relatedEvent=null},150))},"onDocumentBlur"),I=h((b,S)=>S.bind(null,b),"withWindowId"),M=h(b=>({firstHiddenTabStop:null,lastHiddenTabStop:null,onDocumentBlur:I(b,C),onDocumentFocus:I(b,y),onDocumentKeyDown:I(b,p),onDocumentMouseDown:I(b,O),relatedEvent:null,blurTimeoutId:null,keydownTimeoutId:null,mousedownTimeoutId:null}),"initRefs");let _=h(class extends t.PureComponent{componentDidMount(){var S;const N=t.Children.only(this.props.children);typeof N.type=="function"&&this.checkChildIsValid(N);const{windowRef:L,windowId:D=r.N2}=this.props,k=(S=L.deref())===null||S===void 0?void 0:S.document;if(!k){(0,a.Wo)().warn("FOCUS-MANAGER","FocusManager does not have a document (mount)");return}if(!f[D]){f[D]=0,u[D]=M(D);const x=u[D];(0,c.y3)()?k.addEventListener("blur",x.onDocumentBlur,!0):(E(k,D),k.addEventListener("focus",x.onDocumentFocus,!0)),k.addEventListener("keydown",x.onDocumentKeyDown,!0),k.addEventListener("mousedown",x.onDocumentMouseDown,!0)}f[D]+=1}componentWillUnmount(){var S;const{windowRef:N,windowId:L=r.N2}=this.props,D=(S=N.deref())===null||S===void 0?void 0:S.document;if(!D){(0,a.Wo)().warn("FOCUS-MANAGER","FocusManager does not have a document (unmount)");return}if(f[L]-=1,f[L]===0){const k=u[L];(0,c.y3)()?D==null||D.removeEventListener("blur",k.onDocumentBlur,!0):(v(D,L),D==null||D.removeEventListener("focus",k.onDocumentFocus,!0)),D==null||D.removeEventListener("keydown",k.onDocumentKeyDown,!0),D==null||D.removeEventListener("mousedown",k.onDocumentMouseDown,!0),k.blurTimeoutId&&clearTimeout(k.blurTimeoutId),k.keydownTimeoutId&&clearTimeout(k.keydownTimeoutId),k.mousedownTimeoutId&&clearTimeout(k.mousedownTimeoutId),delete f[L],delete u[L]}}onBlur(S){const{currentTarget:N,target:L,relatedTarget:D}=S,k={relatedTarget:D,currentTarget:N,target:L};N.contains(D)||this.props.onFocusLeave&&this.props.onFocusLeave(k)}onFocus(S){const{currentTarget:N,target:L,relatedTarget:D}=S,{windowId:k=r.N2}=this.props,{relatedEvent:x}=u[k];if(!(N==null?void 0:N.contains(L)))return;const F=N.contains(D)?this.props.onFocusWithin:this.props.onFocusEnter;F&&F({relatedTarget:D,currentTarget:N,target:L,relatedEvent:x})}checkChildIsValid(S){const{onFocus:N,onBlur:L}=S.props;if(!(N&&L))throw new Error("FocusManager requires a single child with onFocus and onBlur props.")}render(){const S=this.props.children;return t.cloneElement(S,{onFocus:this.onFocus,onBlur:this.onBlur},S.props.children)}constructor(S){super(S),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}},"FocusManager");_.defaultProps={children:null,onFocusEnter:s.A,onFocusWithin:s.A,onFocusLeave:s.A,windowRef:o.Jh.windowRef},_.displayName="FocusManager";const P=(0,n.A)(_)},5809317241:(B,A,e)=>{"use strict";e.d(A,{A:()=>Pe});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(7715417323),l=e(1739415438),i=e(3349796254),a=e(9682034663),r=e(780931896),d=e(1182212603),m=e(7313997791),f=e(6911391481),u=e(9641247190);const E=(0,m.Wb)()?Fe=>{const ge=(0,f.c)(13),{startFocusTransitionFallbackTimeout:He,cancelFocusTransitionFallback:Qe}=(0,t.useContext)(u.Ay);let _e;ge[0]!==Fe||ge[1]!==He?(_e=h((yt,Ot)=>{He(Fe,yt,Ot)},"t0"),ge[0]=Fe,ge[1]=He,ge[2]=_e):_e=ge[2];const Le=_e;let Ie;ge[3]!==Qe||ge[4]!==Fe?(Ie=h(()=>{Qe(Fe)},"t1"),ge[3]=Qe,ge[4]=Fe,ge[5]=Ie):Ie=ge[5];const we=Ie;let ze,ut;ge[6]!==Qe||ge[7]!==Fe?(ze=h(()=>()=>{Qe(Fe)},"t2"),ut=[Qe,Fe],ge[6]=Qe,ge[7]=Fe,ge[8]=ze,ge[9]=ut):(ze=ge[8],ut=ge[9]),(0,t.useEffect)(ze,ut);let _t;return ge[10]!==we||ge[11]!==Le?(_t=[Le,we],ge[10]=we,ge[11]=Le,ge[12]=_t):_t=ge[12],_t}:Fe=>{const{startFocusTransitionFallbackTimeout:ge,cancelFocusTransitionFallback:He}=(0,t.useContext)(u.Ay),Qe=(0,t.useCallback)((Le,Ie)=>{ge(Fe,Le,Ie)},[Fe,ge]),_e=(0,t.useCallback)(()=>{He(Fe)},[He,Fe]);return(0,t.useEffect)(()=>()=>{He(Fe)},[He,Fe]),[Qe,_e]};var v=e(4348442162),g=e(481313997),T=e(3659369705),p=e(480439070),O=e(2947229296),y=e(9062511843),C=e(5321945674),I=e(4921096872),M=e(9866037031),_=e(2869254699),P=e(6711107392),b=e(5464688500),S=e(9476265383),N=e(4374711907),L=e(8000769609),D=e(1609943317),k=e(9059585517),x=e(3988784964),R=e(3122619948),U=e(6761585902),F=e(2069063006),W=e(4464789530),w=e(2577163594),K=e(8602966483);function j(){return j=Object.assign||function(Fe){for(var ge=1;ge<arguments.length;ge++){var He=arguments[ge];for(var Qe in He)Object.prototype.hasOwnProperty.call(He,Qe)&&(Fe[Qe]=He[Qe])}return Fe},j.apply(this,arguments)}h(j,"_extends");const Q=new O.Ay("contextual_help"),J={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},z=h(Fe=>{let{suppressOnClose:ge=!1,cancelButtonAutoClogProps:He,cancelButtonText:Qe,children:_e,className:Le,closeModal:Ie,"data-qa":we="contextual_help_modal",onSubmit:ze=c.A,contextualHelpCheckboxLabel:ut,pref:_t,showCancelButton:yt=!1,submitButtonAutoClogProps:Ot,submitButtonText:It,submitButtonType:kt="primary",title:gt="",illustration:Gt,setUserPrefByApi:Pt=c.A}=Fe;const jt=(0,y.A)(),[Qt]=(0,C.A)(_t),Jt=W.PW[_t],[Yt,Rt]=(0,t.useState)(Jt!==Qt),Bt="contextual-help-modal-dialog-title",dn="contextual-help-modal-dialog-content",Mt=(0,t.useCallback)(tt=>{jt.action("CONTEXTUAL-HELP-MODAL",`Changed ${_t}: ${tt}`),(0,R.A)()?(0,K.gj)((0,w.AZ)({pref:_t,value:tt})):Pt({pref:_t,value:tt})},[jt,_t,Pt]),Ye=(0,t.useCallback)(function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ge?Mt(!Jt):tt&&Mt(Jt!==Yt),Ie()},[ge,Ie,Jt,Yt,Mt]),ot=(0,t.useCallback)(tt=>{Rt(tt.target.checked)},[]),ht=(0,t.useCallback)(()=>{ze(),Ye(!0)},[Ye,ze]);return t.createElement(P.A,{className:Le,labelledby:Bt,describedby:dn,closeModal:Ye,role:"alertdialog",dataQa:we,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.createElement(D.A,null,Gt?t.createElement(k.A,j({"aria-hidden":!0},Gt)):null,t.createElement(x.A,{title:gt,id:Bt,"data-qa":`${we}_header`})),t.createElement(b.A,null,t.createElement(S.A,{"data-qa":`${we}_content`,id:dn},_e)),t.createElement(N.A,{"data-qa":`${we}_footer`,className:n()({"c-contextual_help_shortcuts_list__footer_with_checkbox":!ge})},!ge&&t.createElement(_.A,{"data-qa":`${we}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:ut||Q.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.createElement(M.A,{checked:Yt,onChange:ot,autoClogProps:J})),t.createElement(L.A,null,yt&&t.createElement(I.Ay,{type:"outline",onClick:Ye,"data-qa":`${we}_cancel`,autoClogProps:He},Qe||Q.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.createElement(I.Ay,{type:kt,onClick:ht,"data-qa":`${we}_submit`,autoClogProps:Ot,autoFocus:!0},It||Q.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");z.displayName="ContextualHelpModal";const ie=h(Fe=>({closeModal:()=>Fe((0,F.O)()),setUserPrefByApi:ge=>(0,w.AZ)(ge)}),"mapDispatchToProps"),ee=(0,U.N)(null,ie)(z);var ne=e(8656155806),Z=e(8823986650),te=e(9418510319),he=e.n(te);const ue=new O.Ay("contextual_help"),de={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},re={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},V={src:he(),alt:""},H=h(()=>{const Fe=(0,T.y3)(),ge=ue.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),He=`https://${(0,p.qF)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,Qe=(0,ne.ed)("Cmd"),_e=(0,ne.ed)("Ctrl"),Le=(0,ne.ed)(ne.tc.ArrowLeft),Ie=(0,ne.ed)(ne.tc.ArrowRight),we=ue.t("F6"),ze=ue.rt("{ctrlKey}+{f6Key}",{ctrlKey:_e,f6Key:we}),ut=h(()=>(0,T.cX)()?ue.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:Qe,ctrlKey:_e,leftArrowKey:Le,rightArrowKey:Ie}):Fe?we:ze,"getSectionNavigationKeys"),_t=ue.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:ut(),"<link>":Ot=>{let{text:It}=Ot;return t.createElement(Z.A,{href:He,autoClogProps:re},It)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),yt=ue.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.createElement(g.A,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.createElement(ee,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:de,title:ge,illustration:V,suppressOnClose:!0,submitButtonText:yt},_t))},"ContextualHelpForSectionNavigationModal");H.displayName="ContextualHelpForSectionNavigationModal";const X=H;var Y=e(4894634110),q=e(4576178624),fe=e(293248343);const ce=(0,q.e)(X),Ee=(0,Y.Ay)("Maybe open modal dialog with contextual help for section navigation",(Fe,ge)=>{const He=ge();(0,fe.ty)(He,"should_show_contextual_help_for_section_navigation")&&Fe(ce())});Ee.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};const Ae=null;var le=e(7283822963),oe=e(2302718955),me=e(7802997101),pe=e(6366597544),Te=e(7840194823),Me=e.n(Te);const Ue=h(Fe=>{let{containerRef:ge,sectionId:He,sectionIndex:Qe,sectionNavigationEnabled:_e,windowRef:Le}=Fe;const Ie=Boolean((0,pe.f)(me.F.ManagedFocusContainer)),we=Le.deref(),[ze,ut]=(0,t.useState)(null);(0,t.useEffect)(()=>{const _t=h(()=>{const Ot=ge.current;if(!we||!Ie||!(0,oe.A)(Ot,we)){ut(null);return}const It=[...Ot.children];for(;It.length;){const kt=It.shift();if(kt){if(!kt.classList.contains("offscreen")&&kt.clientWidth&&kt.clientHeight){ut(kt);return}It.push(...kt.children)}}},"updateDebugContentsNode");if(_t(),!Ie)return;const yt=new MutationObserver(_t);return yt.observe(ge.current,{childList:!0,subtree:!0}),()=>yt.disconnect()},[Ie,ge,we]),(0,t.useEffect)(()=>{var _t;const{document:yt}=we??{};if(!yt||!ze||!(0,oe.A)(ze,we))return;const Ot=yt.createElement("div");Ot.className=Me().debugOverlay,Ot.textContent=`${He}: ${Qe}${_e?"":" - DISABLED"}`;const It=yt.createElement("div");It.className=Me().debugFrame,It.append(Ot),ze.append(It);const kt=ze.style.position;(we==null?void 0:we.getComputedStyle(ze).position)==="static"&&(ze.style.position="relative");const gt=(_t=ge.current)===null||_t===void 0?void 0:_t.classList;return gt.add(Me().debugContainer),_e||gt.add(Me().disabled),()=>{It==null||It.remove(),ze.style.position=kt,gt.remove(Me().debugContainer),gt.remove(Me().disabled)}},[ge,ze,He,Qe,_e,we])},"useManagedFocusContainerDebugOverlay");var xe=e(6952065924),Ne=e(2077531588),be=e(2691514942),ke=e(2398473551),Ke=e(8877220497),$=e(7874250141),ae=e(7188858884);function Ge(){return Ge=Object.assign||function(Fe){for(var ge=1;ge<arguments.length;ge++){var He=arguments[ge];for(var Qe in He)Object.prototype.hasOwnProperty.call(He,Qe)&&(Fe[Qe]=He[Qe])}return Fe},Ge.apply(this,arguments)}h(Ge,"managed_focus_container_extends");const nt={display:"contents"},at="enabled-managed-focus-container",Ve=h(()=>!0,"shouldAlwaysFocus"),Se=h(Fe=>{const{id:ge,index:He,focusFn:Qe=c.A,restoreFocusFn:_e=void 0,enableSectionNavigation:Le=!0,refToForward:Ie=void 0,onFocus:we=c.A,onBlur:ze=c.A,shouldFocus:ut=Ve,onFirstHiddenTabStopFocus:_t=c.A,onLastHiddenTabStopFocus:yt=c.A,tabCountToShowContextualHelp:Ot=4,windowRef:It,windowToken:kt=void 0,windowId:gt=void 0,className:Gt,...Pt}=Fe,{registerSection:jt,unregisterSection:Qt,setActiveSection:Jt}=(0,t.useContext)(Ne.A),Yt=(0,i.A)(Ie),[Rt,Bt]=(0,t.useState)(),[dn,Mt]=(0,t.useState)(0),{getState:Ye}=(0,s.Pj)(),ot=Ye();let ht=ot,tt;(0,Ke.A)(ot)?(tt=(0,ke.getFocusedWorkspace)(ot),ht=(0,ae.$D)(tt)):tt=(0,$.ZT)(ot);const ct=(0,be.Ay)({state:ht}),rn=(0,fe.ty)(ht,"should_show_contextual_help_for_section_navigation"),ln=(0,t.useCallback)(vn=>(0,ae.Qw)(tt,(0,w.AZ)({pref:"should_show_contextual_help_for_section_navigation",value:vn})),[tt]),[on,G]=(0,t.useState)(!1),De=(0,t.useCallback)(()=>{if(on)return;const vn=dn+1;if(rn){Mt(0),ln(!1),G(!0),(0,ae.Qw)(tt,ce({openModalProps:{forceTargetWindowId:gt}}));return}if(vn>=Ot){Mt(0),G(!0),(0,ae.Qw)(tt,ce({openModalProps:{forceTargetWindowId:gt}}));return}Mt(vn)},[on,ln,rn,Ot,dn,tt,gt]),We=(0,t.useCallback)(vn=>{_t(vn)},[_t]),it=(0,t.useCallback)(vn=>{yt(vn),De()},[De,yt]),Nt=(0,t.useCallback)(vn=>{Jt(ge),we(vn)},[ge,we,Jt]),sn=(0,t.useCallback)(vn=>{const{target:Sn,currentTarget:gn,relatedTarget:Rn}=vn;gn.contains(Rn)||Bt((0,d.O)(Sn)),ze(vn)},[ze]),en=(0,t.useCallback)(()=>ut()?!Yt.current||ge===xe.yE?!0:!!(0,a.Fp)(Yt.current):!1,[Yt,ut,ge]),_n=(0,t.useCallback)(()=>{var vn,Sn;return!!(!((vn=Yt.current)===null||vn===void 0)&&vn.contains((Sn=It.deref())===null||Sn===void 0?void 0:Sn.document.activeElement))},[Yt,It]),Dn=(0,t.useCallback)(()=>{const vn=Rt==null?void 0:Rt.deref();return!(!vn||!vn.focus||!Yt.current.contains(vn)||!(0,r.A)(vn,It.deref()))},[Yt,Rt,It]),On=(0,t.useCallback)(vn=>{var Sn;if(vn!==((Sn=It.deref())===null||Sn===void 0?void 0:Sn.document.activeElement)||!Yt.current||_n())return;const gn=(0,a.Fp)(Yt.current);gn&&gn.focus()},[Yt,It,_n]),In=(0,t.useCallback)(vn=>{if(dn===0||on)return;const{key:Sn,shiftKey:gn}=vn.detail;Sn==="Tab"&&!gn||Mt(0)},[on,dn]),[bn]=E(On);(0,t.useEffect)(()=>{var vn;return(vn=It.deref())===null||vn===void 0||vn.document.addEventListener("keyboard-navigation",In),()=>{var Sn;(Sn=It.deref())===null||Sn===void 0||Sn.document.removeEventListener("keyboard-navigation",In)}},[It,In]),(0,t.useEffect)(()=>(Le&&(jt(ge,{focus:()=>{var vn;if(Dn()){var Sn;if(_e)_e(Rt==null?void 0:Rt.deref());else{var gn;(gn=Rt==null?void 0:Rt.deref())===null||gn===void 0||gn.focus()}if(((Sn=It.deref())===null||Sn===void 0?void 0:Sn.document.activeElement)===(Rt==null?void 0:Rt.deref()))return}Qe(),bn(le.H0,(vn=It.deref())===null||vn===void 0?void 0:vn.document.activeElement)},shouldFocus:en},He),_n()&&Jt(ge)),Le||Qt(ge),()=>{Qt(ge)}),[Le,Qe,_e,ge,He,jt,Qt,en,Rt,It]),(0,t.useEffect)(()=>{var vn;Le&&(!((vn=Yt.current)===null||vn===void 0)&&vn.getElementsByClassName(at).length)&&ct.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${ge}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[Le,Yt,ct,ge]),Ue({containerRef:Yt,sectionId:ge,sectionIndex:He,sectionNavigationEnabled:Le,windowRef:It});const Hn=Le?at:void 0;return t.createElement(v.A,Ge({onFocus:Nt,onBlur:sn,onFirstHiddenTabStopFocus:We,onLastHiddenTabStopFocus:it,ref:Yt,className:n()(Gt,Hn)},Pt))},"ManagedFocusContainer");Se.displayName="ManagedFocusContainer",Se.defaultProps={style:nt};const Pe=(0,l.A)(Se)},6952065924:(B,A,e)=>{"use strict";e.d(A,{Pb:()=>l,bP:()=>i,n_:()=>o,ol:()=>c,yE:()=>s});var t=e(7418708689);const s="QuipEmbed",o=[s,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],n=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter","QuipFloatingActions","QuipPreviewTemplatesFooter"],c=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],l=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary","WFBWaysToStart"],i=[...o,...n,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","Breadcrumbs","ControlStrip",t.mq.Sidebar,t.mq.Primary,t.mq.Secondary,t.mq.Split,t.mq.Modal,"HuddleWorkspace","PocketGuide","ProductivityTips","VideoClipsMiniplayer"]},9272600626:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(7418708689);const o={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,BREADCRUMBS:1,WORKSPACE_SWITCHER:2,WORKSPACE_SWITCHER_RAIL:3,WORKSPACE_TAB_RAIL:4,CONTROL_STRIP:9,HUDDLE_WORKSPACE:10,POCKET_GUIDE:11,PRODUCTIVITY_TIPS:12,VIDEO_CLIPS_MINIPLAYER:13,[t.mq.Sidebar]:5,[t.mq.Primary]:6,[t.mq.Secondary]:7,[t.mq.Split]:8,[t.mq.Modal]:-1,[t.mq.Peek]:-1,[t.mq.Headless]:-1}},2077531588:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(7715417323),o=e(1205314734);const n=t.createContext({registerSection:s.A,unregisterSection:s.A,setActiveSection:s.A,getActiveSection:o.Q,resetSectionNavigation:s.A})},7249918305:(B,A,e)=>{"use strict";e.d(A,{I:()=>i,U:()=>a});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(280840163),l=e(9435231551);const i=(0,n.createContext)({useARIAApplicationForListViews:!1}),a=(0,t.Wb)()?r=>{const d=(0,s.c)(7),m=(0,c.d4)(l.dF);let f,u;d[0]!==m?(u={useARIAApplicationForListViews:m},d[0]=m,d[1]=u):u=d[1],f=u;const E=f;let v;if(d[2]!==r.children||d[3]!==E){let g;d[5]!==E?(g={value:E},d[5]=E,d[6]=g):g=d[6],v=n.createElement(i.Provider,g,r.children),d[2]=r.children,d[3]=E,d[4]=v}else v=d[4];return v}:r=>{const d=(0,c.d4)(l.dF),m=(0,n.useMemo)(()=>({useARIAApplicationForListViews:d}),[d]);return n.createElement(i.Provider,{value:m},r.children)};a.displayName="A11yPrefsProvider"},1959543078:(B,A,e)=>{"use strict";e.d(A,{AO:()=>p,A_:()=>T,Ay:()=>I,QE:()=>g});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(4844578989),l=e.n(c),i=e(4616306996),a=e(481313997),r=e(2947229296),d=e(6109709956),m=e(6369345880),f=e(7802997101),u=e(6366597544);function E(){return E=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var b in P)Object.prototype.hasOwnProperty.call(P,b)&&(M[b]=P[b])}return M},E.apply(this,arguments)}h(E,"_extends");const v=new r.Ay("sk_banner");var g;(function(M){M.default="default",M.boxed="boxed",M.inlineBoxed="inline_boxed",M.nestedBox="nested_box",M.inline="inline",M.custom="custom"})(g||(g={}));var T;(function(M){M.default="default",M.info="info",M.success="success",M.warning="warning",M.error="error"})(T||(T={}));var p;(function(M){M.left="left",M.center="center",M.right="right"})(p||(p={}));const O={elementName:"close",elementType:i.R.X,action:i.l.CLOSE,onClick:{enableClogAction:!0}},y=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),C=(0,t.Wb)()?M=>{const _=(0,s.c)(83),{align:P,autoClogProps:b,className:S,heading:N,icon:L,customIcon:D,id:k,level:x,type:R,children:U,"data-qa":F,isIconVisible:W,showCloseButton:w,onClose:K,ariaLabelForCloseBtn:j,closeBackgroundStyle:Q}=M,J=P===void 0?p.left:P;let z;_[0]!==b?(z=b===void 0?{}:b,_[0]=b,_[1]=z):z=_[1];const ie=z,ee=x===void 0?T.default:x,ne=R===void 0?g.boxed:R,Z=W===void 0?!0:W,te=w===void 0?!1:w,he=(0,u.f)(f.j.Alert),[ue,de]=(0,n.useState)(!1),re=`c-alert--${ne}`,V=`c-alert--level_${ee}`,H=`c-alert--align_${J}`,X=!!N;let Y;_[2]!==S||_[3]!==he||_[4]!==X||_[5]!==re||_[6]!==V||_[7]!==H?(Y=l()("c-alert",re,V,H,{"c-alert--multiline":X},S,he),_[2]=S,_[3]=he,_[4]=X,_[5]=re,_[6]=V,_[7]=H,_[8]=Y):Y=_[8];const q=Y;let fe;_[9]!==ee?(fe=y.get(ee)||"slack-pillow",_[9]=ee,_[10]=fe):fe=_[10];const ce=fe,Ee=(D||ce)&&ne!==g.inline&&ne!==g.custom,Ae=ne===g.nestedBox?"inherit":void 0,le=ne!==g.custom&&N;let oe;_[11]!==K?(oe=h(()=>{de(!0),K==null||K()},"t13"),_[11]=K,_[12]=oe):oe=_[12];const me=oe;if(ue)return null;let pe;if(_[13]!==J||_[14]!==j||_[15]!==ie||_[16]!==U||_[17]!==q||_[18]!==Q||_[19]!==D||_[20]!==F||_[21]!==N||_[22]!==L||_[23]!==Ae||_[24]!==k||_[25]!==Z||_[26]!==ee||_[27]!==ce||_[28]!==me||_[29]!==le||_[30]!==Ee||_[31]!==te||_[32]!==ne){let Te;_[34]!==ie?(Te=E({},ie,{elementType:i.R.ALERT}),_[34]=ie,_[35]=Te):Te=_[35];let Me;if(_[36]!==J||_[37]!==j||_[38]!==U||_[39]!==q||_[40]!==Q||_[41]!==D||_[42]!==F||_[43]!==N||_[44]!==L||_[45]!==Ae||_[46]!==k||_[47]!==Z||_[48]!==ee||_[49]!==ce||_[50]!==me||_[51]!==le||_[52]!==Ee||_[53]!==te||_[54]!==ne){let Ue;_[56]!==J||_[57]!==q||_[58]!==F||_[59]!==k||_[60]!==ee||_[61]!==ne?(Ue={className:q,id:k,"data-qa":F,"data-qa-alert":!0,"data-qa-alert-level":ee,"data-qa-alert-type":ne,"data-qa-alert-align":J},_[56]=J,_[57]=q,_[58]=F,_[59]=k,_[60]=ee,_[61]=ne,_[62]=Ue):Ue=_[62];let xe;_[63]!==D||_[64]!==L||_[65]!==Ae||_[66]!==Z||_[67]!==ce||_[68]!==Ee?(xe=Z&&Ee&&(D||n.createElement(m.A,{type:L||ce,className:"c-alert__icon",size:Ae,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":L||ce})),_[63]=D,_[64]=L,_[65]=Ae,_[66]=Z,_[67]=ce,_[68]=Ee,_[69]=xe):xe=_[69];let Ne;if(_[70]!==U||_[71]!==N||_[72]!==le){let ke;_[74]===Symbol.for("react.memo_cache_sentinel")?(ke={className:"c-alert__message","data-qa-alert-message":!0},_[74]=ke):ke=_[74];let Ke;_[75]!==N||_[76]!==le?(Ke=le&&n.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},N),_[75]=N,_[76]=le,_[77]=Ke):Ke=_[77],Ne=n.createElement("span",ke,Ke,U),_[70]=U,_[71]=N,_[72]=le,_[73]=Ne}else Ne=_[73];let be;_[78]!==j||_[79]!==Q||_[80]!==me||_[81]!==te?(be=te&&n.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},n.createElement(d.A,{onClick:me,backgroundStyle:Q,"aria-label":j??v.t("Dismiss"),autoClogProps:O,size:"small",svgIconProps:{name:"close"}})),_[78]=j,_[79]=Q,_[80]=me,_[81]=te,_[82]=be):be=_[82],Me=n.createElement("div",Ue,xe,Ne,be),_[36]=J,_[37]=j,_[38]=U,_[39]=q,_[40]=Q,_[41]=D,_[42]=F,_[43]=N,_[44]=L,_[45]=Ae,_[46]=k,_[47]=Z,_[48]=ee,_[49]=ce,_[50]=me,_[51]=le,_[52]=Ee,_[53]=te,_[54]=ne,_[55]=Me}else Me=_[55];pe=n.createElement(a.A,Te,Me),_[13]=J,_[14]=j,_[15]=ie,_[16]=U,_[17]=q,_[18]=Q,_[19]=D,_[20]=F,_[21]=N,_[22]=L,_[23]=Ae,_[24]=k,_[25]=Z,_[26]=ee,_[27]=ce,_[28]=me,_[29]=le,_[30]=Ee,_[31]=te,_[32]=ne,_[33]=pe}else pe=_[33];return pe}:M=>{let{align:_=p.left,autoClogProps:P={},className:b,heading:S,icon:N,customIcon:L,id:D,level:k=T.default,type:x=g.boxed,children:R,"data-qa":U,isIconVisible:F=!0,showCloseButton:W=!1,onClose:w,ariaLabelForCloseBtn:K,closeBackgroundStyle:j}=M;const Q=(0,u.f)(f.j.Alert),[J,z]=(0,n.useState)(!1),ie=l()("c-alert",`c-alert--${x}`,`c-alert--level_${k}`,`c-alert--align_${_}`,{"c-alert--multiline":!!S},b,Q),ee=y.get(k)||"slack-pillow",ne=(L||ee)&&x!==g.inline&&x!==g.custom,Z=x===g.nestedBox?"inherit":void 0,te=x!==g.custom&&S,he=(0,n.useCallback)(()=>{z(!0),w==null||w()},[w]);return J?null:n.createElement(a.A,E({},P,{elementType:i.R.ALERT}),n.createElement("div",{className:ie,id:D,"data-qa":U,"data-qa-alert":!0,"data-qa-alert-level":k,"data-qa-alert-type":x,"data-qa-alert-align":_},F&&ne&&(L||n.createElement(m.A,{type:N||ee,className:"c-alert__icon",size:Z,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":N||ee})),n.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},te&&n.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},S),R),W&&n.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},n.createElement(d.A,{onClick:he,backgroundStyle:j,"aria-label":K??v.t("Dismiss"),autoClogProps:O,size:"small",svgIconProps:{name:"close"}}))))};C.displayName="Alert",C.displayName="Alert";const I=C},3127192284:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>b,Gs:()=>I,QE:()=>O,al:()=>_});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4616306996),l=e(5870137507),i=e(2146884647),a=e(3889339349),r=e(9682034663),d=e(2947229296),m=e(1715996615),f=e(1236500105),u=e(5975107572),E=e(5809317241),v=e(9272600626),g=e(6109709956);function T(){return T=Object.assign||function(S){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var D in L)Object.prototype.hasOwnProperty.call(L,D)&&(S[D]=L[D])}return S},T.apply(this,arguments)}h(T,"_extends");const p=new d.Ay("sk_banner");var O;(function(S){S.info="info",S.success="success",S.warning="warning",S.urgent="urgent",S.neutral="neutral"})(O||(O={}));const y={elementName:"close",elementType:c.R.X,action:c.l.CLOSE,onClick:{enableClogAction:!0}},C=(0,m.A)((S,N)=>({top:S,opacity:N})),I={type:"success",showCloseButton:!0,autoFadeout:!1,topOffset:0,className:null,isFixedPosition:!0,"data-qa":"banner",onClose:n.A,onFocus:n.A,onBlur:n.A,closeOnDismiss:!0},M=2e3;let _=h(class extends t.PureComponent{getIsPersistent(){const{closeOnDismiss:N,showCloseButton:L}=this.props;return!N&&!L}componentDidMount(){this.fadeOutMaybe(),this.maybeRemoveAriaDescribedBy()}componentWillUnmount(){this.cancelAnimation()}fadeOutMaybe(){const{autoFadeout:N,onClose:L}=this.props;if(!N)return;const D=(0,i.A)({delay:M,fromValue:1,toValue:0,duration:M,easing:"easeOutQuad",onTick:k=>{let{value:x,nextTick:R}=k;this.setState(()=>({opacity:x})),R()},onComplete:()=>{this.setState(()=>({isShowing:!1})),L==null||L()}});this.cancelAnimation=D.cancel}setRef(N){var L,D;this.banner&&(this.banner.current=N),(D=(L=this.props).innerRef)===null||D===void 0||D.call(L,N)}focus(){const N=(0,r.Fp)(this.banner.current);N&&N.focus()}close(){const{onClose:N,closeOnDismiss:L}=this.props;L&&this.setState(()=>({isShowing:!1})),N==null||N()}onCloseButtonClick(){this.close()}onKeyDown(N){const{showCloseButton:L}=this.props,D=this.getIsPersistent();N.key==="Escape"&&L&&(D||this.close())}maybeRemoveAriaDescribedBy(){var N,L;const{"aria-describedby":D}=this.props;if(D)return;((N=this.textContent)===null||N===void 0||(L=N.current)===null||L===void 0?void 0:L.querySelectorAll("a,button").length)&&this.state.describedbyId&&this.setState(()=>({describedbyId:void 0}))}renderLabel(){const{type:N,"aria-label":L,"aria-labelledby":D}=this.props;if(!D)return L||(N===O.info||N===O.neutral?p.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}):N===O.success?p.t("Success",{fallbackHash:"42a8f651d79fd005eeac0612df6442b983a01184",fallbackHashNs:"a11y_prefs_setup"}):N===O.warning?p.t("Warning",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):N===O.urgent?p.t("Urgent",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):p.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}))}render(){const{type:N,children:L,showCloseButton:D,topOffset:k,className:x,isFixedPosition:R,dismissButtonLabel:U,"data-qa":F,onFocus:W,onBlur:w,"aria-labelledby":K}=this.props,{isShowing:j,opacity:Q,describedbyId:J}=this.state;if(!j)return!1;const z=o()("c-banner",{[`c-banner--${N}`]:!!N,"c-banner--fixed":R},x),ie=N!=="warning"?"dark":"light",ee=p.t("Close",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"ia4"}),Z=this.getIsPersistent()?"group":"dialog";return t.createElement("div",{role:Z,"aria-label":this.renderLabel(),"aria-labelledby":K,"aria-describedby":J,className:z,style:k?C(k,Q):void 0,"data-qa":F,ref:this.setRef,onFocus:W,onBlur:w,onKeyDown:this.onKeyDown},t.createElement("div",{id:this.textContentId,className:"c-banner__text",ref:this.textContent},L),D&&t.createElement(g.A,{className:"c-banner__close",onClick:this.onCloseButtonClick,backgroundStyle:ie,"aria-label":U||ee,autoClogProps:y,"data-qa":"banner_close_btn",svgIconProps:{name:"close"}}))}constructor(N){super(N),(0,a.v)(this,["onCloseButtonClick","onKeyDown","focus","setRef","maybeRemoveAriaDescribedBy"]),this.cancelAnimation=n.A,this.banner=t.createRef(),this.textContent=t.createRef(),this.textContentId=(0,f.A)();const{"aria-describedby":L}=N;this.state={isShowing:!0,opacity:1,describedbyId:L||this.textContentId}}},"Banner");_.displayName="Banner",_.defaultProps=I,_.displayName="Banner";const P=(0,t.forwardRef)((S,N)=>{let{enableSectionNavigation:L=!1,...D}=S;const x=`Banner_${(0,l.A)()}`,R=v.A.WORKSPACE_SWITCHER_TAB_LIST-.1;return t.createElement(E.A,{id:x,index:R,focusFn:n.A,enableSectionNavigation:L},t.createElement(_,T({ref:N},D)))}),b=(0,u.A)(P)},8804120515:(B,A,e)=>{"use strict";e.d(A,{A:()=>v});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3398586081),c=e(7715417323),l=e(6369345880);const i=(0,n.A)(g=>({height:`${g}px`,width:`${g}px`}));function a(g){let{icon:T,classes:p=null,size:O=20,ariaHidden:y=void 0,ariaRole:C="img",ariaLabel:I=void 0}=g;const M=o()("c-base_font_icon",p);return t.createElement("div",{className:M,style:i(O),"aria-hidden":y,role:C,"aria-label":I},t.createElement(l.A,{type:T}))}h(a,"BaseFontIcon"),a.displayName="BaseFontIcon";const r=a;var d=e(2691514942);const m=(0,d.Wo)(),f=(0,n.A)(g=>({height:`${g}px`,width:`${g}px`})),u=(0,n.A)(g=>({width:`${g}px`}));function E(g){let{image:T=void 0,size:p=20,srcSet:O="",classes:y=void 0,icon:C=void 0,ariaHidden:I=!1,ariaRole:M="img",ariaLabel:_=void 0,widthOnly:P=!1,onLoad:b=c.A,onError:S=c.A,resetIA:N,"data-qa":L}=g;T&&C&&m.warn("BaseIcon: cannot pass in both image and icon!"),!I&&!_&&m.warn("BaseIcon: if ariaHidden is false, we must have an ariaLabel for a11y!");const D=o()("c-base_icon",y,{"c-base_icon--unknown":!T&&!C,"c-base_icon--image":T,"c-base_icon--resetIA":N});if(C)return t.createElement(r,{icon:C,classes:D,size:p,ariaHidden:I,ariaRole:M,ariaLabel:_});const k=t.createElement("img",{src:T,srcSet:O,className:D,style:P?u(p):f(p),"aria-hidden":I,role:M,"aria-label":_,alt:"",onLoad:b,onError:S,"data-qa":L});return P?t.createElement("span",{className:o()("c-base_icon__width_only_container",{"c-base_icon--resetIA":N}),style:f(p)},k):k}h(E,"BaseIcon"),E.displayName="BaseIcon";const v=E},9830534502:(B,A,e)=>{"use strict";e.d(A,{A:()=>d,h:()=>a});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(6122756707),l=e(1998042365),i=e(4492947045);const a=h(m=>{const{left:f=0,top:u=0}=m||{};return{left:f,top:u,right:f,bottom:u,width:0,height:0}},"makeTargetBounds"),r=(0,t.Wb)()?m=>{const f=(0,s.c)(21),{targetBounds:u,onCloseRequested:E,width:v,children:g}=m;let T;f[0]!==g?(T=n.Children.only(g),f[0]=g,f[1]=T):T=f[1];const p=T,O=(0,c.wA)();let y,C;f[2]!==O?(y=h(()=>(O((0,i.r)({})),()=>{O((0,i.K)({}))}),"t1"),C=[O],f[2]=O,f[3]=y,f[4]=C):(y=f[3],C=f[4]),(0,n.useEffect)(y,C);let I;const M=v??"auto";let _;f[5]!==E||f[6]!==M?(_={isContextMenu:!0,width:M,onTriggerClose:E,onMenuItemSelected:E},f[5]=E,f[6]=M,f[7]=_):_=f[7],I=_;const P=I;let b;if(f[8]!==p||f[9]!==P||f[10]!==E||f[11]!==u){let S;f[13]!==u?(S=a(u),f[13]=u,f[14]=S):S=f[14];let N;f[15]!==E||f[16]!==S?(N={shouldFade:!1,position:"right-bottom",tryOppositePosition:!0,useTargetBoundsAsPosition:!0,shouldCloseOnOverlayMouseDown:!0,shouldReturnFocusAfterClose:!1,isOpen:!0,targetBounds:S,onClose:E,ariaHideApp:!1},f[15]=E,f[16]=S,f[17]=N):N=f[17];let L;f[18]!==p||f[19]!==P?(L=n.cloneElement(p,P),f[18]=p,f[19]=P,f[20]=L):L=f[20],b=n.createElement(l.AM,N,L),f[8]=p,f[9]=P,f[10]=E,f[11]=u,f[12]=b}else b=f[12];return b}:m=>{let{targetBounds:f,onCloseRequested:u,width:E,children:v}=m;const g=n.Children.only(v),T=(0,c.wA)();(0,n.useEffect)(()=>(T((0,i.r)({})),()=>{T((0,i.K)({}))}),[T]);const p=(0,n.useMemo)(()=>({isContextMenu:!0,width:E??"auto",onTriggerClose:u,onMenuItemSelected:u}),[u,E]);return n.createElement(l.AM,{shouldFade:!1,position:"right-bottom",tryOppositePosition:!0,useTargetBoundsAsPosition:!0,shouldCloseOnOverlayMouseDown:!0,shouldReturnFocusAfterClose:!1,isOpen:!0,targetBounds:a(f),onClose:u,ariaHideApp:!1},n.cloneElement(g,p))};r.displayName="ContextMenu";const d=r},3460720520:(B,A,e)=>{"use strict";e.d(A,{A:()=>p});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(7715417323),l=e(5870137507),i=e(2947229296),a=e(5181078482),r=e(6711107392),d=e(5464688500),m=e(9476265383),f=e(4374711907),u=e(8000769609),E=e(1609943317),v=e(3988784964);const g=new i.Ay("generic_dialog"),T=(0,t.Wb)()?O=>{const y=(0,s.c)(63),{title:C,children:I,submitButtonType:M,submitButtonText:_,submitButtonIsDisabled:P,submitButtonIsLoading:b,showCancelButton:S,showCloseButton:N,showSubmitButton:L,cancelButtonText:D,onSubmit:k,onCancel:x,onClose:R,"data-qa":U,className:F,overlayClassName:W,submitAutoClogProps:w,cancelAutoClogProps:K,shouldReturnFocusAfterClose:j}=O,Q=M===void 0?"primary":M;let J;y[0]!==_?(J=_===void 0?g.t("Confirm"):_,y[0]=_,y[1]=J):J=y[1];const z=J,ie=P===void 0?!1:P,ee=b===void 0?!1:b,ne=S===void 0?!0:S,Z=N===void 0?!0:N,te=L===void 0?!0:L;let he;y[2]!==D?(he=D===void 0?g.t("Cancel"):D,y[2]=D,y[3]=he):he=y[3];const ue=he,de=k===void 0?c.A:k,re=x===void 0?c.A:x,V=R===void 0?c.A:R,H=U===void 0?"dialog":U,X=j===void 0?!0:j,Y=(0,l.A)(),q=(0,l.A)();let fe;if(y[4]!==q||y[5]!==Y||y[6]!==K||y[7]!==ue||y[8]!==I||y[9]!==F||y[10]!==H||y[11]!==re||y[12]!==V||y[13]!==de||y[14]!==W||y[15]!==X||y[16]!==ne||y[17]!==Z||y[18]!==te||y[19]!==w||y[20]!==ie||y[21]!==ee||y[22]!==z||y[23]!==Q||y[24]!==C){let ce;y[26]!==q||y[27]!==Y||y[28]!==F||y[29]!==H||y[30]!==V||y[31]!==W||y[32]!==X||y[33]!==Z?(ce={describedby:q,labelledby:Y,closeModal:V,role:"dialog",className:F,overlayClassName:W,dataQa:H,shouldReturnFocusAfterClose:X,showCloseButton:Z},y[26]=q,y[27]=Y,y[28]=F,y[29]=H,y[30]=V,y[31]=W,y[32]=X,y[33]=Z,y[34]=ce):ce=y[34];let Ee;if(y[35]!==Y||y[36]!==H||y[37]!==C){const oe=`${H}_header`;let me;y[39]!==Y||y[40]!==oe||y[41]!==C?(me={id:Y,title:C,"data-qa":oe},y[39]=Y,y[40]=oe,y[41]=C,y[42]=me):me=y[42],Ee=n.createElement(E.A,null,n.createElement(v.A,me)),y[35]=Y,y[36]=H,y[37]=C,y[38]=Ee}else Ee=y[38];let Ae;if(y[43]!==q||y[44]!==I||y[45]!==H){const oe=`${H}_body`;let me;y[47]!==q||y[48]!==oe?(me={id:q,"data-qa":oe},y[47]=q,y[48]=oe,y[49]=me):me=y[49],Ae=n.createElement(d.A,null,n.createElement(m.A,me,I)),y[43]=q,y[44]=I,y[45]=H,y[46]=Ae}else Ae=y[46];let le;y[50]!==K||y[51]!==ue||y[52]!==H||y[53]!==re||y[54]!==de||y[55]!==ne||y[56]!==te||y[57]!==w||y[58]!==ie||y[59]!==ee||y[60]!==z||y[61]!==Q?(le=(ne||te)&&n.createElement(f.A,{"data-qa":`${H}_footer`},n.createElement(u.A,null,ne&&n.createElement(a.Ay,{type:"outline",onClick:re,"data-qa":`${H}_cancel`,autoClogProps:K},ue),te&&n.createElement(a.lV,{type:Q,onClick:de,loading:ee,disabled:ie,"data-qa":`${H}_go`,autoClogProps:w,"aria-label":z},z))),y[50]=K,y[51]=ue,y[52]=H,y[53]=re,y[54]=de,y[55]=ne,y[56]=te,y[57]=w,y[58]=ie,y[59]=ee,y[60]=z,y[61]=Q,y[62]=le):le=y[62],fe=n.createElement(r.A,ce,Ee,Ae,le),y[4]=q,y[5]=Y,y[6]=K,y[7]=ue,y[8]=I,y[9]=F,y[10]=H,y[11]=re,y[12]=V,y[13]=de,y[14]=W,y[15]=X,y[16]=ne,y[17]=Z,y[18]=te,y[19]=w,y[20]=ie,y[21]=ee,y[22]=z,y[23]=Q,y[24]=C,y[25]=fe}else fe=y[25];return fe}:O=>{let{title:y,children:C,submitButtonType:I="primary",submitButtonText:M=g.t("Confirm"),submitButtonIsDisabled:_=!1,submitButtonIsLoading:P=!1,showCancelButton:b=!0,showCloseButton:S=!0,showSubmitButton:N=!0,cancelButtonText:L=g.t("Cancel"),onSubmit:D=c.A,onCancel:k=c.A,onClose:x=c.A,"data-qa":R="dialog",className:U,overlayClassName:F,submitAutoClogProps:W,cancelAutoClogProps:w,shouldReturnFocusAfterClose:K=!0}=O;const j=(0,l.A)(),Q=(0,l.A)();return n.createElement(r.A,{describedby:Q,labelledby:j,closeModal:x,role:"dialog",className:U,overlayClassName:F,dataQa:R,shouldReturnFocusAfterClose:K,showCloseButton:S},n.createElement(E.A,null,n.createElement(v.A,{id:j,title:y,"data-qa":`${R}_header`})),n.createElement(d.A,null,n.createElement(m.A,{id:Q,"data-qa":`${R}_body`},C)),(b||N)&&n.createElement(f.A,{"data-qa":`${R}_footer`},n.createElement(u.A,null,b&&n.createElement(a.Ay,{type:"outline",onClick:k,"data-qa":`${R}_cancel`,autoClogProps:w},L),N&&n.createElement(a.lV,{type:I,onClick:D,loading:P,disabled:_,"data-qa":`${R}_go`,autoClogProps:W,"aria-label":M},M))))};T.displayName="DialogModalProps";const p=T},8990069699:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9483971336);function c(){return c=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(a[m]=d[m])}return a},c.apply(this,arguments)}h(c,"_extends");function l(a){const{children:r,className:d}=a;return r?t.createElement("span",c({className:o()(d,"c-base_entity__metadata")},(0,n.A)(a)),r):null}h(l,"BaseEntityMetadata"),l.displayName="BaseEntityMetadata";const i=l},4228252595:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9483971336);function c(){return c=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(a[m]=d[m])}return a},c.apply(this,arguments)}h(c,"_extends");function l(a){const{children:r,className:d}=a;return r?t.createElement("span",c({className:o()(d,"c-base_entity__subtext")},(0,n.A)(a)),r):null}h(l,"BaseEntitySubtext"),l.displayName="BaseEntitySubtext";const i=l},8757493093:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9483971336),c=e(3223990792);function l(){return l=Object.assign||function(r){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(r[f]=m[f])}return r},l.apply(this,arguments)}h(l,"_extends");function i(r){const{children:d=null,className:m="",multiline:f=!1,inline:u=!1,breakWords:E=!0,withTruncationTooltip:v=!1}=r;if(!d)return null;const g=f?2:1;return u?t.createElement("span",l({className:o()(m,"c-base_entity__text")},(0,n.A)(r)),d):t.createElement("span",l({className:o()(m,"c-base_entity__text")},(0,n.A)(r)),t.createElement(c.A,{lines:g,breakWords:E,withTooltip:v},d))}h(i,"BaseEntityText"),i.displayName="BaseEntityText";const a=i},7771734999:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9483971336),c=e(5270110349);function l(){return l=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(m[E]=u[E])}return m},l.apply(this,arguments)}h(l,"_extends");const i={className:"c-base_entity__avatar"},a=h((m,f,u,E)=>!(m!==c.ny.medium||!u||E||f),"shouldVerticallyCenter"),r=h(m=>{const{size:f,style:u=c.pI.normal,text:E=null,className:v="",subtext:g=null,avatar:T=h(()=>null,"avatar"),metadata:p=null,forwardedRef:O=null,useAvatarOutline:y=!1}=m,C=T(i),I=!!C,M=(0,t.useCallback)(()=>y?t.createElement("div",{className:"c-base_entity__avatar-container"},C):C,[C,y]);return t.createElement("div",l({className:o()(v,"c-base_entity",`c-base_entity--${f}`,{"c-base_entity--has-avatar":I,"c-base_entity--dim":u===c.pI.dim,"c-base_entity--vertically-center":a(f,g,I,p)})},(0,n.A)(m),{ref:O}),M(),t.createElement("div",{className:"c-base_entity__text-contents"},E,g,p))},"BaseEntity");r.displayName="BaseEntity";const d=r},9951047608:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>c,CG:()=>n.A,Q:()=>s.A,sT:()=>o.A});var t=e(7771734999),s=e(8990069699),o=e(4228252595),n=e(8757493093);const c=t.A},4343907495:(B,A,e)=>{"use strict";e.d(A,{A:()=>v});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(4844578989),l=e.n(c),i=e(7715417323),a=e(9483971336),r=e(5270110349),d=e(3223990792);function m(){return m=Object.assign||function(g){for(var T=1;T<arguments.length;T++){var p=arguments[T];for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&(g[O]=p[O])}return g},m.apply(this,arguments)}h(m,"_extends");const f=(0,t.Wb)()?g=>{const T=(0,s.c)(14),{children:p,truncate:O,truncateWidth:y,withTruncationTooltip:C}=g,I=O===void 0?!1:O,M=C===void 0?!1:C;let _;const P=y||void 0;let b;T[0]!==P?(b={maxWidth:P},T[0]=P,T[1]=b):b=T[1],_=b;const S=_;if(!I){let L;return T[2]!==p?(L=n.createElement("span",null,p),T[2]=p,T[3]=L):L=T[3],L}let N;if(y){let L;if(T[4]!==p||T[5]!==S){let D;T[7]!==S?(D={className:"c-base_inline_entity__inline_wrapper",style:S},T[7]=S,T[8]=D):D=T[8],L=n.createElement("span",D,p),T[4]=p,T[5]=S,T[6]=L}else L=T[6];N=L}else{let L;if(T[9]!==p||T[10]!==M){let D;T[12]!==M?(D={lines:1,withTooltip:M},T[12]=M,T[13]=D):D=T[13],L=n.createElement("span",null,n.createElement(d.A,D,p)),T[9]=p,T[10]=M,T[11]=L}else L=T[11];N=L}return N}:g=>{let{children:T,truncate:p=!1,truncateWidth:O,withTruncationTooltip:y=!1}=g;const C=(0,n.useMemo)(()=>({maxWidth:O||void 0}),[O]);if(!p)return n.createElement("span",null,T);let I;return O?I=n.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:C},T):I=n.createElement("span",null,n.createElement(d.A,{lines:1,withTooltip:y},T)),I};f.displayName="MaybeTruncate";const u={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let E=h(class extends n.Component{render(){const{className:T,avatar:p=i.A,primaryContent:O,secondaryContent:y,style:C=r.pI.normal,truncate:I=!1,truncateWidth:M,withTruncationTooltip:_=!1}=this.props,P=p(u),b=!!P;return n.createElement("span",m({className:l()(T,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":b,"c-base_inline_entity--truncate_block":I&&!M,"c-base_inline_entity--truncate_inline":I&&M,"c-base_inline_entity--dim":C===r.pI.dim,"c-base_inline_entity--highlight-dark":C===r.pI.highlightDark,"c-base_inline_entity--highlight-dim":C===r.pI.highlightDim,"c-base_inline_entity--highlight-light":C===r.pI.highlightLight})},(0,a.A)(this.props)),n.createElement(f,{truncate:I,truncateWidth:M,withTruncationTooltip:_},P,n.createElement("span",{className:"c-base_inline_entity__primary_content"},O),y&&n.createElement("span",{className:"c-base_inline_entity__secondary_content"},y)))}},"BaseInlineEntity");E.displayName="BaseInlineEntity";const v=E},718447733:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9483971336),c=e(5270110349);function l(){return l=Object.assign||function(r){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(r[f]=m[f])}return r},l.apply(this,arguments)}h(l,"_extends");let i=h(class extends t.Component{render(){const{className:d,ariaLabel:m,primaryContent:f,secondaryContent:u,size:E=c.ny.medium,style:v=c.pI.normal,padding:g=c.FK.normal}=this.props;return t.createElement("div",l({className:o()(d,"c-base_list_entity",`c-base_list_entity--${E}`,{"c-base_list_entity--dim":v===c.pI.dim,"c-base_list_entity--highlight-dark":v===c.pI.highlightDark,"c-base_list_entity--highlight-dim":v===c.pI.highlightDim,"c-base_list_entity--highlight-light":v===c.pI.highlightLight,"c-base_list_entity--no-pad":g===c.FK.none})},(0,n.A)(this.props),{"aria-label":m}),t.createElement("div",{className:"c-base_list_entity__primary_content"},f),u&&t.createElement("div",{className:"c-base_list_entity__secondary_content"},u))}},"BaseListEntity");i.displayName="BaseListEntity";const a=i},9866037031:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4616306996),l=e(5424607800),i=e(436077497),a=e(4875826949),r=e(5589267598),d=e(7802997101),m=e(6366597544);function f(){return f=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var T=arguments[g];for(var p in T)Object.prototype.hasOwnProperty.call(T,p)&&(v[p]=T[p])}return v},f.apply(this,arguments)}h(f,"_extends");const E=t.forwardRef(h(function(g,T){let{className:p,isRequired:O=!1,"aria-disabled":y,indeterminate:C=!1,checked:I,unstyled:M,autoClogProps:_,onChange:P,focusOnMount:b,...S}=g;const N=(0,t.useRef)(null),L=(0,t.useContext)(r.A),[D,k]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(C&&I==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");N.current&&(N.current.indeterminate=C)},[I,C]),(0,t.useEffect)(()=>{if(b){var K;(K=N.current)===null||K===void 0||K.focus()}},[b]);const x=(0,t.useCallback)(K=>{I===void 0&&_&&k(K.target.checked),P==null||P(K)},[_,I,P]),R=(0,m.f)(d.j.Checkbox),U=M?o()("c-input_unstyled_checkbox",p,R,{"c-input_unstyled_checkbox--focus-visible":L,"c-input_unstyled_checkbox--checked":I}):o()("c-input_checkbox",p,R,{"c-input_checkbox--focus-visible":L,"c-input_checkbox--disabled":y}),F=t.createElement("input",f({},S,(0,i.A)(S),{"aria-disabled":y,"aria-checked":C?"mixed":void 0,checked:I,type:"checkbox",required:O,className:U,ref:(0,a.P)(N,T),onChange:y?n.A:x})),W=I!==void 0?I:D,w=(0,t.useMemo)(()=>({onChange:{action:W?c.l.UNCHECK:c.l.CHECK}}),[W]);return _?t.createElement(l.A,{autoClogProps:_,actionProps:w,elementType:c.R.CHECKBOX},F):F},"Checkbox"))},1203401213:(B,A,e)=>{"use strict";e.d(A,{E:()=>t});const t={small:"c-form--small",large:"c-form--large"}},5204335318:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s);function n(){return n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(i[d]=r[d])}return i},n.apply(this,arguments)}h(n,"_extends");const c=t.forwardRef(h(function(a,r){let{className:d="",children:m,id:f,...u}=a;const E=o()("c-legend",d);return t.createElement("legend",n({id:f},u,{className:E,ref:r}),m)},"Legend"));c.displayName="Legend";const l=c},768761048:(B,A,e)=>{"use strict";e.d(A,{Es:()=>o,Yk:()=>c,r7:()=>i,r9:()=>n,zI:()=>l});var t=e(2947229296);const s=new t.Ay("form_inputs");function o(a,r){return`${a}_${r}`}h(o,"getInputBuddyId");function n(){return Math.random().toString(36).substring(2,10)}h(n,"getRandomId");const c=h(a=>{const r=a.filter(d=>d);if(r.length!==0)return r.join(" ")},"makeAriaComboIds"),l=h(a=>s.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:a}),"getMaximumCharacterErrorText"),i=h(a=>s.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:a}),"getMinimumCharacterErrorText")},3939784208:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(4844578989),o=e.n(s);function n(c){let{children:l,className:i,id:a}=c;return l?t.createElement("div",{className:o()("c-hint",i),id:a},l):null}h(n,"Hint")},2869254699:(B,A,e)=>{"use strict";e.d(A,{A:()=>d,Q:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296);function c(){return c=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(m[E]=u[E])}return m},c.apply(this,arguments)}h(c,"_extends");const l=new n.Ay("app_dialog"),i={block:"block",inline:"inline"};var a;let r=h(class extends(a=t.Component){getCursor(){const{cursor:f,htmlFor:u,isDisabled:E}=this.props;return E?null:typeof f>"u"&&u?"pointer":f}renderOptionalTextMaybe(){const{optional:f}=this.props,u=l.t("(optional)");return f?t.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},u):null}renderSubtextMaybe(){const{subtext:f}=this.props;return f?t.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},f):null}render(){const{className:f,cursor:u,htmlFor:E,optional:v,subtext:g,text:T,type:p,isDisabled:O,dataQaLabel:y,...C}=this.props,I=o()("c-label",f,{"c-label--block":p===i.block,"c-label--inline":p===i.inline,"c-label--with_subtext":g,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":O,"c-label--with_formatted_text":typeof T!="string"});return t.createElement("label",c({},C,{htmlFor:E,className:I,"data-qa-label":y,"data-qa-label-type":p}),t.createElement("span",{className:"c-label__text","data-qa-label-text":!0},T,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");r.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"},r.displayName="Label";const d=r},7760824328:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4616306996),c=e(5424607800);function l(){return l=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(d[u]=f[u])}return d},l.apply(this,arguments)}h(l,"_extends");const i={onChange:{action:n.l.CLICK}};let a=h(class extends t.PureComponent{componentDidMount(){const{focusOnMount:m,autoFocus:f}=this.props;(m||f)&&this.focus()}componentDidUpdate(){const{autoFocus:m}=this.props;m&&this.focus()}focus(){var m;(m=this.inputRef.current)===null||m===void 0||m.focus()}render(){const{className:m,autoClogProps:f,autoFocus:u,focusOnMount:E,...v}=this.props,g=o()("c-input_radio",m),T=t.createElement("input",l({},v,{className:g,ref:this.inputRef,type:"radio"}));return f?t.createElement(c.A,{autoClogProps:f,actionProps:i,elementType:n.R.RADIO},T):T}constructor(m){super(m),this.inputRef=t.createRef()}},"Radio");a.defaultProps={autoFocus:!1},a.displayName="Radio";const r=a},2926344925:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(1959543078),c=e(5204335318),l=e(3939784208);function i(){return i=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(d[u]=f[u])}return d},i.apply(this,arguments)}h(i,"_extends");const a=h(d=>{let{"aria-label":m,"aria-labelledby":f,errorId:u,className:E,errorText:v,hintId:g,hintText:T,isDisabled:p=!1,isRequired:O=!1,"data-qa":y,errorLevel:C=n.A_.error,errorType:I=n.QE.nestedBox,children:M,legendText:_,legendClassNames:P=""}=d;const b=(0,t.useRef)(null),S=_;(0,t.useEffect)(()=>{const w=b.current;if(!w||S)return;const K=w.querySelectorAll('input[type="radio"]:not(:scope [role="radiogroup"] input[type="radio"])');Array.from(K).forEach(j=>{j.disabled=p})},[p,S]);const N=(f||u)&&[f,u].join(" ").trim(),L=v&&t.createElement(n.Ay,{id:u,level:C,type:I,className:"c-alert--error margin_bottom_100"},v),D=T&&t.createElement(l.A,{id:g},T),k=_&&t.createElement(c.A,{className:P},_),x=o()("c-radiogroup",{"c-radiogroup--with_error":!!v,"c-radiogroup--with_hint":!!T},E),R={"aria-describedby":g,"aria-invalid":!!v,"aria-labelledby":N,"aria-required":O,className:x},U=h(()=>t.createElement("fieldset",i({},R,{disabled:p}),k,M),"renderFieldset");U.displayName="renderFieldset";const F=h(()=>t.createElement("div",i({},R,{role:"radiogroup","aria-disabled":p,"aria-label":m,ref:b}),M),"renderAriaGroup");F.displayName="renderAriaGroup";const W=S?U():F();return t.createElement("div",{"data-qa":y},W,L,D)},"Radiogroup");a.displayName="Radiogroup";const r=a},694413685:(B,A,e)=>{"use strict";e.d(A,{A:()=>g});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3889339349),c=e(6870966595),l=e(2947229296),i=e(5117478290),a=e(1857707104);const r=new l.Ay("form_inputs"),d={inline:"inline",multiline:"multiline"},m=h((T,p)=>T>p,"isCurrentCountInvalid"),f=h((T,p)=>p-T,"getCharacterCount"),u=h((T,p,O)=>!O||T>=O?f(T,p).toString():"","getCharacterCountDisplay"),E=h(T=>T.toString().length,"getCharacterCountLength");let v=h(class extends t.Component{getSnapshotBeforeUpdate(p){if(p.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const O=f(this.props.currentCount,this.props.maxCharacterLimit),y=E(O);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==y&&this.setCharacterCountLength(y)}return null}componentDidUpdate(p,O){this.props.type===d.inline&&O.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountElementSize(){return`calc(${this.measureCountWidth()}ch + calc(var(--inline-padding) * 2 ))`}setCharacterCountLength(p){this.setState(()=>({characterCountLength:p}))}setCharactersRemainingMessage(p,O){const y=this.makeCharactersRemainingMessage(p,O);this.setState(()=>({charactersRemainingMessage:y}))}makeCharactersRemainingMessage(p,O){const y=f(p,O);return r.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:y})}measureCountWidth(){const{currentCount:p,maxCharacterLimit:O,counterMinimumCharacters:y}=this.props;return u(p,O,y).toString().length}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:p,maxCharacterLimit:O,counterMinimumCharacters:y}=this.props,C=u(p,O,y);return t.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining"},C)}render(){const{className:p,currentCount:O,maxCharacterLimit:y,children:C,isDisabled:I,size:M,type:_,id:P}=this.props,b=o()(p,"c-input_character_count",{"c-input_character_count--multiline":_===d.multiline,"c-input_character_count--large":M===a.F.large,"c-input_character_count--small":M===a.F.small,"c-input_character_count--invalid":this.state.hasFocus&&m(O,y),"c-input_character_count--disabled":I}),S=this.shouldReadCharactersRemainingMessage&&t.createElement("div",{id:P,hidden:!0},this.state.charactersRemainingMessage);let N;return this.shouldReadCharactersRemainingMessage||(N=t.createElement(i.A,{assertive:!0,message:this.state.charactersRemainingMessage})),t.createElement("div",{role:"presentation",className:b,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},C,this.renderCharactersRemaining(),N,S)}constructor(p){super(p);const O=this.makeCharactersRemainingMessage(p.currentCount,p.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:O,hasFocus:!1},this.shouldReadCharactersRemainingMessage=!0,(0,n.v)(this,["setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=(0,c.A)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");v.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:d.inline,size:a.F.medium,counterMinimumCharacters:0,id:void 0},v.displayName="CharacterCount";const g=v},140938156:(B,A,e)=>{"use strict";e.d(A,{A:()=>S});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2003990933),c=e(7715417323),l=e(3889339349),i=e(1959543078),a=e(768761048),r=e(3939784208),d=e(694413685),m=e(1857707104),f=e(6369345880);const u={small:"small",medium:"medium",large:"large"},E=h(N=>{let{size:L,icon:D,children:k}=N;const x=o()("c-input_text_icon",{"c-input_text_icon--small":L===u.small,"c-input_text_icon--large":L===u.large}),R=o()("c-input_text_icon__icon",{"c-input_text_icon__icon--small":L===u.small,"c-input_text_icon__icon--large":L===u.large});return t.createElement("div",{className:x},t.createElement(f.A,{type:D,className:R,size:"inherit"}),k)},"TextInputIcon");E.displayName="TextInputIcon";const v=t.memo(E);let g=h(class extends t.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:L,prefix:D,suffix:k}=this.props,x=o()("c-input_text_overlay",{"c-input_text_overlay--large":L===m.F.large},this.props.className);return t.createElement("div",{className:x,"data-overlay-prefix":D,"data-overlay-suffix":k,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:L,suffix:D}=this.props;return t.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${D} appended to the text value.`},this.renderOverlay(),L)}},"TextInputOverlay");g.defaultProps={className:"",placeholder:"",size:m.F.medium,value:"",prefix:"",suffix:""},g.displayName="TextInputOverlay";const T=g;var p=e(434544446),O=e.n(p),y=e(6228897917);function C(N,L){const D=I(N);return L&&D.length?D.replace((0,y.A)(),"E").replace(O()(),"E").length:D.length}h(C,"getTextLength");function I(N){return N==null?"":typeof N=="string"?N:String(N)}h(I,"coerceValueToString");var M=e(1766758812);function _(){return _=Object.assign||function(N){for(var L=1;L<arguments.length;L++){var D=arguments[L];for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(N[k]=D[k])}return N},_.apply(this,arguments)}h(_,"_extends");const P=12;let b=h(class extends t.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(L,D){(this.props.value!==L.value||this.state.isFocused!==D.isFocused)&&this.getTextStyle(),this.props.value!==L.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(L)}onBlur(L){const{onBlur:D}=this.props;this.setState(()=>({isFocused:!1,everReceivedUserInput:!0})),D&&D(L)}onFocus(L){const{onFocus:D}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),D&&D(L)}getPrefixStyle(){const{size:L,prefix:D}=this.props;if(!D)return;let k;const R=document.createElement("canvas").getContext("2d");return R&&(L===m.F.medium?(R.font="15px Slack-Lato",k=R.measureText(D).width+P):L===m.F.small?(R.font="13px Slack-Lato",k=R.measureText(D).width+P):(R.font="18px Slack-Lato",k=R.measureText(D).width+P)),{paddingLeft:k}}getTextStyle(){var L;const{maxCharacterLimit:D}=this.props;if(!D){this.setTextStyle({});return}this.setTextStyle({paddingRight:((L=this.characterCount)===null||L===void 0?void 0:L.getCharacterCountElementSize())||0})}setTextStyle(L){this.setState(()=>({textStyle:L}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(L){const{focusOnMount:D,forceSelectAll:k}=this.props;this.state.everFocused&&D&&L&&L.focusOnMount===D||!this.input||!this.input.current||!D||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),k&&this.input.current.select())}getIsInputLengthTooShort(){const{emojisShouldCountAsSingleCharacter:L,isRequired:D,minCharacterLimit:k,value:x}=this.props,{everReceivedUserInput:R}=this.state;if(!R||k==null)return!1;const U=C(x,L);return!D&&U===0?!1:U<k}getIsInputLengthTooLong(){const{maxCharacterLimit:L,value:D,emojisShouldCountAsSingleCharacter:k}=this.props;return L==null?!1:C(D,k)>L}renderDeprecatedErrorMaybe(){const{errorLevel:L,errorText:D,errorType:k,minCharacterLimit:x,maxCharacterLimit:R}=this.props;return D?t.createElement(i.Ay,{id:this.state.errorId,level:L,type:k,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},D):this.getIsInputLengthTooLong()?t.createElement(i.Ay,{id:this.state.errorId,level:i.A_.error,type:k,className:"margin_bottom_100"},(0,a.zI)(R)):this.getIsInputLengthTooShort()?t.createElement(i.Ay,{id:this.state.errorId,level:i.A_.error,type:k,className:"margin_bottom_100"},(0,a.r7)(x)):null}renderErrorMaybe(){const{errorText:L,minCharacterLimit:D,maxCharacterLimit:k}=this.props;return L?t.createElement(M.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},L):this.getIsInputLengthTooLong()?t.createElement(M.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,a.zI)(k)):this.getIsInputLengthTooShort()?t.createElement(M.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,a.r7)(D)):null}renderHintMaybe(){const{hintText:L}=this.props;return L?t.createElement(r.A,{id:this.state.hintId,"data-qa":"form-text-hint"},L):null}renderTextInput(){const{className:L,errorId:D,errorLevel:k,errorText:x,errorType:R,hintId:U,hintText:F,id:W,isRequired:w,isInvalid:K,labelId:j,name:Q,onBlur:J,onChange:z,onCopy:ie,forceSelectAll:ee,onFocus:ne,size:Z,prefix:te,suffix:he,maxCharacterLimit:ue,minCharacterLimit:de,emojisShouldCountAsSingleCharacter:re,counterMinimumCharacters:V,icon:H,focusOnMount:X,useInlineAlert:Y,showError:q,inputRef:fe,preventScrollOnFocus:ce,ariaDescribedById:Ee,autoComplete:Ae,type:le,readOnly:oe,...me}=this.props,pe=!!x||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||K,Te=o()({[`c-input_text--with_${k}`]:pe,"c-input_text--with_hint":F,"c-input_text--with_icon":H},L),Me=j,Ue=(0,a.Yk)([pe?this.state.errorId:null,Ee,this.state.hintId,this.characterCounterId]),xe={...this.state.textStyle,...this.getPrefixStyle()};return t.createElement(m.A,_({},me,{style:xe,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:Ue,isInvalid:pe,ariaLabelledby:Me,ariaRequired:w,className:Te,id:W,name:Q,onChange:z,onCopy:ie,forceSelectAll:ee,ref:this.input,size:Z,autoComplete:Ae,type:le,readOnly:oe??void 0}))}renderWrappedTextMaybe(){const{prefix:L,suffix:D,value:k,placeholder:x,maxCharacterLimit:R,counterMinimumCharacters:U,size:F,isDisabled:W,icon:w}=this.props;let K=this.renderTextInput();if(R){const j=C(k,this.props.emojisShouldCountAsSingleCharacter);K=t.createElement(d.A,{id:this.characterCounterId,currentCount:j,isDisabled:W,maxCharacterLimit:R,counterMinimumCharacters:U,size:F,ref:Q=>{this.characterCount=Q}},K)}return(L||D)&&(K=t.createElement(T,{className:w&&"c-input_text_overlay--icon",placeholder:x,size:F,prefix:L,suffix:D,value:k??void 0},K)),w&&(K=t.createElement(v,{icon:w,size:F},K)),K}render(){const L=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&L,this.renderHintMaybe())}constructor(L){super(L),(0,l.v)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:D}=L;this.state={errorId:(0,n.A)(this.props,"errorId",(0,a.Es)(D,"error")),everReceivedUserInput:!1,hintId:(0,n.A)(this.props,"hintId",(0,a.Es)(D,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},L.maxCharacterLimit&&(this.characterCounterId=(0,a.Es)(D,"character-count")),this.input=L.inputRef||t.createRef()}},"FormTextInput");b.defaultProps={className:null,errorId:void 0,errorLevel:i.A_.error,errorText:null,errorType:i.QE.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,emojisShouldCountAsSingleCharacter:!1,onBlur:c.A,onChange:c.A,onCopy:c.A,forceSelectAll:!1,readOnly:!1,onFocus:c.A,placeholder:void 0,size:m.F.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:c.A,onMouseLeave:c.A,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:c.A,onKeyDown:c.A,onCompositionStart:c.A,onCompositionEnd:c.A},b.displayName="FormTextInput";const S=b},9315194960:(B,A,e)=>{"use strict";e.d(A,{A:()=>T});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2003990933),c=e(7715417323),l=e(4616306996),i=e(5424607800),a=e(3889339349),r=e(1959543078),d=e(768761048),m=e(3939784208),f=e(694413685),u=e(9892035307),E=e(1766758812);function v(){return v=Object.assign||function(p){for(var O=1;O<arguments.length;O++){var y=arguments[O];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(p[C]=y[C])}return p},v.apply(this,arguments)}h(v,"_extends");const g={onChange:{action:l.l.ENTER_TEXT}};let T=h(class extends t.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var O;(O=this.input.current)===null||O===void 0||O.focus()}}componentDidUpdate(O,y){if((this.props.value!==O.value||this.state.isFocused!==y.isFocused)&&this.getTextStyle(),this.props.value!==O.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&O.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var C;(C=this.input.current)===null||C===void 0||C.focus()}}onBlur(){const{onBlur:O}=this.props;this.setFocus(!1),O&&O()}onFocus(){const{onFocus:O}=this.props;this.setFocus(!0),O&&O()}getTextStyle(){var O;const{maxCharacterLimit:y}=this.props;if(!y){this.setTextStyle({});return}this.setTextStyle({paddingRight:((O=this.characterCount)===null||O===void 0?void 0:O.getCharacterCountElementSize())||0})}setCharacterCountRef(O){this.characterCount=O}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(O){this.setState(()=>({isFocused:O}))}setInputRef(O){this.input=O}setTextStyle(O){this.setState(()=>({textStyle:O}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:O,minCharacterLimit:y,value:C}=this.props,{everReceivedUserInput:I}=this.state;return!I||y==null||!O&&C.length===0?!1:C.length<y}getIsInputLengthTooLong(){const{maxCharacterLimit:O,value:y}=this.props;return O==null?!1:y.length>O}renderDeprecatedErrorMaybe(){const{showError:O,errorLevel:y,errorText:C,errorType:I,isRequired:M,maxCharacterLimit:_,minCharacterLimit:P,value:b}=this.props;return O?C?t.createElement(r.Ay,{id:this.state.errorId,level:y,type:I,className:"margin_bottom_100"},C):!M&&b.length===0?null:this.getIsInputLengthTooLong()?t.createElement(r.Ay,{id:this.state.errorId,level:r.A_.error,type:I,className:"margin_bottom_100"},(0,d.zI)(_)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(r.Ay,{id:this.state.errorId,level:r.A_.error,type:I,className:"margin_bottom_100"},(0,d.r7)(P)):null:null}renderErrorMaybe(){const{showError:O,errorText:y,isRequired:C,maxCharacterLimit:I,minCharacterLimit:M,value:_}=this.props;return O?y?t.createElement(E.A,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},y):!C&&_.length===0?null:this.getIsInputLengthTooLong()?t.createElement(E.A,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},(0,d.zI)(I)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(E.A,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},(0,d.r7)(M)):null:null}renderHintMaybe(){const{hintText:O}=this.props;return O?t.createElement(m.A,{id:this.state.hintId},O):null}renderTextArea(){const{className:O,showError:y,errorId:C,errorLevel:I,errorText:M,errorType:_,hintId:P,hintText:b,useInlineAlert:S,id:N,isRequired:L,isInvalid:D,labelId:k,name:x,onChange:R,onFocus:U,onKeyDown:F,onBlur:W,maxCharacterLimit:w,minCharacterLimit:K,focusOnMount:j,autoClogProps:Q,ariaDescribedById:J,inputRef:z,resize:ie,...ee}=this.props,{textStyle:ne}=this.state,Z=!!M||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||D,te=o()({[`c-input_textarea--with_${I}`]:Z,"c-input_textarea--with_hint":b,"c-input_textarea--with_character_count":!!w,"c-input_text--with_inline_alert":S&&Z},O),he=k,ue=(0,d.Yk)([Z?this.state.errorId:void 0,J,this.state.hintId,this.characterCounterId]),de=t.createElement(u.A,v({},ee,{resize:ie,ref:this.setInputRef,style:ne,ariaDescribedby:ue,isInvalid:Z,ariaLabelledby:he,ariaRequired:L,className:te,id:N,"data-qa":ee["data-qa"]||N,name:x,onChange:R,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:F}));return Q?t.createElement(i.A,{autoClogProps:Q,actionProps:g,elementType:l.R.TEXTAREA},de):de}renderWrappedTextareaMaybe(){const{value:O,maxCharacterLimit:y,size:C,isDisabled:I}=this.props;let M=this.renderTextArea();return y&&(M=t.createElement(f.A,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:O==null?void 0:O.length,isDisabled:I,maxCharacterLimit:y,type:"multiline",size:C},M)),M}render(){const O=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),O,this.renderHintMaybe())}constructor(O){super(O);const{id:y}=this.props;(0,a.v)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:(0,n.A)(this.props,"errorId",(0,d.Es)(y,"error")),hintId:(0,n.A)(this.props,"hintId",(0,d.Es)(y,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=(0,d.Es)(y,"character-count")),this.input=t.createRef()}},"FormTextareaInput");T.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:r.A_.error,errorText:null,errorType:r.QE.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:c.A,onFocus:c.A,onBlur:c.A,placeholder:void 0,size:u.F.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},1857707104:(B,A,e)=>{"use strict";e.d(A,{A:()=>f,F:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4616306996),l=e(5424607800),i=e(1203401213);function a(){return a=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},a.apply(this,arguments)}h(a,"_extends");const r={small:"small",medium:"medium",large:"large"};var d;let m=h(class extends(d=t.Component){componentDidMount(){if(this.props.focusOnMount&&typeof this.props.refToForward!="function"){var E,v;(E=this.props.refToForward)===null||E===void 0||(v=E.current)===null||v===void 0||v.focus()}}onChange(E){this.props.onChange&&this.props.onChange(E.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(E){this.props.readOnly&&this.props.forceSelectAll&&E.currentTarget.select()}blur(){if(typeof this.props.refToForward!="function"){var E,v;(E=this.props.refToForward)===null||E===void 0||(v=E.current)===null||v===void 0||v.blur()}}focus(){if(typeof this.props.refToForward!="function"){var E,v;(E=this.props.refToForward)===null||E===void 0||(v=E.current)===null||v===void 0||v.focus()}}render(){const{ariaDescribedby:E,isInvalid:v,ariaLabelledby:g,ariaRequired:T,className:p,id:O,isDisabled:y,name:C,placeholder:I,size:M,type:_,refToForward:P,ariaLabel:b,forceSelectAll:S,focusOnMount:N,autoClogProps:L,autoComplete:D,...k}=this.props,x=o()("c-input_text",{"c-input_text--large":M===r.large,"c-input_text--small":M===r.small,"c-input_text--with_error":v,"c-input_text--with_inline_alert":v,[i.E.small]:M===r.small,[i.E.large]:M===r.large},p),R=t.createElement("input",a({},k,{"aria-describedby":k["aria-describedby"]||E,"aria-invalid":k["aria-invalid"]||v,"aria-labelledby":k["aria-labelledby"]||g,"aria-required":k["aria-required"]||T,"aria-label":k["aria-label"]||b,autoComplete:D,className:x,disabled:y,id:O,name:C,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:I,ref:P,type:_}));return L?t.createElement(l.A,{autoClogProps:L,actionProps:{onChange:{action:c.l.ENTER_TEXT},onCopy:{action:c.l.COPY_TO_CLIPBOARD}},elementType:c.R.INPUT},R):R}constructor(E){super(E),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");m.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:n.A,onCopy:n.A,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"},m.displayName="TextInput";const f=t.forwardRef((u,E)=>{const v=(0,t.useRef)(null);return t.createElement(m,a({},u,{refToForward:E||v}))})},9892035307:(B,A,e)=>{"use strict";e.d(A,{A:()=>u,F:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4616306996),l=e(5424607800),i=e(1203401213);function a(){return a=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(E[T]=g[T])}return E},a.apply(this,arguments)}h(a,"_extends");const r={small:"small",medium:"medium",large:"large"},d={onBlur:{action:c.l.SAVE}};var m;let f=h(class extends(m=t.Component){componentDidMount(){this.props.focusOnMount&&this.props.refToForward&&this.props.refToForward.current&&this.props.refToForward.current.focus()}onChange(v){this.props.onChange(v.target.value)}render(){const{ariaDescribedby:v,isInvalid:g,ariaLabelledby:T,ariaRequired:p,className:O,placeholder:y,id:C,isDisabled:I,name:M,resize:_,size:P,refToForward:b,focusOnMount:S,autoClogProps:N,onKeyDown:L,...D}=this.props,k=o()("c-input_textarea",{"c-input_textarea--large":P===r.large,"c-input_textarea--small":P===r.small,"c-input_textarea--resize_none":_==="none","c-input_textarea--resize_both":_==="both","c-input_textarea--resize_h":_==="horizontal","c-input_textarea--with_error":g,"c-input_textarea--with_inline_alert":g,[i.E.small]:P===r.small,[i.E.large]:P===r.large},O),x=t.createElement("textarea",a({},D,{"aria-describedby":v,"aria-invalid":g,"aria-labelledby":T,"aria-required":p,className:k,disabled:I,id:C,name:M,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onBlurCapture:this.props.onBlurCapture,placeholder:y,ref:b,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength,onKeyDown:L}));return N?t.createElement(l.A,{autoClogProps:N,actionProps:d,elementType:c.R.TEXTAREA},x):x}constructor(v){super(v),this.onChange=this.onChange.bind(this)}},"TextareaInput");f.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:n.A,onFocus:n.A,onBlur:n.A,onBlurCapture:n.A,placeholder:"",resize:null,size:r.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0,onKeyDown:void 0},f.displayName="TextareaInput";const u=t.forwardRef((E,v)=>t.createElement(f,a({},E,{refToForward:v||t.createRef()})))},3931297068:(B,A,e)=>{"use strict";e.d(A,{A:()=>E,_:()=>m});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(4844578989),l=e.n(c),i=e(3564666345),a=e(768761048),r=e(8960329153),d=e(9769395536);const m=n.createContext({name:""}),f=(0,t.Wb)()?h(function(g){const T=(0,s.c)(24),{children:p,name:O,className:y,labelId:C,validate:I,validateAsync:M,focusOnMount:_}=g,P=_===void 0?!1:_,b=(0,r.A)(O);let S;T[0]!==I||T[1]!==M?(S=M||I?{validate:M||I}:{},T[0]=I,T[1]=M,T[2]=S):S=T[2];let N;T[3]!==O||T[4]!==S?(N={name:O,...S},T[3]=O,T[4]=S,T[5]=N):N=T[5];const[L]=(0,i.Mt)(N),{hints:D}=(0,d.A)();let k,x;T[6]!==O?(x={name:O},T[6]=O,T[7]=x):x=T[7],k=x;const R=k,[U,F]=(0,n.useState)(!1);let W,w;T[8]!==U||T[9]!==P?(W=h(()=>{P&&!U&&F(!U)},"t5"),w=[U,P],T[8]=U,T[9]=P,T[10]=W,T[11]=w):(W=T[10],w=T[11]),(0,n.useEffect)(W,w);let K;if(T[12]!==p||T[13]!==y||T[14]!==b||T[15]!==U||T[16]!==L||T[17]!==R||T[18]!==P||T[19]!==D||T[20]!==C){const j=(0,a.Yk)([C]),Q=(0,a.Yk)([D,b.map(u)]),J=l()({"c-input_text--with_hint":D.length||b.length},y);let z;T[22]!==R?(z={value:R},T[22]=R,T[23]=z):z=T[23],K=n.createElement(m.Provider,z,p({field:{...L,ariaLabelledby:j,isInvalid:b.length>0,ariaDescribedby:Q,className:J,focusOnMount:P&&!U},fieldErrors:b})),T[12]=p,T[13]=y,T[14]=b,T[15]=U,T[16]=L,T[17]=R,T[18]=P,T[19]=D,T[20]=C,T[21]=K}else K=T[21];return K},"BaseField"):h(function(g){let{children:T,name:p,className:O,labelId:y,validate:C,validateAsync:I,focusOnMount:M=!1}=g;const _=(0,r.A)(p),[P]=(0,i.Mt)({name:p,...I||C?{validate:I||C}:{}}),{hints:b}=(0,d.A)(),S=(0,n.useMemo)(()=>({name:p}),[p]),[N,L]=(0,n.useState)(!1);(0,n.useEffect)(()=>{M&&!N&&L(!N)},[N,M]);const D=(0,a.Yk)([y]),k=(0,a.Yk)([b,_.map(R=>R.id)]),x=l()({"c-input_text--with_hint":b.length||_.length},O);return n.createElement(m.Provider,{value:S},T({field:{...P,ariaLabelledby:D,isInvalid:_.length>0,ariaDescribedby:k,className:x,focusOnMount:M&&!N},fieldErrors:_}))},"BaseField");function u(v){return v.id}h(u,"_temp"),f.displayName="BaseField";const E=f},3633325154:(B,A,e)=>{"use strict";e.d(A,{i:()=>d});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(3564666345),l=e(7760824328),i=e(6856660686);function a(){return a=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(m[E]=u[E])}return m},a.apply(this,arguments)}h(a,"_extends");const r=h(m=>{const{name:f,value:u,validateOnBlur:E,checked:v,...g}=m,{setFieldValue:T,handleBlur:p,setFieldTouched:O}=(0,c.j7)(),y=(0,n.useCallback)(C=>{var I;return T(f,C==null||(I=C.target)===null||I===void 0?void 0:I.value)},[f,T]);return n.createElement(l.A,a({},g,{name:f,value:u,checked:v,onChange:y},E?{onBlur:()=>{p(f),O(f,!0)}}:{onBlur:()=>{O(f,!1)}}))},"WithAdaptedProps");r.displayName="WithAdaptedProps";const d=(0,t.Wb)()?m=>{const f=(0,s.c)(13),{handleBlur:u,handleChange:E}=(0,c.j7)();let v;if(f[0]!==m){const{labelText:T,labelSubtext:p,...O}=m;v=O,f[0]=m,f[1]=v}else v=f[1];let g;if(f[2]!==u||f[3]!==E||f[4]!==m||f[5]!==v){let T;f[7]!==m?(T=a({},m),f[7]=m,f[8]=T):T=f[8];let p;f[9]!==u||f[10]!==E||f[11]!==v?(p=n.createElement(r,a({},v,{onChange:E,onBlur:u})),f[9]=u,f[10]=E,f[11]=v,f[12]=p):p=f[12],g=n.createElement(i.A,T,p),f[2]=u,f[3]=E,f[4]=m,f[5]=v,f[6]=g}else g=f[6];return g}:m=>{const{handleBlur:f,handleChange:u}=(0,c.j7)(),{labelText:E,labelSubtext:v,...g}=m;return n.createElement(i.A,a({},m),n.createElement(r,a({},g,{onChange:u,onBlur:f})))};d.displayName="FieldRadio"},6636205252:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(9892035307),s=e(8680146950);const n=(0,s.Z)(t.A,c=>{let{name:l,setFieldValue:i,handleBlur:a,setFieldTouched:r,validateOnBlur:d}=c;return{onChange:m=>i(l,m),...d&&{onBlur:()=>{a(l),r(l,!0)}},...!d&&{onBlur:()=>{r(l,!1)}}}})},6856660686:(B,A,e)=>{"use strict";e.d(A,{A:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5828775116),c=e(605568209),l=e(2869254699),i=e(3931297068),a=e(8747897103),r=e(7313997791),d=e(6911391481),m=e(768761048),f=e(3939784208),u=e(9769395536);function E(){return E=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var _=arguments[M];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(I[P]=_[P])}return I},E.apply(this,arguments)}h(E,"_extends");const v=(0,r.Wb)()?h(function(M){const _=(0,d.c)(8),{name:P}=(0,t.useContext)(i._),{addHint:b,removeHint:S}=(0,u.A)();let N;N=`${P}_hint_${(0,m.r9)()}`;const L=N;let D,k;_[0]!==b||_[1]!==L||_[2]!==S?(D=h(()=>(b(L),()=>{S(L)}),"t1"),k=[b,L,S],_[0]=b,_[1]=L,_[2]=S,_[3]=D,_[4]=k):(D=_[3],k=_[4]),(0,t.useEffect)(D,k);let x;return _[5]!==L||_[6]!==M?(x=t.createElement(f.A,E({},M,{id:L})),_[5]=L,_[6]=M,_[7]=x):x=_[7],x},"FormHint"):h(function(M){const{name:_}=(0,t.useContext)(i._),{addHint:P,removeHint:b}=(0,u.A)(),S=(0,t.useMemo)(()=>`${_}_hint_${(0,m.r9)()}`,[_]);return(0,t.useEffect)(()=>(P(S),()=>{b(S)}),[P,S,b]),t.createElement(f.A,E({},M,{id:S}))},"FormHint");v.displayName="FormHint";const g=v;function T(I){let{hints:M}=I;return M&&M.map((_,P)=>{const S=((typeof _=="string"?_:_==null?void 0:_.key)||"").slice(-3)+P;return t.createElement(g,{key:S,className:"c-field_input__helpers"},_)})}h(T,"FieldHints");const p=h(I=>`${I}_label_id`,"getLabelId"),O=h((I,M)=>({...I,...M,className:o()(I.className,M.className)}),"mergeProps");function y(I){let{name:M,labelText:_,hints:P=c.Ml,labelSubtext:b,focusOnMount:S=!1,component:N,children:L,optional:D=!1,validate:k,validateAsync:x,...R}=I;const U=p(M);(0,n.A)(!(N&&L),"You should not use <Field component> and <Field children> as a function in the same <Field> component; <Field component> will be ignored.");const F=(0,t.useCallback)(w=>_?t.createElement(l.A,{text:_,id:U,type:"inline",cursor:"pointer",className:o()(w,R.className),optional:D},L):L,[L,U,_,D,R.className]),W=(0,t.useCallback)(()=>_?t.createElement(l.A,{text:_,subtext:b,id:U,optional:D}):null,[U,b,_,D]);return t.createElement(i.A,{name:M,labelId:U,validate:k,validateAsync:x,focusOnMount:S},w=>{let{field:K,fieldErrors:j}=w;return t.createElement(t.Fragment,null,L?F(K.className):t.createElement(t.Fragment,null,W(),t.createElement(N,O(K,{...R}))),t.createElement(a.A,{errors:j}),t.createElement(T,{hints:P}))})}h(y,"Field"),y.displayName="Field";const C=y},9950231676:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(3564666345);function o(){return o=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(l[r]=a[r])}return l},o.apply(this,arguments)}h(o,"_extends");function n(l){let{className:i=void 0,initialValues:a,initialErrors:r=void 0,validate:d=void 0,validationSchema:m=void 0,validateOnBlur:f=!0,validateOnChange:u=!0,validateOnMount:E=!1,onReset:v=void 0,onSubmit:g,children:T,...p}=l;const O=v?{onReset:v}:{};return t.createElement(s.l1,o({initialValues:a,initialErrors:r,validate:d,validationSchema:m,validateOnBlur:f,validateOnChange:u,validateOnMount:E,onSubmit:g},O,p),y=>{let{handleSubmit:C,handleReset:I,...M}=y;return t.createElement("form",{className:i,onSubmit:C,onReset:I},T({...M}))})}h(n,"Form"),n.displayName="Form";const c=n},8747897103:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(1766758812);function c(l){let{className:i,errors:a}=l;var r;return a&&a.length>0?t.createElement(t.Fragment,null,a.map(d=>(0,t.isValidElement)(d.message)?t.cloneElement(d.message,{key:d.id,id:d.id,className:o()(i,"c-field_input__helpers")}):(r=!!d.message&&t.createElement(n.A,{className:o()(i,"c-field_input__helpers"),key:d.id,id:d.id},d.message))!==null&&r!==void 0?r:null)):null}h(c,"FieldErrors")},8960329153:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(3564666345),o=e(768761048);function n(c){const{getFieldMeta:l,submitCount:i}=(0,s.j7)(),a=l(c),{touched:r,error:d,initialError:m}=a,f=(0,t.useCallback)(u=>u&&u.map&&u.length>0?u.map(E=>({id:`${c}_error_${(0,o.r9)()}`,message:E})):u?[{id:u,message:u}]:[],[c]);return(0,t.useMemo)(()=>r||i>0?f(d):f(m),[r,f,m,d,i])}h(n,"useFieldErrors")},9769395536:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389);const l=(0,t.Wb)()?h(function(){const r=(0,s.c)(5);let d;r[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],r[0]=d):d=r[0];const[m,f]=(0,n.useReducer)(i,d);let u;r[1]===Symbol.for("react.memo_cache_sentinel")?(u=h(p=>{f({type:"addHint",hintId:p})},"t1"),r[1]=u):u=r[1];const E=u;let v;r[2]===Symbol.for("react.memo_cache_sentinel")?(v=h(p=>{f({type:"removeHint",hintId:p})},"t2"),r[2]=v):v=r[2];const g=v;let T;return r[3]!==m?(T={hints:m,addHint:E,removeHint:g},r[3]=m,r[4]=T):T=r[4],T},"useHints"):h(function(){const[r,d]=(0,n.useReducer)(i,[]),m=(0,n.useCallback)(u=>{d({type:"addHint",hintId:u})},[d]),f=(0,n.useCallback)(u=>{d({type:"removeHint",hintId:u})},[d]);return{hints:r,addHint:m,removeHint:f}},"useHints");function i(a,r){switch(r.type){case"addHint":return[...a,r.hintId];case"removeHint":return a.filter(d=>d!==r.hintId);default:return a}}h(i,"hintsReducer")},8680146950:(B,A,e)=>{"use strict";e.d(A,{Z:()=>i});var t=e(3134334389),s=e(3564666345),o=e(3931297068),n=e(6856660686);function c(){return c=Object.assign||function(r){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(r[f]=m[f])}return r},c.apply(this,arguments)}h(c,"_extends");function l(r,d){return m=>{const{name:f}=(0,t.useContext)(o._),{validateOnBlur:u,...E}=m,v=(0,s.j7)(),g=(0,t.useMemo)(()=>d({name:f,handleChange:v.handleChange,handleBlur:v.handleBlur,setFieldValue:v.setFieldValue,setFieldTouched:v.setFieldTouched,validateOnBlur:u,props:m}),[f,v.handleChange,v.handleBlur,v.setFieldValue,v.setFieldTouched,u,m]);return t.createElement(r,c({},E,g))}}h(l,"withFieldAdapter"),l.displayName="withFieldAdapter";function i(r,d){const m=l(r,d);return h(u=>t.createElement(n.A,c({component:m},u)),"FieldTextInput")}h(i,"withField"),i.displayName="withField";var a=null},1766758812:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5117478290),c=e(5190921192);function l(){return l=Object.assign||function(r){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(r[f]=m[f])}return r},l.apply(this,arguments)}h(l,"_extends");let i=h(class extends t.PureComponent{render(){const{children:d,className:m,id:f,...u}=this.props,E=o()("c-inline_alert",m);return t.createElement("div",l({},u,{className:E,id:f,"data-qa-error":!0}),t.createElement(c.A,{name:"info"}),t.createElement(n.z,{assertive:!0},t.createElement("span",{className:"c-inline_alert__text"},d)))}},"InlineAlert");i.defaultProps={className:"",id:""},i.displayName="InlineAlert";const a=i},8656155806:(B,A,e)=>{"use strict";e.d(A,{ed:()=>g,tc:()=>f,zG:()=>T});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9304888665),c=e(3659369705),l=e(2947229296),i=e(5190921192);function a(){return a=Object.assign||function(p){for(var O=1;O<arguments.length;O++){var y=arguments[O];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(p[C]=y[C])}return p},a.apply(this,arguments)}h(a,"_extends");const r=new l.Ay("keyboard_key");var d;(function(p){p.ArrowUp="\u2191",p.ArrowDown="\u2193",p.ArrowLeft="\u2190",p.ArrowRight="\u2192"})(d||(d={}));var m;(function(p){p.CmdOrCtrl="CmdOrCtrl",p.OptOrAlt="OptOrAlt"})(m||(m={}));const f={...d,...m},u=Object.values(d).map(p=>p.toString()),E={Cmd:{name:"command"},[d.ArrowUp]:{name:"caret-up-filled"},[d.ArrowDown]:{name:"caret-down-filled"},[d.ArrowLeft]:{name:"caret-left-filled"},[d.ArrowRight]:{name:"caret-right-filled"}},v=h(p=>p===m.CmdOrCtrl?(0,c.cX)()?"Cmd":"Ctrl":p===m.OptOrAlt?(0,c.cX)()?"Option":"Alt":p,"getKeyForOS"),g=h(p=>({"\u2191":r.t("up arrow"),"\u2193":r.t("down arrow"),"\u2190":r.t("left arrow"),"\u2192":r.t("right arrow"),Ctrl:r.t("control"),"\u2318":r.t("command"),Cmd:r.t("command"),Option:r.t("option"),Alt:r.t("alt"),".":r.t("period"),",":r.t("comma"),"[":r.t("left bracket"),"]":r.t("right bracket"),"+":r.t("plus"),"-":r.t("minus"),Esc:r.t("escape"),Strg:"Steuerung"}[p]||String(p)).toLowerCase(),"getNameForKey"),T=h(p=>{let{label:O,className:y,slim:C=!1,theme:I=n.Sx.Light,tooltip:M=!1}=p;const _=String(O),P=u.includes(_),b=v(_),S=E[b],N=o()(y,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":P,"c-keyboard_key--slim":C||M,"c-keyboard_key--dark":I===n.Sx.Dark,"c-keyboard_key__tooltip":M}),L=g(b);return t.createElement("div",{role:"img","aria-label":L,className:N},S?t.createElement(i.A,a({},S,{size:C?"inherit":"20",inline:C})):b)},"KeyboardKey");T.displayName="KeyboardKey"},4477499279:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3659369705),c=e(8656155806);const l=h(()=>(0,n.cX)()?t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"\xA0"):t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"+"),"Delimiter");l.displayName="Delimiter";const i=h(r=>{let{isInline:d=!1,title:m,mainKey:f,modifier:u,modifiers:E,className:v,useSlimModifiers:g}=r;const T=o()("c-keyboard_keys",{"c-keyboard_keys--inline":d,"c-keyboard_key__tooltip_text":!(u||E)},v),p=o()("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":d}),O=u?[u]:E,y=O==null?void 0:O.map(C=>t.createElement(t.Fragment,{key:`${C}_key`},t.createElement(c.zG,{label:C,tooltip:!0,slim:g}),t.createElement(l,null)));return t.createElement(t.Fragment,null,t.createElement("span",{className:p,"aria-hidden":"true"},m),t.createElement("span",{className:T},y,t.createElement(c.zG,{label:f,tooltip:!0})))},"KeyboardKeysTooltip");i.displayName="KeyboardKeysTooltip";const a=i},2061145436:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4616306996),c=e(5424607800),l=e(4756917316),i=e(5589267598),a=e(3540201238);function r(){return r=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},r.apply(this,arguments)}h(r,"_extends");const d={onClick:{action:n.l.CLICK}},f=t.forwardRef(h(function(E,v){let{autoClogProps:g,className:T,href:p,invert:O=!1,children:y,...C}=E;const I=(0,t.useContext)(i.A),M=o()("c-link",{"c-link--focus-visible":I,"c-link--invert":O},T),_=C.target==="_blank"||(p==null?void 0:p.startsWith("mailto:")),P=t.createElement("a",r({},(0,l.A)(C),{className:M,href:p,ref:v}),y,_&&t.createElement(a.A,null));return g?t.createElement(c.A,{autoClogProps:g,actionProps:d,elementType:n.R.LINK},P):P},"BaseLink"))},756609587:(B,A,e)=>{"use strict";e.d(A,{A:()=>_e});var t=e(3134334389),s=e(6122756707),o=e(2774532222),n=e(3659369705),c=e(334411714),l=e(5221609289),i=e(7485328956),a=e(9513040995),r=e(9524650809),d=e(3351247794),m=e(6928237551),f=e(6216408461),u=e(2947229296),E=e(4144342945),v=e(1429786247),g=e(6497449120),T=e(4894634110),p=e(6766178921);const O=(0,T.Ay)("Get a member by their email",(Le,Ie,we)=>{const ze=Ie();return(0,p.OA)(ze,we)});O.meta={name:"createThunk",key:"createThunkgetMemberByEmail",description:"Get a member by their email"};const y=O;var C=e(2252221836),I=e(3055809090),M=e(2890325633),_=e(6145216594),P=e(481313997),b=e(5772037517),S=e(321010523),N=e(8671732147),L=e(8370946575),D=e(5404601461),k=e(8859166048),x=e(5478938623),R=e(3666777625),U=e(5317324095);function F(Le){let{canUserInviteToChannelByEmail:Ie,canUserSlackConnectDm:we,isImOrMpim:ze,isMember:ut,isPOU:_t,showInvitePeopleGlobalAction:yt}=Le;const Ot=(we||ut)&&!_t,It=Ie!==void 0,kt=It&&Ie&&!ze,gt=It&&yt&&!ut&&!kt;return{showChannelInviteMenu:kt,showDmMenu:Ot,showSeparator:Ot||kt||gt,showWorkspaceInviteMenu:gt}}h(F,"getEmailMenuItemDisplayRules");var W=e(353071615),w=e(8912223914),K=e(3942761715),j=e(7418708689),Q=e(280840163),J=e(9911704344),z=e(6717879785),ie=e(6251135763),ee=e(3299124106);function ne(){return ne=Object.assign||function(Le){for(var Ie=1;Ie<arguments.length;Ie++){var we=arguments[Ie];for(var ze in we)Object.prototype.hasOwnProperty.call(we,ze)&&(Le[ze]=we[ze])}return Le},ne.apply(this,arguments)}h(ne,"_extends");const Z=new u.Ay("linkify_emails"),te={elementName:"email_linkify_dm_email",onClick:{enableClogAction:!0}},he={elementName:"email_linkify_start_invite",onClick:{enableClogAction:!0}},ue={elementName:"email_linkify_start_invite_to_workspace",onClick:{enableClogAction:!0}},de={elementName:"email_linkify_copy_email",onClick:{enableClogAction:!0}},re={elementName:"email_linkify_open_email",onClick:{enableClogAction:!0}},V=h(Le=>{let{href:Ie,channel:we,...ze}=Le;const[ut,_t]=(0,t.useState)(),yt=(0,s.wA)(),Ot=Ie.split("mailto:")[1]?Ie.split("mailto:")[1]:Ie,It=Z.rt("Contact {emailAddress}",{emailAddress:Ot}),kt=yt(y(Ot)),gt=kt==null?void 0:kt.id,Gt=(0,W.hh)(kt),Pt=(0,m.Mn)(we),jt=(0,Q.d4)(ct=>(0,x.F1)((0,R.H7)(ct))),Qt=(0,Q.d4)(U.Lz),Jt=(0,k.JM)(we),Yt=(0,Q.d4)(M.u);(0,t.useEffect)(()=>{yt((0,_.f$)({context:_.Ui.AddToChannel})).then(ct=>{_t(ct.addToChannelFlow.inviteToChannelByEmail)})},[yt]);const Rt=(0,t.useCallback)(()=>{yt((0,ee.Sb)({initialEmail:Ot}))},[yt,Ot]),Bt=(0,t.useCallback)(()=>{if(gt){const ct=(0,g.h0)({memberIds:[gt]});yt((0,C.A)({destinations:ct})).then(rn=>yt((0,v.U)({draftId:rn}))).catch(()=>{Rt()})}else Rt()},[yt,gt,Rt]),dn=(0,t.useCallback)(()=>{let ct={channelId:we.id,entryPoint:w.kP.EmailLinkMenu,initialSelectedEmails:[{key:Ot,label:Ot,value:Ot,hoverText:Z.t("Outside your organization"),isClassifying:!1,classification:I.r.External,entity:{id:Ot,isEmail:!0,value:Ot},icon:void 0}]};gt&&(ct={channelId:we.id,entryPoint:w.kP.EmailLinkMenu,initialSelectedEmails:[{key:Ot,label:Ot,isLoading:!0,queryId:(0,r.A)("query__"),value:void 0,entity:void 0,classification:void 0,icon:void 0}]}),yt((0,ee._2)(ct))},[we.id,yt,Ot,gt]),Mt=(0,t.useCallback)(()=>{yt((0,ee.Xf)({initialEmail:Ot,source:K.K3.LinkifyEmails}))},[yt,Ot]),{showChannelInviteMenu:Ye,showDmMenu:ot,showSeparator:ht,showWorkspaceInviteMenu:tt}=F({canUserInviteToChannelByEmail:ut,canUserSlackConnectDm:Yt,isImOrMpim:Jt,isMember:!!gt,isPOU:Gt,showInvitePeopleGlobalAction:Qt});return t.createElement(P.A,{eventId:S.EventId.EMAIL_LINK_MENU,elementType:S.ElementType.MENU,clogImpression:!0},t.createElement(f.Ay,ne({},ze),t.createElement(t.Fragment,null,t.createElement("p",{className:"p-email_link_menu__title"}," ",It," "),ot&&t.createElement(f.Dr,{"data-qa":"start_dm_email_linkify",onSelected:Bt,label:Z.t("Start a DM"),autoClogProps:te}),Ye&&t.createElement(f.Dr,{"data-qa":"start_invite_email_linkify",onSelected:dn,label:Z.rt("Invite to #{channelDisplayName}",{channelDisplayName:Pt}),autoClogProps:he}),tt&&t.createElement(f.Dr,{"data-qa":"start_invite_to_workspace_email_linkify",onSelected:Mt,label:Z.rt("Invite to {currentTeamName}",{currentTeamName:jt}),autoClogProps:ue}),ht&&t.createElement(f.bX,null)),t.createElement(f.Dr,{"data-qa":"copy_email_linkify",onSelected:(0,t.useCallback)(()=>(0,E.x3)(Ot),[Ot]),label:Z.t("Copy Email Address"),autoClogProps:de}),t.createElement(f.Dr,{"data-qa":"send_email_linkify",onSelected:(0,t.useCallback)(()=>z.J.open(Ie,"_blank"),[Ie]),label:Z.rt("Email {emailAddress}",{emailAddress:Ot}),autoClogProps:re})))},"RenderMenu");V.displayName="RenderMenu";const H=h(Le=>{let{href:Ie,refToForward:we,channelId:ze,onClick:ut,..._t}=Le;const{getSiblingView:yt}=(0,t.useContext)(J.A),Ot=(0,t.useContext)(D.r4),It=Ie==null?void 0:Ie.startsWith("mailto:"),kt=(0,Q.d4)(jt=>{var Qt;if(It&&Ot&&Ot===N.Y.THREAD){const Yt=(0,L.jA)(jt,{getSiblingView:yt});if(Yt){const Rt=(0,L.Sb)(Yt);if(Rt&&Rt.channelId)return Rt.channelId}}if(ze)return ze;const Jt=(Qt=yt(jt,{container:j.mq.Primary}))===null||Qt===void 0?void 0:Qt.id;return Jt&&(0,ie.A)(Jt)?Jt:void 0}),gt=(0,Q.d4)(jt=>(0,d.OL)(jt,kt)),Gt=(0,t.useCallback)(jt=>{if(gt)return t.createElement(V,ne({},jt,{href:Ie,channel:gt}))},[Ie,gt]),Pt={href:Ie,refToForward:we,..._t};return It&&gt?t.createElement(f.cQ,{renderMenu:Gt,position:"bottom-right"},t.createElement(b.A,ne({},Pt,{preventDefault:!0}))):t.createElement(b.A,ne({},Pt,{onClick:ut}))},"EmailLinkMenu");H.displayName="EmailLinkMenu";const X=H;var Y=e(1401466188),q=e(6196018609),fe=e(2788823752),ce=e(4846005180),Ee=e(4170441464),Ae=e(1613725917),le=e(6592155914),oe=e(2042516736),me=e(3122619948),pe=e(4819897123),Te=e(4204146482),Me=e(1318482837),Ue=e(9715838838),xe=e(7874250141),Ne=e(3297051565),be=e.n(Ne),ke=e(2573911482),Ke=e.n(ke),$=e(9323019934),ae=e(1636576652),Ge=e(3701660703);const nt=(0,T.Ay)("Clog when a URL is clicked and the URL is an external_url of a file",function(Le,Ie){let{clogLinkClick:we,url:ze,isRawLink:ut=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _t=Ie();if(!(0,ae.A)(ze))return;const Ot={is_raw_link:ut,item_type:"link",url_hash_id:Ke()(ze),url_domain:(0,l.Ay)(ze).hostname},It=(0,Ge.TL)(_t,ze);if(It&&(Ot.item_type=It.id[0],Ot.item_id=It.id,(0,$.Vx)(It)&&(Ot.contexts={ui_context:{action:"open",ui_component:"remote_file"}}),(0,$.ge)(It)&&(Ot.contexts={link_action:"file_viewer_external_link"},It.external_type==="gdrive"))){const kt=It.mimetype&&It.mimetype.indexOf("image/")!==-1;Ot.contexts.platform={service_type:"GSUITE",app_id:9,has_rich_preview:It.has_rich_preview&&!kt}}we(Ot)});nt.meta={name:"createThunk",key:"createThunkclogUrls",description:"Clog when a URL is clicked and the URL is an external_url of a file"},nt.propTypes={clogLinkClick:be().func.isRequired,url:be().string.isRequired};const at=nt;var Ve=e(2790126290),Se=e(5021567889),Pe=e(9132422875),Fe=e(293248343);function ge(){return ge=Object.assign||function(Le){for(var Ie=1;Ie<arguments.length;Ie++){var we=arguments[Ie];for(var ze in we)Object.prototype.hasOwnProperty.call(we,ze)&&(Le[ze]=we[ze])}return Le},ge.apply(this,arguments)}h(ge,"connected_external_link_extends");const He=h(Le=>{let{onClick:Ie,href:we,target:ze,maybeOpenSuspiciousLinkDialog:ut,clogLinkClick:_t,alwaysPerformDefaultOnClickBehavior:yt=!1,children:Ot,hermesLinkTriggerUIContext:It,isFromAppHome:kt=!1,refToForward:gt,...Gt}=Le;const Pt=(0,s.wA)(),jt=(0,Q.d4)(Nt=>(0,R._J)(Nt,(0,a.ss)(Nt)?(0,Ve.gc)(Nt):(0,xe.ZT)(Nt))),{getSiblingView:Qt}=(0,t.useContext)(J.A),Jt=(0,Q.d4)(Nt=>{var sn;return(sn=Qt(Nt,{container:j.mq.Primary}))===null||sn===void 0?void 0:sn.id});let Yt=(0,me.A)()&&we.startsWith("/")?(0,x.Zl)(jt,we):we;const Rt=(0,l.Ay)(Yt),Bt=(0,Q.d4)(Nt=>(0,Ee.XN)(Nt,Rt)),dn=(Bt==null?void 0:Bt.type)===Ee.im.CHANNEL_CANVAS?Bt==null?void 0:Bt.channelId:(0,Te.rk)(Rt),Mt=(0,Q.d4)(Nt=>dn&&(0,ie.A)(dn)?(0,d.OL)(Nt,dn):void 0),Ye=Mt&&(0,k.t8)(Mt),ot=Mt&&(0,k.QR)(Mt),ht=(0,Q.d4)(Nt=>{if(Bt&&(Bt==null?void 0:Bt.type)===Ee.im.MESSAGE&&(Bt!=null&&Bt.channelId)&&(Bt!=null&&Bt.ts)){const sn=(0,Pe.Ld)(Nt,Bt==null?void 0:Bt.channelId,Bt==null?void 0:Bt.ts);if(!(0,ce.ow)(sn)&&(0,ce.xh)(sn))return!0}return!1}),tt=(0,Q.d4)(Nt=>{if(Ye||ot){const sn=Rt.host;return(0,Se.dp)(Nt).some(en=>en.team_url.includes(sn))}return!1}),ct=(0,Q.d4)(Nt=>Mt?(0,fe.I)(Nt,Mt):!1),rn=Rt&&Rt.pathname,ln=Rt&&Rt.hostname;((0,o.A)(rn,"/files/")&&(0,Ue.A)(ln)||(0,o.A)(rn,"/docs/")&&(0,Me.D)(Rt))&&(Yt=(0,i.M6)(Yt,"origin_team",jt.id),Jt&&(Yt=(0,i.M6)(Yt,"origin_channel",Jt)));const on=(0,Q.d4)(Nt=>(0,Fe.ty)(Nt,"underline_links")),G=(0,t.useCallback)(Nt=>{if(_t&&Pt(at({clogLinkClick:_t,url:Yt,isRawLink:(0,c.A)(Yt,Ot)})),Ie&&(Ie(Nt),!yt)){Nt.defaultPrevented||(0,pe.A)(Yt,jt,Nt,ze);return}if(!(0,pe.A)(Yt,jt,Nt,ze)&&(ut&&ut(Nt),!Nt.defaultPrevented)){if((0,oe.Cz)(Nt)){Nt.preventDefault(),Pt((0,ee._J)({permalink:Yt,shouldOpenInTile:!0}));return}if(!(0,le.A)(Nt)&&Nt.button!==1){if((0,Ae.U)(Yt)&&(0,n.y3)()){Nt.preventDefault(),Nt.stopPropagation(),Pt((0,ee.HB)({uri:Yt,dangerouslyOverrideRouting:kt}));return}if(!tt&&(ot||ht)&&!ct){Pt((0,q.e)({url:Yt})),Nt.preventDefault(),Nt.stopPropagation();return}Pt((0,ee._J)({permalink:Yt,hermesLinkTriggerUIContext:It,dangerouslyOverrideRouting:kt,target:ze}))&&(Nt.preventDefault(),Nt.stopPropagation())}}},[yt,Ot,_t,Pt,It,Yt,kt,ht,ot,tt,ut,Ie,ze,jt,ct]),De=!!(on&&(Gt["data-stringify-link"]||Gt["data-qa"]==="message_attachment_title_link")),We=Yt==null?void 0:Yt.startsWith("mailto:"),it={href:Yt,target:ze,children:Ot,refToForward:gt,showUnderlineLink:De,onClick:G,...Gt};return We?t.createElement(Y.A.Consumer,null,Nt=>{let{channelId:sn}=Nt;return t.createElement(X,ge({},it,{channelId:sn}))}):t.createElement(b.A,ge({},it))},"ConnectedExternalLink");He.displayName="ConnectedExternalLink";const _e=t.forwardRef((Le,Ie)=>t.createElement(He,ge({},Le,{refToForward:Ie})))},1613725917:(B,A,e)=>{"use strict";e.d(A,{U:()=>s});const t=["slack://open","slack://room"],s=h(o=>o.startsWith("slack://")&&t.filter(n=>o.startsWith(n)).length===0,"shouldDeepLink")},4073687536:(B,A,e)=>{"use strict";e.d(A,{A:()=>s,r:()=>t.rY});var t=e(4323560298);const s=t.Ay},4323560298:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>d,HY:()=>i,rY:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9006442414);function c(){return c=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(m[E]=u[E])}return m},c.apply(this,arguments)}h(c,"_extends");var l;(function(m){m.transparent="transparent",m.black="black",m.red="red",m.white="white",m.blue="blue",m.minGray="min_gray",m.themed="themed"})(l||(l={}));var i;(function(m){m.pill="pill",m.circle="circle"})(i||(i={}));const a=h((m,f)=>m>f?`${f}+`:String(m),"getCountText"),r=h(m=>{let{className:f,count:u,maxCount:E=9,style:v=l.black,toolTipText:g="",shape:T=i.pill}=m;if(!u||u<0)return null;const p=g?n.Ay:t.Fragment,O=g?{tip:g}:{};return t.createElement(p,c({},O),t.createElement("span",{"aria-hidden":"true",className:o()(f,"c-mention_badge",{"c-mention_badge--max":u>E,"c-mention_badge--pill":T===i.pill,"c-mention_badge--circle":T===i.circle,"c-mention_badge--transparent":v===l.transparent,"c-mention_badge--black":v===l.black,"c-mention_badge--red":v===l.red,"c-mention_badge--white":v===l.white,"c-mention_badge--blue":v===l.blue,"c-mention_badge--min_gray":v===l.minGray,"c-mention_badge--themed":v===l.themed},g&&"c-mention_badge--default"),"data-qa":"mention_badge"},a(u,E)))},"MentionBadge");r.displayName="MentionBadge";const d=t.memo(r)},6216408461:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>i,Dr:()=>o.A,YJ:()=>t.YJ,a:()=>s.A,bX:()=>c.Ay,c$:()=>n.Ay,cQ:()=>l.A});var t=e(3017948512),s=e(295175106),o=e(1902569286),n=e(440074652),c=e(5844655864),l=e(6539956233);const i=t.Ay},295175106:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(9729010546),o=e(7089278202),n=e(3017948512),c=e(1902569286),l=e(440074652),i=e(5844655864),a=e(1755876516),r=e(7049210157);function d(){return d=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},d.apply(this,arguments)}h(d,"_extends");const f=(0,t.memo)(h(function u(E){let{template:v,...g}=E;const T=(0,t.useMemo)(()=>v.map((p,O)=>{if(!p)return null;if(p.type===a.A.separator)return t.createElement(i.Ay,d({},p,{key:p.key||`separator-${O}`}));if(p.type===a.A.header)return t.createElement(l.Ay,{key:p.key||`header-${O}`,label:p.label,className:p.className});if(p.type===a.A.loading)return t.createElement(o.A,{key:p.key||"loading",size:"large"});if(p.type===a.A.custom)return p.ariaHidden===!1&&!(0,s.A)()?p.children:t.createElement("div",{"aria-hidden":p.ariaHidden===!1?"false":"true",key:p.key,"data-qa":p.dataQa},p.children);const y={children:p.children,className:p.className,classNameListItem:p.classNameListItem,label:p.label,description:p.description,icon:p.icon,badgeCount:p.badgeCount,badgeLabel:p.badgeLabel,badgeClassName:p.badgeClassName,shortcut:p.shortcut,showEnter:p.showEnter,onSelected:p.click,target:p.target,href:p.href,download:p.download,danger:p.danger,type:p.type,"data-qa":p.dataQa,disabled:p.disabled,showOfflineIcon:p.showOfflineIcon,showLinkIndicatorIcon:p.showLinkIndicatorIcon,checked:p.checked,indeterminate:p.indeterminate,autoClogProps:p.autoClogProps,onMount:p.onMount,onUnmount:p.onUnmount,ariaDescribedBy:p.ariaDescribedBy,ariaRole:p.ariaRole,ariaLabel:p.ariaLabel},C=p.key||(typeof p.label=="string"?p.label:`generated-key-${O}`);if(p.type===a.A.submenu){var I;const M=(I=p.renderSubmenu)!==null&&I!==void 0?I:_=>t.createElement(u,d({template:p.template||p.submenu},_,{width:p.submenuWidth}));return t.createElement(r.A,d({},y,{label:p.label,renderSubmenu:M,key:C}))}return t.createElement(c.A,d({key:C},y))}),[v]);return t.createElement(n.Ay,d({},g),T)},"MenuFromTemplate1"))},440074652:(B,A,e)=>{"use strict";e.d(A,{$b:()=>d,Ay:()=>a,a6:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323);function c(){return c=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(m[E]=u[E])}return m},c.apply(this,arguments)}h(c,"_extends");const l="_isSlackMenuItemHeader";function i(m){let{for:f,label:u,className:E,onMouseEnter:v=n.A}=m;return t.createElement("div",c({},f&&{id:d(f)},{"aria-hidden":"true",className:o()("c-menu_item__header",E),onMouseEnter:v,"data-qa":"menu-item-header"}),u)}h(i,"MenuItemHeader"),i.displayName="MenuItemHeader",i[l]=!0;const a=i;function r(m){return!!(m!=null&&m[l])}h(r,"isMenuItemHeader");function d(m){return`${m}-label`}h(d,"getMenuItemHeaderIdForGroup")},1902569286:(B,A,e)=>{"use strict";e.d(A,{A:()=>y});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3078252698),c=e(7715417323),l=e(4616306996),i=e(3659369705),a=e(2947229296),r=e(3828212396),d=e(5181078482),m=e(6369345880),f=e(4323560298),u=e(1755876516),E=e(4952406787),v=e(5190921192);const g=new a.Ay("menu");function T(C){return!!C&&!(0,n.A)(C)&&"label"in C}h(T,"isMenuItemShortcutObjectType");let p=h(class extends t.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(I){var M,_,P,b,S,N;(_=(M=this.props).menuCallbackBefore)===null||_===void 0||_.call(M,I),(b=(P=this.props).onSelected)===null||b===void 0||b.call(P,I),(N=(S=this.props).menuCallback)===null||N===void 0||N.call(S,this.props.menuCallbackId||0,I)}determineMenuRole(){const{type:I,ariaRole:M}=this.props;if(M)return M;switch(I){case u.A.radio:return"menuitemradio";case u.A.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:I,badgeCount:M,badgeClassName:_,badgeVariant:P,highlighted:b}=this.props;return M?t.createElement(f.Ay,{count:M,style:b?f.rY.white:f.rY.red}):I?t.createElement(r.A,{className:_,variant:P},I):null}renderAdditionalIconMaybe(){const{additionalIcon:I}=this.props;return I?t.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},I):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.createElement(v.A,{name:"caret-right"}))}renderEnterMaybe(){const{showEnter:I,highlighted:M}=this.props;return!I||!M?null:t.createElement(m.A,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:I,checked:M,indeterminate:_}=this.props,P=I===u.A.radio||I===u.A.checkbox;return P&&_?t.createElement(m.A,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):P&&M?t.createElement("div",{className:"c-menu_item__checkmark"},t.createElement(v.A,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:I}=this.props;return I?t.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},I):null}renderLinkIconMaybe(){const{href:I,showLinkIndicatorIcon:M}=this.props;return M===!1||M!==!0&&!I?null:t.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.createElement(v.A,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:I}=this.props;if(!I)return null;if(T(I)){const{label:M}=I;return t.createElement("div",{className:"c-menu_item__shortcut"},M)}return t.createElement("div",{className:"c-menu_item__shortcut"},I)}render(){const{autoClogProps:I,children:M,className:_,classNameListItem:P,danger:b,link:S,description:N,disabled:L,showOfflineIcon:D,highlighted:k,label:x,onMouseEnter:R,onMouseLeave:U,href:F,target:W,download:w,type:K,withSubmenu:j,checked:Q,indeterminate:J,measureRef:z,ariaDescribedBy:ie,ariaLabelledBy:ee,ariaLabel:ne,disableHoverStyling:Z}=this.props,te=o()(_,"c-menu_item__button",{"c-menu_item__button--highlighted":k&&!L&&!Z,"c-menu_item__button--danger":b,"c-menu_item__button--link":S,"c-menu_item__button--disabled":L,"c-menu_item__button--with_submenu":j,"c-menu_item--button--subheader_child":K===u.A.subheaderChild,"c-menu_item__button--checked":(K===u.A.radio||K===u.A.checkbox)&&(Q||J),"c-menu_item--compact":K===u.A.compactItem}),he=o()(P,"c-menu_item__li",{"c-menu_item__li--highlighted":k&&!Z}),ue=o()(P,"c-menu_item__label",{"c-menu_item__label--with_description":N}),de=j?"true":void 0,re=N?t.createElement("div",{className:"c-menu_item__description"},N):"",V=this.props.activeMenuId,H=this.props.featureSubmenuRoleDescription?g.t("submenu"):void 0,X=(0,i.cX)()&&j?H:void 0;return t.createElement("div",{ref:z,className:he,onMouseEnter:R,onMouseLeave:U,"data-qa":`${this.props["data-qa"]}-wrapper`},t.createElement(d.Nm,{autoClogProps:{...I,elementType:l.R.MENU_ITEM},ref:this.buttonRef,id:V,className:te,disabled:L,onClick:this.onSelected,href:F,target:W,download:w,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:Q,"aria-checked":J?"mixed":Q,"aria-haspopup":de,tabIndex:-1,"aria-roledescription":X,"aria-describedby":ie,"aria-labelledby":ee,"aria-label":ne},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.createElement("div",{className:ue},x,typeof M=="function"?M({highlighted:k}):M,re),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),D&&t.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.createElement(m.A,{type:"cloud-offline-small"}))))}constructor(I){super(I),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.createRef()}},"MenuItem");p.defaultProps={children:void 0,highlighted:!1,onMouseEnter:c.A,onMouseLeave:c.A,onSelected:c.A,menuCallback:c.A,menuCallbackBefore:c.A,menuCallbackId:0,className:"",classNameListItem:"",label:"",description:"",danger:!1,link:!1,disabled:!1,showOfflineIcon:!1,href:void 0,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,badgeVariant:void 0,showEnter:!1,target:void 0,download:void 0,type:u.A.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:c.A,onUnmount:c.A,disableHoverStyling:!1},p.displayName="MenuItem";const O={MenuItem:p},y=(0,E.Ay)(p)},5844655864:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>l,Ex:()=>n,HP:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s);const n="_isSlackMenuSeparator";function c(a){let{className:r,noPadding:d,noPaddingAbove:m,noPaddingBelow:f,noFirstChild:u,noLastChild:E,dataQa:v="menu_separator__separator"}=a;const g=o()("c-menu_separator__li",{padding_0:d,padding_top_0:m,padding_bottom_0:f,"c-menu_separator__li--no_first_child":u,"c-menu_separator__li--no_last_child":E},r);return t.createElement("div",{className:g},t.createElement("hr",{className:"c-menu_separator__separator","data-qa":v}))}h(c,"MenuSeparator"),c.displayName="MenuSeparator",c[n]=!0;const l=c;function i(a){return!!(a!=null&&a[n])}h(i,"isMenuSeparator")},6539956233:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(605568209),o=e(1998042365);function n(){return n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(i[d]=r[d])}return i},n.apply(this,arguments)}h(n,"_extends");const c=h(i=>{const{renderMenu:a,onPopoverOpen:r,onPopoverClose:d,isDisabled:m=!1,closeOnSelect:f=!0,noPopupVersion:u=!1,onTriggerClose:E,onMenuItemSelected:v,onMenuKeyDown:g,...T}=i,p=h(()=>{r&&r()},"onOpenProp"),O=h(C=>{const{onClose:I,...M}=C,_=h((L,D)=>{I&&I(L),d&&d(L)},"onCloseProp"),P=h(L=>{I&&I(L),E&&E(L)},"onTriggerClose"),b=h((L,D)=>{f&&(I&&I(D),d&&d(D)),v&&v(L,D)},"onMenuItemSelected"),S=typeof i.children=="function"?i.children(s.t0):i.children,N=a({...C,children:S,onTriggerClose:P,onMenuItemSelected:b,onMenuKeyDown:g});return N?t.createElement(o.AM,n({useRestoreFocus:!0,shouldFade:!1,ariaHideApp:!1,onClose:_,onOpen:p},M),N):!1},"renderPopover");if(O.displayName="renderPopover",m)return typeof i.children=="function"?i.children(s.t0):i.children;const y=i.isContextMenu?s.t0:{...T.triggerProps,"aria-haspopup":u?void 0:"menu"};return t.createElement(o.Wv,n({},T,{triggerProps:y,renderPopover:O}),i.children)},"MenuTrigger");c.displayName="MenuTrigger";const l=c},1755876516:(B,A,e)=>{"use strict";e.d(A,{A:()=>s,y:()=>t});const t={default:"default",compactItem:"compact_item",separator:"separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"},s=t},3017948512:(B,A,e)=>{"use strict";e.d(A,{Vf:()=>k,Ay:()=>x,YJ:()=>L});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3078252698),c=e(9746734072),l=e(8424846741),i=e(7715417323),a=e(4616306996),r=e(1739415438),d=e(481313997);function m(R){return t.isValidElement(R)&&"children"in R.props}h(m,"hasChildren");function f(R){return R!=null&&typeof R=="object"&&"type"in R&&R.type===t.Fragment}h(f,"isFragment");function u(R){return R instanceof Array?R.map(u):f(R)&&m(R)?u(R.props.children):R}h(u,"defragment");function E(R){return t.Children.toArray(u(R))}h(E,"flattenChildren");var v=e(4262473691);const g=h(R=>{let{"aria-labelledby":U,"aria-owns":F}=R;return F?t.createElement("div",{className:"offscreen",role:"group","aria-owns":F,"aria-labelledby":U}):null},"MenuItemGroup");g.displayName="MenuItemGroup";const T=g;var p=e(440074652),O=e(5844655864),y=e(4952406787),C=e(7049210157),I=e(2691514942);function M(){return M=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var F=arguments[U];for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(R[W]=F[W])}return R},M.apply(this,arguments)}h(M,"_extends");function _(R){const U=R&&R.type;return!!U&&(0,y.l0)(U)}h(_,"isMenuItem");function P(R){const U=R&&R.type;return!!U&&(0,C.e)(U)}h(P,"isSubmenu");function b(R){const U=R&&R.type;return U&&(0,O.HP)(U)}h(b,"isSeparator");function S(R){const U=R&&R.type;return U&&(0,p.a6)(U)}h(S,"isMenuItemHeader");let N=0;function L(){return N>0}h(L,"isMenuVisible");const D={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"," ":"select",Home:"selectfirst",End:"selectlast"};let k=h(class extends t.Component{componentDidMount(){this.focus(),N+=1}componentDidUpdate(U){this.props.kbNavActive&&!U.kbNavActive&&this.activateKBNav()}componentWillUnmount(){N-=1,this.props.onUnmount&&this.props.onUnmount()}menuItemHtmlId(U){return`${this.activeMenuId}-${U}`}onMenuNavigation(U){const F=this.getIndexOfNextMenuItemInDirection(U);this.setState(()=>({highlightedMenuItemIndex:F,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(U){const F=this.state.highlightCanChangeOnMouseMovement?U:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:F,contingentHighlightedMenuItemIndex:U,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var W;(W=this.ariaMenuNode)===null||W===void 0||W.focus()}}getAllMenuItemIndices(){const U=[];return E(this.props.children).filter(t.isValidElement).forEach((F,W)=>{var w;!((w=this.ariaMenuNode)===null||w===void 0)&&w.querySelector(`#${this.menuItemHtmlId(W)}`)&&(_(F)||P(F))&&U.push(W)}),U}getIndexOfNextMenuItemInDirection(U){const F=this.getAllMenuItemIndices(),W=F.indexOf(this.state.highlightedMenuItemIndex),w=F.length-1;if(U==="selectnext"){const j=W<w?W+1:0;return F[j]}const K=W-1>=0?W-1:w;return F[K]}getSelectedMenuItem(){const{highlightedMenuItemIndex:U}=this.state;if(!(U<0)&&this.menuChildren)return this.menuChildren[U]}focus(){const{kbNavActive:U,isSubmenu:F}=this.props;if(!U)return;if(!F){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const W=this.getAllMenuItemIndices();if(!W.length){var w;(w=this.ariaMenuNode)===null||w===void 0||w.focus();return}this.setState(()=>({highlightedMenuItemIndex:W[0]}),()=>{var K;(K=this.ariaMenuNode)===null||K===void 0||K.focus()})}registerKeyboardShortcutForMenuItem(U,F){if(!U||!F)return;const{label:W,key:w}=U;(0,n.A)(W)&&((0,n.A)(w)||(0,c.A)(w))&&(0,l.A)(w).forEach(K=>{this.keyboardShortcutsMap[K]=F})}renderMenuItem(U,F){const W=this.onMouseEnterMenuItem.bind(this,F),{highlightedMenuItemIndex:w,highlightedMenuItemKbNavActive:K,isKeyboardHighlight:j}=this.state,{onMenuItemSelectedBefore:Q,stripTerminalSeparators:J}=this.props;S(U)&&U.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[U.props.for]={key:U.props.for,"aria-labelledby":(0,p.$b)(U.props.for),"aria-owns":[],index:F});const z={...U.props,onMouseEnter:W,key:F},ie=this.menuItemHtmlId(F),{shortcut:ee}=U.props;if(ee&&this.registerKeyboardShortcutForMenuItem(ee,ie),_(U)||P(U)){const he=w===F;if(z.activeMenuId=ie,he&&j){var ne,Z,te;(Z=(ne=this.ariaMenuNode)===null||ne===void 0?void 0:ne.querySelector(`#${z.activeMenuId}`))===null||Z===void 0||(te=Z.scrollIntoView)===null||te===void 0||te.call(Z)}z.menuCallbackBefore=Q,z.menuCallback=this.onMenuItemSelected,z.menuCallbackId||(z.menuCallbackId=F),z.highlighted=w===F,z.isKeyboardHighlight=z.highlighted&&j,z.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[z.group]||(this.menuGroups[z.group]={key:z.group,"aria-owns":[],index:F}),this.menuGroups[z.group]["aria-owns"].push(z.activeMenuId))}if(P(U)&&(z.isOpen=z.highlighted&&!j||z.highlighted&&K,z.kbNavActive=z.highlighted&&K,z.returnKBNav=this.activateKBNav,z.preventHighlightChange=this.preventHighlightChange,z.allowHighlightChange=this.allowHighlightChange),b(U)&&J)if(!this.menuChildren)(0,I.Wo)().warn("Menu.renderMenuItem called without this.menuChildren");else{const he=this.menuChildren[F-1];if(b(he))return null;z.noFirstChild=!0,z.noLastChild=!0}return t.cloneElement(U,z)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(U=>U["aria-owns"].length>0).map(U=>({group:t.createElement(T,{key:U.key,"aria-labelledby":U["aria-labelledby"],"aria-owns":U["aria-owns"].join(" ")}),index:U.index})).sort((U,F)=>F.index-U.index):[]}renderMenuItems(){this.menuChildren=E(this.props.children).filter(t.isValidElement);const U=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(W=>{let{group:w,index:K}=W;U.splice(K,0,w)}),U}renderMenu(){const{noMargin:U,menuClassNames:F,"data-qa":W,isUnstyled:w,styleMode:K}=this.props,j=o()("c-menu__items",{"c-menu__items--no_margin":U}),Q=this.state.highlightedMenuItemIndex!==-1?this.menuItemHtmlId(this.state.highlightedMenuItemIndex):null,J=o()({"c-menu":!w,"c-menu--alternate":K==="alternate"},F);return t.createElement("div",{className:J,"data-qa":W,style:{width:this.props.width}},t.createElement("div",{className:"c-menu__items_scroller"},t.createElement("div",{"aria-activedescendant":Q??void 0,ref:this.setAriaMenuRef,className:j,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const U=this.renderMenu(),{autoClogProps:F}=this.props;return F?t.createElement(d.A,M({elementType:a.R.MENU},F),U):U}constructor(U){super(U),this.activeMenuId=`menu-${(0,v.A)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.menuGroups={},this.onMenuItemSelected=(F,W)=>{this.props.onMenuItemSelected&&this.props.onMenuItemSelected(F,W)},this.onMenuKeyDown=F=>{var W;const{kbNavActive:w,onMenuKeyDown:K,onCloseSubmenu:j,onTriggerClose:Q,windowRef:J}=this.props;if(!w)return;const{key:z}=F,ie=D[z],ee=(W=this.keyboardShortcutsMap)===null||W===void 0?void 0:W[z],ne=this.getSelectedMenuItem(),Z=ne?P(ne):!1,te=this.getAllMenuItemIndices();(ie||ee)&&(F.stopPropagation(),F.preventDefault()),(ie==="selectnext"||ie==="selectprevious")&&this.onMenuNavigation(ie),ie==="closesubmenu"&&(j==null||j(F)),(ie==="select"||ie==="opensubmenu")&&Z&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),ie==="closemenu"&&(Q==null||Q(F)),ie==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:te[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),ie==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:te[te.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const he=this.menuItemHtmlId(this.state.highlightedMenuItemIndex);if(ie==="select"&&he&&!Z){var ue,de;(de=(ue=J.deref())===null||ue===void 0?void 0:ue.document.getElementById(he))===null||de===void 0||de.click(),Q==null||Q(F)}if(ee){var re,V;(V=(re=J.deref())===null||re===void 0?void 0:re.document.getElementById(ee))===null||V===void 0||V.click(),Q==null||Q(F)}K==null||K(F,{isCurrentItemSubmenu:Z,closeMenu:Q,selectedMenuItem:ne})},this.onMouseLeaveMenu=()=>{const F=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:F,contingentHighlightedMenuItemIndex:-1}))},this.setAriaMenuRef=F=>{this.ariaMenuNode=F},this.activateKBNav=()=>{var F;(F=this.ariaMenuNode)===null||F===void 0||F.focus(),this.setState(W=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:W.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):W.highlightedMenuItemIndex}))},this.allowHighlightChange=()=>{this.setState(F=>({highlightedMenuItemIndex:F.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()},this.preventHighlightChange=()=>{this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()},this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1}}},"Menu");k.defaultProps={menuClassNames:void 0,onMenuItemSelected:i.A,onMenuItemSelectedBefore:i.A,onTriggerClose:i.A,onCloseSubmenu:i.A,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:i.A,allowHighlightChange:i.A,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:i.A,onUnmount:i.A,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,styleMode:"default"},k.displayName="Menu";const x=(0,r.A)(k)},4952406787:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>o,KJ:()=>t,l0:()=>s});const t="_isSlackMenuItem";function s(n){return!!n&&n[t]===!0}h(s,"isMenuItem");function o(n){return n[t]=!0,n}h(o,"wrapMenuItem")},7561129348:(B,A,e)=>{"use strict";e.d(A,{j:()=>a,A:()=>d});var t=e(7313997791),s=e(6911391481),o=e(3134334389),n=e(2947229296),c=e(6109709956);const l=new n.Ay("generic_dialog"),i=(0,t.Wb)()?h(function(f){const u=(0,s.c)(11);let E,v;u[0]!==f?({onClick:E,...v}=f,u[0]=f,u[1]=E,u[2]=v):(E=u[1],v=u[2]);let g,T;u[3]===Symbol.for("react.memo_cache_sentinel")?(T={name:"caret-left-full"},u[3]=T):T=u[3],g=T;const p=g;let O;if(u[4]!==E||u[5]!==v){let y;u[7]===Symbol.for("react.memo_cache_sentinel")?(y=l.t("Back"),u[7]=y):y=u[7];const C=v["data-qa"];let I;u[8]!==E||u[9]!==C?(I={className:"c-multi_pane_modal__back",svgIconProps:p,onClick:E,"aria-label":y,"data-qa":C},u[8]=E,u[9]=C,u[10]=I):I=u[10],O=o.createElement(c.A,I),u[4]=E,u[5]=v,u[6]=O}else O=u[6];return O},"ModalBackButton"):h(function(f){let{onClick:u,...E}=f;const v=(0,o.useMemo)(()=>({name:"caret-left-full"}),[]);return o.createElement(c.A,{className:"c-multi_pane_modal__back",svgIconProps:v,onClick:u,"aria-label":l.t("Back"),"data-qa":E["data-qa"]})},"ModalBackButton");i.displayName="ModalBackButton";const a=o.memo(i);var r=e(4765395564);const d=r.A},4765395564:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9062511843),c=e(6711107392);function l(){return l=Object.assign||function(r){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(r[f]=m[f])}return r},l.apply(this,arguments)}h(l,"_extends");function i(r){let{defaultPane:d,panes:m,...f}=r;const u=(0,n.A)(),[E,v]=(0,t.useState)({pane:d}),g=(0,t.useCallback)((y,C)=>v({pane:y,props:C}),[]);var T;const{render:p,modalProps:O}=(T=m[E.pane])!==null&&T!==void 0?T:{};return p?t.createElement(c.A,l({},f,O,{className:o()(f.className,O==null?void 0:O.className,"c-multi_pane_modal")}),t.createElement(t.Fragment,{key:E.pane},p({...E.props,switchPane:g}))):(u.error("MULTI_PANE_MODAL",`Unknown pane "${E.pane}"`),null)}h(i,"MultiPaneModal"),i.displayName="MultiPaneModal";const a=i},9471233048:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3659369705),s=e(3107404647),o=e(6761585902),n=e(8829981938);let c=h(r=>{var d;if(!(0,t.y3)()||!(0,t.cX)())return{};const m=(0,n.mt)(r);return(m==null||(d=m.darwin)===null||d===void 0?void 0:d.showScrollBars)!=="Always"?{}:{alwaysVisible:!0}},"mapStateToProps");Object.defineProperty({mapStateToProps:c},"mapStateToProps",{get:()=>c,set:r=>{c=r}});const a=(0,o.N)(c,null,null,{forwardRef:!0})(s.A)},343912646:(B,A,e)=>{"use strict";e.d(A,{A:()=>U});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(3398586081),l=e(4616306996),i=e(5424607800),a=e(3889339349),r=e(4875826949),d=e(4491905764),m=e(768761048),f=e(3939784208),u=e(8747897103),E=e(45851552),v=e(5404505308),g=e(6696292586),T=e(1739415438),p=e(2947229296),O=e(6402989429),y=e(5190921192);function C(){return C=Object.assign||function(F){for(var W=1;W<arguments.length;W++){var w=arguments[W];for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&(F[K]=w[K])}return F},C.apply(this,arguments)}h(C,"_extends");const I=new p.Ay("select");let M=h(class extends t.Component{componentDidMount(){const{focusOnMount:W=!1}=this.props;W&&this.onClick()}onKeyDown(W){const{shiftKey:w,ctrlKey:K,metaKey:j,altKey:Q,key:J}=W;if(!(w||K||j)){if(J==="Escape"&&!Q){this.onEsc(W);return}if(J===" "&&!Q){this.onSpacebar(W);return}if(J==="Enter"&&!Q){this.onEnter(W);return}if(J==="ArrowUp"&&Q){this.onAltArrowUp(W);return}if(J==="ArrowUp"&&!Q){this.onArrowUp(W);return}if(J==="ArrowDown"){this.onArrowDown(W);return}if(J==="Home"&&!Q){this.onHome(W);return}if(J==="End"&&!Q){this.onEnd(W);return}J==="Tab"&&!Q&&this.onTab()}}onEsc(W){const{selectState:w,setSelectState:K}=this.props,{isExpanded:j}=w;j&&(W.stopPropagation(),K(()=>({activeRowIndex:void 0,activeOption:void 0,initialActiveOption:void 0,isExpanded:!1})))}onArrowUp(W){const{selectState:w,setSelectState:K}=this.props,{isExpanded:j,options:Q}=w;if(j)return;W.preventDefault(),W.stopPropagation(),this.updateOptionsListPosition();const J=(0,E.A)(Q,ie=>(0,O.oj)(ie),0),z=Q[J];K(()=>({initialActiveOption:z,isExpanded:!0}))}onAltArrowUp(W){const{selectState:w}=this.props,{isExpanded:K}=w;if(!K)return;const j=this.props.listRef.current;j&&(W.stopPropagation(),W.preventDefault(),j.onEnter(W))}onArrowDown(W){const{selectState:w,setSelectState:K}=this.props,{isExpanded:j}=w;j||(W.preventDefault(),W.stopPropagation(),this.updateOptionsListPosition(),K(()=>({isExpanded:!0})))}onHome(W){const{selectState:w,setSelectState:K}=this.props,{isExpanded:j,options:Q}=w;if(j)return;W.preventDefault(),W.stopPropagation(),this.updateOptionsListPosition();const J=(0,E.A)(Q,ie=>(0,O.oj)(ie),0),z=Q[J];K(()=>({initialActiveOption:z,isExpanded:!0}))}onEnd(W){const{selectState:w,setSelectState:K}=this.props,{isExpanded:j,options:Q}=w;if(j)return;W.preventDefault(),W.stopPropagation(),this.updateOptionsListPosition();const J=(0,v.A)(Q,ie=>(0,O.oj)(ie)),z=Q[J];K(()=>({initialActiveOption:z,isExpanded:!0}))}onEnter(W){const{selectState:w}=this.props,{isExpanded:K}=w;K||(W.stopPropagation(),this.onClick())}onSpacebar(W){const{selectState:w}=this.props,{isExpanded:K}=w;K||(W.preventDefault(),W.stopPropagation(),this.onClick())}onTab(){const{setSelectState:W}=this.props;W(()=>({isExpanded:!1}))}onClick(){const{onClick:W=n.A,setSelectState:w,selectState:K}=this.props;this.updateOptionsListPosition(),W&&W(),w(()=>({isExpanded:!K.isExpanded}))}updateOptionsListPosition(){const{selectState:W}=this.props,{isExpanded:w}=W;if(!w&&this.measurePopoverEvent){var K;(K=this.props.windowRef.deref())===null||K===void 0||K.dispatchEvent(this.measurePopoverEvent)}}renderContent(W){const{renderSelectedOption:w,selectState:K,textSelect:j=!1,textSelectLabel:Q=void 0,selectDataQa:J=void 0,placeholderText:z=void 0}=this.props,{selectedOption:ie}=K,ee=ie?w(ie):t.createElement("span",{className:"c-select_button__placeholder"},z||I.t("Please select an option")),ne=j&&Q?t.createElement("span",{className:"c-select_button--text-select-label"},Q):void 0;return t.createElement("div",{id:W,"data-qa":J?`${J}-button-content`:null,className:"c-select_button__content",role:"none"},ne,ee)}render(){const{ariaLabelledBy:W=void 0,ariaDescribedBy:w=void 0,ariaLabel:K=void 0,ariaControls:j=void 0,selectState:Q,size:J,width:z,textSelect:ie=!1,selectDataQa:ee=void 0,classPrefix:ne=void 0,onFocus:Z=n.A,onBlur:te=n.A,onMouseEnter:he=void 0,onMouseLeave:ue=void 0,refToForward:de}=this.props,{isDisabled:re,isExpanded:V,isInvalid:H,selectId:X,activeRowIndex:Y}=Q,q=o()("c-select_button",`c-select_button--${J}`,{"c-select_button--disabled":re,"c-select_button--expanded":V,"c-select_button--text-select":ie,"c-select_button--invalid":H,[`${ne}__select_button`]:ne}),fe=ie?{}:{width:z},ce=(0,m.Es)(X,"button"),Ee=`${ce}-option`,Ae=(0,g.A)(Y)&&V?(0,m.Es)(X,`option_${Y}`):void 0;return t.createElement("div",{tabIndex:0,className:q,style:fe,"data-qa":ee?`${ee}-button`:null,id:ce,ref:de,role:"combobox","aria-disabled":re?!0:void 0,"aria-labelledby":W,"aria-describedby":w,"aria-label":K,"aria-invalid":H,"aria-activedescendant":Ae,"aria-expanded":V,"aria-haspopup":"listbox","aria-controls":j,onFocus:Z,onBlur:te,onMouseEnter:he,onMouseLeave:ue,onClick:this.onClick,onKeyDown:this.onKeyDown},this.renderContent(Ee),t.createElement("div",{className:`c-select_button__icon c-select_button__icon--${J}`},t.createElement(y.A,{name:"caret-down",size:J===d.hu.SMALL?"inherit":"20"})))}constructor(W){super(W),(0,a.v)(this,["updateOptionsListPosition","onKeyDown","onClick"]);const{measurePopoverEventName:w=null}=this.props;w&&(this.measurePopoverEvent=new Event(w))}},"SelectButton");M.displayName="SelectButton";const _=(0,T.A)(M),P=t.forwardRef((F,W)=>t.createElement(_,C({},F,{refToForward:W})));var b=e(8432080373),S=e(4632311331);function N(){return N=Object.assign||function(F){for(var W=1;W<arguments.length;W++){var w=arguments[W];for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&(F[K]=w[K])}return F},N.apply(this,arguments)}h(N,"basic_select_extends");const L=10,D={onOptionSelected:{action:l.l.SELECT}},k=h(F=>F.map(W=>{let{id:w}=W;return w}),"getIdsFromHintOrErrors");let x=h(class extends t.Component{onHome(W){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(W)))return;const{isExpanded:K}=this.props.selectState;K&&W.preventDefault(),w.movePrevious(0)}onEnd(W){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(W)))return;const{isExpanded:K}=this.props.selectState;K&&W.preventDefault();const j=w.getOptionsList();if(!j)return;const Q=j.length-1;w.moveNext(Q)}onPageUp(W){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(W)))return;const{isExpanded:K,activeRowIndex:j}=this.props.selectState;K&&W.preventDefault();const Q=j?Math.floor(j/L):0,J=Q>1?(Q-1)*L:0;w.movePrevious(J)}onPageDown(W){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(W)))return;const{activeRowIndex:K,isExpanded:j}=this.props.selectState;j&&W.preventDefault();const Q=w.getOptionsList();if(!Q)return;const J=Q.length,z=Math.ceil(J/L),ie=K?Math.floor(K/L):0,ee=ie===z-1?J-1:(ie+1)*L;w.moveNext(ee)}renderOptionsList(){const{ariaLabel:W,onOptionSelected:w,onOptionsListClose:K,renderOption:j,resultsInPopover:Q,overlayClassName:J,listClassName:z,selectState:ie,setSelectState:ee,width:ne,classPrefix:Z,minOptionsListWidth:te,optionsRowHeight:he,maxListHeight:ue,onScrollablePage:de,dynamicHeight:re,forceMaxHeight:V,includePadding:H,includeDividers:X,preventScroll:Y,autoClogProps:q}=this.props,{isDisabled:fe}=ie;if(fe)return null;const ce=Q?t.createElement(b.A,{selectOptionsListRef:this.listRef,className:z,selectState:ie,setSelectState:ee,renderOption:j,ariaLabel:W,onOptionSelected:w,onOptionsListClose:K,width:ne,inputRef:this.triggerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:Z,selectDataQa:this.fallbackDataQa,minOptionsListWidth:te,optionsRowHeight:he,popoverProps:J?{overlayClassName:J}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:ue,onScrollablePage:de,dynamicHeight:re,forceMaxHeight:V,includePadding:H,includeDividers:X,preventScroll:Y,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0}):t.createElement(O.Ay,{ref:this.listRef,className:z,selectState:ie,setSelectState:ee,renderOption:j,ariaLabel:W,onOptionSelected:w,onOptionsListClose:K,width:ne,inputRef:this.triggerRef,classPrefix:Z,selectDataQa:this.fallbackDataQa,optionsRowHeight:he,maxListHeight:ue,shouldAlwaysHaveActiveRow:!0,dynamicHeight:re,forceMaxHeight:V,includePadding:H,includeDividers:X,preventScroll:Y,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0});return q?t.createElement(i.A,{autoClogProps:q,actionProps:D,elementType:l.R.DROPDOWN},ce):ce}render(){const{resultsInPopover:W,selectState:w,setSelectState:K,className:j,textSelect:Q,textSelectLabel:J,focusOnMount:z,onFocus:ie,onBlur:ee,ariaLabel:ne,ariaLabelledBy:Z,ariaDescribedBy:te,buttonRef:he,errors:ue,hints:de,size:re,renderSelectedOption:V}=this.props,{isExpanded:H,isInvalid:X,selectId:Y}=w,q=(0,S.A)(ue),fe=(0,S.A)(de);let ce;ue&&(ce=q?k(ue):void 0);let Ee;de&&(Ee=fe?k(de):void 0);const Ae=(0,m.Yk)([te,ce,Ee]);return t.createElement("div",{className:o()(j,"c-basic-select"),"data-qa":this.fallbackDataQa},t.createElement(P,N({},this.props,{size:re,renderSelectedOption:V,selectDataQa:this.fallbackDataQa,selectState:w,setSelectState:K,measurePopoverEventName:W?this.measurePopoverEventName:void 0,textSelect:Q,textSelectLabel:J,focusOnMount:z,onFocus:ie,onBlur:ee,ariaLabel:ne,ariaLabelledBy:Z,ariaDescribedBy:Ae,"aria-invalid":X},H?{ariaControls:(0,m.Es)(Y,"listbox")}:{},{ref:(0,r.P)(this.triggerRef,he),listRef:this.listRef})),q&&ue&&t.createElement(u.A,{errors:ue}),fe&&de&&de.map(oe=>{let{id:me,message:pe}=oe;return t.createElement(f.A,{key:me,id:me},pe)}),this.renderOptionsList())}constructor(W){super(W),(0,a.v)(this,["renderOptionsList","onHome","onEnd","onPageUp","onPageDown"]),this.triggerRef=t.createRef(),this.listRef=t.createRef();const{selectId:w}=W.selectState;this.measurePopoverEventName=`measureSelectPopover--${w}`,this.fallbackDataQa=W.selectDataQa||w,this.keyCommandShortcuts=[{keys:["home"],handler:this.onHome},{keys:["end"],handler:this.onEnd},{keys:["pageup"],handler:this.onPageUp},{keys:["pagedown"],handler:this.onPageDown}]}},"ControlledBasicSelect");x.defaultProps={renderOption:F=>F.label,renderSelectedOption:F=>F.label,size:d.hu.MEDIUM,width:225,optionsRowHeight:d.bJ,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:n.A,onOptionSelected:n.A,onOptionsListClose:n.A,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onFocus:n.A,onBlur:n.A,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0},x.displayName="ControlledBasicSelect";let R=h(class extends t.Component{static getDerivedStateFromProps(W,w){const{selectedOption:K}=W,{selectedOption:j}=w;return!j||K!==void 0&&K!==j?{selectedOption:K}:null}setSelectState(W,w){return this.setState(W,w)}render(){const{isDisabled:W,isInvalid:w,isRequired:K,errors:j}=this.props,Q=w||(0,S.A)(j),J=(0,c.A)(()=>({...this.state,isDisabled:W,isInvalid:Q,isRequired:K}));return t.createElement(x,N({},this.props,{selectState:J(),setSelectState:this.setSelectState}))}constructor(W){super(W),this.state={activeRowIndex:void 0,isDisabled:W.isDisabled,isExpanded:W.isExpanded,isInvalid:W.isInvalid,isRequired:W.isRequired,options:W.options,selectId:W.selectId,selectedOption:W.selectedOption,selectType:d.US.BASIC},(0,a.v)(this,["setSelectState"])}},"BasicSelect");R.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:n.A,onOptionsListClose:n.A,selectedOption:void 0,selectId:`basic-select-${(0,m.r9)()}`,maxListHeight:void 0,autoClogProps:void 0},R.displayName="BasicSelect";const U=R},2230899950:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>c,HH:()=>o.A,P2:()=>n.A,Z1:()=>s.A});var t=e(343912646),s=e(4235464328),o=e(9658990850),n=e(2266139340);const c=t.A},9217109404:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>P,Gn:()=>b,xn:()=>S,yW:()=>M});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(3398586081),l=e(4616306996),i=e(5424607800),a=e(3889339349),r=e(4491905764),d=e(768761048),m=e(3939784208),f=e(8747897103),u=e(2696476210),E=e(6402989429),v=e(8432080373),g=e(7073323626),T=e(3182130836),p=e(4632311331),O=e(1067385359);function y(){return y=Object.assign||function(N){for(var L=1;L<arguments.length;L++){var D=arguments[L];for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(N[k]=D[k])}return N},y.apply(this,arguments)}h(y,"_extends");const C={onOptionSelected:{action:l.l.SELECT}},I=h(N=>N.map(L=>{let{id:D}=L;return D}),"getIdsFromHintOrErrors");let M=h(class extends t.Component{renderOptionsList(L){var D;const{selectState:k,setSelectState:x,renderOption:R,emptyStateMessage:U,enableLoadingState:F,width:W,maxOptionsListHeight:w,minOptionsListWidth:K,inputRef:j,resultsInPopover:Q,includeWrapper:J,isLoading:z,classPrefix:ie,optionsRowHeight:ee,onOptionsListOpen:ne,onOptionsListClose:Z,overlayClassName:te,onScrollablePage:he,onOptionSelected:ue,shouldOptionBeSelected:de,shouldTokenizeOnComma:re,shouldTokenizeOnSpace:V,autoClogProps:H,dynamicHeight:X,shouldAllowUnselectInMultiSelectMode:Y,stayExpandedAfterSelection:q,optionsListFooterBannerContent:fe,offsetY:ce,offsetX:Ee}=this.props,{isDisabled:Ae,loadInBackground:le}=k;if(Ae)return null;const oe={key:`${k.selectId}-popover`};te&&(oe.overlayClassName=te),ce&&(oe.offsetY=ce);const me=(D=this.additionalInfoContainerRef)===null||D===void 0?void 0:D.current;L&&me&&(oe.offsetY=-me.offsetHeight),Ee&&(oe.offsetX=Ee);const pe=Q?t.createElement(v.A,{selectState:k,setSelectState:x,renderOption:R,emptyStateMessage:U,enableLoadingState:F,width:W,maxListHeight:w,multiSelectMode:!0,inputRef:j,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:z&&!le,classPrefix:ie,selectDataQa:this.fallbackDataQa,optionsRowHeight:ee,onOpen:ne,onOptionsListClose:Z,popoverProps:oe,onScrollablePage:he,onOptionSelected:ue,shouldOptionBeSelected:de,shouldTokenizeOnComma:re,shouldTokenizeOnSpace:V,autoClogProps:H,dynamicHeight:X,shouldAllowUnselectInMultiSelectMode:Y,stayExpandedAfterSelection:q,footerBannerContent:fe,minOptionsListWidth:K,includeWrapper:J}):t.createElement(E.Ay,{selectState:k,setSelectState:x,renderOption:R,emptyStateMessage:U,enableLoadingState:F,width:W,maxListHeight:w,multiSelectMode:!0,classPrefix:ie,selectDataQa:this.fallbackDataQa,optionsRowHeight:ee,onOptionsListClose:Z,onOptionSelected:ue,shouldOptionBeSelected:de,shouldTokenizeOnComma:re,shouldTokenizeOnSpace:V,dynamicHeight:X,footerBannerContent:fe,includeWrapper:J});return H?t.createElement(i.A,{elementType:l.R.DROPDOWN,actionProps:C,autoClogProps:H},pe):pe}render(){const{selectState:L,setSelectState:D,inputRef:k,maxHeight:x,placeholderText:R,size:U,width:F,isLoading:W,focusOnMount:w,resultsInPopover:K,onSelectedItemsChange:j,onKeyDown:Q,onKeyUp:J,className:z,classPrefix:ie,onFilterQueryChange:ee,onFilterQueryPaste:ne,processOptions:Z,onBlur:te,onOptionsListClosedBlur:he,onOptionsListClose:ue,expandOnFocus:de,ariaLabel:re,ariaLabelledBy:V,ariaDescribedBy:H,onTokenSelect:X,onInputFocused:Y,forceRealName:q,autoClogProps:fe,errors:ce,hints:Ee,disableIdParsing:Ae,customizeTokenProps:le,iconType:oe,isTokenEditable:me,ignoreSelectAllTokensAfterMount:pe,disableCloseOnTab:Te,throttleForceRenderSelectContainer:Me,forceRenderSelectContainerThrottleRate:Ue,allowFileToken:xe}=this.props;let Ne;ce&&(Ne=(0,p.A)(ce));let be;Ee&&(be=(0,p.A)(Ee));let ke;ce&&(ke=Ne?I(ce):void 0);let Ke;Ee&&(Ke=be?I(Ee):void 0);const $=(0,d.Yk)([H,ke,Ke]),ae=!!(Ne&&ce||be&&Ee);return t.createElement("div",{className:o()(z,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(u.A,{selectState:L,setSelectState:D,size:U,width:F,maxHeight:x,placeholderText:R,isLoading:W,inputRef:k,focusOnMount:w,measurePopoverEventName:K&&this.measurePopoverEventName,onSelectedItemsChange:j,selectDataQa:this.fallbackDataQa,onKeyDown:Q,onKeyUp:J,classPrefix:ie,onFilterQueryChange:ee,onFilterQueryPaste:ne,processOptions:Z,onBlur:te,onOptionsListClosedBlur:he,onOptionsListClose:ue,expandOnFocus:de,ariaLabel:re,ariaLabelledBy:V,ariaDescribedBy:$,onTokenSelect:X,onInputFocused:Y,forceRealName:q,autoClogProps:fe,customizeTokenProps:le,iconType:oe,disableIdParsing:Ae,isTokenEditable:me,ignoreSelectAllTokensAfterMount:pe,disableCloseOnTab:Te,throttleForceRenderSelectContainer:Me,forceRenderSelectContainerThrottleRate:Ue,allowFileToken:xe}),t.createElement("div",{className:"flow_root",ref:this.additionalInfoContainerRef},Ne&&ce&&t.createElement(f.A,{errors:ce}),be&&Ee&&Ee.map(Ge=>{let{id:nt,message:at,className:Ve}=Ge;return t.createElement(m.A,{key:nt,id:nt,className:Ve},at)})),this.renderOptionsList(ae))}constructor(L){super(L),(0,a.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef(),this.additionalInfoContainerRef=t.createRef();const{selectId:D}=L.selectState;this.measurePopoverEventName=`measureSelectPopover--${D}`,this.fallbackDataQa=L.selectDataQa||D}},"ControlledMultiSelect");M.defaultProps={renderOption:N=>N.label,size:r.hu.MEDIUM,width:300,optionsRowHeight:r.bJ,maxHeight:void 0,maxOptionsListHeight:void 0,minOptionsListWidth:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:n.A,onKeyDown:n.A,onKeyUp:n.A,className:void 0,classPrefix:void 0,onFilterQueryChange:n.A,onFilterQueryPaste:n.A,processOptions:n.A,onBlur:n.A,onOptionsListClosedBlur:n.A,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:n.A,onInputFocused:n.A,forceRealName:void 0,onOptionsListOpen:n.A,onOptionsListClose:n.A,onScrollablePage:!1,onOptionSelected:n.A,shouldOptionBeSelected:n.A,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0},M.displayName="ControlledMultiSelect";let _=h(class extends t.Component{setSelectState(L,D){this.setState(k=>{let x=L();const{filter:R,options:U}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==k.filterQuery&&R&&(x=R(U,x)),x},D)}render(){const{isDisabled:L,isInvalid:D,isRequired:k,customControlledMultiSelectComponent:x,errors:R}=this.props,U=D||(0,p.A)(R),F=x??M,W=(0,c.A)(()=>({...this.state,isDisabled:L,isInvalid:U,isRequired:k}));return t.createElement(F,y({},this.props,{selectState:W(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(L){super(L),this.state={filterQuery:"",options:L.options,isDisabled:L.isDisabled,isExpanded:L.isExpanded,isInvalid:L.isInvalid,isRequired:L.isRequired,selectId:L.selectId,selectedOptions:L.selectedOptions||[],shouldRefocusInputAfterSelection:!!L.showConfirmDialog,selectedTokenIndexes:L.selectedTokenIndexes||[]},this.inputRef=t.createRef(),(0,a.v)(this,["setSelectState"])}},"MultiSelect");_.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:O.k,selectId:`multi-select-${(0,d.r9)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]},_.displayName="MultiSelect";const P=_,b=(0,g.A)(M),S=(0,T.A)(M)},9430324073:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>b,Fw:()=>_,JJ:()=>M,mH:()=>S});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(3398586081),l=e(4616306996),i=e(5424607800),a=e(3889339349),r=e(4491905764),d=e(768761048),m=e(3939784208),f=e(8747897103),u=e(7539913210),E=e(6402989429),v=e(8432080373),g=e(7073323626),T=e(3182130836),p=e(4632311331),O=e(1067385359);function y(){return y=Object.assign||function(N){for(var L=1;L<arguments.length;L++){var D=arguments[L];for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(N[k]=D[k])}return N},y.apply(this,arguments)}h(y,"_extends");const C={onOptionSelected:{action:l.l.SELECT}},I=h(N=>N.map(L=>{let{id:D}=L;return D}),"getIdsFromHintOrErrors");let M=h(class extends t.Component{maybeRenderOptionsList(){const{selectState:L,setSelectState:D,renderOption:k,width:x,inputRef:R,ariaLabel:U,resultsInPopover:F,overlayClassName:W,offsetY:w,offsetX:K,onOptionSelected:j,className:Q,classPrefix:J,optionsRowHeight:z,onOpen:ie,emptyStateMessage:ee,minOptionsListWidth:ne,maxOptionsListHeight:Z,isLoading:te,onOptionsListClose:he,onScrollablePage:ue,enableLoadingState:de,autoClogProps:re,shouldAllowUnselectInSingleSelectMode:V,shouldOptionBeSelected:H,optionsListFooterBannerContent:X,includeWrapper:Y=!0}=this.props;if(F&&(!this.props.inputRef||!this.props.inputRef.current))return null;const q={key:`${L.selectId}-popover`};W&&(q.overlayClassName=W),w&&(q.offsetY=w),K&&(q.offsetX=K);const fe=F?t.createElement(v.A,{selectState:L,setSelectState:D,renderOption:k,width:x,inputRef:R,ariaLabel:U,onOptionSelected:j,popoverProps:q,measurePopoverEventName:this.measurePopoverEventName,className:Q,classPrefix:J,selectDataQa:this.fallbackDataQa,optionsRowHeight:z,onOpen:ie,emptyStateMessage:ee,minOptionsListWidth:ne,maxListHeight:Z,isLoading:te,onOptionsListClose:he,onScrollablePage:ue,enableLoadingState:de,autoClogProps:re,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:V,shouldOptionBeSelected:H,footerBannerContent:X,includeWrapper:Y}):t.createElement(E.Ay,{selectState:L,setSelectState:D,renderOption:k,width:x,inputRef:R,ariaLabel:U,onOptionSelected:j,classPrefix:J,selectDataQa:this.fallbackDataQa,emptyStateMessage:ee,maxListHeight:Z,optionsRowHeight:z,onOptionsListClose:he,enableLoadingState:de,shouldAllowUnselectInSingleSelectMode:V,shouldOptionBeSelected:H,footerBannerContent:X,includeWrapper:Y});return t.createElement(i.A,{elementType:l.R.DROPDOWN,actionProps:C,autoClogProps:re},fe)}render(){const{renderSelectedOption:L,className:D,classPrefix:k,placeholderText:x,size:R,width:U,selectState:F,setSelectState:W,inputRef:w,focusOnMount:K,showDropdownIcon:j,isLoading:Q,resultsInPopover:J,isDisabled:z,isRequired:ie,onFocus:ee,onEsc:ne,ariaLabelledBy:Z,ariaDescribedBy:te,inputIcon:he,maxCharacterLimit:ue,onOptionsListClose:de,ariaLabel:re,expandOnClick:V,searchOnClick:H,autoClogProps:X,errors:Y,hints:q,expandOnFocus:fe,hideSelectedOptionOnDropdownOpen:ce,retainPreviousSelectionOnDelete:Ee}=this.props,{isInvalid:Ae}=F,le=(0,p.A)(Y),oe=(0,p.A)(q);let me;Y&&(me=le?I(Y):void 0);let pe;q&&(pe=oe?I(q):void 0);const Te=(0,d.Yk)([te,me,pe]),Me=Ae||le;return t.createElement("div",{className:o()(D,"c-search-select"),"data-qa":this.fallbackDataQa},t.createElement(u.Ay,{selectState:{...F,isInvalid:Me,isRequired:ie,isDisabled:z},setSelectState:W,renderSelectedOption:L,placeholderText:x,size:R,width:U,selectDataQa:this.fallbackDataQa,inputRef:w,focusOnMount:K,showDropdownIcon:j,isLoading:Q,resultsInPopover:J,measurePopoverEventName:J?this.measurePopoverEventName:void 0,classPrefix:k,onBlur:this.onBlur,onFocus:ee,onEsc:ne,"aria-label":re,ariaLabelledBy:Z,ariaDescribedBy:Te,icon:he,maxCharacterLimit:ue,onOptionsListClose:de,expandOnClick:V,autoClogProps:X,searchOnClick:H,expandOnFocus:fe,hideSelectedOptionOnDropdownOpen:ce,retainPreviousSelectionOnDelete:Ee}),le&&Y&&t.createElement(f.A,{errors:Y}),oe&&q&&q.map(Ue=>{let{id:xe,message:Ne,className:be}=Ue;return Ne&&t.createElement(m.A,{key:xe,id:xe,className:be},Ne)}),this.maybeRenderOptionsList())}constructor(L){super(L),this.onBlur=k=>{if(this.dropdownContainer){const x=this.dropdownContainer.current;if(x&&x.contains(k.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(k)};const{selectId:D}=L.selectState;this.measurePopoverEventName=`measureSelectPopover--${D}`,this.fallbackDataQa=L.selectDataQa||D,this.dropdownContainer=t.createRef()}},"ControlledSearchSelect");M.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:N=>N.label,renderSelectedOption:N=>N.label,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,size:r.hu.MEDIUM,width:360,optionsRowHeight:r.bJ,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:n.A,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:n.A,onFocus:n.A,onEsc:n.A,onOpen:n.A,onOptionsListClose:n.A,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:n.A,isInvalidStateControlled:!1,shouldRefocusInputAfterSelection:void 0},M.displayName="ControlledSearchSelect";const _=(0,g.A)(M);let P=h(class extends t.Component{setSelectState(L,D){this.setState(k=>{let x=L();const{filter:R,options:U}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==k.filterQuery&&R&&(x=R(U,x)),x},D)}render(){const{isRequired:L,isInvalid:D,isDisabled:k,showConfirmDialog:x}=this.props,R=x?_:M,U=(0,c.A)(()=>({...this.state,isInvalid:D,isRequired:L,isDisabled:k}));return t.createElement(R,y({},this.props,{selectState:U(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(L){super(L),this.state={filterQuery:"",displayQuery:"",options:L.options,selectId:L.selectId,isExpanded:L.isExpanded,isInvalid:L.isInvalid,isDisabled:L.isDisabled,selectedOption:L.selectedOption,shouldRefocusInputAfterSelection:L.shouldRefocusInputAfterSelection},this.inputRef=this.props.inputRef?this.props.inputRef:t.createRef(),(0,a.v)(this,["setSelectState"])}},"SearchSelect");P.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:O.k,onOptionSelected:n.A,selectId:`search-select-${(0,d.r9)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0},P.displayName="SearchSelect";const b=P,S=(0,T.A)(M)},4235464328:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(5870137507),l=e(2947229296),i=e(5117478290),a=e(3649477833),r=e(5190921192);const d=new l.Ay("form_inputs"),m=(0,t.Wb)()?u=>{const E=(0,s.c)(21),{onCtaClick:v,errorCopy:g,ctaCopy:T}=u,p=(0,c.A)();let O;if(E[0]!==T||E[1]!==g||E[2]!==p||E[3]!==v){let y,C;E[5]===Symbol.for("react.memo_cache_sentinel")?(y={className:"c-multi_select_helper_text"},C=n.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},n.createElement(r.A,{name:"warning",inline:!0})),E[5]=y,E[6]=C):(y=E[5],C=E[6]);let I;if(E[7]!==g||E[8]!==p){let _;E[10]!==p?(_={uuid:p,deferBy:100},E[10]=p,E[11]=_):_=E[11];let P;E[12]!==g?(P=g||d.t("Selected entries contain errors."),E[12]=g,E[13]=P):P=E[13],I=n.createElement(i.z,_,P),E[7]=g,E[8]=p,E[9]=I}else I=E[9];let M;if(E[14]!==T||E[15]!==v){let _;E[17]!==v?(_={onClick:v,className:"margin_left_25"},E[17]=v,E[18]=_):_=E[18];let P;E[19]!==T?(P=T||d.t("Delete all errors"),E[19]=T,E[20]=P):P=E[20],M=n.createElement(a.A,_,P),E[14]=T,E[15]=v,E[16]=M}else M=E[16];O=n.createElement("div",y,C,n.createElement("span",null,I,M)),E[0]=T,E[1]=g,E[2]=p,E[3]=v,E[4]=O}else O=E[4];return O}:u=>{let{onCtaClick:E,errorCopy:v,ctaCopy:g}=u;const T=(0,c.A)();return n.createElement("div",{className:"c-multi_select_helper_text"},n.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},n.createElement(r.A,{name:"warning",inline:!0})),n.createElement("span",null,n.createElement(i.z,{uuid:T,deferBy:100},v||d.t("Selected entries contain errors.")),n.createElement(a.A,{onClick:E,className:"margin_left_25"},g||d.t("Delete all errors"))))};m.displayName="MultiSelectErrorText";const f=m},2696476210:(B,A,e)=>{"use strict";e.d(A,{A:()=>k});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8571983633),c=e(6696292586),l=e(3398586081),i=e(5950652755),a=e(7715417323),r=e(4616306996),d=e(1739415438),m=e(5424607800),f=e(1985486637),u=e(3889339349),E=e(3659369705),v=e(4470890745),g=e(6859942431),T=e(4491905764),p=e(7089278202),O=e(1203401213),y=e(768761048),C=e(6369345880),I=e(2702069338);function M(){return M=Object.assign||function(x){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&(x[F]=U[F])}return x},M.apply(this,arguments)}h(M,"_extends");const _={onChange:{action:r.l.ENTER_TEXT}},P={onClick:{action:r.l.CLICK}},b=new Array(95).fill("").map((x,R)=>String.fromCharCode(R+32)),S=h(x=>t.createElement("span",M({className:"c-multi_select_input__space"},x),"\xA0"),"makeSpace"),N=1e3,L={leading:!0,trailing:!1};let D=h(class extends t.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(R){var U;const F=R.selectState,{selectState:W,onTokenSelect:w,onSelectedItemsChange:K,setSelectState:j,hasKeyboardFocus:Q,isTokenEditable:J}=this.props,{selectedOptions:z,isExpanded:ie,isDisabled:ee}=W,ne=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&R.focusOnMount!==this.props.focusOnMount&&this.focus(),((U=W.filterQuery)===null||U===void 0?void 0:U.length)&&W.filterQuery!==F.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(F),this.haveSelectedTokens()&&!(0,v.Ay)(F.selectedTokenIndexes,ne)&&z&&(ne==null||ne.forEach(de=>{w&&w(z[de])}),ie&&j(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),F.isDisabled&&!ee&&this.moveCursorAndScrollToFilterQuery(),!(0,v.Ay)(F.selectedOptions,z,3)){if(K&&typeof z<"u"){if(J){var he;const{isCurrentlyEditingToken:de}=this.state;if((((he=F.selectedOptions)===null||he===void 0?void 0:he.length)||0)<z.length){if(de){const re=z.pop();re&&z.splice(this.state.editTokenIndex,0,re),this.setTokenState(!1,0)}}else de&&z.length===0&&this.setTokenState(!1,0)}K(z)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),Q&&!R.hasKeyboardFocus&&(0,n.A)(W.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(R){const{selectState:U,setSelectState:F,hideFilterQueryOnBlur:W,onBlur:w,onOptionsListClosedBlur:K}=this.props,{selectedOptions:j,filterQuery:Q,isExpanded:J}=U,z=W&&Q&&!J;this.setState(()=>({focused:!1})),this.deselectAllTokens(),z&&F(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,w&&w(R,j),!J&&K&&K()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(R,U){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:R,editTokenIndex:U}))}onFilterQueryChanged(){const{setSelectState:R,selectState:U,onFilterQueryChange:F}=this.props,W=this.filterQueryRef.current,w=W==null?void 0:W.textContent,K=U.filterQuery!==w;if(this.backspaceWasPressed&&!K){this.backspaceWasPressed=!1;return}const j=w?w.length>0:!1;this.saveCaretPosInFilterQuery(),R(()=>({filterQuery:w,isExpanded:j})),F&&F(w)}onFocus(R){this.setState(()=>({focused:!0}));const{expandOnFocus:U,onInputFocused:F,setSelectState:W,onFocus:w}=this.props;U&&W(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),F&&F(R),this.mouseDownOnToken=!1,w&&w(R)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){var R;const U=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),F=U==null?void 0:U.getRangeAt(0),W=this.getTokensAsArray(),{selectState:w}=this.props,{filterQuery:K}=w,j=W.reduce((Z,te,he)=>U!=null&&U.containsNode(te)?[...Z,he]:Z,[]),Q=j.length>0;if(!K&&!Q&&!(U!=null&&U.isCollapsed)){this.ignoreSelectionChange=!0,U==null||U.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!Q){var J;this.ignoreSelectionChange=!0,F==null||F.setStartBefore((J=this.filterQueryRef.current)===null||J===void 0?void 0:J.firstChild);return}const z=j[0],ie=j[j.length-1],ee=W[z],ne=W[ie];if(!K&&Q){this.ignoreSelectionChange=!0,F==null||F.setStartBefore(ee),this.ignoreSelectionChange=!0,F==null||F.setEndAfter(ne),this.setSelectedTokenIndexes(j);return}this.isEntireFilterQuerySelected()&&Q&&(this.ignoreSelectionChange=!0,F==null||F.setStartBefore(ee),this.setSelectedTokenIndexes(j))}onSelectionChange(){var R;if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const U=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let F=null;if(U){const{type:W}=U;F=W}F==="Caret"&&this.onCaretSelectionChange(),F==="Range"&&this.onRangeSelectionChange()}onKeyDown(R){if(this.state.composing)return;const{key:U,ctrlKey:F,metaKey:W,altKey:w,shiftKey:K}=R,{selectState:j,onKeyDown:Q}=this.props,J=(0,E.cX)()?W:F,z=U==="Delete"&&((0,E.cX)()&&w||(0,E.uF)()&&J);(U==="Backspace"||z)&&this.onBackspace(R),!z&&U==="Delete"&&this.onDelete(R),U==="Escape"&&this.onEscape(R),(U==="Home"||W&&!K&&U==="ArrowLeft"||W&&!K&&U==="ArrowUp")&&this.onHome(R),(U==="End"||W&&!K&&U==="ArrowRight"||W&&!K&&U==="ArrowDown")&&this.onEnd(R),!W&&U==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(R)),!W&&U==="ArrowRight"&&this.onRightArrow(R),U==="Tab"&&this.onTab(R),(U==="ArrowUp"||U==="ArrowDown")&&R.preventDefault(),U==="Enter"&&R.preventDefault(),!J&&b.includes(U)&&this.onCharacterKey(),Q&&Q(R,{hasActiveRowIndex:(0,c.A)(j.activeRowIndex),isExpanded:!!j.isExpanded})}onHome(R){R.preventDefault();const{selectState:U}=this.props,{selectedOptions:F}=U;F!=null&&F.length?this.setSelectedTokenIndexes([0],{initiator:R.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(R){R.preventDefault();const{selectState:U}=this.props,{selectedTokenIndexes:F}=U;F!=null&&F.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(R){const{selectState:U,onKeyUp:F}=this.props,W=this.getSelectedTokenIndexes(),w=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(W!=null&&W.length)&&(this.selectTextInNode(w[W[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),F&&F(R,{hasActiveRowIndex:(0,c.A)(U.activeRowIndex)})}onInputContainerMouseDown(R){R.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(R){if(!R||!R.clipboardData)return;const{selectState:U}=this.props,{filterQuery:F}=U,{onFilterQueryPaste:W,setSelectState:w}=this.props;R.preventDefault();const K=R.clipboardData.getData("text"),j=this.caretPosInFilterQuery||0,Q=F||"",J=(F==null?void 0:F.length)||0,z=j<=J?j:J,ie=Q.slice(0,z)+K+Q.slice(z);w(()=>({filterQuery:ie})),W&&W(R)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:R}=this.props,{selectState:U}=this.props,{filterQuery:F,selectedOptions:W}=U,w=this.getSelectedTokenIndexes(),K=W==null?void 0:W.filter((J,z)=>(w==null?void 0:w.indexOf(z))===-1),j=this.getSelectedFilterQueryText(),Q=F==null?void 0:F.replace(j,"");R(()=>({selectedOptions:K,selectedTokenIndexes:[],filterQuery:Q})),this.moveCursorToFilterQuery()}onBackspace(R){const{setSelectState:U}=this.props,{selectState:F,isTokenEditable:W}=this.props,{filterQuery:w}=F;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!w)){R.preventDefault(),U(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(W&&(w==null?void 0:w.length)===1){R.preventDefault(),U(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){R.preventDefault(),U(()=>({filterQuery:"",isExpanded:!1}));return}const j=this.getTokensAsArray().length,Q=this.getSelectedTokenIndexes(),J=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,J&&j===0){R.preventDefault();return}if(!J&&!this.haveSelectedTokens()&&w)return;if(R.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([j-1],{initiator:R.type});return}Q==null||Q.forEach(ne=>{this.removeToken(ne,"backspaceKey")});const z=Q&&Q[0],ie=z===0;let ee=null;z&&(ee=ie?[0]:[z-1]),ee!=null&&ee.length&&this.setSelectedTokenIndexes(ee,{initiator:R.type})}onDelete(R){const{setSelectState:U}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){R.preventDefault(),U(()=>({filterQuery:"",isExpanded:!1}));return}const W=this.getTokensAsArray().length,w=this.getSelectedTokenIndexes();if(W===0||!this.haveSelectedTokens()||(R.preventDefault(),w==null||w.forEach(J=>{this.removeToken(J,"deleteKey")}),!(w!=null&&w.length)))return;const j=w[w.length-1]===W-1,Q=(w==null?void 0:w.length)===W;(j||Q)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(R){const{selectState:U,setSelectState:F,onOptionsListClose:W}=this.props;U.isExpanded&&(R.stopPropagation(),W&&W(),F(()=>({isExpanded:!1})))}onLeftArrow(R){var U;const W=this.getTokensAsArray().length,w=this.getSelectedTokenIndexes(),K=(w==null?void 0:w.length)&&w[0],j=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection();let Q=null,J=null;if(j){const{type:te,anchorOffset:he}=j;Q=te,J=he}const z=Q==="Caret",ie=Q==="Range";if(R.shiftKey&&ie&&this.isRangeSelectionOfFilterQueryComplete(J)){R.preventDefault();return}const ee=z&&this.isCaretAtStartOfFilterQuery();if(W===0&&ee){R.preventDefault();return}if(W===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&ee){R.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:R.type});return}if(!this.haveSelectedTokens()&&ee){this.setSelectedTokenIndexes([W-1],{initiator:R.type});return}if(ie&&this.haveSelectedTokens()&&K===0){R.preventDefault();return}this.haveSelectedTokens()&&typeof K=="number"&&this.setSelectedTokenIndexes([K-1],{initiator:R.type})}onRightArrow(R){var U;const F=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection(),W=(F==null?void 0:F.type)==="Range",K=this.getTokensAsArray().length,j=this.getSelectedTokenIndexes(),Q=(j==null?void 0:j.length)&&j[0];if(typeof Q!="number")return;if(!(W&&this.haveSelectedTokens()&&Q<K-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){R.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof Q=="number"&&this.setSelectedTokenIndexes([Q+1],{initiator:R.type})}onTab(R){const{shiftKey:U}=R,{expandOnFocus:F,selectState:W,onOptionsListClose:w,setSelectState:K,disableCloseOnTab:j}=this.props;j||(w&&w(),(U||F&&(0,n.A)(W.activeRowIndex))&&K(()=>({isExpanded:!1})))}onTokenMouseDown(R,U){const{focused:F,isCurrentlyEditingToken:W}=this.state,{selectState:w,isTokenEditable:K}=this.props;if(w.isDisabled)return;if(R.preventDefault(),this.mouseDownOnToken=!0,R.stopPropagation(),K&&!W){this.onTokenEdit(U);return}F||this.focus();const j=this.getTokensAsArray();this.selectTextInNode(j[U]);const Q=this.getSelectedTokenIndexes();U!==(Q==null?void 0:Q[0])&&this.setSelectedTokenIndexes([U])}onTokenEdit(R){const{selectState:U,setSelectState:F,processOptions:W}=this.props,{selectedOptions:w}=U;this.setTokenState(!0,R);let K="";w&&w[R]&&(typeof w[R].label=="string"&&w[R].label!==w[R].value?K=w[R].label:K=w[R].value),this.removeToken(R,"editToken"),this.updateFilterQueryValue(K),W&&W([],K).then(j=>{F(()=>({isExpanded:!0,options:j,filterQuery:K}))})}onTokenRemoveMouseDown(R,U){const{focused:F,isCurrentlyEditingToken:W,editTokenIndex:w}=this.state;R.preventDefault(),this.mouseDownOnToken=!0,R.stopPropagation(),F||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&W&&U<w&&this.setTokenState(!0,w-1),this.removeToken(U,"iconClick")}onFilterQueryMouseDown(R){var U;this.state.focused&&(!((U=this.filterQueryRef.current)===null||U===void 0)&&U.textContent)&&R.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(R){const{onFilterQueryChange:U}=this.props;this.updateQueryTimer=setTimeout(()=>{U&&U(R),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(R){var U;const{setSelectState:F}=this.props;R.preventDefault(),F(()=>({selectedTokenIndexes:[],isExpanded:!1}));const W=(U=this.filterQueryRef)===null||U===void 0?void 0:U.current;W!=null&&W.textContent&&this.selectTextInNode(W)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:R}=this.props,{filterQuery:U,selectedOptions:F}=R,W=this.getSelectedTokenIndexes(),w=F==null?void 0:F.filter((Q,J)=>(W==null?void 0:W.indexOf(J))===-1),K=this.getSelectedFilterQueryText(),j=U==null?void 0:U.replace(K,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:w,filterQuery:j,isExpanded:!1}}onNodeAdded(R){const{nodeName:U}=R;(U==="B"||U==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(R){const{setSelectState:U}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),U(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}R===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(R){R.forEach(U=>{U.addedNodes.forEach(this.onNodeAdded),U.removedNodes.forEach(this.onNodeRemoved)})}getOptionsListboxHtmlId(){var R;return(0,y.Es)((R=this.props.selectState.selectId)!==null&&R!==void 0?R:"","listbox")}getAriaPlaceholderText(){const{selectState:R,placeholderText:U}=this.props,{filterQuery:F,selectedOptions:W}=R;if(!F&&!(W&&W.length>0))return U}getAriaActiveDescendant(){const{selectState:R}=this.props,{selectId:U,activeRowIndex:F}=R;return(0,c.A)(F)?(0,y.Es)(U,`option_${F}`):void 0}getInputHeight(){const{inputRef:R}=this.props,U=R==null?void 0:R.current;return U?U.offsetHeight:null}getTokensAsArray(){var R,U;const F=(R=this.props.inputRef)===null||R===void 0||(U=R.current)===null||U===void 0?void 0:U.querySelectorAll(".c-token");return Array.prototype.slice.call(F)}getSelectedFilterQueryText(){var R;const{selectState:U}=this.props,{filterQuery:F}=U;if((F==null?void 0:F.length)===0)return"";const W=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),w=W==null?void 0:W.toString();if(!(W==null?void 0:W.containsNode(this.filterQueryRef.current,!0)))return"";const j=w==null?void 0:w.split(`
`);return j!=null&&j.length?j[j.length-1].trim():""}setSelectedTokenIndexes(R){let{initiator:U}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:F}=this.props;F(()=>({selectedTokenIndexes:R}))}getSelectedTokenIndexes(){const{selectState:R}=this.props,{selectedTokenIndexes:U}=R;return U||[]}allTokensAreSelected(){const R=this.getSelectedTokenIndexes(),U=this.getTokensAsArray();return R!=null&&R.length?R.length>0&&R.length===U.length:!1}attachMutationObserver(){var R;if(this.mutationObserver=new MutationObserver(this.onMutation),!((R=this.props.inputRef)===null||R===void 0)&&R.current){var U;this.mutationObserver.observe((U=this.props.inputRef)===null||U===void 0?void 0:U.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:R}=this.props,{filterQuery:U}=R;if(this.caretPosInFilterQuery===-1||!U)return 0;const F=U==null?void 0:U.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>F?F:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var R;(R=this.mutationObserver)===null||R===void 0||R.disconnect(),this.mutationObserver=null}focus(){var R;const U=(R=this.props.inputRef)===null||R===void 0?void 0:R.current;U==null||U.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(R){const{isLoading:U,throttleForceRenderSelectContainer:F}=this.props;F?(R&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),U||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var R;return!!(!((R=this.getSelectedTokenIndexes())===null||R===void 0)&&R.length)}isCaretAtStartOfFilterQuery(){var R;if(this.isCaretOutSideFilterQuery())return!1;const{selectState:U}=this.props,{filterQuery:F}=U;if(!F)return!0;const W=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let w=null;if(W){const{anchorOffset:K}=W;w=K}return w===0}isCaretOutSideFilterQuery(){var R,U;const F=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let W=null;if(F){const{anchorNode:w}=F;W=w}return!(!((U=this.filterQueryRef.current)===null||U===void 0)&&U.contains(W))}isRangeSelectionOfFilterQueryComplete(R){const U=this.getSelectedFilterQueryText();if(!U)return!1;const{selectState:F}=this.props,W=F.filterQuery;return!W||!R?!1:U.substr(0,R)===(W==null?void 0:W.substr(0,R))}isEntireFilterQuerySelected(){const{selectState:R}=this.props,U=this.getSelectedFilterQueryText();return!!U&&U===R.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:R}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var U,F,W,w;const K=document.createRange(),j=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection();j==null||j.removeAllRanges();const Q=(F=this.filterQueryRef)===null||F===void 0?void 0:F.current,J=(Q==null?void 0:Q.firstChild)||Q,z=R?0:(w=Q==null||(W=Q.textContent)===null||W===void 0?void 0:W.trim())===null||w===void 0?void 0:w.length;J!==null&&typeof z=="number"&&K.setStart(J,z),K.collapse(!0),j==null||j.addRange(K)}possiblyRepositionOptionsList(R){if(!this.measurePopoverEvent)return;const{selectState:U}=this.props,F=U.isExpanded&&!R.isExpanded,W=this.getInputHeight(),w=this.inputHeight!==W;if(F||w){var K;(K=this.props.windowRef.deref())===null||K===void 0||K.dispatchEvent(this.measurePopoverEvent)}}removeToken(R,U){const{selectState:F,setSelectState:W,isTokenEditable:w}=this.props,{selectedOptions:K,pendingQueries:j,filterQuery:Q}=F,J=j?j.length:0,z=K&&K[R]&&K[R].queryId,ee=z&&J?j==null?void 0:j.filter(ne=>{let{queryId:Z}=ne;return Z!==z}):j;W(()=>({selectedOptions:K==null?void 0:K.filter((ne,Z)=>Z!==R),selectedTokenIndexes:[],removalInitiator:U,removedItemIndex:R,pendingQueries:ee})),w&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(Q)}saveCaretPosInFilterQuery(){var R;const U=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();this.caretPosInFilterQuery=U==null?void 0:U.anchorOffset}scrollFilterQueryIntoView(){const R=this.filterQueryRef.current;R&&R!=null&&R.scrollIntoView&&(R==null||R.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const R=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const U=this.getTokensAsArray();if(!(R!=null&&R.length))return;const F=R[R.length-1],W=U[F];W&&W.scrollIntoView&&W.scrollIntoView({block:"nearest"})}selectAllTokens(){var R;if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const U=this.getTokensAsArray();if(U.length===0)return;const F=U[0],W=U[U.length-1],w=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),K=document.createRange();w==null||w.removeAllRanges(),K.setStartBefore(F),K.setEndAfter(W),w==null||w.addRange(K)}selectTextInNode(R){var U;if(!R)return;const F=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection(),W=document.createRange();this.ignoreSelectionChange=!0,F==null||F.removeAllRanges();const w=(0,E.cX)()?R:R.querySelector(".c-token__content");W.selectNode(w),this.ignoreSelectionChange=!0,F==null||F.addRange(W)}updateCaretPosInFilterQuery(){var R,U;const F=(R=this.filterQueryRef)===null||R===void 0?void 0:R.current;if(!F)return;const W=document.createRange(),w=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection();w==null||w.removeAllRanges();const K=this.determineCaretPosInFilterQuery();typeof K=="number"&&W.setStart((F==null?void 0:F.firstChild)||F,K),W.collapse(!0),w==null||w.addRange(W)}renderFilterQuery(){const{selectState:R,isTokenEditable:U,size:F}=this.props,{filterQuery:W,isDisabled:w}=R,{isCurrentlyEditingToken:K,editTokenIndex:j}=this.state,Q=w?void 0:this.onFilterQueryMouseDown,J=o()({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${F}_filter_query--edit`]:U&&K});return t.createElement("span",{className:J,ref:this.filterQueryRef,onMouseDown:Q,key:j},W)}renderInput(){const{selectState:R,selectDataQa:U,inputRef:F,ariaLabelledBy:W,ariaLabel:w,autoClogProps:K,iconType:j,isTokenEditable:Q}=this.props,{selectId:J,isDisabled:z,isExpanded:ie,isInvalid:ee}=R,ne=z?void 0:0,Z=z?void 0:this.getAriaActiveDescendant(),te=!z,he=te,ue=z?void 0:this.onFocus,de=z?void 0:this.onBlur,re=z?void 0:this.onChange,V=z?void 0:this.onPaste,H=z?void 0:this.onKeyDown,X=z?void 0:this.onKeyUp,Y=z?void 0:this.onSelectionChange,q=z?void 0:this.onCut,fe=z?void 0:this.onCompositionStart,ce=z?void 0:this.onCompositionEnd,Ee=o()({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!j}),Ae=t.createElement("div",{role:"combobox","aria-disabled":z,"aria-autocomplete":"list","aria-expanded":ie,"aria-controls":this.getOptionsListboxHtmlId(),"aria-activedescendant":Z,"aria-labelledby":W,"aria-label":w,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":ee,id:J,className:Ee,tabIndex:ne,contentEditable:te,suppressContentEditableWarning:he,"data-qa":U?`${U}-input`:void 0,ref:F,onFocus:ue,onBlur:de,onInput:re,onCompositionStart:fe,onCompositionEnd:ce,onPaste:V,onKeyDown:H,onKeyUp:X,onSelect:Y,onCut:q,"aria-multiline":!1},S(),Q&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.createElement(t.Fragment,null,this.renderTokens(),this.renderFilterQuery()),S({contentEditable:!1}));return K?t.createElement(m.A,{autoClogProps:K,actionProps:_,elementType:r.R.INPUT},Ae):Ae}renderLoadingIndicator(){const{isLoading:R,size:U}=this.props;return R?t.createElement(p.A,{className:"c-multi_select_input__spinner",color:"blue",size:U===T.hu.LARGE?T.hu.LARGE:T.hu.MEDIUM}):null}renderPlaceholder(){const{selectState:R,placeholderText:U,iconType:F}=this.props,{filterQuery:W,selectedOptions:w,isDisabled:K}=R;if(this.state.composing||W||w&&w.length>0)return null;const j=K?void 0:this.onPlaceholderMouseDown,Q=o()({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!F});return t.createElement("div",{"aria-hidden":"true",className:Q,onMouseDown:j},U)}renderToken(R,U){let{icon:F,svgIcon:W,value:w,label:K,hoverText:j,isLoading:Q,isError:J,isMemberError:z,isTeamError:ie,isUnknown:ee,emailTeam:ne}=R;const{forceRealName:Z,size:te,selectState:he,customizeTokenProps:ue,disableIdParsing:de,allowFileToken:re}=this.props,V=this.getSelectedTokenIndexes(),H=(V==null?void 0:V.indexOf(U))!==-1,{isDisabled:X,restrictedSelectedTokenIndexes:Y,disabledSelectedTokenIndexes:q,invalidSelectedTokenIndexes:fe}=he,ce=!!Y&&(Y==null?void 0:Y.indexOf(U))!==-1,Ee=!!q&&(q==null?void 0:q.indexOf(U))!==-1,Ae=!!fe&&(fe==null?void 0:fe.indexOf(U))!==-1,le=X||Ee,oe=le?void 0:Te=>this.onTokenMouseDown(Te,U),me=le?void 0:()=>this.renderTokenRemoveIcon(U),pe=te;return t.createElement(t.Fragment,null,t.createElement(I.A,M({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},oe?{onMouseDown:oe}:{},{isDisabled:le,entityId:w,label:K,hoverText:j,isLoading:Q,isError:J,isMemberError:z,isTeamError:ie,isUnknown:ee},te?{size:pe}:{},{isSelected:H},me?{renderIcon:me}:{},{forceRealName:Z,icon:F,svgIcon:W,tabIndex:-1,contentEditable:!1},ue,{disableIdParsing:de},ne?{emailTeam:ne}:{},{isRestricted:ce,isInvalid:Ae,allowFileToken:re})),"\xA0")}renderTokenRemoveIcon(R){return t.createElement(m.A,{actionProps:P,elementType:r.R.BUTTON},t.createElement(C.A,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:(0,l.A)(U=>{this.onTokenRemoveMouseDown(U,R)})}))}renderTokens(){const{selectedOptions:R}=this.props.selectState;return R==null?void 0:R.map((U,F)=>t.createElement(t.Fragment,{key:U.key||U.value},this.renderToken(U,F)))}renderEditableTokens(){const{isCurrentlyEditingToken:R,editTokenIndex:U}=this.state,F=this.renderTokens()||[],W=this.renderFilterQuery();return R?F.splice(U,0,W):F==null||F.push(W),F}renderIcon(){const{iconType:R}=this.props;return R?t.createElement(C.A,{type:R,inline:!0}):null}render(){const{maxHeight:R,width:U,selectState:F,classPrefix:W,size:w}=this.props,{isDisabled:K,isInvalid:j,selectedOptions:Q}=F,J=Q==null?void 0:Q.length,z=o()("c-multi_select_input",{"c-multi_select_input--disabled":K,"c-multi_select_input--focused":this.state.focused&&!K,"c-multi_select_input--large":w===T.hu.LARGE,"c-multi_select_input--invalid":j,"c-multi_select_input--initial":!J,[`${W}__multi_select_input`]:W,[O.E.large]:w===T.hu.LARGE}),ie=K?void 0:this.onInputContainerMouseDown;return t.createElement("div",{className:z,style:{width:U,maxHeight:R},onMouseDown:ie,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(R){super(R),(0,u.v)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var U;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(U=R.ignoreSelectAllTokensAfterMount)!==null&&U!==void 0?U:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,R.measurePopoverEventName&&(this.measurePopoverEvent=new Event(R.measurePopoverEventName));var F;this.forceRenderSelectContainerThrottled=(0,i.A)(this.forceRenderSelectContainer,(F=R.forceRenderSelectContainerThrottleRate)!==null&&F!==void 0?F:N,L),this.filterQueryRef=t.createRef()}},"MultiSelectInput");D.defaultProps={inputRef:t.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:a.A,onKeyUp:a.A,size:T.hu.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:a.A,onFilterQueryChange:a.A,onFilterQueryPaste:a.A,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:a.A,onInputFocused:a.A,forceRealName:void 0,onOptionsListClose:a.A,processOptions:x=>f.S.resolve(x),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:a.A,onBlur:a.A,onOptionsListClosedBlur:a.A,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:N},D.displayName="MultiSelectInput";const k=(0,d.A)((0,g.A)(D))},9658990850:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(2947229296),o=e(7089278202);const n=new s.Ay("form_inputs"),l=h(i=>{let{count:a,clientTheme:r,spinnerSize:d="large"}=i;return t.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.createElement(o.A,{color:r==="dark"?"white":"blue",size:d,inline:!0})),n.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:a}))},"MultiSelectLoadingText")},2266139340:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(5870137507),l=e(2947229296),i=e(5117478290),a=e(5190921192);const r=new l.Ay("form_inputs"),d=(0,t.Wb)()?f=>{const u=(0,s.c)(9),{count:E}=f,v=(0,c.A)();let g;if(u[0]!==E||u[1]!==v){let T,p;u[3]===Symbol.for("react.memo_cache_sentinel")?(T={className:"c-multi_select_helper_text"},p=n.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},n.createElement(a.A,{name:"emoji-missing-filled",inline:!0})),u[3]=T,u[4]=p):(T=u[3],p=u[4]);const O=`${v}-${E}`;let y;u[5]!==O?(y={uuid:O,deferBy:100},u[5]=O,u[6]=y):y=u[6];let C;u[7]!==E?(C=r.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:E}),u[7]=E,u[8]=C):C=u[8],g=n.createElement("div",T,p,n.createElement(i.z,y,C)),u[0]=E,u[1]=v,u[2]=g}else g=u[2];return g}:f=>{let{count:u}=f;const E=(0,c.A)();return n.createElement("div",{className:"c-multi_select_helper_text"},n.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},n.createElement(a.A,{name:"emoji-missing-filled",inline:!0})),n.createElement(i.z,{uuid:`${E}-${u}`,deferBy:100},r.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:u})))};d.displayName="MultiSelectUnknownText";const m=d},7539913210:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>_});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6696292586),c=e(7715417323),l=e(338698394),i=e(3889339349),a=e(2947229296),r=e(4406546601),d=e(4491905764),m=e(7089278202),f=e(768761048),u=e(140938156),E=e(1857707104),v=e(5190921192);function g(){return g=Object.assign||function(P){for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(P[N]=S[N])}return P},g.apply(this,arguments)}h(g,"_extends");const T=new a.Ay("select"),p=1e4,O={ArrowLeft:!0,ArrowRight:!0},y={ArrowUp:!0,ArrowDown:!0},C={Backspace:!0,Delete:!0};let I=h(class extends t.Component{componentDidMount(){const{inputRef:b,focusOnMount:S,expandOnFocus:N}=this.props,L=b&&b.current;S&&(!this.state.hasFocus&&L&&L.focus(),N&&this.showOptionsList())}componentDidUpdate(b,S){const{inputRef:N,selectState:L,focusOnMount:D}=this.props,{selectedOption:k}=L,{selectState:x}=b,{selectedOption:R}=x,U=N&&N.current,{hasFocus:F,focusedViaMouse:W}=this.state;k&&F&&!W&&(k!==R||!S.hasFocus)&&setTimeout(()=>{U==null||U.select()},50),D&&b.focusOnMount!==D&&(this.state.hasFocus||U==null||U.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(b){const{inputRef:S,selectState:N,onClick:L,expandOnClick:D,searchOnClick:k}=this.props,{isDisabled:x,isExpanded:R,selectedOption:U}=N;if(x)return;const F=S&&S.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),F==null||F.focus()),(D||U)&&!R&&this.showOptionsList({searchOnClick:k}),L&&L(b)}onBlur(b){const{onBlur:S}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{S&&S(b)})}onFocus(b){const{onFocus:S}=this.props;this.setState(()=>({hasFocus:!0}),()=>{S&&S(b)})}onInputChanged(b){const{selectState:S,setSelectState:N,expandOnClick:L,retainPreviousSelectionOnDelete:D}=this.props,{isExpanded:k,selectedOption:x}=S;if(this.backspaceOrDeletePressed&&b.length===0&&x){N(()=>({filterQuery:b,displayQuery:b,...D?{}:{selectedOption:null}}));return}k?!L&&!b&&N(()=>({isExpanded:!1})):this.showOptionsList(),N(()=>({filterQuery:b,displayQuery:b}))}onKeyPressedEnter(b){this.props.selectState.isExpanded?b.preventDefault():(this.showOptionsList(),b.stopPropagation())}onKeyPressedEscape(b){const{selectState:S,setSelectState:N,resultsInPopover:L,onEsc:D,onOptionsListClose:k}=this.props;S.isExpanded&&L&&(b.stopPropagation(),b==null||b.nativeEvent.stopImmediatePropagation(),D&&D(),k&&k(),N(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:b,onOptionsListClose:S,selectState:N}=this.props;S&&S();const{activeRowIndex:L,initialActiveOption:D}=N;typeof L!="number"&&!D&&b(()=>({isExpanded:!1}))}onUpOrDownPressed(b){b.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),b.stopPropagation())}onWrapperKeyDown(b){const{key:S}=b;if(y[S]){this.onUpOrDownPressed(b);return}if(S==="Enter"){this.onKeyPressedEnter(b);return}if(S==="Escape"){this.onKeyPressedEscape(b);return}S==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(b){const{key:S}=b,N=C[S],L=O[S],D=N||L||(0,r.A)(b);this.setState(()=>({cursorVisible:D})),this.backspaceOrDeletePressed=N}maybeRenderIconOrLoading(){const{showDropdownIcon:b,isLoading:S,size:N,expandOnClick:L}=this.props;return S?t.createElement(m.A,{className:"c-select_input__spinner",color:"blue",size:N===d.hu.LARGE?"large":"medium"}):!b||!L?null:t.createElement("span",{className:"c-select_input__icon"},t.createElement(v.A,{name:"caret-down",size:"20"}))}showOptionsList(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:S}=b;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:S}))}updateOptionsListPosition(){const{selectState:b}=this.props,{isExpanded:S}=b;if(!S&&this.measurePopoverEvent){var N;(N=this.context.windowRef.deref())===null||N===void 0||N.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:b,renderSelectedOption:S,classPrefix:N,selectDataQa:L,hideSelectedOptionOnDropdownOpen:D}=this.props,{isExpanded:k,selectedOption:x}=b;if(this.state.cursorVisible||!x||k&&(D||b.filterQuery))return null;const R=o()("c-select_input__content",{[`${N}__select_input_content`]:N});return t.createElement("div",{className:R,"data-qa":L?`${L}-input-content`:null},t.createElement("span",{className:"c-select_input__content_text"},S&&S(x)))}getOptionsListboxHtmlId(){var b;return(0,f.Es)((b=this.props.selectState.selectId)!==null&&b!==void 0?b:"","listbox")}renderTextInput(){const{selectDataQa:b,inputRef:S,classPrefix:N,ariaLabelledBy:L,ariaDescribedBy:D,icon:k,maxCharacterLimit:x,size:R,selectState:U,autoClogProps:F,hideSelectedOptionOnDropdownOpen:W}=this.props,{activeRowIndex:w,filterQuery:K,isDisabled:j,isExpanded:Q,isInvalid:J,isRequired:z,selectedOption:ie,selectId:ee=""}=U;let ne;K||!Q&&ie||ie&&Q&&!W?ne=null:ne=this.props.placeholderText||T.t("Please select an option");const Z=Q&&(0,n.A)(w)?(0,f.Es)(ee,`option_${w}`):null,te=!this.state.cursorVisible&&ie&&!Q,he=o()("c-select_input",{"c-select_input--offscreen":te,"c-select_input--invalid":J,[`${N}__select_input`]:N}),ue=(0,f.Yk)([D,(0,f.Es)(ee,"initial-focus")]),re=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible&&W?K||ie&&ie.label:K,V={spellCheck:!1,className:he,id:ee,name:ee,"aria-activedescendant":Z,"aria-autocomplete":"list","aria-expanded":Q,"aria-controls":this.getOptionsListboxHtmlId(),"aria-required":z,"aria-label":this.props["aria-label"],"aria-labelledby":L,"aria-describedby":ue,isInvalid:J,autoComplete:"off",isDisabled:j,onChange:this.onInputChanged,placeholder:ne,value:re||"","data-qa":b?`${b}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:F};return k||x?t.createElement(u.A,g({},V,{icon:k,size:R,maxCharacterLimit:x,showError:!1,type:"text",inputRef:S,isInvalid:J})):t.createElement(E.A,g({},V,{ref:S}))}render(){const{icon:b,size:S,selectDataQa:N,width:L,classPrefix:D,showDropdownIcon:k,selectState:x}=this.props,{isInvalid:R}=x,U=o()("c-select_input__wrapper",{[`c-select_input--${S}`]:S,"c-select_input--with_icon_right":k,"c-select_input--with_icon_left":!!b,"c-select_input--invalid":R,[`${D}__select_input_wrapper`]:D}),F=o()("c-select_input__input_container",{[`${D}__select_input_container`]:D});return t.createElement("div",{role:"presentation",className:U,style:{width:L},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":N?`${N}-wrapper`:null},t.createElement("div",{className:F},this.renderTextInput(),this.renderInputContent()),t.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(b){super(b),(0,i.v)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=t.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},b.measurePopoverEventName&&(this.measurePopoverEvent=new Event(b.measurePopoverEventName))}},"SelectInput");I.defaultProps={autoClogProps:void 0,inputRef:null,onClick:c.A,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,classPrefix:void 0,onFocus:c.A,onBlur:c.A,onEsc:c.A,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:c.A,expandOnClick:!0,searchOnClick:!1,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0},I.contextType=l._0,I.displayName="SelectInput";const M={SelectInput:I},_=I},6402989429:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>W,oj:()=>U});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(45851552),c=e(6696292586),l=e(2003990933),i=e(5404505308),a=e(7715417323),r=e(3478664464),d=e(166097325),m=e(1699044291),f=e(3398586081),u=e(9268023148),E=e(105789326),v=e(3724853370),g=e(338698394),T=e(3889339349),p=e(955225004),O=e(2947229296),y=e(1715996615),C=e(563941117),I=e(4470890745),M=e(4491905764),_=e(4565338063),P=e(7089278202),b=e(768761048),S=e(1398359918),N=e(8786006583),L=e(4262473691);function D(w){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,S.A)(w,(Q,J)=>{if(Q.type==="divider")return{type:"divider"};if(Q.options){const{options:z,label:ie,...ee}=Q,ne=`${Q.label.toLowerCase()}${M.Sx}${(0,L.A)()}`,Z=[{type:"heading",label:Q.label,group:ne,optionsCount:Q.options&&Q.options.length||0,extras:ee}].concat(Q.options.map((te,he)=>{const ue={type:"option",option:te,optgroup:ne};return he===0&&(ue.isFirstChild=!0),he===Q.options.length-1&&(ue.isLastChild=!0),ue}));if(K){if(w[J-1]&&w[J-1].value&&!w[J-1].options&&Z.unshift({type:"divider"}),(0,N.A)(w)===Q)return Z;Z.push({type:"divider"})}return Z}return{type:"option",option:Q}})}h(D,"formatOptions");function k(){return k=Object.assign||function(w){for(var K=1;K<arguments.length;K++){var j=arguments[K];for(var Q in j)Object.prototype.hasOwnProperty.call(j,Q)&&(w[Q]=j[Q])}return w},k.apply(this,arguments)}h(k,"_extends");const x=new O.Ay("select"),R=h(w=>{var K;return w.type!=="heading"&&w.type!=="divider"&&!(!(w==null||(K=w.option)===null||K===void 0)&&K.nonInteractive)},"isKeyboardNavigableOption"),U=h(w=>{var K;return!w.isDisabled&&!(!(w==null||(K=w.option)===null||K===void 0)&&K.nonInteractive)},"isSelectableOption");let F=h(class extends C.B{componentDidMount(){this.initKeyCommands();const{focusOnMount:K=!1,selectState:j,setSelectState:Q,shouldIncludeActiveOption:J=!1}=this.props,{selectType:z}=j;z===M.US.BASIC&&K&&this.onOpen();const ie=this.getInitalActiveRowIndex(),ee=this.list.current;Q(()=>({activeRowIndex:ie,...J?{activeOption:this.getOptionFromList(ie)}:null})),ie!==-1&&ee&&ee.scrollToRow(ie),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:K=!1,preventScroll:j=!1}=this.props,{selectType:Q}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),K&&Q===M.US.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:j})}componentDidUpdate(K){var j;const{selectState:Q,setSelectState:J,shouldIncludeActiveOption:z=!1,dynamicHeight:ie=!1,optionsShallowEqualComparisonDepth:ee=4,shouldRerenderOnOptionChange:ne=!1}=this.props,{filterQuery:Z,options:te,initialActiveOption:he}=Q,ue=!(0,I.Ay)(K.selectState.options,te,ee),de=Z!==K.selectState.filterQuery;if(ue||de){const H=typeof he<"u"?this.getActiveRowIndex():this.getFirstSelectableRowIndex();J(()=>({activeRowIndex:H,...z?{activeOption:this.getOptionFromList(H)}:null}));const X=H||H===0;this.list.current&&X&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(H))}if(ue&&!de&&ne){var re;(re=this.list.current)===null||re===void 0||re.recomputeRowHeights()}if(ie&&(Q==null?void 0:Q.options)!==((j=K.selectState)===null||j===void 0?void 0:j.options)){var V;(V=this.cellMeasurerCache)===null||V===void 0||V.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}getInitalActiveRowIndex(){const{selectState:K,multiSelectMode:j=!1}=this.props,{selectedOption:Q,initialActiveOption:J}=K;return j||!Q?this.getFirstSelectableRowIndex():J?this.getActiveRowIndex():(0,n.A)(this.getOptionsList(),z=>{var ie;return R(z)&&(z==null||(ie=z.option)===null||ie===void 0?void 0:ie.value)===Q.value})}getActiveRowIndex(){const{selectState:K}=this.props,{initialActiveOption:j}=K;if(!j)return;const Q=(0,n.A)(this.getOptionsList(),J=>{var z;return R(J)&&(J==null||(z=J.option)===null||z===void 0?void 0:z.value)===j.value});if(Q>=0)return Q}getCurrentActiveElement(){var K,j;return(j=(K=this.context.windowRef.deref())===null||K===void 0?void 0:K.document.activeElement)!==null&&j!==void 0?j:null}getFirstSelectableRowIndex(){const{selectState:K,multiSelectMode:j=!1,customOptionCompare:Q,shouldAlwaysHaveActiveRow:J=!1}=this.props,{filterQuery:z}=K,ie=this.getOptionsList();let ee;if((z||J)&&ie.length){const ne=(0,n.A)(ie,Z=>R(Z)&&!this.isOptionSelected(K,Z.option,j,Q),0);ne!==-1&&(ee=ne)}return ee}getRowHeight(K){var j;const{optionsRowHeight:Q=M.bJ,headingRowHeight:J=null,dividerRowHeight:z=M.r3}=this.props;return K.option&&(0,c.A)(K.option.height)?Number(K.option.height):K.type&&K.type==="divider"?z:K.type==="heading"&&(0,c.A)((j=K.extras)===null||j===void 0?void 0:j.height)?Number(K.extras.height):K.type&&K.type==="heading"&&J!==null?J:Q}getClassName(K,j){const{unstyled:Q=!1}=this.props;return Q&&j?o()(j):o()(j,K)}getOptionFromList(K){const j=this.getOptionsList();return(0,l.A)(j,`[${K}].option`,null)}getOptionsList(){const{multiSelectMode:K=!1,selectState:j,includeDividers:Q=!0}=this.props,{options:J,isRequired:z,selectedOption:ie,filterQuery:ee,minQueryLength:ne}=j;let Z=[];return ne&&ne>0&&ie&&!ee&&(Z=[ie]),J&&(!K&&ie&&!z?Z=[M.az,...J]:Z=J),Z=[...this.formatOptions(Z,Q)],Z}getDataQaTag(K,j){const{selectDataQa:Q=void 0,selectState:J}=this.props,{isRequired:z}=J,ie=K.value?K.value:K.label;let ee="";typeof ie=="string"&&(ee=ie.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const ne=z?j:j-1;return K.value?`${Q}_option_${ne}`:`${Q}_option_header_${ee}`}getNextActiveRowIndex(K){const j=this.getOptionsList();if(j&&!j.length)return-1;const Q=j.length-1;if(K===Q)return-1;const J=(0,c.A)(K)?K+1:0,z=(0,n.A)(j,R,J);return z!==-1&&j[z]?z:-1}getPreviousActiveRowIndex(K){if(K===0)return-1;const j=this.getOptionsList();if(j&&!j.length)return-1;const Q=j.length-1,J=(0,c.A)(K)?K-1:Q,z=(0,i.A)(j,R,J);return z!==-1&&j[z]?z:-1}getArialabelForItem(K){var j,Q,J,z;const{isFirstChild:ie,isLastChild:ee,optgroup:ne}=K;if(!ne)return null;const Z=x.t("First item in group {group}, {value}",{group:ne&&ne.split(M.Sx).slice(0,-1).join("-"),value:typeof((j=K.option)===null||j===void 0?void 0:j.label)=="string"?(Q=K.option)===null||Q===void 0?void 0:Q.label:""}),te=x.t("Last item in group {group}, {value}",{group:ne&&ne.split(M.Sx).slice(0,-1).join("-"),value:typeof((J=K.option)===null||J===void 0?void 0:J.label)=="string"?(z=K.option)===null||z===void 0?void 0:z.label:""});return ie?Z:ee?te:null}getEmptyStateMessage(){const{emptyStateMessage:K,selectState:j}=this.props,{filterQuery:Q,minQueryLength:J}=j;if(K)return K(Q);if(J){if(!Q)return x.t("Type to search\u2026");if(Q.length<J)return x.t("Keep typing\u2026")}return x.t("No items")}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(K){return{padding:K?M.Hy:void 0,boxSizing:"content-box"}}onArrowDown(K){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(K))return;const{isExpanded:j,activeRowIndex:Q}=this.props.selectState;j&&K.preventDefault();const J=this.getNextActiveRowIndex(Q);(0,c.A)(J)&&J!==-1&&this.moveNext(J)}onArrowUp(K){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(K))return;const{isExpanded:j,activeRowIndex:Q}=this.props.selectState;j&&K.preventDefault();const J=this.getPreviousActiveRowIndex(Q);(0,c.A)(J)&&J!==-1&&this.movePrevious(J)}onEsc(K){const{shouldIncludeActiveOption:j=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(K))return;K.preventDefault();const{onOptionsListClose:Q=a.A}=this.props;Q&&Q(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:void 0,...j?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onEnter(K){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(K))return;K.preventDefault();const{activeRowIndex:j,initialActiveOption:Q}=this.props.selectState,J=this.getOptionsList();let z;typeof j=="number"&&(z=J[j]&&J[j].option||J[j]),z=z||Q,!(z&&!U(z))&&(this.onOptionSelected(z),this.onClose(K))}onTab(K){const{selectState:j,disableSelectOnTab:Q=!1}=this.props;if(Q||!this.shouldInterceptKeyEvent(K)||!j.isExpanded)return;const{onKeyPressedTab:J=a.A}=this.props;if(J&&J!==a.A){J(event);return}const{activeRowIndex:z,initialActiveOption:ie}=j,ee=this.getOptionsList();let ne;typeof z=="number"&&(ne=ee[z]&&ee[z].option||ee[z]),ne=ne||ie,ne&&K.preventDefault(),!(ne&&!U(ne))&&this.onOptionSelected(ne)}onShiftTab(K){if(!this.shouldInterceptKeyEvent(K))return;const{onKeyPressedShiftTab:j=a.A}=this.props;j&&j!==a.A&&j(K)}onMouseEnteredOption(K){const{shouldIncludeActiveOption:j=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:K,...j?{activeOption:this.getOptionFromList(K)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:K=!1}=this.props;!this.isMouseMoveEnabled||K||this.clearActive()}onOptionClicked(K){this.onOptionSelected(K,!0)}onScroll(K){const{onScroll:j=a.A}=this.props;j&&j(K)}onOptionSelected(K){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:Q=a.A,onOptionUnselected:J=a.A,selectState:z,setSelectState:ie,multiSelectMode:ee=!1,inputRef:ne,customOptionCompare:Z,shouldIncludeActiveOption:te=!1,shouldOptionBeSelected:he,shouldAllowUnselectInMultiSelectMode:ue=!1,shouldAllowUnselectInSingleSelectMode:de=!0,stayExpandedAfterSelection:re=!1}=this.props;if(z.shouldRefocusInputAfterSelection&&ne&&ne.current&&ne.current.focus(),K&&U(K)){if(he&&he(K)===!1){ie(()=>({activeRowIndex:void 0,filterQuery:"",isExpanded:!1}),()=>{Q(K)});return}if(K.value===M.yk)this.onClearSelectedOption();else if(ee){const{selectedOptions:V,shouldRefocusInputAfterSelection:H}=z;if(!this.isOptionSelected(z,K,ee,Z)&&V)ie(()=>({selectedOptions:[...V,K],activeRowIndex:void 0,...te?{activeOption:null}:null,filterQuery:"",isExpanded:re}),()=>{Q&&Q(K)});else if(ue){const Y=(0,r.A)(V,[K],(q,fe)=>q.value===fe.value);ie(()=>({selectedOptions:Y,activeRowIndex:void 0,...te?{activeOption:null}:null,filterQuery:"",isExpanded:re}),()=>{J&&J(K)})}!H&&!K.fromUnknown&&ne&&ne.current&&ne.current.focus()}else{const V={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:de?null:z.selectedOption};!(0,d.A)(z.selectedOption,K)&&(V.selectedOption=K),ie(()=>({...V}),()=>{Q&&Q(K,j)}),z.shouldRefocusInputAfterSelection&&ne&&ne.current&&ne.current.focus()}}}onOpen(){const{focusOnMount:K=!1,selectState:j}=this.props,{selectType:Q}=j;!K&&Q!==M.US.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}onClose(K){K.key==="Escape"&&this.onEsc(K);const{focusOnMount:j=!1,preventScroll:Q=!1}=this.props,{selectType:J}=this.props.selectState;!j&&J!==M.US.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:Q})}onClearSelectedOption(){const{selectState:K,setSelectState:j,onOptionSelected:Q=a.A,multiSelectMode:J=!1,onMultiSelectClear:z=void 0}=this.props,{selectedOption:ie,selectedOptions:ee}=K;let ne=!1;ie?(j(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{Q&&Q({value:null})}),ne=!0):J&&ee&&(j(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{z&&z()}),ne=!0),this.list.current&&ne&&this.list.current.forceUpdateGrid()}clearDynamicRowHeight(K){var j;(j=this.cellMeasurerCache)===null||j===void 0||j.clear(K,0),this.list.current&&this.list.current.recomputeRowHeights(K)}clearActive(){const{shouldIncludeActiveOption:K=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:void 0,...K?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}enableMouseMove(){this.isMouseMoveEnabled=!0}focusNode(K){K&&this.getCurrentActiveElement()!==K&&K.focus()}isFirstItemUnselectable(){const K=this.getOptionsList();return!R(K[0])}initKeyCommands(){var K;if(this.keyCommands)return;const{shouldTokenizeOnComma:j,shouldTokenizeOnSpace:Q,keyCommandShortcuts:J}=this.props,z=["enter"];j&&z.push("comma"),Q&&z.push("space");const ie=[{keys:["down"],handler:this.onArrowDown},{keys:z,handler:this.onEnter,filter:ne=>ne.code.toLowerCase()==="comma"&&ne.key!==","},{keys:["up"],handler:this.onArrowUp},{keys:["tab"],handler:this.onTab},{keys:["shift+tab"],handler:this.onShiftTab}],ee=J?ie.concat(J):ie;this.keyCommands=new _.A((K=this.context.windowRef.deref())===null||K===void 0?void 0:K.document),this.keyCommands.bindAll(ee)}isOptionSelected(K,j,Q,J){let{selectedOptions:z,selectedOption:ie}=K;return Q&&(!z||z&&!z.length)||!Q&&!ie?!1:Q?!J&&j?z&&z.some(ee=>ee.value===j.value):z&&z.some(ee=>J({selectedOption:ee,listOption:j})):ie&&j&&ie.value===j.value}isOptionActive(K,j,Q){let{activeRowIndex:J}=K;if(!J&&J!==0)return!1;const ie=j[J];return(ie&&ie.option?ie.option:ie)===Q}moveNext(K){const{setSelectState:j,shouldIncludeActiveOption:Q=!1}=this.props,J=this.getOptionFromList(K);if(!J)return;const z=this.list.current;if(!z)return;j(()=>({activeRowIndex:K,...Q?{activeOption:J}:null,displayQuery:J==null?void 0:J.value})),this.debouncedEnableMouseMove(),z.forceUpdateGrid();const ie=K===1&&this.isFirstItemUnselectable()?0:K;z.scrollToRow(ie)}movePrevious(K){const{setSelectState:j,shouldIncludeActiveOption:Q=!1}=this.props,J=this.getOptionFromList(K);if(!J)return;const z=this.list.current;if(!z)return;const ie=this.getOptionsList();if(!ie)return;if(j(()=>({activeRowIndex:K,...Q?{activeOption:J}:null,displayQuery:J==null?void 0:J.value})),this.debouncedEnableMouseMove(),z.forceUpdateGrid(),(J==null?void 0:J.height)!==0){z.scrollToRow(K);return}const ee=(0,m.A)(ie.slice(0,K)).findIndex(ne=>{var Z;return(ne==null||(Z=ne.option)===null||Z===void 0?void 0:Z.height)!==0});z.scrollToRow(K-ee-1)}shouldInterceptKeyEvent(K){return!K.target||!(0,p.vq)(K.target)?!1:!!((0,p.P7)(K.target,"aria-autocomplete")||(0,p.P7)(K.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(K.target))}removeAriaAttrsFromGridNode(){const K=this.listBody.current,j=K&&K.querySelector(".ReactVirtualized__Grid");j&&(j.removeAttribute("aria-label"),j.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:K=!1,width:j,isLoading:Q=!1,selectDataQa:J=void 0,includeWrapper:z=!0}=this.props;if(Q)return null;const ie=this.getEmptyStateMessage();if(ie===null)return null;const ee=K||!z?+j:+j-M.$_;return t.createElement("div",{"data-qa":J?`${J}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:ee}},t.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},ie))}renderList(){const{maxListHeight:K,width:j,includePadding:Q,unstyled:J=!1,useSlackScrollbar:z,dynamicHeight:ie=!1,forceMaxHeight:ee,includeWrapper:ne=!0,classPrefix:Z=void 0}=this.props,te=this.getOptionsList(),he=K||M.CK,ue=te.map(X=>this.getRowHeight(X)||0).reduce((X,Y)=>X+Y,0),de=ee||ue>=he?he:ue,re=J||!ne?+j:+j-M.$_,V=o()("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":z,[`${Z}__virtual_list`]:!!Z}),H=ie&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:X=>{let{index:Y}=X;return this.getRowHeight(te[Y])};return this.cellMeasurerCache?t.createElement(v.O,{className:V,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(Q),height:de,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:te?te.length:0,rowHeight:H,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:re}):t.createElement(v.O,{className:V,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(Q),height:de,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:te?te.length:0,rowHeight:H,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:re})}renderListBody(){const{enableLoadingState:K=!0,isLoading:j=!1}=this.props;if(j&&K)return this.renderLoadingState();const Q=this.getOptionsList();return!Q||Q&&!Q.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:K}=this.props,j=x.t("Loading results\u2026");return t.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:K}},t.createElement(P.A,{size:"medium",inline:!0}),t.createElement("div",null,j))}renderRow(K){let{index:j,key:Q,style:J,parent:z}=K;var ie;const{classPrefix:ee=void 0,selectState:ne,multiSelectMode:Z=!1,customOptionCompare:te,unstyled:he=!1,dynamicHeight:ue=!1,hideOptionsListCheckbox:de=!1}=this.props,{selectId:re}=ne,V=this.getOptionsList();let H;V[j].option?H=V[j].option:H=V[j];const{isPlaceholder:X}=H,{activeRowIndex:Y}=ne,{selectedOption:q,selectedOptions:fe}=ne;let ce;typeof Y=="number"&&(ce=this.isOptionActive({activeRowIndex:Y},V,H));const Ee=this.isOptionSelected({selectedOptions:fe,selectedOption:q},H,Z,te),Ae=H.value===M.yk,le=V[j].type==="heading",oe=!!V[j].optgroup,me=V[j].type==="divider",pe=!!H.isDisabled,Te=!!H.nonInteractive,Me=Ee&&!le&&!me,Ue=le||Te||me,xe=V.filter(R),Ne=(0,n.A)(xe,Ve=>Ve.option===H,0),be=ee?`${ee}__option`:"",ke=o()("c-select_options_list__option",be,(0,l.A)(H,"overrides.className",!1),{"c-select_options_list__option--active":ce&&(0,l.A)(H,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":X,"c-select_options_list__option--selected":Me,"c-select_options_list__option--disabled":pe,"c-select_options_list__option--non-interactive":Te,"c-select_options_list__group_header":le,"c-select_options_list__group_option":oe,"c-select_options_list__divider":me,"c-select_options_list__clear_option":Ae});let Ke=Ae?H.label:t.createElement("hr",{className:this.getClassName("c-select_options__divider")});!me&&!Ae&&(Ke=this.props.renderOption(H,{index:j,isActive:ce,isGroupHeader:le,isClearOption:Ae,isSelected:Ee&&!le&&!me,clearDynamicRowHeight:this.clearDynamicRowHeight}));let $;if(he||!((ie=H.overrides)===null||ie===void 0)&&ie.unstyled)$=Ke;else{var ae;$=t.createElement("span",{"data-qa":H.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(ae=H.extras)===null||ae===void 0?void 0:ae.forceHeaderWrap})},Ke)}const Ge=xe.length,nt=Ne===-1?void 0:Ne+1,at=t.createElement("div",k({"aria-hidden":Ue?"true":null,"aria-selected":Ee,"aria-label":le?null:this.getArialabelForItem(V[j]),className:this.getClassName(ke,be),"data-qa":me?void 0:this.getDataQaTag(H,j),id:(0,b.Es)(re,`option_${j}`),key:Q},J?{style:J}:{},{onClick:pe||Te?(0,f.A)(()=>this.onOptionSelected(H)):(0,f.A)(()=>{this.onOptionClicked(H)}),onMouseEnter:pe||Te?a.A:(0,f.A)(()=>{this.onMouseEnteredOption(j)}),onMouseLeave:pe||Te?a.A:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":ce?"true":void 0,ref:ce?this.currentRow:null,optgroup:oe?V[j].optgroup:void 0,"aria-disabled":pe||null,"aria-setsize":Ge,"aria-posinset":nt}),Me&&!de&&t.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),$);return!ue||!this.cellMeasurerCache?at:t.createElement(E.dl,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:j,key:Q,parent:z},at)}render(){const{className:K,ariaLabel:j,classPrefix:Q=void 0,multiSelectMode:J=!1,selectDataQa:z=void 0,selectState:ie,dropdownContainer:ee=void 0,footerBannerContent:ne}=this.props,{isExpanded:Z,activeRowIndex:te,selectId:he,selectType:ue}=ie,de=o()("c-select_options_list",{[`${Q}_options_list`]:Q}),re=ue===M.US.BASIC&&Z&&(0,c.A)(te)?(0,b.Es)(he,`option_${te}`):void 0,V=t.createElement("div",{className:de,ref:this.listBody,"data-qa":z?`${z}-options-list`:null,id:(0,b.Es)(he,"listbox"),"aria-activedescendant":re,"aria-label":j??x.t("Options",{fallbackHash:"6bf5da9c080bee3a8142586c412aa39971137eee",fallbackHashNs:"team_profile"}),"aria-multiselectable":!!J,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:H=!0}=this.props;if(!H)return V;const X=o()("c-select_options_list__wrapper",{[`${K}`]:K,[`${Q}_options_list_wrapper`]:Q});return t.createElement("div",k({className:this.getClassName(X),"data-qa":z?`${z}-options-list-wrapper`:"sk-select-options-list-wrapper"},ee?{ref:ee}:{}),V,ne&&t.createElement("div",{className:"c-select_options_list__footer_banner"},ne))}constructor(K){super(K),this.isMouseMoveEnabled=!1,(0,T.v)(this,["getOptionsList","getOptionFromList","onClearSelectedOption","onArrowDown","onArrowUp","onEnter","onTab","onShiftTab","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=t.createRef(),this.list=t.createRef(),this.currentRow=t.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=(0,y.A)(D),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=(0,u.A)(this.enableMouseMove,200),this.debouncedOnScroll=(0,u.A)(this.onScroll.bind(this),200),M.az.label=x.t("Clear selection");const{optionsRowHeight:j=M.bJ,dynamicHeight:Q=!1}=K;Q&&(this.cellMeasurerCache=new E.jS({defaultHeight:j,fixedWidth:!0}))}},"SelectOptionsList");F.contextType=g._0,F.displayName="SelectOptionsList";const W=F},8432080373:(B,A,e)=>{"use strict";e.d(A,{A:()=>y});var t=e(3134334389),s=e(7715417323),o=e(9268023148),n=e(338698394),c=e(4616306996),l=e(5424607800),i=e(3889339349),a=e(3177283514),r=e(4491905764),d=e(1998042365),m=e(6402989429);function f(){return f=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(C[_]=M[_])}return C},f.apply(this,arguments)}h(f,"_extends");const u={onClose:{action:c.l.CLOSE},onOpen:{action:c.l.OPEN}},E=50,v=50,g=12,T=4,p=32;let O=h(class extends t.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(I){return(I==null?void 0:I.type)==="click"}didClickInput(I){const{inputRef:M}=this.props;if(!(M!=null&&M.current)||!this.isMouseEvent(I))return;const _=I.clientX,P=I.clientY,b=M.current.getBoundingClientRect();return _>b.left&&_<b.right&&P>b.top&&P<b.bottom}onClose(I){var M;const{selectState:_,inputRef:P,onOptionsListClose:b,setSelectState:S}=this.props;if(_.isExpanded){if(I instanceof KeyboardEvent){var N;(N=this.optionsListRef.current)===null||N===void 0||N.onClose(I)}P==null||(M=P.current)===null||M===void 0||M.focus(),b==null||b(this.didClickInput(I)),S(()=>({isExpanded:!1,activeRowIndex:void 0,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:I,inputContainerRef:M=null}=this.props,_=M||I;return _&&_.current?_.current.getBoundingClientRect():null}getPopoverPosition(I){let{top:M,bottom:_}=I;var P;const b=M,S=(((P=this.context.windowRef.deref())===null||P===void 0?void 0:P.innerHeight)||0)-_,{selectState:N,maxListHeight:L=r.CK}=this.props,{options:D}=N;let k=0;const x=h(U=>U.map(F=>this.getRowHeight(F)).reduce((F,W)=>F+W,0),"calculateRowHeight");if(D){const U=[];D.forEach(F=>{if(F.options){U.push(F.label),F.options.forEach(W=>U.push(W));return}U.push(F)}),k=x(U)}const R=Math.min(k,L);return S<R&&S<b?"top-left":"bottom-left"}getRowHeight(I){const{optionsRowHeight:M=r.bJ}=this.props;return I.type&&I.type==="divider"?r.r3:M}maybeInstallListener(){var I,M;if(this.listenerInstalled)return;(I=this.context.windowRef.deref())===null||I===void 0||I.addEventListener("resize",this.onResize),(M=this.context.windowRef.deref())===null||M===void 0||M.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:_=null}=this.props;if(_){var P;(P=this.context.windowRef.deref())===null||P===void 0||P.addEventListener(_,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:I=null}=this.props;if(this.listenerInstalled){var M,_;if(this.onResize.cancel(),this.onScroll.cancel(),(M=this.context.windowRef.deref())===null||M===void 0||M.removeEventListener("resize",this.onResize),(_=this.context.windowRef.deref())===null||_===void 0||_.removeEventListener("scroll",this.onScroll),I){var P;(P=this.context.windowRef.deref())===null||P===void 0||P.removeEventListener(I,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var I,M;const{popoverProps:_={},selectState:P,minOptionsListWidth:b=null,onOpen:S=s.A,onScrollablePage:N=!1,autoClogProps:L=void 0,maxListHeight:D=r.CK,shouldAllowUnselectInSingleSelectMode:k,shouldAllowUnselectInMultiSelectMode:x,stayExpandedAfterSelection:R,selectOptionsListRef:U}=this.props,{selectId:F}=P,W=this.state.optionsListBounds||{width:0,bottom:0,left:0},w=this.getPopoverPosition({top:W.top,bottom:W.bottom}),K=w==="top-left",j=((I=this.context.windowRef.deref())===null||I===void 0?void 0:I.innerWidth)||0;let Q=W.width;b&&W.width<b&&(Q=b);const J=W.left-g+Q;let z=0;b&&J>j&&(z=b-W.width);const ee=(K?W.top:(((M=this.context.windowRef.deref())===null||M===void 0?void 0:M.innerHeight)||0)-W.bottom)-p,ne=Math.min(ee,D),Z={...this.props,autoClogProps:L,width:Q+g*2,maxListHeight:ne,shouldAllowUnselectInSingleSelectMode:k,shouldAllowUnselectInMultiSelectMode:x,stayExpandedAfterSelection:R},{pageYOffset:te}=this.context.windowRef.deref()||{},he={top:W.top+te+T,bottom:W.bottom+te-T,left:W.left-(g+z),width:Q};let ue;if(N){var de;ue={height:(de=this.context.windowRef.deref())===null||de===void 0?void 0:de.document.body.scrollHeight}}return t.createElement(l.A,f({elementType:c.R.DROPDOWN,actionProps:u},L?{autoClogProps:L}:{}),t.createElement(d.AM,f({position:w,allowanceX:-g,ref:this.popover},_,{onClose:this.onClose,isOpen:!!P.isExpanded,key:`${F}-popover`,shouldFocusAfterRender:!1,targetBounds:he,ariaHideApp:!1,onOpen:S},typeof ue<"u"?{overlayStyle:ue}:{},{shouldPropagateOnClose:!0}),t.createElement(m.Ay,f({},Z,{ref:(0,a.A)(this.optionsListRef,U)}))))}constructor(I){super(I),this.popover=t.createRef(),this.optionsListRef=t.createRef(),this.state={optionsListBounds:null},(0,i.v)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=(0,o.A)(this.measureOptionsListAndSetState,E,{maxWait:E}),this.onScroll=(0,o.A)(this.measureOptionsListAndSetState,v,{maxWait:v}),this.listenerInstalled=null}},"SelectPopoverOptionsList");O.contextType=n._0,O.defaultProps={includePadding:!0,window},O.displayName="SelectPopoverOptionsList";const y=O},7073323626:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(166097325);function o(){return o=Object.assign||function(c){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(c[a]=i[a])}return c},o.apply(this,arguments)}h(o,"_extends");function n(c){let l=h(class extends t.Component{setSelectState(a,r){const d=a();d.selectedOptions&&!(0,s.A)(d.selectedOptions,this.selectedOptions)||d.selectedOption&&!(0,s.A)(d.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({...d,isExpanded:!1})),this.props.showConfirmDialog&&this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(a,r),this.selectedOptions=d.selectedOptions||this.selectedOptions,this.selectedOption=d.selectedOption||this.selectedOption}})):(this.props.setSelectState(a,r),this.selectedOptions=d.selectedOptions||this.selectedOptions,this.selectedOption=d.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:a}=this.props,r=a?this.setSelectState:this.props.setSelectState;return t.createElement(c,o({},this.props,{setSelectState:r}))}constructor(a){super(a),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=a.selectedOptions,this.selectedOption=a.selectedOption}},"ConfirmSelectWrapper");return l.defaultProps={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0},l.displayName="ConfirmSelectWrapper",l}h(n,"withConfirm")},3182130836:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(166097325),o=e(9113979368),n=e(7715417323),c=e(9268023148),l=e(2691514942);function i(){return i=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(d[u]=f[u])}return d},i.apply(this,arguments)}h(i,"_extends");const a=(0,l.Wo)();function r(d){let m=h(class extends t.Component{componentDidMount(){const{searchOnClick:u,disableSearchOnMount:E,expandOnFocus:v,minQueryLength:g}=this.props,{filterQuery:T}=this.state;if(!u&&!E||v){const p=!g||T&&T.length>=g;T!==void 0&&p&&this.search(T)}}componentDidUpdate(u){const{isInvalid:E,selectedOption:v,selectedOptions:g,isDisabled:T,minQueryLength:p}=this.props,O={};u.isInvalid!==E&&(O.isInvalid=E),u.isDisabled!==T&&(O.isDisabled=T),(0,s.A)(u.selectedOption,v)||(O.selectedOption=v),(0,s.A)(u.selectedOptions,g)||(O.selectedOptions=g),(0,s.A)(u.minQueryLength,p)||(O.minQueryLength=p),(0,o.A)(O)||this.setSelectState(()=>O)}componentWillUnmount(){var u;(u=this.searchAbortController)===null||u===void 0||u.abort()}setSelectState(u,E){const v=u();if(v.filterQuery!==void 0&&v.filterQuery!==this.state.filterQuery||v.searchOnClick){var g;(g=this.searchAbortController)===null||g===void 0||g.abort(),!this.state.minQueryLength||v.filterQuery&&v.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(v.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))}this.setState(()=>v,E)}search(u){const{search:E,onSearch:v=n.A,onSearchError:g=n.A,selectId:T,processOptions:p=h(y=>Promise.resolve(y),"processOptions")}=this.props;v(u),this.searchAbortController=new AbortController;const O=this.searchAbortController.signal;E(u,{abortSignal:O}).then(y=>{O.aborted||p(y,u).then(C=>{this.setSelectState(()=>({options:C})),this.setState(()=>({isLoading:!1}))})}).catch(y=>{O.aborted||(this.setState(()=>({isLoading:!1})),a.error(`Error when searching for select id: ${T}, error: ${y}`),g(y))})}render(){const u=this.props.inputRef||this.inputRef;return t.createElement(d,i({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:u,isLoading:this.state.isLoading}))}constructor(u){super(u),this.inputRef=t.createRef(),this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:u.isExpanded,expandOnFocus:u.expandOnFocus,selectId:u.selectId,selectedOptions:u.selectedOptions||[],selectedOption:u.selectedOption||null,isRequired:u.isRequired,isLoading:!1,isDisabled:u.isDisabled,isInvalid:u.isInvalid,searchOnClick:u.searchOnClick,minQueryLength:u.minQueryLength,shouldRefocusInputAfterSelection:u.shouldRefocusInputAfterSelection},this.search=(0,c.A)(this.search,u.debounceWaitPeriod)}},"CustomSearchWrapper");return m.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:n.A,onSearchError:n.A,searchOnClick:!1,disableSearchOnMount:!1,processOptions:f=>Promise.resolve(f),shouldAllowUnselectInMultiSelectMode:!1,disableIdParsing:!1,autoClogProps:void 0},m.displayName="CustomSearchWrapper",m}h(r,"withCustomSearch")},6881088998:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(343912646);function o(){return o=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(i[d]=r[d])}return i},o.apply(this,arguments)}h(o,"_extends");const n={textSelectLabel:void 0,minOptionsListWidth:null,ariaLabel:""};function c(i){return t.createElement(s.A,o({},i,{textSelect:!0}))}h(c,"TextSelect"),c.displayName="TextSelect",c.defaultProps=n;const l=c},3094355396:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(666771474);const s=h(o=>!o||!Array.isArray(o)?!1:o.some(n=>(0,t.hH)(n)),"__WEBPACK_DEFAULT_EXPORT__")},4632311331:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(9113979368),s=e(2101927269),o=e(1492910739),n=e(2691514942);function c(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if((0,t.A)(l))return!1;const i=(0,s.A)(l,a=>(a&&!a.message&&(0,o.Cu)()&&(0,n.Wo)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${a.id}, message: ${a.message}}`),a&&!!a.message));return!(0,t.A)(i)}h(c,"__WEBPACK_DEFAULT_EXPORT__")},5244320769:(B,A,e)=>{"use strict";e.d(A,{I:()=>i,t:()=>a});var t=e(3464783934);const s=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],o=new RegExp(`[${s}]`),n=new RegExp(`<(${t.gy})>`,"i"),c=new RegExp(`\\((${t.gy})\\)`,"i"),l=/(?=\s+[@\uFF20])/g;function i(r,d){let m=[];return d!=null&&d.entities&&(d!=null&&d.entities.members)&&typeof(d==null?void 0:d.entities.members)!="boolean"&&(d!=null&&d.entities.members.matchEmailField)&&(n.test(r)||c.test(r))?m=r.match(new RegExp(t.tN.CONTAINS_EMAIL,"gi")):o.test(r)?m=r.split(o):d!=null&&d.fromMetadata?m=r.split(/\s+/):d!=null&&d.entities&&d.entities.members&&l.test(r)&&(m=r.split(l)),(!m||!m.length)&&(m=r.split(/\s+/)),m.map(f=>f.trim()).filter(f=>Boolean(f))}h(i,"defaultSplitQuery");function a(r,d){let m=r;if(d!=null&&d.entities&&(d!=null&&d.entities.members)&&typeof(d==null?void 0:d.entities.members)!="boolean"&&(d!=null&&d.entities.members.matchEmailField)&&t.tN.CONTAINS_EMAIL.test(r)){var f;m=(f=r.match(t.tN.CONTAINS_EMAIL))===null||f===void 0?void 0:f[0]}return m}h(a,"parseQueryForSearch")},666771474:(B,A,e)=>{"use strict";e.d(A,{Cz:()=>s,gW:()=>o,hH:()=>n,iC:()=>t});function t(c){return!!(c!=null&&c.isLoading)}h(t,"isOptionLoading");function s(c){return!!(c!=null&&c.isUnknown)}h(s,"isOptionUnknown");function o(c){return!!(c!=null&&c.isError)}h(o,"isOptionError");function n(c){return t(c)||s(c)||o(c)}h(n,"isOptionUnresolved")},1067385359:(B,A,e)=>{"use strict";e.d(A,{k:()=>s});var t=e(3496839845);const s=h(function(o,n){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.filterQuery===void 0?n:{...n,options:(0,t.A)(o,n.filterQuery,c)}},"defaultFilter")},7049210157:(B,A,e)=>{"use strict";e.d(A,{A:()=>o,e:()=>s.e});var t=e(3435436722),s=e(1471642619);const o=t.A},3435436722:(B,A,e)=>{"use strict";e.d(A,{A:()=>y});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5950652755),c=e(7715417323),l=e(338698394),i=e(3889339349),a=e(7724944080),r=e(1902569286),d=e(1471642619);function m(){return m=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(C[_]=M[_])}return C},m.apply(this,arguments)}h(m,"_extends");const f=1,u=10,E=10,v=2,g=12,T=50;let p=h(class extends t.PureComponent{componentDidMount(){if(this.state.isOpen){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.document.addEventListener("mousemove",this.onMouseMove)}}static getDerivedStateFromProps(I,M){return I.isOpen!==M.passedIsOpen?{isOpen:I.isOpen,passedIsOpen:I.isOpen}:null}componentDidUpdate(I){if(I.isOpen!==this.props.isOpen)if(this.state.isOpen){var M;this.forceUpdate(),(M=this.context.windowRef.deref())===null||M===void 0||M.document.addEventListener("mousemove",this.onMouseMove)}else{var _;(_=this.context.windowRef.deref())===null||_===void 0||_.document.removeEventListener("mousemove",this.onMouseMove)}this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(I){const M={x:I.clientX-I.movementX,y:I.clientY-I.movementY},_={x:I.clientX,y:I.clientY},P=this.mouseProgressingTowardsSubmenu(M,_);if(P!==this.state.mouseProgressingTowardsSubmenu){if(P){var b,S;(S=(b=this.props).preventHighlightChange)===null||S===void 0||S.call(b)}else if(!this.state.highlightChangePrevented){var N,L;(L=(N=this.props).allowHighlightChange)===null||L===void 0||L.call(N)}}this.setState(()=>({mouseProgressingTowardsSubmenu:P}))}onSubmenuItemSelected(I,M){var _,P;(P=(_=this.props).menuCallback)===null||P===void 0||P.call(_,this.props.menuCallbackId||0,M)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const I=this.getContentBounds(),M=this.getTriggerBounds(),_={...this.props.submenuStyle},P=this.context.windowRef.deref();if((I==null?void 0:I.width)===void 0||(M==null?void 0:M.left)===void 0||!P)return _;const b=M.right+I.width>P.innerWidth,S=M.left>I.width,N=this.props.forceLeft||b&&S;b&&!S?_.left=P.innerWidth-I.width-u:N?_.left=M.left-I.width+v:_.left=M.right-v;const D=M.top-g,k=D+I.height>P.innerHeight-E;return _.top=k?P.innerHeight-E-I.height:D,_}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(I){this.submenuContainer=I}setTriggerRef(I){this.trigger=I}allowHighlightChange(){this.setState(I=>({...I,highlightChangePrevented:!1}))}closeSubmenu(){var I,M;(M=(I=this.props).returnKBNav)===null||M===void 0||M.call(I),this.setState(()=>({isOpen:!1}),()=>{var _;(_=this.context.windowRef.deref())===null||_===void 0||_.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(I,M){const _=this.getContentBounds();if(!_)return!1;const{left:P,right:b,top:S,bottom:N}=_;if(M.x>=P&&M.x<=b&&M.y>=S&&M.y<=N)return!0;if(!I)return!1;const D=Math.abs(b-I.x)>Math.abs(P-I.x),k={x:D?P:b,y:S-f},x={x:D?P:b,y:N+f},R={x:D?I.x-f:I.x+f,y:I.y};return(0,a._i)(M,R,k,x)}preventHighlightChange(){this.setState(I=>({...I,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const I=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),M=this.getSubmenuContainerStyle(),_=o()("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return t.createElement("div",{role:"presentation",className:_,ref:this.setSubmenuRef,style:M,"data-qa":"submenu_container"},I)}render(){const{menuCallback:I,menuCallbackId:M,..._}=this.props;return t.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},t.createElement(r.A,m({},_,{withSubmenu:!0})),this.renderSubmenu())}constructor(I){super(I),this.state={isOpen:!1,passedIsOpen:!1,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},(0,i.v)(this,["closeSubmenu","setSubmenuRef","setTriggerRef","onSubmenuItemSelected","preventHighlightChange","allowHighlightChange"]),this.onMouseMove=(0,n.A)(this.onMouseMove.bind(this),T)}},"Submenu");p.defaultProps={isOpen:!1,menuCallback:c.A,menuCallbackId:0,kbNavActive:!1,returnKBNav:c.A,preventHighlightChange:c.A,allowHighlightChange:c.A,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,icon:null},p.contextType=l._0,p.displayName="Submenu";const O={Submenu:p,SUBMENU_OVERLAP:v,MENU_VERTICAL_MARGIN:g,ALLOWANCE_X:u,ALLOWANCE_Y:E},y=(0,d.A)(p)},1471642619:(B,A,e)=>{"use strict";e.d(A,{A:()=>n,e:()=>o});var t=e(4952406787);const s="_isSlackSubmenuItem";function o(c){return!!c&&c[s]===!0}h(o,"isSubmenu");function n(c){return c[s]=!0,c[t.KJ]=!0,c}h(n,"wrapSubmenu")},4567036992:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s);function n(){return n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(i[d]=r[d])}return i},n.apply(this,arguments)}h(n,"_extends");const l=(0,t.forwardRef)((i,a)=>{let{tabContent:r,fullHeight:d,className:m,role:f="tabpanel",...u}=i;const E=o()(m,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":d});return t.createElement("div",n({role:f,className:E,"data-qa":"tabs_content_container",ref:a},u),r)})},4606779211:(B,A,e)=>{"use strict";e.d(A,{T:()=>o});var t=e(3134334389);const s={isSelected:!1,hasMouseHover:!1,hasKeyboardFocus:!1,isUserAttentionOnTab:!1},o=(0,t.createContext)(s)},705678946:(B,A,e)=>{"use strict";e.d(A,{A:()=>_});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8628145494),c=e(9268023148),l=e(3349796254),i=e(556174072),a=e(921490381),r=e(8121829996);function d(P){return/\.(jpe?g|png|gif|bmp)$/i.test(P)}h(d,"hasImageExtention");const m=d;var f=e(3254286694),u=e(6154618221),E=e(8804120515),v=e(5181078482),g=e(6369345880),T=e(5190921192),p=e(4606779211);function O(){return O=Object.assign||function(P){for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(P[N]=S[N])}return P},O.apply(this,arguments)}h(O,"_extends");const y=h(P=>{let{icon:b,svgIcon:S,customIcon:N,className:L}=P;return t.createElement("div",{className:L,"data-qa":"tabs_item_render_icon"},!N&&b&&!S&&t.createElement(g.A,{type:b,size:"inherit",inline:!0}),!N&&S&&!b&&t.createElement(T.A,O({},S)),N&&N)},"TabsItemIcon");y.displayName="TabsItemIcon";const C=h(P=>P>=1e4?(0,a.$k)(P,{precision:4,decimal_places:0,lowercase:!0}):(0,r.Ay)(P),"formatNumber"),I=h(P=>{let{shouldFormatCount:b,titleCount:S,maxTitleCount:N}=P;if(!S)return S;const L=N&&S>N;let D=L?N:S;return b&&(D=C(D)),L?`${D}+`:D},"formatCount"),M=(0,t.forwardRef)((P,b)=>{let{label:S,onClick:N,title:L,isSelected:D,isFocused:k,focusOnMount:x,fullWidth:R,titleCount:U,maxTitleCount:F,icon:W,svgIcon:w,customIcon:K,formatCount:j,isLoading:Q,isHidden:J,isCountLoading:z,isDisabled:ie,iconPosition:ee="right",className:ne="",contextMenuAriaLabel:Z,contextMenuTemplate:te,ariaRole:he="tab",ariaHaspopup:ue=!1,iconSpacing:de=!0,...re}=P;const V=(0,l.A)(b),[H,X]=(0,t.useState)(!1),Y=(0,t.useContext)(f.A),q=o()(ne,"c-tabs__tab","js-tab",{"c-tabs__tab--active":D,"c-tabs__tab--full_width":R}),fe=S||L,ce=typeof fe=="string"&&m(fe)?t.createElement(E.A,{classes:"c-tabs__tab_image",image:fe,ariaHidden:!0}):fe,Ee=re.id,Ae=(0,t.useCallback)($=>{N&&N(Ee,$)},[Ee,N]),le=I({shouldFormatCount:j,titleCount:U,maxTitleCount:F}),oe=(0,n.A)(k)?D:k,me=(0,i.A)(oe);(0,t.useEffect)(()=>{if(!oe)return;const $=(0,n.A)(me);if(($||!J)&&x||!$&&!me){var ae;(ae=V.current)===null||ae===void 0||ae.focus()}},[oe,me,x,V,J]);const pe=(0,t.useCallback)(()=>te,[te]),Te=(0,c.A)(()=>X(!0),25),Me=(0,c.A)(()=>X(!1),25),Ue=(0,t.useCallback)(()=>{Me.cancel(),Te()},[Te,Me]),xe=(0,t.useCallback)(()=>{Te.cancel(),Me()},[Te,Me]),Ne=Y&&(k??!1),be=(0,t.useMemo)(()=>({isSelected:D??!1,hasMouseHover:H,hasKeyboardFocus:Ne,isUserAttentionOnTab:D||H||Ne}),[Ne,H,D]),ke=de?"c-tabs__tab_icon--right":"";let Ke=t.createElement(v.Nm,O({},re,{onClick:Ae,onMouseOver:Ue,onMouseOut:xe,role:he,className:q,"aria-haspopup":ue,tabIndex:oe?0:-1,disabled:ie,ref:V},he!=="button"?{"aria-selected":D}:{}),Q?t.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.createElement(t.Fragment,null,(!!W||!!w||!!K)&&ee==="left"&&t.createElement(y,{icon:W,svgIcon:w,customIcon:K,className:"c-tabs__tab_icon--left"}),t.createElement("span",{className:"c-tabs__tab_content"},ce),Number.isFinite(U)&&t.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},le),z&&t.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!W||!!w||!!K)&&ee==="right"&&t.createElement(y,{icon:W,svgIcon:w,customIcon:K,className:ke})));return te&&(Ke=t.createElement(u.A,{getTemplate:pe,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",menuAriaLabel:Z},Ke)),t.createElement(p.T.Provider,{value:be},Ke)});M.displayName="TabsItem";const _=M},9929095917:(B,A,e)=>{"use strict";e.d(A,{A:()=>ee});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(9304888665),l=e(4616306996),i=e(3078252698);const r=h(ne=>(0,i.A)(ne),"isReactNodeAString");var d=e(3889339349),m=e(3177283514),f=e(1492910739),u=e(9682034663),E=e(792745812),v=e(2947229296),g=e(4262473691),T=e(6216408461),p=e(1755876516),O=e(5190921192),y=e(705678946),C=e(9006442414);const I={name:"ellipsis-horizontal-filled"},M={name:"caret-down"},_=new v.Ay("channel_sidebar"),b=(0,t.forwardRef)((ne,Z)=>{let{renderMenu:te,position:he,id:ue,isSelected:de,isFocused:re,tooltipLabel:V,useDescriptiveOverflowTabLabel:H}=ne;const X=_.t("More"),Y=H?M:I;return t.createElement(T.cQ,{renderMenu:te,position:he||"bottom-left"},H?t.createElement(y.A,{label:X,id:ue,"aria-label":V,isSelected:de,isFocused:re,className:"c-tabs__tab_overflow",svgIcon:Y,ref:Z,iconSpacing:!1}):t.createElement(C.Ay,{tip:V,position:"top",offsetY:6},t.createElement(y.A,{id:ue,"aria-label":V,isSelected:de,isFocused:re,className:"c-tabs__tab_overflow",svgIcon:Y,ref:Z})))});var S=e(5238395322);const N=53,L=27;function D(ne){const Z=ne.ownerDocument.defaultView;if(!Z)return ne.offsetWidth;const te=Z.getComputedStyle(ne),he=parseFloat(te.getPropertyValue("margin-left"))+parseFloat(te.getPropertyValue("margin-right"));return ne.offsetWidth+he}h(D,"getWidth");function k(ne){const Z=ne.ownerDocument.defaultView;if(!Z)return ne.offsetHeight;const te=Z.getComputedStyle(ne),he=parseFloat(te.getPropertyValue("margin-top"))+parseFloat(te.getPropertyValue("margin-bottom"));return ne.offsetHeight+he}h(k,"getHeight");const x=h((ne,Z)=>{let{outerElement:te,innerElement:he,threshold:ue,totalTabsLength:de,childElements:re,containerSize:V,isHorizontal:H}=ne;if(!te||!he||!re||de===0)return;const X=V-ue,Y=H?D:k,q=Array.from(re).map(le=>Y(le));if((0,S.A)(q)<X&&q.length===de){Z(de);return}let ce=H?N:L,Ee=X,Ae=0;q.forEach(le=>{ce<X&&le<=Ee&&(Ae+=1),ce+=le,Ee-=le}),Z(Ae)},"recalculateVisibleTabs");var R=e(4567036992),U=e(2691514942);function F(){return F=Object.assign||function(ne){for(var Z=1;Z<arguments.length;Z++){var te=arguments[Z];for(var he in te)Object.prototype.hasOwnProperty.call(te,he)&&(ne[he]=te[he])}return ne},F.apply(this,arguments)}h(F,"_extends");const W=new v.Ay("slack-kit"),w=85,K=52,j=["ArrowLeft"],Q=["ArrowRight"],J=j.concat("ArrowUp"),z=Q.concat("ArrowDown");let ie=h(class extends t.PureComponent{setVisibleTabs(Z){this.setState(()=>({numOfVisibleTabsShown:Z}))}onResize(){var Z,te,he,ue,de,re,V,H,X,Y;const q=this.props.orientation===c.t4.Horizontal,fe=q?(Z=this.tabsContainerRef)===null||Z===void 0||(te=Z.current)===null||te===void 0?void 0:te.clientWidth:(he=this.tabsContainerRef)===null||he===void 0||(ue=he.current)===null||ue===void 0?void 0:ue.clientHeight;if(!fe)return;const ce=q?w:K,Ee={outerElement:(de=this.tabsContainerRef)===null||de===void 0||(re=de.current)===null||re===void 0?void 0:re.getBoundingClientRect(),innerElement:(V=this.lastVisibleTabRef)===null||V===void 0||(H=V.current)===null||H===void 0?void 0:H.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(X=this.tabsContainerRef)===null||X===void 0||(Y=X.current)===null||Y===void 0?void 0:Y.children};x({...Ee,threshold:ce,containerSize:fe,isHorizontal:q},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}),()=>{var Ae,le;return(le=(Ae=this.props).onTabsResized)===null||le===void 0?void 0:le.call(Ae)})}componentDidMount(){this._isMounted=!0;const{maxSize:Z}=this.props;if(Z&&!this.resizeListener){var te;this.resizeListener=(0,E.A)(this.onResize),this.resizeListener.observe((te=this.tabsContainerRef)===null||te===void 0?void 0:te.current)}}componentDidUpdate(Z,te){var he;const{defaultTabId:ue,tabs:de,currentTabId:re,manualTabActivation:V}=this.props,{numOfVisibleTabsShown:H,selectedTabId:X}=this.state;var Y;((Y=(he=Z.tabs)===null||he===void 0?void 0:he.length)!==null&&Y!==void 0?Y:0)!==de.length&&this.updateSelectedTab(),Z.currentTabId!==re&&this.updateSelectedTab(),ue!==Z.defaultTabId&&ue&&this.selectTab(ue,void 0);const q=te.numOfVisibleTabsShown!==H,fe=te.selectedTabId!==X&&!V;(q||fe)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var Z;(Z=this.resizeListener)===null||Z===void 0||Z.disconnect(),this.resizeListener=null}}onFocus(Z){const{focusedTabIndex:te}=this.state,he=this.getTabIndexById(Z.target.id);if(he===-1)return;he!==te&&this.focusTab(he);const{onFocus:ue}=this.props;ue==null||ue(Z)}onBlur(Z){const{onBlur:te}=this.props;te==null||te(Z)}onKeyDown(Z){const te=Z.key;if(Z.shiftKey||Z.metaKey||Z.ctrlKey||Z.altKey)return;const ue=this.props.orientation==="vertical",de=ue?z:Q,re=ue?J:j;if(!["Home","End"].concat(de,re).includes(te))return;const H=de.includes(te),X=re.includes(te);Z.preventDefault(),H&&this.onNextArrow(Z),X&&this.onPreviousArrow(Z),te==="Home"&&this.onHome(Z),te==="End"&&this.onEnd(Z)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:Z}=this.props,{numOfVisibleTabsShown:te}=this.state;return Z.slice(te,Z.length)}getVisibleTabs(){var Z,te;const{tabs:he,maxSize:ue}=this.props;if(!!!ue)return he;const re=((Z=this)===null||Z===void 0||(te=Z.state)===null||te===void 0?void 0:te.numOfVisibleTabsShown)||he.length;return he.length===re?he:he.slice(0,re).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(Z=>{let{id:te}=Z;return te})}getTabById(Z){var te;return(te=this.props.tabs)===null||te===void 0?void 0:te.find(he=>he.id===Z)}getTabIndexById(Z){return this.getVisibleTabIds().indexOf(Z)}onHome(Z){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:te,manualTabActivation:he,onTabChange:ue}=this.props,de=this.getVisibleTabIds(),re=0;if(this.focusTab(re),he)return;const V=de[re];V!==this.overflowTabId&&(te==null?void 0:te(V))!==!1&&this.setState(()=>({selectedTabId:V}),()=>{ue==null||ue(V,Z)})}onEnd(Z){const te=this.getVisibleTabIds(),he=te.length-1;if(this.state.focusedTabIndex===he)return;const{onTabWillChange:ue,manualTabActivation:de,onTabChange:re}=this.props;if(this.focusTab(he),de)return;const V=te[he];V!==this.overflowTabId&&(ue==null?void 0:ue(V))!==!1&&this.setState(()=>({selectedTabId:V}),()=>re==null?void 0:re(V,Z))}onNextArrow(Z){const{onTabWillChange:te,manualTabActivation:he,onTabChange:ue}=this.props,de=this.getVisibleTabIds(),re=this.getTabIndexById(Z.target.id),V=re>=de.length-1?0:re+1;if(this.focusTab(V),he)return;const H=de[V];H!==this.overflowTabId&&(te==null?void 0:te(H))!==!1&&this.setState(()=>({selectedTabId:H}),()=>ue==null?void 0:ue(H,Z))}onPreviousArrow(Z){const{onTabWillChange:te,manualTabActivation:he,onTabChange:ue}=this.props,de=this.getVisibleTabIds(),re=this.getTabIndexById(Z.target.id),V=re===0?de.length-1:re-1;if(this.focusTab(V),he)return;const H=de[V];H!==this.overflowTabId&&(te==null?void 0:te(H))!==!1&&this.setState(()=>({selectedTabId:H}),()=>ue==null?void 0:ue(H,Z))}getNextTabId(){const{defaultTabId:Z,tabs:te,currentTabId:he}=this.props,ue=Z?this.getTabIndexById(Z):void 0,de=he?this.getTabIndexById(he):void 0;return he&&de?he:Z&&ue?Z:te[0].id}activePanelTabId(){return this.props.currentTabId||this.state.selectedTabId}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const Z=this.getNextTabId();Z!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:Z}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:Z}=this.selectedTabRef;if(Z)return Z.focus(),!0;const te=this.activePanelTabId(),he=this.getTabIndexById(te);return this.focusTab(he!==-1?he:0),!0}focusTab(Z){this.setState(()=>({focusedTabIndex:Z}))}selectTab(Z,te){const{onTabWillChange:he,onTabChange:ue}=this.props,de=this.getTabById(Z);if(!de)return null;if((he==null?void 0:he(Z))!==!1){if(de.isExternalLink){var re;return(re=de.onClick)===null||re===void 0?void 0:re.call(de,Z,te)}return this.setState(()=>({selectedTabId:Z}),()=>{if(ue==null||ue(Z,te),this.props.focusOnFirstFocusableChildOnChange){const V=this.panelRef&&this.panelRef.current,H=(0,u.Fp)(V);H==null||H.focus()}}),null}}updateFocusedTabIndex(){const Z=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(Z)}))}onTabClick(Z,te){var he;const ue=this.getTabById(Z);ue&&(ue.isExternalLink||this.selectTab(ue.id,te),ue==null||(he=ue.onClick)===null||he===void 0||he.call(ue,ue.id,te))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabTooltipLabel(Z){const te=W.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return te;const he=this.getTabById(Z);if(!he)return te;const ue=he["aria-label"]||he.label||he.title;return!ue||!r(ue)?te:W.t("More: {selectedTabLabel}",{selectedTabLabel:ue,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(Z,te){const{tabs:he,fullWidthMenu:ue,orientation:de,iconPosition:re,focusOnMount:V,useDescriptiveOverflowTabLabel:H}=this.props,{focusedTabIndex:X,selectedTabId:Y}=this.state,q=X===te,fe=this.getTabIndexById(Y)===te?this.selectedTabRef:void 0,ce=Z.autoClogProps?{...this.autoClogProps,...Z.autoClogProps,elementType:l.R.TAB}:this.autoClogProps,Ee=te===he.length-1?this.lastVisibleTabRef:void 0,Ae=Ee?(0,m.A)(fe,Ee):fe,oe=this.activePanelTabId()===Z.id;return Z.id===this.overflowTabId?t.createElement(b,{renderMenu:this.renderOverflowMenu,position:"bottom-left",useDescriptiveOverflowTabLabel:H,tooltipLabel:this.renderOverflowTabTooltipLabel(Y),isSelected:!this.isSelectedTabVisible(),isFocused:q,ref:Ae,id:Z.id,key:Z.id}):t.createElement(y.A,{key:Z.id,id:Z.id,icon:Z.icon,svgIcon:Z.svgIcon,customIcon:Z.customIcon,label:Z.label||Z.title,onClick:this.onTabClick,autoClogProps:ce,isSelected:oe,isFocused:q,focusOnMount:V,isDisabled:Z.isDisabled,fullWidth:ue||de==="vertical",titleCount:Z.titleCount,maxTitleCount:Z.maxTitleCount,"aria-label":Z["aria-label"],"aria-describedby":Z["aria-describedby"],"data-qa":Z["data-qa"]||"tabs_item","aria-haspopup":Z["aria-haspopup"],ref:Ae,formatCount:this.props.formatCount,isLoading:Z.isLoading,isHidden:this.isHidden,isCountLoading:Z.isCountLoading,iconPosition:re,className:Z.className,contextMenuAriaLabel:Z.contextMenuAriaLabel,contextMenuTemplate:Z.contextMenuTemplate})}renderTabsItems(){return this.getVisibleTabs().map((te,he)=>{typeof te.label!="string"&&!t.isValidElement(te.label)&&typeof te.title!="string"&&!t.isValidElement(te.title)&&!te["aria-label"]&&((0,f.Cu)()||(0,f.b3)())&&(0,U.Wo)().error("Tabs requires either a label of type string, or an aria-label.");const ue=this.renderTabsItem(te,he);return te.renderWrapper?t.createElement(t.Fragment,{key:te.id},te.renderWrapper(ue)):ue})}renderOverflowMenu(Z){var te;const{selectedTabId:he}=this.state,ue=(te=this.getHiddenTabs())===null||te===void 0?void 0:te.map(de=>({label:de.label||de.title,id:de.id,click:re=>this.onTabClick(de.id,re),key:de.id,type:p.A.radio,checked:de.id===he,icon:de.svgIcon?t.createElement(O.A,F({size:"18"},de.svgIcon)):null,className:"c-tabs__tab_overflow_menu_item"}));return t.createElement(T.a,F({width:"200px"},Z,{template:ue}))}activeTabPanelLabel(){const Z=this.getTabById(this.activePanelTabId());if(!Z)return;const te=Z["aria-label"]||Z.label||Z.title;if(r(te))return te}activeTabPanelAriaLabelledBy(){const Z=this.getTabById(this.activePanelTabId());return Z==null?void 0:Z["aria-labelledby"]}render(){var Z;const{fullHeight:te,fullWidthMenu:he,className:ue,orientation:de,tabMenuClassnames:re,tabPanelClassnames:V,ariaLabel:H,maxSize:X}=this.props,Y=this.activePanelTabId();var q;const fe=(q=(Z=this.getTabById(Y))===null||Z===void 0?void 0:Z.content)!==null&&q!==void 0?q:"",ce=o()(ue,{"c-tabs__tab_container--full_height":te,"c-tabs__tab_container--vertical":de==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!X}),Ee=o()(re,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":he,"c-tabs__tab_menu--vertical":de==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),Ae=o()(V,{"c-tabs__tab_panel--vertical":de==="vertical"});return t.createElement("div",{className:ce,"data-qa":"tabs_full_height_class"},t.createElement("div",{role:"tablist",className:Ee,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,"aria-orientation":de,"aria-label":H,ref:this.tabsContainerRef},this.renderTabsItems()),fe&&t.createElement(R.A,{tabContent:fe,fullHeight:te,ref:this.panelRef,className:Ae,"aria-labelledby":this.activeTabPanelAriaLabelledBy(),"aria-label":this.activeTabPanelLabel()}))}constructor(Z){var te;super(Z),(0,d.v)(this,["onKeyDown","onFocus","onBlur","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.selectedTabRef=t.createRef(),this.panelRef=t.createRef(),this.tabsContainerRef=t.createRef(),this.lastVisibleTabRef=t.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,Z.autoClogProps&&(this.autoClogProps={...Z.autoClogProps,elementType:l.R.TAB});const he=Z.currentTabId||Z.defaultTabId||((te=Z.tabs[0])===null||te===void 0?void 0:te.id),ue=this.getTabIndexById(he);this.state={selectedTabId:he,focusedTabIndex:ue!==-1?ue:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${(0,g.A)()}`}},"Tabs");ie.defaultProps={onTabChange:n.A,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0},ie.displayName="Tabs";const ee=ie},9620293839:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>n,N9:()=>o.A,Qg:()=>s.A});var t=e(4317455038),s=e(489260333),o=e(4671885296);const n=t.A},489260333:(B,A,e)=>{"use strict";e.d(A,{A:()=>r,u:()=>a});var t=e(3134334389),s=e(2947229296),o=e(3254286694),n=e(5181078482),c=e(4845010423),l=e(7264057664);const i=new s.Ay("toast");var a;(function(d){d.Error="Error",d.Information="Information",d.Warning="Warning"})(a||(a={}));const r=(0,t.forwardRef)((d,m)=>{let{children:f,duration:u=6e3,buttonText:E,buttonType:v=c.Q.outline,buttonIcon:g,onButtonClick:T,type:p,svgIconProps:O,toastClasses:y,offsetY:C,onCloseComplete:I,shouldSkipToastDismissal:M,svgIconClassName:_,closeButtonClasses:P,customButton:b,forceFocusAfterRender:S=!1}=d;const N=(0,t.useContext)(o.A),L={[a.Error]:i.t("Error"),[a.Information]:i.t("Information"),[a.Warning]:i.t("Warning")},D=p&&L[p];return t.createElement(l.Ay,{forceFocusAfterRender:N||S,fadeDelay:u,role:"dialog","aria-label":D,shouldSkipToastDismissal:M,svgIconClassName:_,svgIconProps:O,toastClasses:y,offsetY:C,onCloseComplete:I,closeButtonClasses:P,ref:m},t.createElement("div",null,f),b||t.createElement(n.Ay,{type:v,icon:g,onClick:T,size:"small"},E))})},4671885296:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(338698394),o=e(1739415438),n=e(9062511843),c=e(7874250141),l=e(280840163),i=e(6924323538),a=e(1996174748),r=e(7418708689);const d="TOAST",m=t.memo(u=>{const E=(0,l.d4)(c.JY),v=(0,n.A)(),{windowId:g=r.N2}=(0,t.useContext)(s._0);var T;const p=(T=u.windowId)!==null&&T!==void 0?T:g,O=(0,l.d4)(I=>(0,a.HL)(I,p)),y=(0,l.d4)((0,t.useCallback)(I=>(0,a.Ly)(I,p),[p])),C=(0,t.useMemo)(()=>(0,a.c8)(E,p),[E,p]);return(0,t.useEffect)(()=>(i.lv[C]&&v.error(d,"ToastContainer already mounted -- should only be one instance at a time"),i.lv[C]=!0,()=>{delete i.lv[C]}),[C,v]),y?t.cloneElement(y,{key:O}):null});m.displayName="ToastContainer";const f=(0,o.A)(m)},4317455038:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(5117478290),o=e(7264057664);const n=h(c=>{let{children:l,duration:i,svgIconProps:a,toastClasses:r,position:d,offsetX:m,offsetY:f,showCloseButton:u,onCloseComplete:E,shouldAutoFade:v,shouldSkipToastDismissal:g,closeButtonClasses:T,svgIconClassName:p,announceContentAsAssertive:O}=c;return t.createElement(o.Ay,{fadeDelay:i,svgIconClassName:p,svgIconProps:a,toastClasses:r,offsetX:m,offsetY:f,position:d,showCloseButton:u,onCloseComplete:E,shouldAutoFade:v,shouldSkipToastDismissal:g,closeButtonClasses:T},t.createElement(s.z,{assertive:O},l))},"Toast");n.displayName="Toast",n.defaultProps={duration:6e3}},2702069338:(B,A,e)=>{"use strict";e.d(A,{A:()=>K});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(5375489720),l=e(4491905764),i=e(2848133605),a=e(4959737713),r=e(9254931471),d=e(1251379633),m=e(5958324413),f=e(4801207065),u=e(9228839553),E=e(5279500834),v=e(4125496918),g=e(8859166048),T=e(796726665),p=e(5248257622),O=e(5478938623),y=e(7089278202),C=e(6369345880),I=e(5190921192),M=e(9006442414),_=e(3223990792),P=e(3299124106),b=e(6251135763),S=e(2416140797),N=e(4328187452),L=e(907002960),D=e(289822669),k=e(6761585902),x=e(7152924807),R=e(3351247794),U=e(3666777625);function F(){return F=Object.assign||function(j){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q];for(var z in J)Object.prototype.hasOwnProperty.call(J,z)&&(j[z]=J[z])}return j},F.apply(this,arguments)}h(F,"_extends");let W=h(class extends t.Component{renderChannelToken(Q){const{channel:J,showMemberCounts:z,isSelected:ie,channelHasNonUniqueName:ee}=this.props;let ne;return(0,g.LI)(J)?ne=t.createElement(r.Ay,{id:(0,p.e)(J),className:"c-token_channel"}):(0,g.yz)(J)?ne=t.createElement(d.A,{mpim:J,className:"c-token_channel",isActive:ie}):ne=t.createElement(i.A,{channel:J,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:z,showTeamForLocalChannel:ee}),t.createElement("span",{className:Q,"data-qa":"token_channel"},ne)}renderContent(){const{isLoading:Q,isUnknown:J,isError:z,isMemberError:ie,isTeamError:ee,isInvalid:ne,channel:Z,memberId:te,teamName:he,userGroupId:ue,channelSection:de,contentInnerClassName:re,emailTeam:V,fileId:H}=this.props;let X=o()("c-token_content__inner",re);return Q&&!ne?(X+=" c-token_content__inner--loading",this.renderLoadingToken(X)):J?(X+=" c-token_content__inner--unknown",this.renderUnknownToken(X)):z?(X+=" c-token_content__inner--error",this.renderErrorToken(X)):V?(X+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(X)):te&&ie?(X+=" c-token_content__inner--error",this.renderMemberErrorToken(X)):te?(X+=" c-token_content__inner--member",this.renderMemberToken()):Z?this.renderChannelToken(X):he&&ee?(X+=" c-token_content__inner--error",this.renderTeamErrorToken(X)):he?(X+=" c-token_content__inner--team",this.renderTeamToken(X)):de?(X+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(X)):ue?(X+=" c-token_content__inner--usergroup",this.renderUserGroupToken(X)):H?this.renderFileToken():this.renderPlainToken(X)}renderErrorToken(Q){const{label:J,size:z}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__error_icon_container"},t.createElement(I.A,{size:"18",name:"warning","data-qa":"token_error_icon"})),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_error"},t.createElement(v.A,{text:J,inputIsEscaped:!0,emojiSize:z==="small"?E.lw.SMALL:E.lw.MEDIUM})))}renderLoadingToken(Q){const{size:J,label:z}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__loading_icon_container"},t.createElement(y.A,F({},J?{size:J}:{},{"data-qa":"token_loading_icon"}))),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_loading"},z))}renderMemberToken(){const{forceRealName:Q,isDisabled:J,memberId:z,size:ie,hasNoAccess:ee,forceAvatarPresenceIndicator:ne}=this.props;return t.createElement(r.Ay,{id:z,isDeactivated:J,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:Q,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:ie,hasNoAccess:ee,forceAvatarPresenceIndicator:ne})}renderMemberErrorToken(Q){const{forceRealName:J,isDisabled:z,memberId:ie,size:ee}=this.props;return t.createElement(r.Ay,{id:ie,isDeactivated:z,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:J,showStatus:!1,className:o()(Q,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:ee})}renderFileToken(){const{fileId:Q}=this.props;return Q?t.createElement(a.A,{id:Q,className:"padding_left_25 padding_right_25"}):null}renderIcon(){const{icon:Q,svgIcon:J}=this.props;return J?t.createElement("span",{className:"c-token_content__icon"},t.createElement(I.A,F({"data-qa":"token_plain_icon",inline:!0,size:"inherit"},J))):Q?t.createElement(C.A,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:Q,inline:!0}):null}renderPlainToken(Q){const{label:J,size:z}=this.props;return t.createElement("span",{className:Q},this.renderIcon(),t.createElement(_.A,{lines:1,withTooltip:!0},t.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.createElement(v.A,{text:J,inputIsEscaped:!0,emojiSize:z==="small"?E.lw.SMALL:E.lw.MEDIUM}))))}renderEmailTokenWithTeamIcon(Q){const{icon:J,label:z,emailTeam:ie}=this.props;return t.createElement("span",{className:Q},J&&t.createElement(C.A,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:J,inline:!0}),t.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.createElement(v.A,{text:z,inputIsEscaped:!0,emojiSize:E.lw.MEDIUM})),ie&&t.createElement("span",{className:"c-member__secondary_content"},t.createElement(f.A,{team:ie,"data-qa":"token_email_with_team_icon",size:r.Cg,className:"c-member__team_icon"})))}renderTeamToken(Q){const{teamId:J,teamName:z}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(f.A,{id:J,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_team_name"},z))}renderTeamErrorToken(Q){const{teamId:J,teamName:z}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(f.A,{id:J,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_team_name_error"},z))}renderChannelSectionToken(Q){const{channelSection:J}=this.props;return J?t.createElement("span",{className:o()(Q,"c-token_content__label")},t.createElement(u.A,{channelSection:J})):null}renderUnknownToken(Q){const{label:J}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__unknown_icon_container"},t.createElement(I.A,{size:"18",name:"emoji-missing-filled","data-qa":"token_unknown_icon"})),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_unknown"},J))}renderUserGroupToken(Q){const{userGroupId:J}=this.props;return t.createElement(m.A,{id:J,showDescription:!1,className:o()(Q,"c-token_content__label")})}render(){const{isDisabled:Q,isInvalid:J,isError:z,memberId:ie,isMemberError:ee,isTeamError:ne,isUnknown:Z,isLoading:te,isSelected:he,size:ue,hoverText:de,tabIndex:re,contentEditable:V,className:H,onMouseDown:X,enableProfileHoverCard:Y,customizeProfileHoverCardProps:q,isRestricted:fe}=this.props,ce=o()("c-token",H,`c-token--${ue}`,{"c-token--selected":he,"c-token--disabled":Q,"c-token--invalid":J,"c-token--restricted":fe,"c-token--error":z||ee||ne,"c-token--unknown":Z,"c-token--loading":te}),Ee=this.renderContent();let Ae=Ee;de&&Ee?Ae=t.createElement(M.Ay,{tip:de},Ee):ie&&Y&&(Ae=(0,P.yN)({...q||{},memberId:ie,children:Ee}));const le=this.props.renderIcon(this.props);return t.createElement("span",{className:ce,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:re,contentEditable:V,onMouseDown:X},t.createElement("span",{className:"c-token__content","data-qa":"token_content"},Ae),le)}},"Token");W.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:l.hu.MEDIUM,renderIcon:n.A,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1},W.displayName="Token";const w=h((j,Q)=>{const{entityId:J,disableIdParsing:z,allowFileToken:ie}=Q;let ee;(0,L.A)(J)&&!z&&(ee=J);let ne,Z;if(((0,c.Ay)(J)||(0,c.JV)(J))&&!z){const V=(0,U._J)(j,J);V&&(ne=J,Z=(0,O.F1)(V))}let te;(0,S.A)(J)&&!z&&(te=(0,x.xe)(j,J));let he;(0,D.A)(J)&&!z&&(he=J);const ue=z?void 0:(0,R.OL)(j,J);let de;if((0,b.A)(J)&&ue){const V=(0,R.MS)(j);de=(0,T.i)(V,ue)}const re=ie&&(0,N.A)(J)?J:void 0;return{channel:ue,memberId:ee,teamName:Z,teamId:ne,userGroupId:he,channelSection:te,channelHasNonUniqueName:de,fileId:re}},"mapStateToProps"),K=(0,k.N)(w,null)(W)},398824776:(B,A,e)=>{"use strict";e.d(A,{A:()=>I,Q:()=>C});var t=e(3134334389),s=e(3078252698),o=e(8786006583),n=e(862210999),c=e(7715417323),l=e(1739415438),i=e(3889339349),a=e(3659369705),r=e(6027310924),d=e(2688958968),m=e(9321047428),f=e(7485973703),u=e(4565338063),E=e(4665139800),v=e(7249918305),g=e(9830534502),T=e(5769372048),p=e(4441142756);function O(){return O=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var b in P)Object.prototype.hasOwnProperty.call(P,b)&&(M[b]=P[b])}return M},O.apply(this,arguments)}h(O,"_extends");const y=21;class C extends T.s{componentDidMount(){super.componentDidMount(),this.determineInitialActiveItem(),this.props.disableKeyboardShortcuts||this.bindKeyboardShortcuts(),this.props.focusOnMount&&this.focus()}componentWillUnmount(){super.componentWillUnmount(),this.unbindKeyboardShortcuts()}componentDidUpdate(_,P){super.componentDidUpdate(_,P);const{activeItem:b,onActiveItemChange:S,disableKeyboardShortcuts:N}=this.props,{activeItem:L,hasKeyboardFocus:D,itemWithVisibleContextMenu:k}=this.state;N&&!_.disableKeyboardShortcuts&&this.unbindKeyboardShortcuts(),!N&&_.disableKeyboardShortcuts&&this.bindKeyboardShortcuts();const x=P.activeItem&&L&&L!==P.activeItem;!this.isScrolling()&&!D&&this.determineInitialActiveItem(),b&&b!==_.activeItem&&(this.setActiveItem(b,!0),this.isItemInView(b)||this.scrollToKey(b)),x&&S(L),this.isScrolling()||this.updateFocusIfPreviouslyFocusedItemWasRemoved(_),!k&&P.itemWithVisibleContextMenu&&this.restoreFocusWhenContextMenuCloses&&(this.restoreFocusWhenContextMenuCloses=!1,this.focus()),this.focusOnNextUpdate&&(this.focusOnNextUpdate=!1,this.focus()),this.focusAfterScrollEnd&&!this.isScrolling()&&(this.focusAfterScrollEnd=!1,this.focus())}bindKeyboardShortcuts(){var _;if(this.keyCommands)return;const P=[{keys:["pageup"],handler:this.onKeyDownPageUp},{keys:["pagedown"],handler:this.onKeyDownPageDown},{keys:["home"],handler:this.onKeyDownHome,action:"keydown"},{keys:["end"],handler:this.onKeyDownEnd,action:"keydown"},{keys:["home"],handler:this.onKeyUpHome,action:"keyup"},{keys:["end"],handler:this.onKeyUpEnd,action:"keyup"},{keys:["up","down"],handler:this.onArrowKeyDown}],b=this.props.keyCommands?P.concat(this.props.keyCommands):P;var S;const N=(S=b==null?void 0:b.map(L=>{const D=L.filter;return{...L,filter:this.shouldIgnoreKeyboardShortcut.bind(this,D)}}))!==null&&S!==void 0?S:[];this.keyCommands=new u.A((_=this.props.windowRef.deref())===null||_===void 0?void 0:_.document),this.keyCommands.bindAll(N)}unbindKeyboardShortcuts(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}determineInitialActiveItem(){const{initialActiveItem:_,keysToExcludeFromRovingTabIndex:P}=this.props,{initialActiveItem:b}=this.state,S=this.getFocusableItemsInView().filter(D=>!P.includes(D));if(S.length===0)return;const N=(0,s.A)(b)&&S.includes(b),L=(0,s.A)(_)&&S.includes(_);if(!L&&!N){this.setInitialActiveItemToFirstItemInView();return}L&&!N&&this.setState(D=>D.initialActiveItem===_?null:{initialActiveItem:_})}updateFocusIfPreviouslyFocusedItemWasRemoved(_){let{keys:P}=_;const{initialActiveItem:b,hasKeyboardFocus:S}=this.state,{keys:N,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:L}=this.props;if(this.props.activeItem||!S||!b)return;const D=P.indexOf(b);if(!(D!==-1&&!N.includes(b))||L&&!L())return;const x=N[D]||(0,o.A)(N);x&&this.focusOnKey(x)}getPageHeight(){const{pageHeight:_,height:P}=this.props;return _||P-y}getKeysForFocusableItems(){const{keys:_,isFocusableItem:P}=this.props;return _.filter((b,S)=>P({index:S,key:b}))}getListItemTabIndex(_){const{hasKeyboardFocus:P,initialActiveItem:b}=this.state,{keysToExcludeFromRovingTabIndex:S,preventTabKeyNavigationIntoList:N}=this.props;return S!=null&&S.includes(_)||!P&&N?-1:b===_?0:-1}onKeyDownPageUp(_){if(_.preventDefault(),this.props.onPageUp(_)===!1)return;const P=this.getScrollTop()-this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(P);return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}this.scrollToAndFocusFirstItemInView(P)}onKeyDownPageDown(_){if(_.preventDefault(),this.props.onPageDown(_)===!1)return;const P=this.getScrollTop()+this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(P);return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const b=this.getNextLastFocusableItemInView(P);this.setActiveItem(b??null,!0),this.scrollToOffset(P)}onKeyDownHome(_){if(this.isHomeKeyPressed||(this.isHomeKeyPressed=!0,_.preventDefault(),this.props.onHome(_)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(0,{absolute:!0});return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}const b=this.getKeysForFocusableItems()[0];this.setActiveItem(b,!0),this.scrollToKey(b)}onKeyDownEnd(_){if(this.isEndKeyPressed||(this.isEndKeyPressed=!0,_.preventDefault(),this.props.onEnd(_)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(1/0,{absolute:!0});return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const P=this.getKeysForFocusableItems(),b=P[P.length-1];this.setActiveItem(b,!0),this.scrollToKey(b)}onArrowKeyDown(_){if(_.defaultPrevented)return;if(this.state.hasKeyboardFocus){_.preventDefault(),this.focusNextItem(_.keyCode);return}const P=this.getScrollTop(),b=40;if(_.key==="ArrowUp"){this.scrollToOffset(P-b);return}this.scrollToOffset(P+b)}onKeyUpHome(){this.isHomeKeyPressed=!1}onKeyUpEnd(){this.isEndKeyPressed=!1}onItemFocusEnter(_){const{id:P,relatedEvent:b,currentTarget:S,target:N,hasKeyboardFocus:L}=_,{onItemFocusEnter:D}=this.props,k=L;if(!this.haveActiveItem()&&N===S){this.setActiveItem(P),D(_);return}const R=!this.haveActiveItem()&&!b&&S.contains(N),U=this.isValidInitialActiveItem(P)?P:this.state.initialActiveItem;R&&this.setState(()=>({hasKeyboardFocus:k,activeItem:null,initialActiveItem:U})),D(_)}onItemFocusWithin(_){const{id:P,currentTarget:b,target:S}=_,{onItemFocusWithin:N}=this.props;if(S===b){this.setActiveItem(P),N(_);return}const L=this.isValidInitialActiveItem(P)?P:this.state.initialActiveItem;this.setState(()=>({activeItem:null,initialActiveItem:L})),N(_)}onItemTabWithin(_){this.props.onItemTabWithin(_)}onFocusEnter(_){const{relatedEvent:P,target:b}=_;if(P&&P.type==="mousedown"||b&&(b instanceof HTMLMediaElement||b.dataset.mediaFocusContainer))return;const S=!P,L=P&&P.type==="keydown"||S;if(!L){this.props.onFocusEnter(_);return}this.props.onFocusEnter({isKeyboardFocus:L,..._})}onFocusLeave(_){const{onFocusLeave:P}=this.props,b=this.state.activeItem,N={activeItem:null,hasKeyboardFocus:!1,initialActiveItem:this.isValidInitialActiveItem(b)?b:this.state.initialActiveItem,isInitialFocusInRange:!1},L={activeItem:b,..._};this.setState(()=>N,()=>{P(L)})}onFocusedElementRemoved(){this.state.hasKeyboardFocus&&this.focus()}onItemContextMenu(_,P,b){let{hasKeyboardFocus:S}=b;const{onItemContextMenu:N}=this.props;if(N&&N(_,P,{hasKeyboardFocus:S}),!_.defaultPrevented)return;const L=this.getTargetBoundsForContextMenu(_);this.restoreFocusWhenContextMenuCloses=this.state.hasKeyboardFocus,this.setState(()=>({itemWithVisibleContextMenu:P,contextMenuTargetBounds:L}))}onItemMouseDown(_,P){const{onItemMouseDown:b}=this.props;b&&b(_,P??"");const S=this.isValidInitialActiveItem(P)?P:this.state.initialActiveItem;this.setState(()=>({hasKeyboardFocus:!1,activeItem:null,initialActiveItem:S}))}focus(){if(this.isScrolling()){this.focusAfterScrollEnd=!0;return}const _=this.state.initialActiveItem;if(_&&this.isItemInView(_)){this.setActiveItem(_,!0);return}this.scrollToAndFocusFirstItemInView()||(this.focusOnNextUpdate=!0)}focusOnKey(_){let{offset:P=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{keys:b}=this.props;return _&&b.indexOf(_)!==-1?(this.setActiveItem(_,!0),this.isItemInView(_)||this.scrollToKey(_,{offset:P}),!0):!1}scrollToAndFocusFirstItemInView(_){const P=this.getNextFirstFocusableItemInView(_);return P?(this.setActiveItem(P,!0),this.scrollToKey(P),!0):!1}blur(){var _,P;const b=(_=this.props.windowRef.deref())===null||_===void 0?void 0:_.document.activeElement;!((P=this.getScrollerRef())===null||P===void 0)&&P.contains(b)&&b.blur()}getActiveItem(){return this.state.activeItem}getTargetBoundsForContextMenu(_){if(!this.state.hasKeyboardFocus)return(0,g.h)({left:_.pageX,top:_.pageY});const{left:P,top:b,width:S,height:N}=_.currentTarget.getBoundingClientRect();return(0,g.h)({left:P+S/2,top:b+N/2})}closeContextMenu(){this.setState(()=>({itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}))}isValidInitialActiveItem(_){const{isFocusableItem:P,keys:b,keysToExcludeFromRovingTabIndex:S}=this.props;return _===null?!1:P({index:b.indexOf(_),key:_})&&!S.includes(_)}shouldIgnoreKeyboardShortcut(_,P){var b,S;const{ignoreKeyCommandsOnInputs:N,useGlobalKeyboardShortcuts:L}=this.props,D=P.target,k=(b=this.getScrollerRef())===null||b===void 0?void 0:b.contains(D),x=(0,n.A)(N)?N():N;return L&&!k&&D!==((S=this.props.windowRef.deref())===null||S===void 0?void 0:S.document.body)||!L&&!k?!0:D.matches(".c-virtual_list__item")?!1:!!(x&&((0,r.A)(D)||(0,f.Ay)(D))||_&&_(P))}setActiveItem(_){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const b=this.isValidInitialActiveItem(_)?_:this.state.initialActiveItem;this.setState(()=>({hasKeyboardFocus:!0,activeItem:_,initialActiveItem:b,isInitialFocusInRange:P}))}setInitialActiveItem(_){this.isValidInitialActiveItem(_)&&this.setState(()=>({initialActiveItem:_}))}haveActiveItem(){return this.state.activeItem!==null}getUniqueItemId(_){const{id:P}=this.props;return P?`${P}_${_}`:_}focusFirstItemInView(){const _=this.getFocusableItemsInView()[0];this.state.activeItem!==_&&this.setActiveItem(_,!0)}focusLastItemInView(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const P=this.getFocusableItemsInView(void 0,_),b=P[P.length-1];this.state.activeItem!==b&&this.setActiveItem(b,!0)}focusNextItem(_){const P=this.getNextActiveItem(_,this.state.activeItem);P&&(this.setActiveItem(P,!1),this.isItemInView(P,this.layout.anchorOffset)||this.scrollToKey(P,{offset:this.props.arrowNavigationOffset}))}getFocusableItemsInView(_,P){const{keys:b,isFocusableItem:S}=this.props,{start:N,end:L}=this.getVisibleRange(_,P);return(N===L?b.slice(N,N+1):b.slice(N,L)).filter(k=>S({index:b.indexOf(k),key:k}))}getNextFirstFocusableItemInView(_){const P=this.state.activeItem,b=this.getFocusableItemsInView(_)[0];return b&&b===P||!b&&P?this.getNextActiveItem(d.i7,P):b}getNextLastFocusableItemInView(_){const P=this.state.activeItem,b=this.getFocusableItemsInView(_),S=b[b.length-1];return S&&S===P||!S&&P?this.getNextActiveItem(d.n6,P):S}getInitialActiveItem(){return this.state.initialActiveItem}getNextActiveItem(_,P){const b=this.state.initialActiveItem;if(!this.haveActiveItem())return b&&!this.isItemInView(b)?this.getNextFirstFocusableItemInView():b||this.getNextFirstFocusableItemInView();const S=P,N=this.props.keys.indexOf(S),L=_===d.i7?N-1:N+1,D=this.props.keys[L];return D&&!this.props.isFocusableItem({index:L,key:D})?this.getNextActiveItem(_,D):D}getTabIndex(){return!this.shouldUseARIAApplicationRole()&&(0,a.uF)()?-1:void 0}setInitialActiveItemToFirstItemInView(){const{keysToExcludeFromRovingTabIndex:_}=this.props,P=this.getFocusableItemsInView().find(b=>!_.includes(b));P&&this.setState(b=>b.initialActiveItem===P?null:{initialActiveItem:P})}shouldUseARIAApplicationRole(){const{useARIAApplicationForListViews:_}=this.context;return!(0,a.uF)()||!this.props.useApplicationRole?!1:!!_}renderContextMenu(){const{itemWithVisibleContextMenu:_,contextMenuTargetBounds:P}=this.state;if(!_||!P)return null;const b={targetBounds:P,onCloseRequested:this.closeContextMenu};return this.props.renderContextMenuForItem(_,b)}renderItem(_,P){const{activeItem:b,initialActiveItem:S,hasKeyboardFocus:N}=this.state,L=this.getTop(_),D=this.layout.getHeight(_),k=b===_,x=b===null&&N&&S===_,R=this.isItemInView(_),U=this.layout.getHeightValidity(_),F=N&&!this.isScrolling()?this.getNextFirstFocusableItemInView():void 0,{rowRenderer:W,getPropsForItem:w,onItemClick:K,onItemKeyDown:j,onItemFocusLeave:Q,shouldHorizontallyScroll:J,useStaticHeightForListItems:z,width:ie,keysToExcludeFromRovingTabIndex:ee}=this.props,ne=this.getUniqueItemId(_),Z=k&&this.state.isInitialFocusInRange,te=this.state.itemWithVisibleContextMenu===_,he=!ee.includes(_),ue=S===_,de=w({key:_,index:P,isInitialFocusInRange:Z,hasFocus:k,activeItem:b,initialActiveItem:S,firstItemInView:F})||{};return t.createElement(p.Ay,O({tabIndex:this.getListItemTabIndex(_),"aria-setsize":"-1"},de,{supportRovingTabIndex:he,id:ne,itemKey:_,key:_,height:D,isCachedHeightValid:U,top:L,hasFocus:k,hasFocusWithin:x,contextMenuVisible:te,onFocusEnter:this.onItemFocusEnter,onFocusWithin:this.onItemFocusWithin,onFocusLeave:Q,onTabWithin:this.onItemTabWithin,onHeightChange:this.setHeight,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:K,onKeyDown:j,shouldHorizontallyScroll:J,useStaticHeight:z,isInitialActiveItem:ue,resizeObserver:this.resizeObserver}),W(P,{key:_,hasFocus:k,hasFocusWithin:x,itemId:ne,listWidth:ie,isInView:R,isExpanded:de["aria-expanded"],hasContextMenu:te}))}render(){const _=this.shouldUseARIAApplicationRole()?"application":"presentation";return t.createElement(t.Fragment,null,t.createElement(E.A,{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},t.createElement(m.A,{onFocus:c.A,onBlur:c.A,onFocusedElementRemoved:this.onFocusedElementRemoved},t.createElement("div",{role:_,id:this.props.id},super.render()))),this.renderContextMenu())}constructor(_){super(_),(0,i.v)(this,["onFocusEnter","onFocusLeave","onFocusedElementRemoved","onItemMouseDown","onItemFocusEnter","onItemFocusWithin","onItemTabWithin","onItemContextMenu","closeContextMenu","focus","onKeyDownPageUp","onKeyDownPageDown","onKeyDownHome","onKeyDownEnd","onKeyUpHome","onKeyUpEnd","onArrowKeyDown"]),this.state={...this.state,initialActiveItem:null,activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1,itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}}}h(C,"BaseKeyboardNavigableList"),C.contextType=v.I,C.defaultProps={...T.s.defaultProps,activeItem:void 0,initialActiveItem:void 0,isFocusableItem:()=>!0,onFocusEnter:c.A,onFocusLeave:c.A,onPageUp:c.A,onPageDown:c.A,onHome:c.A,onEnd:c.A,onItemClick:c.A,onItemMouseDown:c.A,onItemKeyDown:c.A,onItemTabWithin:c.A,onItemFocusEnter:c.A,onItemFocusWithin:c.A,onItemFocusLeave:c.A,onItemContextMenu:c.A,onActiveItemChange:c.A,keyCommands:void 0,pageHeight:void 0,ignoreKeyCommandsOnInputs:!0,getPropsForItem:c.A,preventTabKeyNavigationIntoList:!1,renderContextMenuForItem:c.A,disableKeyboardShortcuts:!1,useGlobalKeyboardShortcuts:!1,keysToExcludeFromRovingTabIndex:[],useApplicationRole:!0,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:()=>!0},C.displayName="BaseKeyboardNavigableList";const I=(0,l.A)(C)},4441142756:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>P,Gn:()=>I});var t=e(7313997791),s=e(6911391481),o=e.n(s),n=e(3134334389),c=e(4844578989),l=e.n(c),i=e(2053254856),a=e.n(i),r=e(3078252698),d=e(7715417323),m=e(1739415438),f=e(3889339349),u=e(9682034663),E=e(2302718955),v=e(4756917316),g=e(4470890745),T=e(3254286694),p=e(4665139800);function O(){return O=Object.assign||function(b){for(var S=1;S<arguments.length;S++){var N=arguments[S];for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&(b[L]=N[L])}return b},O.apply(this,arguments)}h(O,"_extends");const y=a()("enter"),C=a()("tab"),I="c-virtual_list__item";let M=h(class extends n.Component{componentDidMount(){const{useStaticHeight:S,supportRovingTabIndex:N,isInitialActiveItem:L,hasKeyboardFocus:D,resizeObserver:k,isCachedHeightValid:x}=this.props;if(this.node){if(!k&&!S){var R;(R=this.mutationObserver)===null||R===void 0||R.observe(this.node,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.node.addEventListener("load",this.updateHeight,!0)}k&&k.observe(this.node,{box:"border-box"})}x||this.updateHeight(),this.maybeFocusNode(),D&&N&&!L&&this.removeChildrenFromTabFlow()}shouldComponentUpdate(S){const{children:N,isCachedHeightValid:L,height:D,top:k,zIndex:x,resizeObserver:R,...U}=this.props,{children:F,isCachedHeightValid:W,height:w,top:K,zIndex:j,...Q}=S;return k!==K||x!==j||D!==w||!W||!R&&N&&F&&(!(0,g.Ay)(F.props,N.props)||F.key!==N.key)?!0:!(0,g.Ay)(U,Q)}componentDidUpdate(){const{useStaticHeight:S,isInitialActiveItem:N,supportRovingTabIndex:L,hasKeyboardFocus:D,resizeObserver:k}=this.props;!k&&!S&&this.updateHeight(),this.maybeFocusNode(),D&&L&&(N||this.removeChildrenFromTabFlow(),N&&this.restoreChildrenIntoTabFlow())}componentWillUnmount(){const{resizeObserver:S}=this.props;this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null,this.node&&this.node.removeEventListener("load",this.updateHeight,!0)),this.node&&S&&S.unobserve(this.node)}onClick(S){S.id=this.props.itemKey,this.props.onClick(S)}onFocusEnter(S){const{relatedEvent:N,target:L,currentTarget:D}=S,{itemKey:k,onTabWithin:x,onFocusEnter:R,hasKeyboardFocus:U}=this.props;if(N&&N.type==="mousedown"||L&&(L instanceof HTMLMediaElement||L.dataset.mediaFocusContainer))return;(N&&N.keyCode)===C&&D!==L&&x({id:k,hasKeyboardFocus:U,...S}),R({id:k,hasKeyboardFocus:U,...S})}onFocusLeave(S){const{itemKey:N,onFocusLeave:L,hasKeyboardFocus:D}=this.props;L({id:N,hasKeyboardFocus:D,...S})}onFocusWithin(S){const{relatedEvent:N}=S,{itemKey:L,onTabWithin:D,onFocusWithin:k,hasKeyboardFocus:x}=this.props;if(N&&N.type==="mousedown")return;(N&&N.keyCode)===C&&D({id:L,hasKeyboardFocus:x,...S}),k({id:L,hasKeyboardFocus:x,...S})}onKeyDown(S){const{target:N,currentTarget:L,keyCode:D}=S,{itemKey:k,onKeyDown:x,onClick:R}=this.props;N===L&&(x({id:k,...S,preventDefault:S.preventDefault,stopPropagation:S.stopPropagation}),D===y&&R({id:k,...S,preventDefault:S.preventDefault,stopPropagation:S.stopPropagation}))}onContextMenu(S){const{itemKey:N,onContextMenu:L,hasKeyboardFocus:D}=this.props;S!=null&&S.altKey||L(S,N,{hasKeyboardFocus:D})}onMouseDown(S){const{itemKey:N,onMouseDown:L}=this.props;L(S,N)}setRef(S){this.node=S}maybeFocusNode(){this.props.hasFocus&&this.node&&this.node.focus()}updateHeight(){const{height:S,isCachedHeightValid:N,itemKey:L,onHeightChange:D}=this.props;if(!this.node)return;const{height:k}=this.node.getBoundingClientRect();(Math.abs(k-S)>.5||!N)&&D(L,k)}removeChildrenFromTabFlow(){const S=this.node;if(!S)return;(0,u.rO)(S).forEach(L=>{const D=L.getAttribute("tabindex");L.setAttribute("tabindex","-1"),L.dataset.removeTabIndex="true",(0,r.A)(D)&&(L.dataset.tabIndexToRestore=D)})}restoreChildrenIntoTabFlow(){const S=this.node;S&&S.querySelectorAll("[data-remove-tab-index]").forEach(N=>{if(!(0,E.A)(N,this.props.windowRef.deref()))return;const L=N.dataset.tabIndexToRestore;(0,r.A)(L)?N.setAttribute("tabindex",L):N.removeAttribute("tabindex"),delete N.dataset.removeTabIndex,delete N.dataset.tabIndexToRestore})}render(){if(!this.props.children)return null;const{id:S,children:N,onFocusEnter:L,onFocusWithin:D,onFocusLeave:k,onHeightChange:x,onMouseDown:R,onClick:U,onKeyDown:F,onContextMenu:W,onTabWithin:w,className:K,top:j,zIndex:Q,role:J,height:z,isCachedHeightValid:ie,hasFocus:ee,hasFocusWithin:ne,hideFocusRing:Z,shouldHorizontallyScroll:te,tabIndex:he,itemKey:ue,useStaticHeight:de,hasKeyboardFocus:re,dataQA:V,contextMenuVisible:H,isInitialActiveItem:X,supportRovingTabIndex:Y,forceTop:q,resizeObserver:fe,windowId:ce,windowToken:Ee,windowRef:Ae,...le}=this.props,oe=l()(K,I,{[`${I}--focus`]:ee&&re&&!Z,[`${I}--focus-within`]:ne,[`${I}--auto_width`]:te,[`${I}--contextmenu-visible`]:H});return n.createElement(p.A,{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},n.createElement("div",O({},(0,v.A)(le),{onMouseDown:this.onMouseDown,onClick:this.onClick,onKeyDown:this.onKeyDown,onContextMenu:this.onContextMenu,className:oe,tabIndex:he,role:J,style:de?{top:q??j,height:z,zIndex:Q}:{top:q??j,zIndex:Q},ref:this.setRef,id:S,"data-qa":V||"virtual-list-item","data-item-key":ue}),N))}constructor(S){super(S),this.setRef=this.setRef.bind(this),(0,f.v)(this,["onFocusEnter","onFocusWithin","onFocusLeave","onMouseDown","onClick","onKeyDown","onContextMenu","updateHeight"]),S.useStaticHeight||(this.mutationObserver=new MutationObserver(this.updateHeight)),this.node=null}},"ListItem");M.defaultProps={children:null,onFocusEnter:d.A,onFocusWithin:d.A,onFocusLeave:d.A,onHeightChange:d.A,onMouseDown:d.A,onClick:d.A,onKeyDown:d.A,onContextMenu:d.A,onTabWithin:d.A,className:"",top:void 0,zIndex:void 0,role:"listitem",height:0,isCachedHeightValid:!0,hasFocus:!1,hasFocusWithin:!1,shouldHorizontallyScroll:!1,tabIndex:-1,useStaticHeight:!1,dataQA:null,contextMenuVisible:!1,isInitialActiveItem:!1,hideFocusRing:!1,supportRovingTabIndex:!0,forceTop:void 0,resizeObserver:void 0},M.displayName="ListItem";const _=(0,t.Wb)()?h(function(S){const N=(0,s.c)(3),L=(0,n.useContext)(T.A);let D;return N[0]!==L||N[1]!==S?(D=n.createElement(M,O({},S,{hasKeyboardFocus:L})),N[0]=L,N[1]=S,N[2]=D):D=N[2],D},"WithKeyboardFocusListItem"):h(function(S){const N=(0,n.useContext)(T.A);return n.createElement(M,O({},S,{hasKeyboardFocus:N}))},"WithKeyboardFocusListItem");_.displayName="WithKeyboardFocusListItem";const P=n.memo((0,m.A)(_))},5769372048:(B,A,e)=>{"use strict";e.d(A,{A:()=>M,s:()=>I});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(1739415438),l=e(2084938045),i=e(6120728640),a=e(611097392),r=e(3889339349),d=e(6870966595),m=e(7313997791),f=e(4470890745),u=e(5720609494),E=e(4468463074),v=e(9471233048),g=e(3107404647),T=e(4441142756),p=e(5222398525);function O(){return O=Object.assign||function(_){for(var P=1;P<arguments.length;P++){var b=arguments[P];for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(_[S]=b[S])}return _},O.apply(this,arguments)}h(O,"_extends");const y=50,C=h(_=>{const{borderBoxSize:P,target:b}=_,S=P==null?void 0:P[0],N=S==null?void 0:S.blockSize;return N??b.getBoundingClientRect().height},"getItemHeight");class I extends t.Component{componentDidMount(){var P;(P=this.props.windowRef.deref())===null||P===void 0||P.document.addEventListener("selectionchange",this.onSelectionChange)}componentDidUpdate(P,b){this.scrollOnUpdateCallback&&(this.scrollOnUpdateCallback(),this.scrollOnUpdateCallback=null)}shouldComponentUpdate(P,b){return!(0,f.Ay)(P,this.props)||!(0,f.Ay)(b,this.state)}UNSAFE_componentWillReceiveProps(P){const{useStaticHeightForListItems:b,width:S}=this.props;!b&&!this.useResizeObserver&&P.width!==S&&this.layout.heightCache.invalidate(),this.layout.setKeys(P.keys),this.relayout()}componentWillUnmount(){this.scrollStartTimeout&&clearTimeout(this.scrollStartTimeout);const P=this.props.windowRef.deref();P&&P.document.removeEventListener("selectionchange",this.onSelectionChange),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}onContentScroll(P){this.props.onContentScroll(P)}onScroll(P){this.onScrollEnd();const{start:b,end:S}=this.state,{keys:N}=this.props;if(!(b===0&&S===N.length)){const D=this.getScrollTop();if(this.props.metricsTag){const[k,x]=this.prevBounds;let R;D<k?R=Math.abs(k-D):D>x&&(R=Math.abs(D-x)),R&&this.janks.push(R)}this.relayout()}!this.scrollStartTimeout&&!this.isScrolling()&&P.target===this.getScrollerRef()&&(this.scrollStartTimeout=setTimeout(this.onScrollStart,y*2)),this.props.onScroll(P,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}onScrollEnd(){if(this.scrollStartTimeout&&(clearTimeout(this.scrollStartTimeout),this.scrollStartTimeout=null),this.props.metricsTag){const P=this.props.tracer||(0,p.F)(),b=P.createMetricsTrace({label:"virtual-list",samplingOptions:{sampleRate:.01,sampleType:l.tS.CALL},tags:{list_type:this.props.metricsTag,overscan_ratio:this.props.overscanRatio}});let S=0,N=0;for(const D of this.janks)S+=D,D>N&&(N=D);const L=this.janks.length;b.count({name:"jank",value:L}),b.store({name:"jank-px:avg",value:L?Math.round(S/L):0}),b.store({name:"jank-px:max",value:N}),P.reportTrace(b),this.janks=[]}this.setState(P=>P.scrolling?{scrolling:!1}:null)}onScrollStart(){this.setState(()=>({scrolling:!0}),this.onScrollEnd),this.scrollStartTimeout=null}onSelectionChange(){if(!this.scrollbar)return;const P=this.props.windowRef.deref(),b=(P==null?void 0:P.getSelection)&&(P==null?void 0:P.getSelection());b&&b.type==="Range"&&this.contentNode&&this.contentNode.contains(b.anchorNode)?(this.isSelecting=!0,this.selectionStart=this.props.keys[this.state.start],this.selectionEnd=this.props.keys[this.state.end-1]):(this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null),this.props.onSelectionChange(this.isSelecting)}onItemContextMenu(P,b,S){let{hasKeyboardFocus:N}=S;this.props.onItemContextMenu(P,b,{hasKeyboardFocus:N})}onItemResize(P){P.reduce((N,L)=>{const D=L.target.getAttribute("data-item-key"),k=C(L);return this.setHeight(D,k,!0)?!0:N},!1)&&this.relayout()}getBottom(P){return this.layout.getBottom(P)}getBounds(P,b){this.onSelectionChange();let S=P,N=b;return this.selectionStart&&(S=Math.min(S,this.layout.getTop(this.selectionStart))),this.selectionEnd&&(N=Math.max(N,this.layout.getTop(this.selectionEnd))),this.layout.getBounds(S,N)}getBoundingClientRect(){return this.getScrollerRef().getBoundingClientRect()}getClassName(){return o()("c-virtual_list","c-virtual_list--scrollbar",this.props.className)}getContainerHeight(){return this.props.height}getContentHeight(){return this.layout.getTotalHeight()+this.getSiblingNodeHeight()}getSiblingNodeHeight(){if(!this.siblingNode)return 0;const{height:P}=this.siblingNode.getBoundingClientRect();return P}getContentsClassName(){return o()("c-virtual_list__scroll_container",this.props.containerClassName,{"c-virtual_list__scroll_container--scrolling":this.isScrolling()&&!this.isSelecting})}getScrollTop(){return this.scrollbar&&this.scrollbar.scrollTop()||0}getScrollerRef(){var P;return(P=this.scrollbar)===null||P===void 0?void 0:P.scroller}getTop(P){return this.layout.getTop(P)}getVisibleRange(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getScrollTop(),b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{keys:S,height:N}=this.props,{start:L,end:D}=this.layout.getBounds(P,P+N);if(b)return{start:L,end:D};const k=this.layout.getTop(S[L])<P-1?L+1:L,x=this.layout.getBottom(S[D-1])>P+N+1?D-1:D,R=Math.min(k,S.length-1),U=Math.max(x,R);return{start:R,end:U}}setContentRef(P){this.contentNode=P}setSiblingNodeRef(P){this.siblingNode=P}setHeight(P,b){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!P)return!1;const N=this.layout.getHeight(P);return this.useResizeObserver&&(0,a.W)(b,N,1)||!this.useResizeObserver&&Math.abs(b-N)<.5?!1:(this.layout.setHeight(P,b),S||this.relayout(),!0)}setScrollbarRef(P){this.scrollbar=P}setScrollTop(P){this.scrollbar&&this.scrollbar.scrollTop(Math.ceil(P))}getItemsToRender(){const{keys:P,persistentKeys:b,usePersistentOrder:S}=this.props,{start:N,end:L}=this.state,D=[];if(S){const R={};for(let U=0;U<b.length;U++)R[b[U]]=!0;this.layout instanceof u.A&&this.layout.anchor&&!R[this.layout.anchor]&&(R[this.layout.anchor]=!0);for(let U=0;U<P.length;U++){const F=P[U];F&&(R[F]||U>=N&&U<=L)&&D.push({key:F,index:U})}}else{for(let R=N;R<L;R++){const U=P[R];U&&D.push({key:U,index:R})}b.forEach(R=>{const U=P.indexOf(R);U<0||U>=N&&U<L||D.push({key:R,index:U})}),this.layout instanceof u.A&&this.layout.anchor&&!b.includes(this.layout.anchor)&&D.push({key:this.layout.anchor,index:P.indexOf(this.layout.anchor)})}const k=P[N],x=P[L];return k&&x&&(this.prevBounds=[this.layout.getTop(k),this.layout.getBottom(x)]),D}getTabIndex(){}bracketScrollTop(P){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,P))}isItemAboveView(P){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const S=this.getScrollTop()+b;return this.layout.getBottom(P)<S}isItemBelowView(P){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const S=this.getScrollTop();return this.layout.getTop(P)>S+(this.props.height-b)}isItemInView(P){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const S=this.getScrollTop(),N=this.layout.getTop(P),L=S+b,D=S+(this.props.height-b);return N>=L&&N<=D}isScrolledToBottom(){return this.getScrollTop()+this.getContainerHeight()>=this.layout.getTotalHeight()-1}isScrolledToTop(){return Math.floor(this.getScrollTop())<=1}isScrolling(){return this.state.scrolling}relayout(){this.setState((P,b)=>{const S=this.getScrollTop(),N=b.height*b.overscanRatio,L=S-N,D=S+b.height+N,{start:k,end:x}=this.getBounds(L,D),R=this.layout.getTops(),U=this.layout.getTotalHeight();return k===P.start&&x===P.end&&R===P.tops&&U===P.totalHeight?null:{start:k,end:x,tops:R,totalHeight:U}},()=>{const P=this.state.totalHeight&&this.state.totalHeight>this.props.height||!1;this.props.onOverflow&&this.props.onOverflow(P)})}scrollToKey(P){let{lazy:b,animate:S,offset:N=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(b&&this.isItemInView(P))return;if(!this.scrollbar){this.scrollOnUpdateCallback=()=>{this.scrollToKey(P,{lazy:b,animate:S,offset:N})};return}const L=this.layout.getOffsetForKey(P);this.scrollToOffset(L+N,{animate:S})}scrollToOffset(P){let{animate:b,lazy:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.scrollbar&&!S)return;const N=this.scrollbar&&b,L=h(()=>{const D=this.bracketScrollTop(P);if(N){var k;(k=this.scrollbar)===null||k===void 0||k.scrollWithAnimation(D);return}this.scrollTop=D,this.setScrollTop(D)},"scrollToOffsetInternal");this.scrollbar?L():this.scrollOnUpdateCallback=L}renderContents(){const P=this.getContentsClassName(),b=this.getContentHeight()-this.getSiblingNodeHeight(),S=this.renderItems(),{role:N,"aria-label":L,"aria-labelledby":D,"aria-describedby":k}=this.props;return t.createElement("div",{"data-qa":"slack_kit_list",ref:this.setContentRef,className:P,role:N,tabIndex:this.getTabIndex(),"aria-label":L,"aria-labelledby":D,"aria-describedby":k,style:{position:"relative",height:b}},S)}renderItem(P,b){const S=this.getTop(P),N=this.layout.getHeight(P),L=this.layout.getHeightValidity(P),{rowRenderer:D,getPropsForItem:k,shouldHorizontallyScroll:x}=this.props,R=k({key:P,index:b})||{};return t.createElement(T.Ay,O({},R,{id:P,itemKey:P,key:P,height:N,top:S,onHeightChange:this.setHeight,onContextMenu:this.onItemContextMenu,isCachedHeightValid:L,shouldHorizontallyScroll:x,useStaticHeight:this.props.useStaticHeightForListItems,"aria-setsize":"-1",resizeObserver:this.resizeObserver}),D(b,{key:P,isExpanded:R["aria-expanded"]}))}renderItems(){return this.getItemsToRender().map(b=>{let{key:S,index:N}=b;return this.renderItem(S,N)})}render(){const{width:P,height:b}=this.props;if(!P||!b)return null;const S=this.getClassName(),N=this.renderContents(),L=this.props.isSiblingNodeFirst,D=t.createElement("div",{className:"c-virtual_list__sibling_container",ref:this.setSiblingNodeRef},this.props.siblingNode);return t.createElement(v.A,{className:S,width:P,height:this.getContainerHeight(),contentHeight:this.getContentHeight(),trackTop:12,onTrackClick:g.d.track.page,onScroll:this.onScroll,onContentScroll:this.onContentScroll,anchor:"bottom",role:"presentation",id:this.props.id,ref:this.setScrollbarRef,fade:this.props.fadeScrollbar,useFixedTrackHeight:this.props.useFixedTrackHeightForScrollbar,alwaysVisible:this.props.scrollbarAlwaysVisible||this.state.hasKeyboardFocus,initialScrollTop:this.props.initialScrollTop},L&&D,N,!L&&D)}constructor(P){super(P),this.prevBounds=[-1/0,1/0],this.janks=[],(0,r.v)(this,["onScroll","onContentScroll","onSelectionChange","setScrollbarRef","setContentRef","setSiblingNodeRef","setHeight","getScrollTop","getVisibleRange","isItemInView","onScrollStart","onItemContextMenu","onItemResize"]),this.onScrollEnd=(0,d.A)(this.onScrollEnd.bind(this),y,P.windowRef),this.layout=P.layout||new E.A({}),this.useResizeObserver=!!P.useResizeObserver&&!P.useStaticHeightForListItems&&(0,i.fW)(m.V8);const b=P.windowRef.deref();this.resizeObserver=this.useResizeObserver&&b?new b.ResizeObserver(this.onItemResize):void 0,this.scrollbar=null,this.contentNode=null,this.siblingNode=null,this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null,this.scrollStartTimeout=null,this.scrollOnUpdateCallback=null,this.layout.setKeys(P.keys);const{start:S,end:N}=this.getBounds(0,P.height);this.state={start:S,end:N,scrolling:!1}}}h(I,"BaseList"),I.defaultProps={className:"",containerClassName:"",layout:void 0,role:"list","aria-label":void 0,"aria-labelledby":void 0,"aria-describedby":void 0,persistentKeys:[],usePersistentOrder:!0,fadeScrollbar:!1,onScroll:n.A,onContentScroll:n.A,onSelectionChange:n.A,onItemContextMenu:n.A,getPropsForItem:n.A,shouldHorizontallyScroll:!1,scrollbarAlwaysVisible:!1,id:void 0,useStaticHeightForListItems:!1,useFixedTrackHeightForScrollbar:!1,initialScrollTop:0,overscanRatio:.5,siblingNode:null,isSiblingNodeFirst:!1,metricsTag:null,tracer:null,useResizeObserver:!0},I.displayName="BaseList";const M=(0,c.A)(I)},4354668509:(B,A,e)=>{B.exports=e.p+"ava_0002-192-0ddd598.png"},7862639141:(B,A,e)=>{B.exports=e.p+"ava_0002-24-f65dddc.png"},7338421512:(B,A,e)=>{B.exports=e.p+"ava_0002-32-798f043.png"},3137087203:(B,A,e)=>{B.exports=e.p+"ava_0002-48-d3ba4ec.png"},2925497764:(B,A,e)=>{B.exports=e.p+"ava_0002-72-c702398.png"},3714568055:(B,A,e)=>{B.exports=e.p+"ava_0022-192-0cc433a.png"},9126074323:(B,A,e)=>{B.exports=e.p+"ava_0022-24-21468d4.png"},7166114514:(B,A,e)=>{B.exports=e.p+"ava_0022-32-7779579.png"},8778688037:(B,A,e)=>{B.exports=e.p+"ava_0022-48-93db11d.png"},801396766:(B,A,e)=>{B.exports=e.p+"ava_0022-72-5a52d67.png"},2321016814:(B,A,e)=>{B.exports=e.p+"boost_bus_plus_banner_img-5428ddb.png"},9418510319:(B,A,e)=>{B.exports=e.p+"contextual-help-keyboard-e004fd5.png"},8439982067:(B,A,e)=>{B.exports=e.p+"emoji_missing-39b2f0a.png"},7480151797:(B,A,e)=>{B.exports=e.p+"exchange-unlinked-760993c.svg"},8456137888:(B,A,e)=>{B.exports=e.p+"exchange-10f9bbd.svg"},6418965169:(B,A,e)=>{B.exports=e.p+"cloud-left-aubergine-8c8c5ca.png"},1393103206:(B,A,e)=>{B.exports=e.p+"cloud-left-campfire-1ccf710.png"},5333701343:(B,A,e)=>{B.exports=e.p+"cloud-left-cilantro-7605883.png"},4357269557:(B,A,e)=>{B.exports=e.p+"cloud-left-lagoon-d307b64.png"},6478793657:(B,A,e)=>{B.exports=e.p+"cloud-left-ocean-d307b64.png"},3588989326:(B,A,e)=>{B.exports=e.p+"cloud-right-aubergine-59e7589.png"},6852031767:(B,A,e)=>{B.exports=e.p+"cloud-right-campfire-9e83283.png"},734874162:(B,A,e)=>{B.exports=e.p+"cloud-right-cilantro-43bf964.png"},4863927256:(B,A,e)=>{B.exports=e.p+"cloud-right-lagoon-0b37d5f.png"},8203377802:(B,A,e)=>{B.exports=e.p+"cloud-right-ocean-0b37d5f.png"},2674460009:(B,A,e)=>{B.exports=e.p+"cloud-left-aubergine-9d4596e.png"},8913694126:(B,A,e)=>{B.exports=e.p+"cloud-left-campfire-a981475.png"},5037029671:(B,A,e)=>{B.exports=e.p+"cloud-left-cilantro-a23fb53.png"},5666370621:(B,A,e)=>{B.exports=e.p+"cloud-left-lagoon-79d5bd3.png"},9278671712:(B,A,e)=>{B.exports=e.p+"cloud-left-white-58ab7fe.png"},137747622:(B,A,e)=>{B.exports=e.p+"cloud-right-aubergine-6f7696d.png"},2576275039:(B,A,e)=>{B.exports=e.p+"cloud-right-campfire-0d1961c.png"},1226221882:(B,A,e)=>{B.exports=e.p+"cloud-right-cilantro-414250c.png"},9122777984:(B,A,e)=>{B.exports=e.p+"cloud-right-lagoon-d8b481a.png"},4546689855:(B,A,e)=>{B.exports=e.p+"cloud-right-white-5c75858.png"},7460231934:(B,A,e)=>{B.exports=e.p+"No_Background-ad3fcdb.png"},4859829937:(B,A,e)=>{B.exports=e.p+"active_speaker-dd1164a.gif"},5215434212:(B,A,e)=>{B.exports=e.p+"beach-preview-33d7acf.jpg"},1148759471:(B,A,e)=>{B.exports=e.p+"beach-33258eb.jpg"},119789524:(B,A,e)=>{B.exports=e.p+"gym-preview-cfff9c8.jpg"},6324296991:(B,A,e)=>{B.exports=e.p+"gym-4d948fc.jpg"},8926973888:(B,A,e)=>{B.exports=e.p+"home-preview-8baaf03.jpg"},1217093651:(B,A,e)=>{B.exports=e.p+"home-9e29930.jpg"},2821633263:(B,A,e)=>{B.exports=e.p+"huddle-in-thread-da71b0e.png"},3556769086:(B,A,e)=>{B.exports=e.p+"living_room-preview-1b54428.jpg"},3715147237:(B,A,e)=>{B.exports=e.p+"living_room-a4fba85.jpg"},1797999369:(B,A,e)=>{B.exports=e.p+"office-preview-de46de4.jpg"},7969550970:(B,A,e)=>{B.exports=e.p+"office-98668ce.jpg"},2183727167:(B,A,e)=>{B.exports=e.p+"remote_work-preview-5fbbc32.jpg"},419667452:(B,A,e)=>{B.exports=e.p+"remote_work-f8cd791.jpg"},365724097:(B,A,e)=>{B.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},9241054226:(B,A,e)=>{B.exports=e.p+"tokyo_sight-285d851.jpg"},8999535272:(B,A,e)=>{B.exports=e.p+"slack-salesforce-211570d.png"},5927481814:(B,A,e)=>{B.exports=e.p+"slack-salesforce@2x-06b5868.png"},3905593281:(B,A,e)=>{B.exports=e.p+"slack_logo-ebd02d1.svg"},6848867497:(B,A,e)=>{B.exports=e.p+"slack_logo_mark-01b46d3.svg"},7244028181:(B,A,e)=>{B.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},8554291347:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_1024-9020761.png"},8958098778:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},4112727548:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},7475504024:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_24-e726b64.png"},767498897:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_32-176771b.png"},4120830581:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_36-d921f9d.png"},4179444947:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},5059789570:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_48-8220eaf.png"},1676234230:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},9850839085:(B,A,e)=>{B.exports=e.p+"slackbot_fancy_72-9db8807.png"},6050327025:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},9389329140:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},3520255730:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_20-96acbec.png"},8670572590:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_24-2246c7b.png"},6827178739:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_32-8a50a23.png"},8822857039:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},2357300081:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_360-1cb4740.png"},3732480364:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},262294280:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_512-955a74f.png"},7697067703:(B,A,e)=>{B.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},5498326197:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_1024-b58a548.png"},9342422904:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},2314669006:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_20-00a116e.png"},9035926930:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_24-9a05991.png"},1723802991:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_32-44a4c24.png"},9088110483:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},6264809133:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_360-7309dbd.png"},6729734080:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_48-9906623.png"},4379038036:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_512-dcb310c.png"},7517217931:(B,A,e)=>{B.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},3107506536:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},3638836655:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},431187879:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},4937134667:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},720053898:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},8349151110:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},5789388398:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},3725568109:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},195506779:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},1488228566:(B,A,e)=>{B.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},6153243931:(B,A,e)=>{B.exports=e.p+"trial-awareness-banner-e5514bb.svg"},7288394480:(B,A,e)=>{B.exports=e.p+"de-DE-7cb5203.vtt"},8434814278:(B,A,e)=>{B.exports=e.p+"en-GB-fe540d9.vtt"},8846553357:(B,A,e)=>{B.exports=e.p+"en-US-638cf9c.vtt"},5343295926:(B,A,e)=>{B.exports=e.p+"es-ES-2c09d56.vtt"},7242174955:(B,A,e)=>{B.exports=e.p+"es-LA-ea2cf27.vtt"},2530724470:(B,A,e)=>{B.exports=e.p+"fr-FR-aca8347.vtt"},9377435960:(B,A,e)=>{B.exports=e.p+"it-IT-5979abe.vtt"},2775697637:(B,A,e)=>{B.exports=e.p+"ja-JP-8bffdf3.vtt"},2275591283:(B,A,e)=>{B.exports=e.p+"ko-KR-368325f.vtt"},1755885230:(B,A,e)=>{B.exports=e.p+"paid-feature-education-bcf658e.mp4"},5302828698:(B,A,e)=>{B.exports=e.p+"paid-feature-education-4fcc827.png"},8045443894:(B,A,e)=>{B.exports=e.p+"pt-BR-4dd5817.vtt"},9713034139:(B,A,e)=>{B.exports=e.p+"zh-CN-7893376.vtt"},421976023:(B,A,e)=>{B.exports=e.p+"zh-TW-bf2d05a.vtt"},9806655743:(B,A,e)=>{B.exports=e.p+"de-DE-e5da613.vtt"},3568971801:(B,A,e)=>{B.exports=e.p+"en-GB-b949ba6.vtt"},655762326:(B,A,e)=>{B.exports=e.p+"en-US-823d419.vtt"},2664139725:(B,A,e)=>{B.exports=e.p+"es-ES-fb9bba0.vtt"},6946477176:(B,A,e)=>{B.exports=e.p+"es-LA-1d17cb9.vtt"},2894091689:(B,A,e)=>{B.exports=e.p+"fr-FR-0161472.vtt"},1522814399:(B,A,e)=>{B.exports=e.p+"it-IT-f18ddbd.vtt"},1026799670:(B,A,e)=>{B.exports=e.p+"ja-JP-8d6863a.vtt"},5385940860:(B,A,e)=>{B.exports=e.p+"ko-KR-b3589ec.vtt"},7442279781:(B,A,e)=>{B.exports=e.p+"pt-BR-50fe7dc.vtt"},1164098975:(B,A,e)=>{B.exports=e.p+"thumbnail-71d0c1e.png"},5681115434:(B,A,e)=>{B.exports=e.p+"video-9e16c67.mp4"},2275016952:(B,A,e)=>{B.exports=e.p+"zh-CN-f0c9d6c.vtt"},3023518808:(B,A,e)=>{B.exports=e.p+"zh-TW-438dba1.vtt"},9958296285:(B,A,e)=>{B.exports=e.p+"de-DE-feb28fa.png"},6390433387:(B,A,e)=>{B.exports=e.p+"en-GB-92b1507.png"},3037284580:(B,A,e)=>{B.exports=e.p+"en-US-c1aba30.png"},2011154255:(B,A,e)=>{B.exports=e.p+"es-ES-b9da68c.png"},110246818:(B,A,e)=>{B.exports=e.p+"es-LA-da3f776.png"},1053914519:(B,A,e)=>{B.exports=e.p+"fr-FR-d216449.png"},3854153221:(B,A,e)=>{B.exports=e.p+"it-IT-a9a6cda.png"},6375347660:(B,A,e)=>{B.exports=e.p+"ja-JP-4935b54.png"},8939560678:(B,A,e)=>{B.exports=e.p+"ko-KR-74391d9.png"},6020100399:(B,A,e)=>{B.exports=e.p+"pt-BR-4b40e14.png"},7296005610:(B,A,e)=>{B.exports=e.p+"zh-CN-204bc46.png"},9843444410:(B,A,e)=>{B.exports=e.p+"zh-TW-42915ac.png"},5401735834:(B,A,e)=>{B.exports=e.p+"image-cc06bc3.png"},9601922307:(B,A,e)=>{B.exports=e.p+"de-DE-50d895e.png"},5149272933:(B,A,e)=>{B.exports=e.p+"en-GB-50d895e.png"},1815645106:(B,A,e)=>{B.exports=e.p+"en-US-a34f09a.png"},818243605:(B,A,e)=>{B.exports=e.p+"es-ES-cce2d85.png"},5819376148:(B,A,e)=>{B.exports=e.p+"es-LA-50d895e.png"},891942869:(B,A,e)=>{B.exports=e.p+"fr-FR-977550f.png"},8192684827:(B,A,e)=>{B.exports=e.p+"it-IT-977550f.png"},383098202:(B,A,e)=>{B.exports=e.p+"ja-JP-b915fc9.png"},9632739020:(B,A,e)=>{B.exports=e.p+"ko-KR-5d1924d.png"},3352815253:(B,A,e)=>{B.exports=e.p+"pt-BR-341e743.png"},2623318596:(B,A,e)=>{B.exports=e.p+"zh-CN-a532a54.png"},2264960312:(B,A,e)=>{B.exports=e.p+"zh-TW-ba21a69.png"},5301801459:(B,A,e)=>{B.exports=e.p+"de-DE-b035176.png"},1732913365:(B,A,e)=>{B.exports=e.p+"en-GB-15deb42.png"},2742747234:(B,A,e)=>{B.exports=e.p+"en-US-74b04b1.png"},2467818309:(B,A,e)=>{B.exports=e.p+"es-ES-d216251.png"},2760033700:(B,A,e)=>{B.exports=e.p+"es-LA-fcbdb08.png"},5638107077:(B,A,e)=>{B.exports=e.p+"fr-FR-009ea7c.png"},6334119563:(B,A,e)=>{B.exports=e.p+"it-IT-7ff57f7.png"},5183876586:(B,A,e)=>{B.exports=e.p+"ja-JP-c9d259c.png"},6890085404:(B,A,e)=>{B.exports=e.p+"ko-KR-c5a361a.png"},2104997669:(B,A,e)=>{B.exports=e.p+"pt-BR-df3bcd0.png"},8439269140:(B,A,e)=>{B.exports=e.p+"zh-CN-9e65b16.png"},1129358920:(B,A,e)=>{B.exports=e.p+"zh-TW-805f4e4.png"},3467529911:(B,A,e)=>{B.exports=e.p+"apps-0205318.png"},9712938391:(B,A,e)=>{B.exports=e.p+"canvas-27b164f.png"},2703114102:(B,A,e)=>{B.exports=e.p+"huddles-65511ae.png"},1632737234:(B,A,e)=>{B.exports=e.p+"lists-a03762f.png"},9572768707:(B,A,e)=>{B.exports=e.p+"messages-cf1cdcf.png"},6727439516:(B,A,e)=>{B.exports=e.p+"slack-connect-4779df0.png"},145209500:(B,A,e)=>{B.exports=e.p+"templates-26a2d87.png"},4662204317:B=>{B.exports={callout:"callout__iCkCQ",inverted:"inverted__WIKdT",warning:"warning__ayb0N"}},2441508242:B=>{B.exports={fileIconSearch:"fileIconSearch__aqSf0"}},5879986643:B=>{B.exports={pollIcon:"pollIcon__QEauw",pollIconDark:"pollIconDark__ptWiL"}},704879594:B=>{B.exports={record_breadcrumbs:"record_breadcrumbs__ErsaA",record_breadcrumb:"record_breadcrumb__cEZEJ",record_breadcrumb_label:"record_breadcrumb_label__LDBB9"}},8742565583:B=>{B.exports={accordion:"accordion__kLx8x",item:"item__MTv17",expanded:"expanded__G1WSM",noBorder:"noBorder__Bkdii",itemHeader:"itemHeader__rqviz",expandedIcon:"expandedIcon__a6bDs",header:"header__Mu2fJ",defaultShowDescriptionAnimation:"defaultShowDescriptionAnimation__SUEzA",showDescription:"show-description___8nN1",defaultShowDescription:"defaultShowDescription__O25CX",customItemTextAnimation:"customItemTextAnimation__J88Pz",addPadding:"add-padding__dbRf8",customItemText:"customItemText__vavhM",customItemTransition:"customItemTransition__YwYGB",description:"description__RSIZO",iconSpacer:"iconSpacer__a8u1y",imageCaret:"imageCaret__ZFZoY"}},6313929022:B=>{B.exports={cardsContainer:"cardsContainer__OTIvX",cardContainer:"cardContainer__uXDsY",cardContainerImg:"cardContainerImg__rCUUa",lagoon:"lagoon__MG9UQ",aubergine:"aubergine__ETp71",cilantro:"cilantro__r5shg",sunflower:"sunflower__r4abx",flamingo:"flamingo__Q_Ynx",cardImg:"cardImg__z4O6B",cardContent:"cardContent__aKoTc",arrows:"arrows__iz2fp",left:"left__TiWOa",right:"right__dFttJ"}},2607883914:B=>{B.exports={backgroundColorPalettesAquarium5:"backgroundColorPalettesAquarium5___6_6m",backgroundColorPalettesAubergine0:"backgroundColorPalettesAubergine0__96WJp",backgroundColorPalettesAubergine5:"backgroundColorPalettesAubergine5__A5WrP",backgroundColorPalettesAubergine10:"backgroundColorPalettesAubergine10__7qZ2A",backgroundColorPalettesAubergine30:"backgroundColorPalettesAubergine30__LcFJs",backgroundColorPalettesAubergine40:"backgroundColorPalettesAubergine40__IscmE",backgroundColorPalettesAubergine50:"backgroundColorPalettesAubergine50__sBC2y",backgroundColorPalettesCampfire5:"backgroundColorPalettesCampfire5__KtkO2",backgroundColorPalettesCilantro30:"backgroundColorPalettesCilantro30__i5oqV",backgroundColorPalettesHoneycomb30:"backgroundColorPalettesHoneycomb30__ngrPU",backgroundColorPalettesIndigo20:"backgroundColorPalettesIndigo20__nOuB6",backgroundColorPalettesIndigo50:"backgroundColorPalettesIndigo50__O_MJK",backgroundColorPalettesJade70:"backgroundColorPalettesJade70__jhhW8",backgroundColorPalettesLagoon30:"backgroundColorPalettesLagoon30__qPZN3",backgroundColorPalettesLagoon40:"backgroundColorPalettesLagoon40__qBXK3",backgroundColorPalettesMojito5:"backgroundColorPalettesMojito5__TLRv0",backgroundColorPalettesOcean20:"backgroundColorPalettesOcean20__r9gpL",backgroundColorPalettesPaprika50:"backgroundColorPalettesPaprika50__BknK7",backgroundColorPalettesSangria5:"backgroundColorPalettesSangria5__RMJEp",backgroundColorPalettesSunflower20:"backgroundColorPalettesSunflower20__AGf8u",backgroundColorPalettesSunflower40:"backgroundColorPalettesSunflower40__CZklN",backgroundColorPalettesTangerine40:"backgroundColorPalettesTangerine40__juFXf",backgroundColorCoreSurfacePrimary:"backgroundColorCoreSurfacePrimary__tWi2S",colorPrimary:"colorPrimary__Iy6z6",colorSecondary:"colorSecondary__y6cgl",colorTertiary:"colorTertiary__Idom0",colorThemeInversePrimary:"colorThemeInversePrimary__EJNIu",colorCoreContentHighlight1:"colorCoreContentHighlight1__CltMO",colorCoreContentHighlight2:"colorCoreContentHighlight2__FYnj0",colorCoreContentHighlight3:"colorCoreContentHighlight3__gGst9",colorCoreContentImportant:"colorCoreContentImportant__yPnyu",colorPalettesAubergine70:"colorPalettesAubergine70__RccpV",colorPalettesCampfire70:"colorPalettesCampfire70__sxLOK",colorPalettesCilantro70:"colorPalettesCilantro70__g4ST5",colorPalettesLagoon70:"colorPalettesLagoon70__lo2gw",colorPalettesSunflower60:"colorPalettesSunflower60__lXLUN",colorInherit:"colorInherit__vwPOT",chip:"chip__Q3ooO",darkMode:"darkMode__UKAub",medium:"medium__kJEgv",large:"large__tdnhm",extraLarge:"extraLarge___ScFb",aiGradient:"aiGradient__pjyr2"}},4988270609:B=>{B.exports={clickableIcon:"clickableIcon__TWpIU",nonClickableIcon:"nonClickableIcon__S7ksP",divider:"divider__IMCIF",clickableFeatureContainer:"clickableFeatureContainer__nIB4p",feature:"feature__Q_SzS",urlLink:"urlLink__nc3gX",iconButton:"iconButton__WoqBy"}},9360442314:B=>{B.exports={modalContainer:"modalContainer__o78sg",container:"container__NwDCd",leftContainer:"leftContainer__qkVPh",multiChipContainer:"multiChipContainer__k02pj",subtitle:"subtitle__TcwNf",outerButtonContainer:"outerButtonContainer__zOWxe",innerButtonContainer:"innerButtonContainer__q5Fqv"}},3836315940:B=>{B.exports={containerVertical:"containerVertical__edZL1",containerVerticalDarkMode:"containerVerticalDarkMode__xCc07",containerHorizontal:"containerHorizontal__MZl6H",farLeft:"farLeft__p7HYg",childrenContainer:"childrenContainer__wCqjs"}},4623947952:B=>{B.exports={backgroundColorPalettesAquarium5:"backgroundColorPalettesAquarium5__Npmse",backgroundColorPalettesAubergine0:"backgroundColorPalettesAubergine0__SJdLS",backgroundColorPalettesAubergine5:"backgroundColorPalettesAubergine5__xQJud",backgroundColorPalettesAubergine10:"backgroundColorPalettesAubergine10__iNj6V",backgroundColorPalettesAubergine30:"backgroundColorPalettesAubergine30__Qqdsf",backgroundColorPalettesAubergine40:"backgroundColorPalettesAubergine40__muAXc",backgroundColorPalettesAubergine50:"backgroundColorPalettesAubergine50__p6xfY",backgroundColorPalettesCampfire5:"backgroundColorPalettesCampfire5__mlbge",backgroundColorPalettesCilantro30:"backgroundColorPalettesCilantro30__z7dnE",backgroundColorPalettesHoneycomb30:"backgroundColorPalettesHoneycomb30__dZheb",backgroundColorPalettesIndigo20:"backgroundColorPalettesIndigo20__Ltjwx",backgroundColorPalettesIndigo50:"backgroundColorPalettesIndigo50__wyyhq",backgroundColorPalettesJade70:"backgroundColorPalettesJade70__fsuSB",backgroundColorPalettesLagoon30:"backgroundColorPalettesLagoon30__Q1D_u",backgroundColorPalettesLagoon40:"backgroundColorPalettesLagoon40__iCYL7",backgroundColorPalettesMojito5:"backgroundColorPalettesMojito5__ybTJ1",backgroundColorPalettesOcean20:"backgroundColorPalettesOcean20__AlqkB",backgroundColorPalettesPaprika50:"backgroundColorPalettesPaprika50__xa2Cy",backgroundColorPalettesSangria5:"backgroundColorPalettesSangria5__Wx6H4",backgroundColorPalettesSunflower20:"backgroundColorPalettesSunflower20__gSOS2",backgroundColorPalettesSunflower40:"backgroundColorPalettesSunflower40__yQpIv",backgroundColorPalettesTangerine40:"backgroundColorPalettesTangerine40__dsHc_",backgroundColorCoreSurfacePrimary:"backgroundColorCoreSurfacePrimary__BvUyV",colorPrimary:"colorPrimary__OpPYq",colorSecondary:"colorSecondary__LA4z5",colorTertiary:"colorTertiary__NzHwL",colorThemeInversePrimary:"colorThemeInversePrimary__HYor1",colorCoreContentHighlight1:"colorCoreContentHighlight1__Cni2v",colorCoreContentHighlight2:"colorCoreContentHighlight2__u2WOd",colorCoreContentHighlight3:"colorCoreContentHighlight3__bkwIu",colorCoreContentImportant:"colorCoreContentImportant__ehtOc",colorPalettesAubergine70:"colorPalettesAubergine70__PCnnM",colorPalettesCampfire70:"colorPalettesCampfire70__gpgIR",colorPalettesCilantro70:"colorPalettesCilantro70__vVpSY",colorPalettesLagoon70:"colorPalettesLagoon70__LUoRy",colorPalettesSunflower60:"colorPalettesSunflower60__DiKe3",colorInherit:"colorInherit__jnox0",text:"text__yxtZb",fontSizeMicro:"fontSizeMicro__vL5rG",fontSizeCaption:"fontSizeCaption__g87_d",fontSizeBase:"fontSizeBase__vq3Rz",fontSizeSubtitle:"fontSizeSubtitle__ehrGi",fontSizeTitle:"fontSizeTitle__oao6m",fontSizeHeadline:"fontSizeHeadline__tkdnz",fontWeightBase:"fontWeightBase__MuzzM",fontWeightSemibold:"fontWeightSemibold__qFHfO",fontWeightBold:"fontWeightBold__xavtM",fontWeightBlack:"fontWeightBlack__VEFyV"}},1623362425:B=>{B.exports={proBadge:"proBadge__a6OQu",container:"container__lJGtV",alertBanner:"alertBanner__xNhoq",cta:"cta__tEXdP"}},2969807192:B=>{B.exports={videoAndDevicesContainer:"videoAndDevicesContainer__NVELK",videoContainer:"videoContainer__XjCxI",videoPreview:"videoPreview__hMjwB",videoInnerContainer:"videoInnerContainer__lO7xn",videoAvatar:"videoAvatar__lZyuR",loading:"loading__FMtdL"}},4234174381:B=>{B.exports={modal:"modal__V69Vd",overlay:"overlay__gsuuD"}},7975902148:B=>{B.exports={container:"container__DVK1Z",button:"button__PWHcn"}},2019695928:B=>{B.exports={container:"container__ExpEn",device:"device__Wqu1p",speaker:"speaker__IHiCf"}},4353583794:B=>{B.exports={modal:"modal__v1OWN",overlay:"overlay__HrRPN"}},4113649297:B=>{B.exports={container:"container__rto70"}},1932231748:B=>{B.exports={container:"container__bqBHK",toolbarButton:"toolbarButton__uaxi2",activeButton:"activeButton__UwqVv",warningBadgeContainer:"warningBadgeContainer__SWzb7",warningBadge:"warningBadge__srWl0",cameraDisabled:"cameraDisabled__fhjuY"}},8678400707:B=>{B.exports={toolbarContainer:"toolbarContainer__eE_VC",leftButtons:"leftButtons__B6Qlj",centerButtons:"centerButtons__ByIUv",rightButtons:"rightButtons__pk9Eg",button:"button__Dv5Vp",buttonToggledOn:"buttonToggledOn__Kuvfg",micVolumeIndicator:"micVolumeIndicator__aoLSG",micIconMicrophoneInputLevel:"micIconMicrophoneInputLevel__DObtx",buttonBadged:"buttonBadged__L7tGY",buttonDisabled:"buttonDisabled__HqhQ5",buttonEducation:"buttonEducation__VWyqE",buttonDisabledTooltip:"buttonDisabledTooltip___dDUA",leaveButton:"leaveButton__wzISw",toolbarContainerDarkTheme:"toolbarContainerDarkTheme__g3HpA",toolbarContainerCompactMode:"toolbarContainerCompactMode__uLvGQ",buttonCompactMode:"buttonCompactMode__yDD14",leaveButtonCompactMode:"leaveButtonCompactMode__WpGAt",leftButtonsDrawingSupportContainer:"leftButtonsDrawingSupportContainer__Fb53R",centerButtonsDrawingSupportContainer:"centerButtonsDrawingSupportContainer__KmBuI",rightButtonsDrawingSupportContainer:"rightButtonsDrawingSupportContainer__YfVzw",emojiButton:"emojiButton__KGFo5",emojiButtonHover:"emojiButtonHover__DeKR0",emojiButtonResting:"emojiButtonResting__KDZDh",threadToggleContainer:"threadToggleContainer__E3y_M",threadToggleBadge:"threadToggleBadge__Za_U8",coachmarkSelfview:"coachmarkSelfview__gwjCy",coachmarkMuted:"coachmarkMuted___4HOj",toolbarContainerExpandedMode:"toolbarContainerExpandedMode__nPMzn",verticalDivider:"verticalDivider__Xyb1N",inviteTopicContainer:"inviteTopicContainer__a5ckd",buttonExpandedMode:"buttonExpandedMode__tmqDY",buttonFullBleed:"buttonFullBleed__dFRNq",threadButton:"threadButton__C2JmO",threadButtonFullBleed:"threadButtonFullBleed__ZrXpf",canvasButton:"canvasButton__r87qo",canvasButtonFullBleed:"canvasButtonFullBleed__r8FlF",leaveButtonExpandedMode:"leaveButtonExpandedMode__nGFGX",troubleshootingButton:"troubleshootingButton__kWOoV",troubleshootingButtonToggledOn:"troubleshootingButtonToggledOn__bhps4",troubleshootingButtonFullBleed:"troubleshootingButtonFullBleed__jjPxK",troubleshootingButtonFullBleedToggledOn:"troubleshootingButtonFullBleedToggledOn__h0amX",troubleshootingbuttonCompactMode:"troubleshootingbuttonCompactMode__lWO9O",recordingButton:"recordingButton__xiXUB",recordingbuttonPaused:"recordingbuttonPaused__bZlf6",micAlertContainer:"micAlertContainer__oEeLN",micAlert:"micAlert__JnGvL",micDisabled:"micDisabled__InUj_",hoverNameFade:"hoverNameFade__wTIz8"}},7795407072:B=>{B.exports={inlineAudioMeterContainer:"inlineAudioMeterContainer__Y3vlI",inlineAudioMeter:"inlineAudioMeter__XIoND"}},6874403995:B=>{B.exports={spaceNameContainer:"spaceNameContainer__Up4ES",spaceName:"spaceName__e2eNG",notificationName:"notificationName__PLxJo",notificationList:"notificationList__K7YI_",formError:"formError__RF0wt",textArea:"text-area__GqSis",alert:"alert__gmI86",alertText:"alertText__WNqBZ"}},163635467:B=>{B.exports={dispatcherViewer:"dispatcherViewer__MqLHN",container:"container__JbqvN",dispatcherViewerIcon:"dispatcherViewerIcon__TTCBH",xDispatcher__viewer_iconPulse:"x-dispatcher__viewer_icon--pulse__rzHrs",dispatcherViewerDetails:"dispatcherViewerDetails__HF2Tz"}},3858647469:B=>{B.exports={bodyContainer:"bodyContainer__XdYx2",listContainer:"listContainer__Q03_Y",videoContainer:"videoContainer__zFTj5",proBadge:"proBadge__vbDah",title:"title__I2qJO",subtitle:"subtitle__lKLAD",ctaButton:"ctaButton__KoQEK",modalBackground:"modalBackground__eUyLk"}},5726282236:B=>{B.exports={featuresListContainer:"featuresListContainer__Wztys",icon:"icon__oy3IT",title:"title__OyvRi",text:"text__lXfZb"}},5632506656:B=>{B.exports={costLabel:"costLabel__JmQfs",freeLabel:"freeLabel__kOzDa",proLabel:"proLabel__Y_YqW",bizPlusLabel:"bizPlusLabel__BafhG",costLabelSubtitle:"costLabelSubtitle___zgim",planLabel:"planLabel__jNOYK",discountedPrice:"discountedPrice__pH5Uq",typicalPriceWithStrikethrough:"typicalPriceWithStrikethrough__SlrWi",trialProBadge:"trialProBadge__v4egQ",planHeaderContainer:"planHeaderContainer__P0_Hy",disabledCurrentPlanButton:"disabledCurrentPlanButton__ne1m4",bizPlusUpgradeButton:"bizPlusUpgradeButton__IVKuJ",trialEligibleCellContainer:"trialEligibleCellContainer__No8Xm",trialEligibleCurrentPlanBtn:"trialEligibleCurrentPlanBtn__A1SEA",trialStartCta:"trialStartCta__qHMCY",upgradeLink:"upgradeLink__MZ6Um",upgradeRocketIcon:"upgradeRocketIcon__rrknv",missingText:"missingText__OThqS"}},892838001:B=>{B.exports={wrapper:"wrapper__gmXd4",listWrapper:"listWrapper__XJnfh",appsWrapper:"appsWrapper__H2egD",listActionsBuffer:"listActionsBuffer__nL0tg",canvasActionsBuffer:"canvasActionsBuffer__Q7KvW",browserWrapper:"browserWrapper__cJTzM",linkInBody:"linkInBody__Jxx24"}},1130922402:B=>{B.exports={icon:"icon__FjacC",featuresList:"featuresList__CSXeQ",featureText:"featureText__FJcZW",learnMoreLink:"learnMoreLink__aOiVk",plus:"plus__LxKva",learnMoreLinkText:"learnMoreLinkText__S0HoG",footerText:"footerText__hJgWh",cta:"cta__yLBIb"}},1039543453:B=>{B.exports={featureImage:"featureImage__GCGJB"}},9885610864:B=>{B.exports={accordionFeatureListModal:"accordionFeatureListModal__XY4l2",horchataBg:"horchataBg__Z4qYV",aubergineBg:"aubergineBg__XTvzG",horchataCaret:"horchataCaret__z5j66",aubergineCaret:"aubergineCaret__Ln6eA",bodyContainer:"bodyContainer__WwREe",listContainer:"listContainer__RAODJ",header:"header__A7Fx9",title:"title__w5UXN",subtitle:"subtitle__GJpvo",accordionListContainer:"accordionListContainer__ZhxlB",accordionItem:"accordionItem__N3S6I",imageContainer:"imageContainer__I5MJj",upgradeCta:"upgradeCta__gvG2D",spinner:"spinner__D0NVf",footer:"footer__cNZ0p",accordionItemHeaderButton:"accordionItemHeaderButton__klUaK",accordionItemHeader:"accordionItemHeader__SDi13",accordionItemDescription:"accordionItemDescription__P1u4j",accordionExpandedIcon:"accordionExpandedIcon__a2fMf",accordionCollapsedIcon:"accordionCollapsedIcon__KurIq"}},2369272824:B=>{B.exports={footer:"footer__q8kg4",cta:"cta__x1pLT",light:"light__adKpp",disclaimer:"disclaimer__i655U",link:"link__ISsu1"}},428235996:B=>{B.exports={primaryCta:"primaryCta__eSYB_"}},8318000687:B=>{B.exports={tooltipText:"tooltipText__Z9pUy"}},4183808823:B=>{B.exports={banner:"banner__NRqlA",link:"link__zbG4b",bodyText:"bodyText__J_4W5",icon:"icon__rIB5w",comparePlansBtn:"comparePlansBtn__EQLop",titleText:"titleText__qMilT",linkWrapper:"linkWrapper__FF5pM"}},7840194823:B=>{B.exports={debugOverlay:"debugOverlay__EISyy",debugFrame:"debugFrame__KakqI",debugContainer:"debugContainer__URe44",disabled:"disabled__EbCwF"}},3724853370:(B,A,e)=>{"use strict";e.d(A,{O:()=>r});var t=e(3134334389),s=e(2844658640),o=e.n(s),n=e(1881746846),c=e(338698394);function l(){return l=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(d[u]=f[u])}return d},l.apply(this,arguments)}h(l,"_extends");const i=(0,n.eF)(n.vt.REACT_VIRTUALIZED,d=>o()(d));function a(d){let{refToForward:m,...f}=d;const{windowRef:u}=(0,t.useContext)(c._0),E=i(u.deref()).List;return t.createElement(E,l({ref:m},f))}h(a,"PortableReactVirtualizedList"),a.displayName="PortableReactVirtualizedList";const r=t.forwardRef((d,m)=>t.createElement(a,l({refToForward:m},d)))},9744931820:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(105789326);const s=t.t$},5870137507:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(8160246534),s=e(1236500105);const n=h(()=>(0,t.A)(()=>(0,s.A)()),"useUniqueId")},978447741:(B,A,e)=>{"use strict";e.d(A,{P:()=>s,b:()=>o});var t=e(6120728640);const s="disable_batched_subscribe",o=h(()=>(0,t.fW)(s),"shouldDisableBatchedSubscribe")},9315975224:(B,A,e)=>{"use strict";e.d(A,{b:()=>c,i:()=>n});var t=e(3398586081),s=e(6120728640),o=e(9729010546);const n="sentry_fe_perf",c=(0,t.A)(()=>(0,o.A)()?!1:(0,s.fW)(n))},7503205170:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(1416482128),s=e(8890311622),o=e(1492910739);function n(c){let{teamOrEnterpriseId:l,customEnhancers:i,middlewares:a,disableDevTools:r}=c;const d=(0,s.P)();return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!r&&((0,o.Cu)()||(0,o.b3)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(d(l)):t.Zz)((0,t.Tw)(...a??[]),...i??[])}h(n,"configureEnhancers")},2050235080:(B,A,e)=>{"use strict";e.d(A,{XT:()=>r,Xw:()=>s,gU:()=>c,l0:()=>i,xf:()=>o});var t=e(5221609289);const s=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function o(d){const m=d.match(s);return m&&m.length===1&&m[0]===d||!1}h(o,"isEmail");function n(d){const{pathname:m,protocol:f}=parseUrl(d);return f==="mailto:"&&o(m)}h(n,"isEmailUrl");function c(d){const{pathname:m,protocol:f}=d;return f==="mailto:"&&o(m)}h(c,"isEmailUrlFromUrlObject");const l=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function i(d){const m=d.match(l);return m&&m.length===1&&m[0]===d||!1}h(i,"isDomain");function a(d){return d.includes("@slack-bots.com")}h(a,"isSlackBotEmail");function r(d){let{csv:m,min:f=0,max:u=10}=d;const E=m.split(/\s*,\s*/).length;return{minViolation:E<f,maxViolation:E>u}}h(r,"validateCSV")},6870966595:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s,o,n){let c,l;return function(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];var d;const m=(d=n==null?void 0:n.deref())!==null&&d!==void 0?d:window;m.cancelAnimationFrame(l),c=m.performance.now();const f=h(E=>{if(E>c+o)s(...a);else{var v;l=((v=n==null?void 0:n.deref())!==null&&v!==void 0?v:window).requestAnimationFrame(f)}},"callback");var u;return l=((u=n==null?void 0:n.deref())!==null&&u!==void 0?u:window).requestAnimationFrame(f),l}}h(t,"debounceRAF")},955225004:(B,A,e)=>{"use strict";e.d(A,{IR:()=>f,P7:()=>p,vq:()=>i});var t;(function(y){y[y.ELEMENT=1]="ELEMENT",y[y.ATTRIBUTE=2]="ATTRIBUTE",y[y.TEXT=3]="TEXT",y[y.CDATA_SECTION=4]="CDATA_SECTION",y[y.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",y[y.ENTITY=6]="ENTITY",y[y.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",y[y.COMMENT=8]="COMMENT",y[y.DOCUMENT=9]="DOCUMENT",y[y.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",y[y.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",y[y.NOTATION=12]="NOTATION"})(t||(t={}));const s=new Set(["INPUT","TEXTAREA","SELECT"]),o=new Set([...s,"BUTTON"]),n="http://www.w3.org/1999/xhtml",c="http://www.w3.org/2000/svg";function l(y){return(y==null?void 0:y.nodeType)===t.TEXT}h(l,"isTextNode");function i(y){return(y==null?void 0:y.nodeType)===t.ELEMENT}h(i,"isElement");function a(y){return i(y)&&y.namespaceURI===n}h(a,"isHtmlElement");function r(y){return i(y)&&y.namespaceURI===c}h(r,"isSvgElement");function d(y){return a(y)||r(y)}h(d,"isHtmlOrSvgElement");function m(y){return a(y)||r(y)}h(m,"isElementCssInlineStyle");function f(y){return E(y,"a")}h(f,"isAnchorElement");function u(y){return a(y)&&o.has(y.tagName)}h(u,"isInteractiveElement");function E(y,C){return a(y)&&y.localName===C}h(E,"isHtmlElementWithTagName");function v(y){return l(y)?y:null}h(v,"asTextNode");function g(y){return i(y)?y:null}h(g,"asElement");function T(y){return a(y)?y:null}h(T,"asHtmlElement");function p(y,C){const I=y;return I.hasAttribute&&I.hasAttribute(C)}h(p,"hasAttribute");function O(y,C){return p(y,`data-${C}`)}h(O,"hasData")},7724944080:(B,A,e)=>{"use strict";e.d(A,{_i:()=>n});function t(l,i,a,r){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const m=[r.x-i.x,r.y-i.y],f=[a.x-i.x,a.y-i.y],u=[l.x-i.x,l.y-i.y],E=m[0]*m[0]+m[1]*m[1],v=m[0]*f[0]+m[1]*f[1],g=m[0]*u[0]+m[1]*u[1],T=f[0]*f[0]+f[1]*f[1],p=f[0]*u[0]+f[1]*u[1],O=1/(E*T-v*v),y=(T*g-v*p)*O,C=(E*p-v*g)*O;return y>=-d&&C>=-d&&y+C<1+d}h(t,"isPointInTriangle");function s(l,i,a){const r=(a.x-i.x)**2+(a.y-i.y)**2,d=((l.x-i.x)*(a.x-i.x)+(l.y-i.y)*(a.y-i.y))/r;return d<0?(l.x-i.x)**2+(l.y-i.y)**2:d<=1?(i.x-l.x)**2+(i.y-l.y)**2-d**2*r:(l.x-a.x)**2+(l.y-a.y)**2}h(s,"distanceSquarePointToSegment");function o(l,i,a,r){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const m=Math.min(i.x,Math.min(a.x,r.x))-d,f=Math.max(i.x,Math.max(a.x,r.x))+d,u=Math.min(i.y,Math.min(a.y,r.y))-d,E=Math.max(i.y,Math.max(a.y,r.y))+d;return l.x>m&&l.x<f&&l.y>u&&l.y<E}h(o,"pointInTriangleBoundingBox");function n(l,i,a,r){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!o(l,i,a,r,d))return!1;const m=d**2;return t(l,i,a,r,0)||s(l,i,a)<=m||s(l,a,r)<=m||s(l,r,i)<=m}h(n,"accurateIsPointInTriangle");var c={accurateIsPointInTriangle:n,isPointInTriangle:t}},436077497:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(1516013259),s=e(2774532222);const o=h(n=>(0,t.A)(n,(c,l)=>(0,s.A)(l,"aria-")),"__WEBPACK_DEFAULT_EXPORT__")},9483971336:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(1516013259),s=e(2774532222);function o(n){return(0,t.A)(n,(c,l)=>(0,s.A)(l,"data-"))}h(o,"getDataProps")},3893134238:(B,A,e)=>{"use strict";e.d(A,{v:()=>s});var t=e(2523272975);function s(o){const n=(0,t.F)().getLocaleForLastViewedTeam().toLowerCase();return n==="en-us"?o:`/intl/${n}${o}`}h(s,"getLocalizedPath")},4406546601:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s){var o;return!s||s.metaKey||s.ctrlKey?!1:((o=s.key)===null||o===void 0?void 0:o.length)===1}h(t,"isPrintableKeyEvent")},1205314734:(B,A,e)=>{"use strict";e.d(A,{Q:()=>t});const t=h(()=>null,"noopNull")},563941117:(B,A,e)=>{"use strict";e.d(A,{B:()=>o,I:()=>n.A});var t=e(3134334389),s=e(4470890745);let o=h(class extends t.Component{shouldComponentUpdate(l,i){return!(0,s.Ay)(l,this.props,2)||!(0,s.Ay)(i,this.state,2)}},"PureComponentDepth2");var n=e(6520980649)},6520980649:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3134334389),s=e(4470890745);let o=h(class extends t.Component{shouldComponentUpdate(c,l){return!(0,s.Ay)(c,this.props,3)||!(0,s.Ay)(l,this.state,3)}},"PureComponentDepth3")},9720146556:(B,A,e)=>{"use strict";e.d(A,{A:()=>n,u:()=>o});var t=e(9635987194),s=e(4967628800);const o=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let n=h(class gs{normalizeAndScore(l){const i=(0,s.B)(l);return i===this.normalizedQuery?0:this.score(i)}score(l){if(!l||this.queryNoSeparators.length>l.replace(o,"").length||!gs.containsAllLetters(l,this.queryNode)||!this.queryNode)return 1/0;const a=gs.lettersToGraph(l,this.options);if(!a)return 1/0;const r=gs.searchWordBoundariesOnly(a,this.queryNode,this.options,this.queryLength);if(!r)return 1/0;const d=gs.countResult(r);return d>this.fuzzyLimit?1/0:d}static scoreOnce(l,i,a){const r=(0,s.B)(i),d=(0,s.B)(l);return new gs(r,a).score(d)}static lettersToGraph(l,i){const a=l.split(""),r=a.shift();return gs.lettersToGraphWorker(r,null,a,[],0,i)}static lettersToGraphWorker(l,i,a,r,d){let m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!l)return null;const f=(0,t.A)(l),u=gs.makeLetterNode(l,i,r,d,f);if(gs.shouldAddJump(i,u,m)){const v=m.fuzzyJumpLimit||5;r.length<v&&r.push(u)}const E=gs.lettersToGraphWorker(a.shift(),u,a,r,d+1,m);return E&&(u.next=E),u}static shouldAddJump(l,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i.ignored?!1:!!(!l||l.ignored&&!i.ignored||a.fuzzyCJK&&(l.isCJK!==i.isCJK||i.isCJK))}static makeLetterNode(l,i,a,r,d){return{letter:l,ignored:l.match(o),next:null,prev:i,jumps:a,visited:!1,index:r,isCJK:d}}static queryToLinkedList(l){if(!l)return null;let i=l.split("");return i.length>1024&&(i=i.slice(0,1024)),gs.queryToLinkedListWorker(i,0)}static queryToLinkedListWorker(l,i){if(i>=l.length)return null;const a=l[i],r=!!(a.match(o)&&(i!==0||l.length>1));return{letter:a,isSeparator:r,isSpace:a===" ",next:gs.queryToLinkedListWorker(l,i+1),index:i}}static searchWordBoundariesOnly(l,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,d=gs.searchWordBoundariesOnlyWorker(l,i,0,a);if(d||(d=l.jumps.reduce((m,f)=>m||f===l?m:gs.searchWordBoundariesOnlyWorker(f,i,1,a),null)),a.matchBeyondWordBoundaries&&r>=4&&!d){const m=gs.findSecondaryPositions(l,i.letter),f=[l.index,...l.jumps.map(E=>E.index)].sort((E,v)=>E-v),u=8;for(const E of m.slice(0,u)){const v=gs.calculateOffsetPenalty(E.index,f);if(v&&(d=gs.searchWordBoundariesOnlyWorker(E,i,v,a),d))break}}return d}static findSecondaryPositions(l,i){const a=[];let r=l.next;for(;r;)r.letter===i&&a.push(r),r=r.next;const d=new Set(l.jumps.map(m=>m.index));return a.filter(m=>!d.has(m.index))}static calculateOffsetPenalty(l,i){if(l<0)return null;if(i.includes(l))return 0;const a=i.reduce((d,m)=>m<l&&m>d?m:d,-1);return 2+(l-a)}static searchWordBoundariesOnlyWorker(l,i,a){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!l||!i)return null;let d;if(!l.visited&&(l.letter===i.letter||l.ignored&&i.isSeparator)&&(d={node:l,count:a}),!d)return null;if(!i.next)return d;l.visited=!0;let m=gs.searchWordBoundariesOnlyWorker(l.next,i.next,0,r),f=i.next;for(;f.isSeparator&&f.next;)f=f.next;return m||(m=l.jumps.reduce((u,E)=>u||E.visited||E===l||(r.searchForwardOnly||r.substringsOnly)&&E.index<l.index||r.substringsOnly&&E.index>l.index+2?u:gs.searchWordBoundariesOnlyWorker(E,f,1,r),null)),l.visited=!1,m?(d.next=m,d):null}static countResult(l){return l?l.count+gs.countResult(l.next):0}static containsAllLetters(l,i){let a=i;for(;a;){if(!(a.isSeparator||l.includes(a.letter)))return!1;a=a.next}return!0}constructor(l,i={}){this.normalizedQuery=(0,s.B)(l),this.queryLength=this.normalizedQuery.length,this.queryNode=gs.queryToLinkedList(this.normalizedQuery),this.options=i;var a;this.fuzzyLimit=(a=this.options.fuzzyLimit)!==null&&a!==void 0?a:1/0,this.queryNoSeparators=this.normalizedQuery.replace(o,"")}},"FuzzyMatcher")},3835400233:(B,A,e)=>{"use strict";e.d(A,{A:()=>g,T:()=>f});var t=e(3134334389),s=e(6761585902),o=e(3889339349),n=e(2947229296),c=e(5478938623),l=e(3666777625),i=e(7874250141),a=e(1959543078),r=e(2230899950),d=e(4406016077);const m=new n.Ay("enterprise_calls");var f;(function(T){T.GLOBAL="GLOBAL",T.US="US"})(f||(f={}));const u=h(()=>[{label:m.t("Global"),value:f.GLOBAL},{label:m.t("US"),value:f.US}],"getLocationOptions");let E=h(class extends t.Component{render(){const{appsState:p,featureCallsLocationLock:O,isLockedByOrgAdmin:y,selectedCallLocation:C,isFreeTeam:I}=this.props,M=u(),_=p&&p.video&&Object.keys(p.video).find(D=>D==="A00");if(!O||!_||I)return null;const P=M.find(D=>D.value===C),b=O?m.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",S=O?m.t("Call location options"):"Call location options",N=O?m.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",L=O?m.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.createElement(t.Fragment,null,t.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.createElement("span",{className:"p-calls_location_lock__title"},O?m.t("Calls location"):"Calls location"),t.createElement("span",{className:"p-calls_location_lock__description"},b),t.createElement("div",{className:"p-calls_location_lock__options_container"},t.createElement(r.Ay,{className:"p-calls_location_lock__options",size:"medium",isDisabled:y,options:M,selectedOption:P,onOptionSelected:this.handleOptionSelected,ariaLabel:S}),y&&t.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},L))),C===f.US&&t.createElement(a.Ay,{type:a.QE.boxed,level:a.A_.warning,icon:"warning",align:a.AO.left,className:"p-calls_location_lock__alert"},t.createElement("span",null,N)))}handleOptionSelected(p){this.props.setSelectedCallLocation(p.value)}constructor(p){super(p),(0,o.v)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");E.displayName="CallsRegionLockOptions";const v=h(T=>{const p=(0,i.jV)(T);return{isFreeTeam:!(0,c.qR)((0,l.H7)(T))&&!p,featureCallsLocationLock:(0,d.XY)(T)}},"mapStateToProps"),g=(0,s.N)(v)(E)},7032209627:(B,A,e)=>{"use strict";e.d(A,{wl:()=>Q,JG:()=>W,uy:()=>ne,bM:()=>ie,Ox:()=>ee,A9:()=>J,fD:()=>z});var t=e(3134334389),s=e(6761585902),o=e(3783303734),n=e(9113979368),c=e(3867135795),l=e(45851552),i=e(1649982175),a=e(321010523),r=e(1242487384),d=e(934788348),m=e(2869254699),f=e(1538129653),u=e(1959543078),E=e(6369345880),v=e(9866037031),g=e(5395353422),T=e(9866181557),p=e(4406016077);const O=h(V=>!(0,p.BD)(V),"isOrgCallsAppsSettingsEnabled");var y=e(4741230335),C=e(7397682160);const I=h(V=>{let{callsApps:H,allowCalls:X,clogger:Y,action:q,stepVariant:fe}=V;const ce={allow_calls:X};H&&H.video&&H.video.length>0&&(ce.video_call_app_ids=H.video.map(Ee=>Ee.id)),H&&H.audio&&H.audio.length>0&&(ce.audio_call_app_ids=H.audio.map(Ee=>Ee.id)),H&&H.profile_field_options&&H.profile_field_options.length>0&&(ce.profile_field_option_ids=H.profile_field_options.map(Ee=>Ee.id)),Y.track(a.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...ce,contexts:{ui_context:{step:a.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:q,entry_point:"calls-workspace-admin",step_variant:fe}}})},"clogCallsApps"),M=h(V=>{let{clogger:H}=V;H.track(a.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:a.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:a.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:a.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var _=e(4894634110);const P=(0,_.Ay)("Clog a standardized click event when a workspace setting is saved",(V,H,X)=>{let{eventId:Y,uiStep:q,stepVariant:fe}=X;(0,C.e)({getState:H}).track(Y,{contexts:{ui_context:{ui_step:q,step_variant:fe,ui_properties:{element_type:a.ElementType.BUTTON,element_name:"submit_button"},action:a.UiAction.CLICK,is_primary_cta:!0}}})});P.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};const b=P;var S=e(3666777625),N=e(5478938623),L=e(3362542648),D=e(3451857649),k=e(2947229296),x=e(3835400233),R=e(2172170811);const U=new k.Ay("calls_admin"),F="only_available_for_paid_teams";var W;(function(V){V.Video="video",V.Audio="audio",V.ProfileFieldOptions="profile_field_options"})(W||(W={}));const w=h(V=>{let{type:H,app:X,isChecked:Y,onChangeCallApp:q,isLocked:fe}=V;const ce=(0,t.useCallback)(()=>q(H,X.id),[q,H,X]),Ee=`${H}_${X.id}`;return t.createElement(m.A,{text:X.name,type:"inline",cursor:"pointer"},t.createElement(v.A,{id:Ee,name:X.name,checked:Y,onChange:ce,disabled:fe,"data-qa":Ee}))},"AppCheckbox");w.displayName="AppCheckbox";const K=h(V=>{let{appsState:H,isLocked:X,type:Y}=V;return!X||!H?!1:Y===W.Video&&(0,o.A)(H.video)>0&&(0,o.A)(H.audio)===0||(Y===W.Audio&&(0,o.A)(H.audio)>0&&(0,o.A)(H.video))===0},"disableTypeCheckbox"),j=h(V=>{let{appsState:H,isLocked:X,appId:Y,type:q}=V;if(!X||!H)return!1;const fe=H.video?Object.keys(H.video):[],ce=H.audio?Object.keys(H.audio):[],Ee=fe.length+ce.length;if(Y&&Ee===1){let Ae,le;return fe.length===1?(Ae=fe[0],le=W.Video):ce.length===1&&(Ae=ce[0],le=W.Audio),Y===Ae&&q===le}return!1},"disableAppCheckbox"),Q=h(V=>{let{type:H,sectionTitle:X,appsState:Y,installedCallApps:q,onChangeCallType:fe,onChangeCallApp:ce,isLocked:Ee,dataQa:Ae}=V;if(!q||!Y||!q[H])return null;const le=`enable_${H}_calls`;return t.createElement("div",{className:`p-calls_workspace_settings__${H}_container`,"data-qa":Ae},t.createElement(m.A,{text:X,type:"inline",cursor:"pointer"},t.createElement(v.A,{checked:!(0,n.A)(Y[H]),id:le,name:le,onChange:fe,disabled:K({appsState:Y,isLocked:Ee,type:H})})),t.createElement("p",{className:"p-calls_workspace_settings__options_title"},U.t("Calling options:")),t.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...q[H]].map(oe=>t.createElement(w,{app:oe,isChecked:(0,c.A)(Y[H],oe.id),key:`${H}_${oe.id}`,onChangeCallApp:ce,type:H,isLocked:j({appsState:Y,isLocked:Ee,appId:oe.id,type:H})}))))},"CallSection");Q.displayName="CallSection";const J=h(V=>{let{installedCallApps:H,appsState:X,appId:Y,type:q,setAppsState:fe}=V;if(!H||!X)return;const ce={...X[q]};if((0,c.A)(ce,Y))delete ce[Y],fe({...X,[q]:ce});else{const Ee=(0,l.A)(H[q],Ae=>Ae.id===Y);Ee>-1&&(ce[Y]=Ee,fe({...X,[q]:ce}))}},"toggleCallApp"),z=h(V=>{let{installedCallApps:H,appsState:X,type:Y,setAppsState:q}=V;if(!(!X||!H))if(!(0,n.A)(X[Y]))q({...X,[Y]:{}});else{var fe;const ce={};(fe=H[Y])===null||fe===void 0||fe.forEach((Ee,Ae)=>{ce[Ee.id]=Ae}),q({...X,[Y]:ce})}},"toggleCallType"),ie=h((V,H)=>{const X={video:{},audio:{},profile_field_options:{}};return!H||!V||[W.Video,W.Audio,W.ProfileFieldOptions].forEach(Y=>{H[Y]&&[...H[Y]].forEach(fe=>{const ce=(0,l.A)(V[Y],Ee=>Ee.id===fe.id);ce>-1&&(X[Y][fe.id]=ce)})}),X},"reduceTeamPrefApps"),ee=h(function(){let{installedCallApps:V,appsState:H}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const X={video:[],audio:[]};return!V||!H||[W.Video,W.Audio].forEach(Y=>{if(V[Y]){const q=[...V[Y]],fe=H[Y];q.forEach(ce=>{if((0,c.A)(fe,ce.id)){var Ee;(Ee=X[Y])===null||Ee===void 0||Ee.push((0,i.A)(ce,"preselected"))}})}}),X},"setCallsAppsPayloadToSave"),ne=h(V=>{if(!V||!V.video)return;const H=V.video.findIndex(X=>X.id===R.rq);H>=0&&V.video.splice(H,1)},"filterNativeCallsApp"),Z=h(V=>{let{isOpen:H,closeModal:X,errorMessage:Y,buttonLabel:q}=V;return t.createElement(D.dW,{centered:!0,isOpen:H,closeModal:X},t.createElement(D.$m,{className:"p-calls_workspace_settings__error_modal"},t.createElement(D.qf,null,t.createElement("p",null,Y))),t.createElement(D.jl,null,t.createElement(D.ox,null,t.createElement(D.s_,{type:"outline",onClick:X,"aria-label":q},q))))},"ErrorModal");Z.displayName="ErrorModal";const te=h(V=>{let{installedCallApps:H,teamPrefCallsApps:X,setMultipleTeamPrefsByApi:Y,clogWorkspaceSettingSubmit:q,isLocked:fe,isCallsSelectorDisabled:ce,clogger:Ee,isOrgCallsAppsSettingsEnabled:Ae,team:le,isCallsLocationLockedByOrgAdmin:oe,callsLocationLocked:me}=V;const[pe,Te]=(0,t.useState)(!1),[Me,Ue]=(0,t.useState)(""),xe=U.t("Save"),Ne=U.t("Saved"),be=U.t("Sorry! Something went wrong. Please try again."),ke=U.t("Allow third-party calls in Slack"),Ke=U.t("Allow phone number calls in Slack (only in direct messages)"),$=U.t("Ok"),ae=U.t("Sorry, call selection is currently managed by your organization admin."),Ge=U.rt("First install a <a>calling app from the Slack Marketplace</a> then come back here to enable it as a default calling app.",{},gt=>{let{text:Gt}=gt;return t.createElement(g.A,{articleId:208492868},Gt)}),nt=(0,t.useCallback)(()=>{M({clogger:Ee}),(0,N.gC)(le,(0,L.hZ)({entryPoint:"calls-admin-workspace-settings"}))},[Ee,le]),at=U.rt("Sorry, this feature is only available to <a>paid teams</a>.",{},gt=>{let{text:Gt}=gt;return t.createElement("a",{href:"#",onClick:nt,"data-qa":"paid_plan_page_link"},Gt)}),Ve=X?ie(H,X):{video:{},audio:{},profile_field_options:{}},[Se,Pe]=(0,t.useState)(Ve),[Fe,ge]=(0,t.useState)(!1),[He,Qe]=(0,t.useState)(!1),_e=me&&me.length>0?x.T.US:x.T.GLOBAL,[Le,Ie]=(0,t.useState)(_e);(0,t.useEffect)(()=>{const gt=ie(H,X);Pe(gt)},[Pe,H,X]);const we=(0,t.useCallback)(gt=>{Qe(!1),z({installedCallApps:H,appsState:Se,type:gt,setAppsState:Pe})},[H,Se,Pe]),ze=(0,t.useCallback)(()=>we(W.Video),[we]),ut=(0,t.useCallback)(()=>we(W.Audio),[we]),_t=(0,t.useCallback)(()=>Te(!1),[Te]),yt=(0,t.useCallback)((gt,Gt)=>{Qe(!1),J({installedCallApps:H,appsState:Se,appId:Gt,type:gt,setAppsState:Pe})},[H,Se,Pe]),Ot=(0,t.useCallback)(gt=>{Ie(gt),Qe(!1)},[Ie]),It=h(()=>{ge(!0),q({eventId:a.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const gt=!(0,n.A)(Se.video)||!(0,n.A)(Se.audio),Gt=ee({installedCallApps:H,appsState:Se}),Pt={calls_apps:Gt};(0,N.r7)(le)||(Pt.allow_calls=gt),oe||(Pt.calls_locations=Le===x.T.US?[Le]:[]),Y({prefs:Pt}).then(()=>{Qe(!0),I({callsApps:Gt,allowCalls:gt,clogger:Ee,action:a.UiAction.SAVE})}).catch(jt=>{var Qt;Te(!0),(jt==null||(Qt=jt.data)===null||Qt===void 0?void 0:Qt.error)===F?(Ue(at),I({callsApps:Gt,allowCalls:gt,clogger:Ee,action:a.UiAction.ERROR,stepVariant:F})):(Ue(be),I({callsApps:Gt,allowCalls:gt,clogger:Ee,action:a.UiAction.ERROR}))}).finally(()=>ge(!1))},"onSubmit"),kt=H&&(H.video&&H.video.length>0||H.audio&&H.audio.length>0);return t.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},ce&&Ae?t.createElement(u.Ay,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.createElement("span",null,ae)):t.createElement(t.Fragment,null,!kt&&t.createElement(u.Ay,{type:"boxed",level:"info",icon:"info",align:"left"},t.createElement("span",null,Ge)),t.createElement("div",{className:"p-calls_workspace_settings__call_options"},H&&H.video&&H.video.length>0&&t.createElement(Q,{type:W.Video,sectionTitle:ke,appsState:Se,installedCallApps:H,onChangeCallType:ze,onChangeCallApp:yt,isLocked:fe}),H&&H.audio&&H.audio.length>0&&t.createElement(Q,{type:W.Audio,sectionTitle:Ke,appsState:Se,installedCallApps:H,onChangeCallType:ut,onChangeCallApp:yt,isLocked:fe})),t.createElement(x.A,{appsState:Se,isLockedByOrgAdmin:oe,selectedCallLocation:Le,setSelectedCallLocation:Ot}),t.createElement(Z,{closeModal:_t,isOpen:pe,errorMessage:Me,buttonLabel:$}),kt&&t.createElement(f.A,{onClick:It,loading:Fe,"data-qa":"call_save_button","aria-label":He?Ne:xe},He&&t.createElement(E.A,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),He?Ne:xe)))},"CallsWorkspaceSettings");te.displayName="CallsWorkspaceSettings";const he=h(V=>{const H=(0,r.tV)(V,"calls_apps");ne(H);const X=(0,T.xp)(V,"calls_apps"),Y=(0,y.SI)(V,"calls_locations");return{installedCallApps:H,teamPrefCallsApps:X,clogger:(0,C.e)({state:V}),isOrgCallsAppsSettingsEnabled:O(V),team:(0,S.H7)(V),isCallsLocationLockedByOrgAdmin:!!Y&&Y.length>0,callsLocationLocked:(0,T.xp)(V,"calls_locations")}},"mapStateToProps"),ue={setMultipleTeamPrefsByApi:d.hz,clogWorkspaceSettingSubmit:b},de={toggleCallApp:J,toggleCallType:z,AppCheckbox:w,reduceTeamPrefApps:ie,setCallsAppsPayloadToSave:ee,disableTypeCheckbox:K,disableAppCheckbox:j},re=(0,s.N)(he,ue)(te)},9269691419:(B,A,e)=>{"use strict";e.d(A,{o:()=>at});var t=e(3134334389),s=e(6761585902),o=e(166097325),n=e(8927008694),c=e(2172170811),l=e(338698394),i=e(4875826949);function a(){return a=Object.assign||function(Ve){for(var Se=1;Se<arguments.length;Se++){var Pe=arguments[Se];for(var Fe in Pe)Object.prototype.hasOwnProperty.call(Pe,Fe)&&(Ve[Fe]=Pe[Fe])}return Ve},a.apply(this,arguments)}h(a,"_extends");let r=h(class extends t.PureComponent{componentDidMount(){var Se;(Se=this.context.windowRef.deref())===null||Se===void 0||Se.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){var Se;this.isDragging&&this.onMouseUp(),(Se=this.context.windowRef.deref())===null||Se===void 0||Se.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(Se){var Pe;Se.button===0&&(this.isDragging=!0,(Pe=this.context.windowRef.deref())===null||Pe===void 0||Pe.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(Se))}onMouseMove(Se){Se.button===0&&this.isDragging&&this.props.onDragMove(Se)}onMouseUp(Se){if(Se&&Se.button!==0)return;const Pe=this.isDragging;if(this.isDragging=!1,Pe){var Fe;(Fe=this.context.windowRef.deref())===null||Fe===void 0||Fe.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(Se)}}render(){const{children:Se,refToForward:Pe,onDragStart:Fe,onDragMove:ge,onDragEnd:He,...Qe}=this.props,_e=t.Children.only(this.props.children);return t.cloneElement(_e,{...Qe,onMouseDown:Ie=>this.onMouseDown(Ie),ref:(0,i.N)(Pe,_e)})}constructor(Se){super(Se),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");r.contextType=l._0,r.displayName="BaseDragTarget";const d=t.forwardRef((Ve,Se)=>t.createElement(r,a({},Ve,{refToForward:Se})));var m=e(4743850398),f=e(4894634110),u=e(6690187588);const E=(0,u.tZ)("USER-ACTIONS"),v=(0,f.Ay)("Logs user interaction with call window",(Ve,Se,Pe)=>{E.info(Pe)});v.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var g=e(1908189516),T=e(1137687041);function p(Ve){y=F(ee(Ve))}h(p,"startCurve");function O(Ve){const Se=ee(Ve),Pe=W(y,Se);return Pe.update_status==L.SUCCESS?Pe:W(y,Se)}h(O,"addToCurve");let y;const C=2,I=9,M=9,_=50,P=80,b=1,S=!0,N=!0,L={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},D=h(()=>({segments:[],vdmap:[]}),"initCurve"),k=h((Ve,Se)=>({c0:{x:Ve,y:Se},c1:{x:Ve,y:Se},c2:{x:Ve,y:Se},c3:{x:Ve,y:Se}}),"initCurveSegment"),x=h(Ve=>Ve.segments[Ve.segments.length-1],"getLastSegment"),R=h(Ve=>Ve.c3,"getLastPoint"),U=h(function(Ve){return{c0:{x:Ve.c0.x,y:Ve.c0.y},c1:{x:Ve.c1.x,y:Ve.c1.y},c2:{x:Ve.c2.x,y:Ve.c2.y},c3:{x:Ve.c3.x,y:Ve.c3.y},constrain_to:Ve.constrain_to==null?void 0:{x:Ve.constrain_to.x,y:Ve.constrain_to.y},error:Ve.error||0,update_status:Ve.update_status}},"copySegment"),F=h(function(Ve){let{x:Se,y:Pe}=Ve;const Fe=D();return Fe.segments.push(k(Se,Pe)),Fe},"createCurve"),W=h(function(Ve,Se){const Pe=x(Ve),Fe=R(Pe);if(H(Se,R(Pe))<b)return Pe;if(L.SUCCESS!=Pe.update_status&&Pe.update_status!==void 0){let ge;L.FAIL_CORNER==Pe.update_status?ge=k(Fe.x,Fe.y):L.FAIL_MAXED==Pe.update_status&&(ge=k(Fe.x,Fe.y),ge.constrain_to=fe(j(Pe))),Ve.vdmap=[],Ve.segments.push(ge)}return w(Ve,Se)},"addToCurveImpl"),w=h(function(Ve,Se){const Pe=x(Ve),{x:Fe,y:ge}=Se;let He=R(Pe);const Qe=U(Pe);if(Q(Pe,Se))return Pe.update_status=L.FAIL_CORNER,Pe;Pe.c3={x:Fe,y:ge},Pe.c2={x:Pe.c2.x+Fe-He.x,y:Pe.c2.y+ge-He.y};const _e=q(He,Se),Le=z(_e),Ie=te(He,Le),we=te(Se,Le),ze=ie(ue(Le,2)),ut=Y(ze),_t=de(ze,ut),yt=he(we,Ie),Ot=Y(yt),It=de(yt,Ot);let kt=Ie;for(let jt=0;jt<Ot;jt++){let Qt=kt,Jt=Le;for(let Yt=0;Yt<ut;Yt++){const{x:Rt,y:Bt}=ee(Qt);Ve.vdmap[Rt]||(Ve.vdmap[Rt]=[]),Ve.vdmap[Rt][Bt]==null?Ve.vdmap[Rt][Bt]=ee(Jt):Ve.vdmap[Rt][Bt]=ne(Ve.vdmap[Rt][Bt])<ne(ee(Jt))?Ve.vdmap[Rt][Bt]:ee(Jt),Jt=te(Jt,_t),Qt=te(Qt,_t)}kt=te(kt,It)}const gt=he(Se,{x:I,y:I}),Gt=te(Se,{x:I,y:I});for(let jt=gt.x;jt<Gt.x;jt++)for(let Qt=gt.y;Qt<Gt.y;Qt++){Ve.vdmap[jt]||(Ve.vdmap[jt]=[]);const Jt=he({x:jt,y:Qt},Se);Ve.vdmap[jt][Qt]==null?Ve.vdmap[jt][Qt]=Jt:Ve.vdmap[jt][Qt]=ne(Ve.vdmap[jt][Qt])<ne(Jt)?Ve.vdmap[jt][Qt]:Jt}let Pt=0;for(;;){let jt={x:0,y:0},Qt={x:0,y:0};for(let Rt=0;Rt<M;Rt++){const Bt=Rt/M,dn=ee(ce(Pe,Bt)),Mt=K(Ve,dn),Ye=Z(Mt),ot=Mt.x,ht=Mt.y;let tt=1;N&&(Bt<.1||Bt>.9)&&(tt=10),jt.x+=Bt*Math.pow(1-Bt,2)*Ye*ot*tt,jt.y+=Bt*Math.pow(1-Bt,2)*Ye*ht*tt,Qt.x+=Math.pow(Bt,2)*(1-Bt)*Ye*ot*tt,Qt.y+=Math.pow(Bt,2)*(1-Bt)*Ye*ht*tt}if(N){const Rt=he(J(Pe),Pe.c2),Bt=he(J(Pe),Pe.c1);jt=he(jt,ue(Bt,.03)),Qt=he(Qt,ue(Rt,.03))}Pe.constrain_to&&(jt=ue(Pe.constrain_to,V(Pe.constrain_to,jt)));const Jt=1;Pe.c1.x-=Jt*jt.x*6/M,Pe.c1.y-=Jt*jt.y*6/M,Pe.c2.x-=Jt*Qt.x*6/M,Pe.c2.y-=Jt*Qt.y*6/M;let Yt=0;for(let Rt=0;Rt<M;Rt++){const Bt=Rt/M,dn=ce(Pe,Bt),Mt=K(Ve,ee(dn));Yt+=Math.pow(Mt.x,2)+Math.pow(Mt.y,2)}if(Yt=Yt/M,Pt++,Pe.error=Yt,Pe.steps=Pt,Yt<C||Pt>_)break}return Pt>_?(Pe.c0=Qe.c0,Pe.c1=Qe.c1,Pe.c2=Qe.c2,Pe.c3=Qe.c3,Pe.error=Qe.error,Pe.constrain_to=Qe.constrain_to,Pe.update_status=L.FAIL_MAXED,Pe):(Pe.update_status=L.SUCCESS,Pe)},"updateDistanceField"),K=h(function(Ve,Se){let{x:Pe,y:Fe}=Se;if(Ve.vdmap[Pe]){const ge=Ve.vdmap[Pe][Fe],He=Ve.vdmap[Pe][Fe+1];let Qe=ge!=null?{x:ge.x,y:ge.y}:{x:I,y:I};return He&&He.x!=null&&Math.abs(Qe.x)>Math.abs(He.x)&&(Qe.x=He.x),He&&He.y!=null&&Math.abs(Qe.y)>Math.abs(He.y)&&(Qe.y=He.y),Qe}else return{x:I,y:I}},"getDistanceFromPolyline"),j=h(function(Ve){const Se=Ve.c3,Pe=Ve.c2;return{x:3*(Pe.x-Se.x),y:3*(Pe.y-Se.y)}},"getCurveEndTangent"),Q=h(function(Ve,Se){if(re(Ve.c0,Ve.c3))return!1;let Pe;S?Pe=fe(he(ce(Ve,.95),Ve.c3)):Pe=fe(j(Ve));const Fe=fe({x:Se.x-Ve.c3.x,y:Se.y-Ve.c3.y}),ge=V(Pe,Fe);if(X(Math.acos(ge))<P)return!0},"checkCorner"),J=h(Ve=>te(de(he(Ve.c3,Ve.c0),2),Ve.c0),"getSegmentMidpoint"),z=h(Ve=>({x:Ve.x*I,y:Ve.y*I}),"getScaledVectorDifference"),ie=h(Ve=>({x:-Ve.x,y:-Ve.y}),"negateVec"),ee=h(Ve=>({x:Math.round(Ve.x),y:Math.round(Ve.y)}),"roundVec"),ne=h(Ve=>Math.pow(Ve.x,2)+Math.pow(Ve.y,2),"sumOfSquaresVec"),Z=h(Ve=>Math.sqrt(ne(Ve)),"magnitudeVec"),te=h((Ve,Se)=>({x:Ve.x+Se.x,y:Ve.y+Se.y}),"addVec"),he=h((Ve,Se)=>te(Ve,ie(Se)),"subVec"),ue=h((Ve,Se)=>({x:Ve.x*Se,y:Ve.y*Se}),"multVec"),de=h((Ve,Se)=>ue(Ve,1/Se),"divVec"),re=h((Ve,Se)=>Ve.x==Se.x&&Ve.y==Se.y,"equalVec"),V=h((Ve,Se)=>Ve.x*Se.x+Ve.y*Se.y,"dotProduct"),H=h(function(Ve){let{x:Se,y:Pe}=Ve,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(Se-Fe.x,2)+Math.pow(Pe-Fe.y,2))},"getMagnitude"),X=h(Ve=>Ve*180/Math.PI,"radiansToDegrees"),Y=h(Ve=>Math.max(Math.abs(Ve.x),Math.abs(Ve.y)),"getDDASteps"),q=h((Ve,Se)=>{const Pe=Se.x-Ve.x,ge=Se.y-Ve.y,He=-Pe;return fe({x:ge,y:He})},"getPerpindicularUnitVector"),fe=h(function(Ve){let{x:Se,y:Pe}=Ve;const Fe=H({x:Se,y:Pe});return{x:Se/Fe,y:Pe/Fe}},"getUnitVector"),ce=h(function(Ve,Se){const Pe=Ee(Se,Ve.c0.x,Ve.c1.x,Ve.c2.x,Ve.c3.x),Fe=Ee(Se,Ve.c0.y,Ve.c1.y,Ve.c2.y,Ve.c3.y);return{x:Pe,y:Fe}},"getPointAlongCurve"),Ee=h(function(Ve,Se,Pe,Fe,ge){return Se*Math.pow(1-Ve,3)+Pe*3*Ve*Math.pow(1-Ve,2)+Fe*3*Math.pow(Ve,2)*(1-Ve)+ge*Math.pow(Ve,3)},"singleComponentBezier");function Ae(Ve,Se){return{a:Ve,b:Se}}h(Ae,"makeLineSegment");function le(Ve,Se){let[Pe,Fe]=Ve,[ge,He]=Se;return Math.sqrt((Pe-ge)**2+(Fe-He)**2)}h(le,"magnitude");class oe{add(Se){return this.current?le(this.current.a,Se)>.05?(this.current=Ae(this.current.b,Se),{type:DrawMessageType.New,segment:this.current}):(this.current=Ae(this.current.a,Se),{type:DrawMessageType.Edit,segment:this.current}):(this.current=Ae(Se,Se),{type:DrawMessageType.New,segment:this.current})}}h(oe,"ProgressiveEqualLengthMultilineTransformer");class me{setTargetRect(Se){this.targetRect=Se}add(Se){if(!(0,g.Z)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:Pe,left:Fe,width:ge,height:He}=this.targetRect,[Qe,_e]=[Se[0]-Fe,Se[1]-Pe];if(!this.current){p({x:Qe,y:_e});const _t=[Qe/ge,_e/He];return this.current={a:_t,b:_t,c:_t,d:_t},{type:c.Sl.New,segment:this.current}}const Le=this.current,{c0:Ie,c1:we,c2:ze,c3:ut}=O({x:Qe,y:_e});return this.current={a:[Ie.x/ge,Ie.y/He],b:[we.x/ge,we.y/He],c:[ze.x/ge,ze.y/He],d:[ut.x/ge,ut.y/He]},this.current.a[0]!==Le.a[0]||this.current.a[1]!==Le.a[1]?{type:c.Sl.New,segment:this.current}:{type:c.Sl.Edit,segment:this.current}}}h(me,"ProgressiveCurveTransformer");var pe=e(5950652755),Te=e(9222460942);const Me=2e3,Ue=50,xe=h(Ve=>{const{onDragStart:Se,onDragMove:Pe,onDragEnd:Fe,onCursorMoveStart:ge,onCursorMove:He,onCursorMoveEnd:Qe,children:_e}=Ve,[Le,Ie]=(0,t.useState)(!1),[we,ze]=(0,t.useState)(!1),[ut,_t]=(0,t.useState)(0),[yt,Ot]=(0,t.useState)(0),It=(0,t.useCallback)(Jt=>{Jt.button===0&&(Ie(!0),Se(Jt))},[Se]),kt=(0,t.useCallback)(()=>{ze(!1),Qe()},[ze,Qe]);(0,Te.Z)(()=>{kt()},Me,[ut,yt]);const gt=(0,t.useCallback)(Jt=>{if(Jt.button===0){if(Le){Pe(Jt);return}we||(ge(Jt),ze(!0)),He(Jt),_t(Jt.movementX),Ot(Jt.movementY)}},[we,Le,He,ge,Pe]),Gt=(0,pe.A)(gt,Ue,{leading:!0}),Pt=(0,t.useCallback)(Jt=>{Gt(Jt)},[Gt]),jt=(0,t.useCallback)(Jt=>{if(Jt&&Jt.button!==0)return;const Yt=Le;Ie(!1),Yt&&Fe(Jt)},[Le,Fe]),Qt=(0,t.useCallback)(Jt=>{const Yt=Le;Ie(!1),Yt?Fe(Jt):we&&Qe()},[Le,Fe,we,Qe]);return t.createElement("div",{onMouseDown:It,onMouseMove:Pt,onMouseUp:jt,onMouseLeave:Qt,"aria-hidden":"true"},_e)},"HuddlesCursorTarget");xe.displayName="HuddlesCursorTarget";const Ne=t.memo(xe);var be=e(6154830566),ke=e(321010523);function Ke(){return Ke=Object.assign||function(Ve){for(var Se=1;Se<arguments.length;Se++){var Pe=arguments[Se];for(var Fe in Pe)Object.prototype.hasOwnProperty.call(Pe,Fe)&&(Ve[Fe]=Pe[Fe])}return Ve},Ke.apply(this,arguments)}h(Ke,"target_extends");let $=h(class extends t.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(Se,Pe){return!(0,o.A)(this.props,Se)||!(0,o.A)(this.state,Pe)}componentDidUpdate(Se){(0,o.A)(Se.targetRect,this.props.targetRect)||this.onResize()}onResize(){var Se;if(!(!((Se=this.props.refToForward)===null||Se===void 0)&&Se.current))return;const Pe=(0,T.n)(this.props.targetRect);this.props.refToForward.current.style.height=Pe.height,this.props.refToForward.current.style.width=Pe.width,this.props.refToForward.current.style.top=Pe.top,this.props.refToForward.current.style.left=Pe.left,this.props.refToForward.current.style.position=Pe.position}getCursorCoordinates(Se){return this.props.useHuddlesDragTarget?[Se.nativeEvent.offsetX,Se.nativeEvent.offsetY]:[Se.pageX,Se.pageY]}onDragStart(Se){this.multilineTransformer=new me,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),n.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),n.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Se)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(Se){(0,g.Z)(this.multilineTransformer,"Need transformer to draw")&&n.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Se)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(Se){n.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&(0,be.k)(ke.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:ke.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){n.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(Se){const Pe=this.getCursorCoordinates(Se),Fe=Pe[0]/this.props.targetRect.width,ge=Pe[1]/this.props.targetRect.height;n.A.publish({id:"self",type:c.Sl.Position,x:Fe,y:ge,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){n.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.createElement(Ne,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...(0,T.n)(this.props.targetRect)}})):t.createElement(d,{onDragStart:Se=>this.onDragStart(Se),onDragMove:Se=>this.onDragMove(Se),onDragEnd:Se=>this.onDragEnd(Se)},t.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...(0,T.n)(this.props.targetRect)}}))}constructor(Se){super(Se),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");$.displayName="BaseDrawTarget";const ae=h((Ve,Se)=>({hue:(0,m.Ng)(Ve).drawHue}),"mapStateToProps"),Ge=h(Ve=>({logDrawingAction:Se=>Ve(v(Se))}),"mapDispatchToProps"),nt=(0,s.N)(ae,Ge)($),at=t.forwardRef((Ve,Se)=>t.createElement(nt,Ke({refToForward:Se},Ve)))},1708302436:(B,A,e)=>{"use strict";e.d(A,{u:()=>re});var t=e(3134334389),s=e(166097325),o=e(1649982175),n=e(8571983633),c=e(8840779375),l=e(8927008694),i=e(2172170811),a=e(338698394),r=e(2947229296),d=e(7175825412),m=e(6761585902),f=e(4743850398),u=e(1242487384);const E=new r.Ay("calls"),v=h(V=>{let{displayName:H,id:X,userId:Y,color:q}=V;return t.createElement("div",{className:"p-huddles_draw__name_tag",style:q?{background:q}:{}},t.createElement(d.Ay,{className:"p-huddles_draw__name_tag_avatar",key:X,size:24,userId:Y,isInteractive:!1,tabIndex:-1}),t.createElement("div",{className:"p-huddles_draw__name_tag_text"},H))},"NameTag"),g=h((V,H)=>{let{id:X}=H;return{displayName:X==="self"?E.t("You"):(0,f.iU)(V,X),userId:X==="self"?(0,u.WR)(V):(0,f.C1)(V,X).userId}},"mapStateToProps"),T=(0,m.N)(g)(v),p=-21,O=-15,y=h(V=>{let{peerId:H,width:X,height:Y,leftOffset:q,topOffset:fe,color:ce,renderNameTag:Ee=!0,isWindowDrawMode:Ae=!1,xWindowPosition:le=0,yWindowPosition:oe=0}=V;const me=(0,t.useRef)(null);let pe,Te;const Me=q*X,Ue=fe*Y;pe=Math.round(Me+O),Te=Math.round(Ue+p),Ae&&(pe+=le,Te+=oe);const xe=(0,t.useMemo)(()=>[pe,Te],[pe,Te]),Ne=h(be=>{const ke=me.current;ke&&(ke.style.setProperty("transform",`translate(${be[0]}px, ${be[1]}px)`),ke.style.setProperty("visibility","initial"))},"updateCursorPosition");return(0,t.useEffect)(()=>{Ne(xe)},[xe]),t.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.createElement("div",{key:`cursor-${H}`,className:"p-huddles_cursor_tracking__cursor",ref:me},Ee&&t.createElement(T,{key:`name-tag-${H}`,id:H,color:ce})))},"HuddlesCursor");y.displayName="HuddlesCursor";const C=t.memo(y,s.A);var I=e(6690187588),M=e(1137687041),_=e(3152270006);function P(V,H,X,Y){return`hsla(${V}, ${H}%, ${X}%, ${Y})`}h(P,"makeColorString");const b=h((V,H)=>P(V,100,75,H),"makeBaseColorString"),S=h(V=>P(V,80,50,1),"makeShadowColorString"),N=3;class L{static renderBaseStyle(H){H.lineJoin="round",H.lineCap="round",H.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=L.initialWidth,this.opacity=1,this.color=b(this.hue,this.opacity))}setHue(H){this.hue=H,this.color=b(this.hue,this.opacity),this.shadowColor=S(this.hue),this.observer.requestRenderOnNextFrame()}render(H){this.fade(),H.lineWidth=this.width,H.strokeStyle=this.color,H.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const H=Math.min(1,(performance.now()-this.startedFadingTimestamp)/L.fadeDuration);this.width=L.initialWidth-H*N,this.opacity=1-H/1,this.color=b(this.hue,this.opacity),H<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(H){this.observer=H,this.width=L.initialWidth,this.opacity=1,this.hue=0,this.color=b(this.hue,this.opacity),this.shadowColor=S(this.hue)}}h(L,"LineStyle"),L.initialWidth=7,L.fadeDuration=3e3,L.displayName="LineStyle";let D=h(class{getSegments(){return this.segments}addNewSegment(H){this.segments.push(H)}editLastSegment(H){this.segments.pop(),this.segments.push(H)}constructor(){this.segments=[]}},"ProgressivePlotter");class k extends null{draw(H){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const q=this.getSegments();H.beginPath();for(let fe=0;fe<q.length;fe++){const ce=q[fe];H.moveTo(ce.a[0]*X,ce.a[1]*Y),H.lineTo(ce.b[0]*X,ce.b[1]*Y)}H.stroke()}}h(k,"ProgressiveLineSegmentPlotter");class x extends D{draw(H){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const q=this.getSegments();H.beginPath();for(let fe=0;fe<q.length;fe++){const ce=q[fe];H.moveTo(ce.a[0]*X,ce.a[1]*Y),H.bezierCurveTo(ce.b[0]*X,ce.b[1]*Y,ce.c[0]*X,ce.c[1]*Y,ce.d[0]*X,ce.d[1]*Y)}H.stroke()}}h(x,"ProgressiveBezierCurvePlotter");const R=700,U=5e3;class F{onFadeCompleted(){this.plotter=new x,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,U)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,R)}update(H){if(this.resetVestigialLineTimeout(),H.type===i.Sl.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(H.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(H.type===i.Sl.Edit)this.plotter.editLastSegment(H.segment);else if(H.type===i.Sl.End)this.resetInactivityTimeout();else if(H.type===i.Sl.ChangeHue)this.style.setHue(H.hue);else{if(H.type===i.Sl.Position)return;(0,_.Kh)(H.type)}this.observer.requestRenderOnNextFrame()}render(H,X,Y){this.style.render(H),this.plotter.draw(H,X,Y)}setLineVisibility(H){Object.assign(this.visibilityState,H)}getColor(){return this.style.getColor()}constructor(H){this.observer=H,this.plotter=new x,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new L({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}h(F,"DrawLine"),F.displayName="DrawLine";const W=h(V=>{let{refToForward:H,isHidden:X,numVisibleLines:Y,top:q,left:fe,width:ce,height:Ee,doNotApplyTargetRect:Ae}=V;if(Ae){const oe={display:X||Y===0?"none":"block"};return t.createElement("canvas",{ref:H,style:oe,"data-qa":"huddles-drawing-canvas"})}const le={display:X||Y===0?"none":"block",...(0,M.n)({left:fe,top:q,width:ce,height:Ee})};return t.createElement("canvas",{ref:H,style:le,"data-qa":"huddles-drawing-canvas"})},"Canvas");W.displayName="Canvas";const w=t.memo(W,s.A),K=new r.Ay("calls"),j=10,Q=10,J=h(V=>{let{displayName:H,coord:[X,Y]}=V;return t.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${X+j}px`,top:`${Y+Q}px`}},H)},"name_tag_NameTag"),z=h((V,H)=>{let{id:X}=H;return{displayName:X==="self"?K.t("You"):(0,f.iU)(V,X)}},"name_tag_mapStateToProps"),ie=(0,m.N)(z)(J),ee=-33,ne=-9,Z=h(V=>{let{top:H,left:X,width:Y,height:q,leftOffset:fe,topOffset:ce,id:Ee}=V;const Ae=X+fe*Y,le=H+ce*q,oe={left:`${Ae+ne}px`,top:`${le+ee}px`},me=(0,t.useMemo)(()=>[Ae,le],[Ae,le]);return t.createElement(t.Fragment,null,Ee!=="self"&&t.createElement("div",{key:`cursor-${Ee}`,className:"p-calls_draw__pencil_cursor",style:oe}),t.createElement(ie,{key:`name-tag-${Ee}`,id:Ee,coord:me}))},"Cursor");Z.displayName="Cursor";const te=t.memo(Z,s.A);function he(){return he=Object.assign||function(V){for(var H=1;H<arguments.length;H++){var X=arguments[H];for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(V[Y]=X[Y])}return V},he.apply(this,arguments)}h(he,"_extends");var ue;class de extends(ue=t.Component){shouldComponentUpdate(H,X){return!(0,s.A)(this.props,H)||!(0,s.A)(this.state,X)}getOrCreatePeerLine(H){return this.peerLines[H]=this.peerLines[H]||new F({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:X=>this.setState(Y=>({numVisibleLines:Y.numVisibleLines+(X?1:-1)}))}),this.peerLines[H]}onIncomingPeerLine(H){if(this.props.itemId&&H.itemId&&H.itemId!==this.props.itemId)return;const X=this.getOrCreatePeerLine(H.id);switch(X.update(H),H.type){case i.Sl.New:{this.setState(Y=>{let{tagCoords:q,userColors:fe}=Y;return{tagCoords:{...q,[H.id]:H.segment.d},userColors:{...fe,[H.id]:X.getColor()}}});break}case i.Sl.Edit:{this.setState(Y=>{let{tagCoords:q}=Y;return{tagCoords:{...q,[H.id]:H.segment.d}}});break}case i.Sl.ChangeHue:{this.setState(Y=>{let{userColors:q}=Y;return{userColors:{...q,[H.id]:X.getColor()}}});break}case i.Sl.End:{this.setState(Y=>{let{tagCoords:q}=Y;return{tagCoords:(0,o.A)(q,H.id)}});break}case i.Sl.Position:{const Y=[H.x,H.y];this.setState(q=>{let{tagCoords:fe}=q;return{tagCoords:{...fe,[H.id]:Y}}});break}default:break}}componentDidMount(){l.A.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(H,X){H.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&(0,I.tZ)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&X.numVisibleLines>0||this.state.numVisibleLines>0&&X.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){if(!(0,n.A)(this.rafId)){var H;(H=this.context.windowRef.deref())===null||H===void 0||H.cancelAnimationFrame(this.rafId)}l.A.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,L.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.windowRef.deref().requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const H=this.props.targetRect.width,X=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,H,X);const Y=Object.values(this.peerLines);for(let q=0;q<Y.length;q++)Y[q].render(this.ctx,H,X)}renderCursor(H,X,Y){const{targetRect:q,useHuddlesCursor:fe,itemId:ce,isHostDrawWindow:Ee,isWindowDrawing:Ae}=this.props;if(fe){const le=this.state.userColors[H],oe=ce!=="self",me=Ee&&Ae;return t.createElement(C,{key:H,peerId:H,topOffset:X,leftOffset:Y,width:q.width,height:q.height,color:le,renderNameTag:oe,isWindowDrawMode:me,xWindowPosition:q.left,yWindowPosition:q.top})}return t.createElement(te,he({key:H,id:H,topOffset:X,leftOffset:Y},q))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:H}=this.props,X={...(0,M.n)({left:H.left,top:H.top,width:H.width,height:H.height})};return t.createElement("div",{className:"p-calls_draw__renderer",style:X},t.createElement(w,he({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),(0,c.A)(this.state.tagCoords,(Y,q)=>{let[fe,ce]=Y;return this.renderCursor(q,ce,fe)}))}return t.createElement("div",{className:"p-calls_draw__renderer"},t.createElement(w,he({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),(0,c.A)(this.state.tagCoords,(H,X)=>{let[Y,q]=H;return this.renderCursor(X,q,Y)}))}constructor(H){super(H),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}h(de,"BaseDrawRenderer"),de.contextType=a._0,de.displayName="BaseDrawRenderer";const re=t.forwardRef((V,H)=>t.createElement(de,he({refToForward:H},V)))},2284952465:(B,A,e)=>{"use strict";e.d(A,{A:()=>I});var t=e(3134334389),s=e(6761585902),o=e(4743850398),n=e(4844578989),c=e.n(n),l=e(3122619948),i=e(4875826949),a=e(7281000332),r=e(7918696228),d=e(121977275),m=e(5403430935),f=e(205540855);function u(){return u=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var b in P)Object.prototype.hasOwnProperty.call(P,b)&&(M[b]=P[b])}return M},u.apply(this,arguments)}h(u,"_extends");let E=h(class extends t.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var _;const P=this.videoRef.current,{shouldAttachStream:b,tileId:S,peerId:N}=this.props;!S||!P||(this.props.unbindVideo({tileId:S,videoRef:this.videoRef,shouldDetachStream:!!b,peerId:N}),P.removeEventListener("resize",this.onResize),(_=this.interactionObserver)===null||_===void 0||_.disconnect())}setUpMedia(){const _=this.videoRef.current,{shouldAttachStream:P,tileId:b,peerId:S}=this.props;!b||!_||(this.props.bindVideo({tileId:b,videoRef:this.videoRef,shouldAttachStream:!!P,peerId:S}),_.addEventListener("resize",this.onResize))}setupInteractionObserver(){var _;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((_=this.interactionObserver)===null||_===void 0||_.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var P;(P=this.interactionObserver)===null||P===void 0||P.observe(this.videoRef.current)}}interactionObserverCallback(_){const P=_[0];if(!P)return;const b=this.videoRef.current,{shouldAttachStream:S,tileId:N,peerId:L}=this.props;!N||!b||(P.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:N,videoRef:this.videoRef,shouldAttachStream:!!S,peerId:L}):this.props.unbindVideo({tileId:N,videoRef:this.videoRef,shouldDetachStream:!!S,peerId:L}))}onResize(){const _=this.videoRef.current;_&&(this.props.isSharingScreen?_.style.objectFit="contain":_.style.objectFit=_.videoWidth>_.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:_,peerId:P,tileId:b,isActivePeerSharingScreen:S,isShroudVisible:N}=this.props;!_||!b||(P!=="self"&&S&&!N?this.props.pauseVideo({tileId:b}):this.props.unpauseVideo({tileId:b}))}render(){const{refToForward:_,shouldFlip:P,peerId:b,className:S,width:N,height:L,onLoadedData:D}=this.props;return t.createElement("video",u({className:c()("p-calls_video",S,{flipped:P}),ref:(0,i.P)(this.videoRef,_),key:b,"data-qa":"free-willy-video-element",style:{width:N,height:L}},D?{onLoadedData:D}:{}))}constructor(_){super(_),this.videoRef=(0,t.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=_.onResize?_.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");E.displayName="VideoElement";const v=h((M,_)=>{var P;const b=(0,f._Z)(M,"calls_pause_video_on_screenshare")==="treatment",S=(0,o.vz)(M),N=_.peer?(0,o.Bf)(_.peer):!1;let L;if(S)L=_.tileId;else{var D,k,x,R,U,F;L=N?(D=_.peer)===null||D===void 0||(k=D.tileIds)===null||k===void 0||(x=k.screenshare)===null||x===void 0?void 0:x.tileId:(R=_.peer)===null||R===void 0||(U=R.tileIds)===null||U===void 0||(F=U.camera)===null||F===void 0?void 0:F.tileId}return{tileId:L,peerId:(P=_.peer)===null||P===void 0?void 0:P.id,isSharingScreen:N,isShroudVisible:b&&(0,m.A)()?(0,d.pI)(M):!1,isActivePeerSharingScreen:(0,o.$Q)(M),experimentCallsPauseVideoOnScreenshareGroupTreatment:b}},"mapStateToProps"),g=h(M=>({bindVideo:_=>(0,l.A)()?(0,a.dispatchForClientStore)((0,r.d2)(_)):M((0,r.d2)(_)),unbindVideo:_=>(0,l.A)()?(0,a.dispatchForClientStore)((0,r.gJ)(_)):M((0,r.gJ)(_)),pauseVideo:_=>(0,l.A)()?(0,a.dispatchForClientStore)((0,r.WY)(_)):M((0,r.WY)(_)),unpauseVideo:_=>(0,l.A)()?(0,a.dispatchForClientStore)((0,r.D8)(_)):M((0,r.D8)(_))}),"mapDispatchToProps"),T=(0,s.N)(v,g)(E),p=t.forwardRef((M,_)=>t.createElement(T,u({refToForward:_},M)));function O(){return O=Object.assign||function(M){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var b in P)Object.prototype.hasOwnProperty.call(P,b)&&(M[b]=P[b])}return M},O.apply(this,arguments)}h(O,"peer_video_element_extends");const y=h((M,_)=>{const P=(0,o.vz)(M),b=(0,o.JZ)(M,_.id);let S;const N=_.tileId;if(!P)S=(0,o.fy)(b)&&!b.isScreenshareEnabled;else{var L,D;const k=((L=b.tileIds)===null||L===void 0||(D=L.screenshare)===null||D===void 0?void 0:D.tileId)===N;S=(0,o.fy)(b)&&!k}return{peer:b,tileId:N,shouldFlip:S}},"peer_video_element_mapStateToProps"),C=(0,s.N)(y)(p),I=t.forwardRef((M,_)=>t.createElement(C,O({},M,{refToForward:_})))},5128108788:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>u,Ft:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6761585902),c=e(873516440),l=e(117763669),i=e(1526568855);function a(){return a=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(E[T]=g[T])}return E},a.apply(this,arguments)}h(a,"_extends");const r=15;function d(E){return Math.min(1,Math.max(0,i.Ep*E))}h(d,"getClampedAudioLevel");let m=h(class extends t.PureComponent{componentDidMount(){l.A.subscribe(this.onLevelUpdated)}componentWillUnmount(){l.A.unsubscribe(this.onLevelUpdated)}onLevelUpdated(v){const{isEnabled:g}=this.props;if(!g){this.numBubbles>0&&this.setState(()=>({numActiveBubbles:0,numInactiveBubbles:this.numBubbles}));return}const T=Math.floor(this.numBubbles*d(v));this.setState(()=>({numActiveBubbles:T,numInactiveBubbles:this.numBubbles-T}))}renderBubbles(){const{numActiveBubbles:v,numInactiveBubbles:g}=this.state,{bubbleClassname:T}=this.props,p=o()("p-audio_levels__bubble","p-audio_levels__bubble--active",T,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),O=o()("p-audio_levels__bubble","p-audio_levels__bubble--inactive",T,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),y=Array.from({length:v},(I,M)=>t.createElement("span",{key:`active${M}`,className:p})),C=Array.from({length:g},(I,M)=>t.createElement("span",{key:M,className:O}));return y.concat(C)}render(){const v=this.props.ariaLabelledBy||this.props.ariaLabel?{role:"meter","aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-valuenow":Math.floor(this.state.numActiveBubbles/this.numBubbles*100),"aria-valuemin":0,"aria-valuemax":100,tabIndex:0}:{};return t.createElement("div",a({className:o()("p-audio_levels",this.props.containerClassName),"data-qa":"audio-levels-bubbles"},v),this.renderBubbles())}constructor(v){super(v);var g;this.numBubbles=(g=this.props.initNumBubbles)!==null&&g!==void 0?g:r;var T;this.state={numInactiveBubbles:(T=v.initNumBubbles)!==null&&T!==void 0?T:r,numActiveBubbles:0},this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");m.displayName="AudioMeter";const f=h(E=>({clientTheme:(0,c.to)(E)}),"mapStateToProps"),u=(0,n.N)(f)(m)},8342266486:(B,A,e)=>{"use strict";e.d(A,{_:()=>c});var t=e(6690187588);const s=0;class o{setHuddleStarted(){this.huddleStartedTime=Date.now(),this.logger.info("Audio detection tracker Huddle started set")}trackVolumeIndicator(i,a){if(a===null||this.bothSidesAudioDetected)return;const d=Date.now()-this.huddleStartedTime;i&&!this.hasDetectedSelfAudio&&a>s?(this.hasDetectedSelfAudio=!0,this.selfAudioDetectionTime=d,this.logger.info(`Self audio detected for the first time (${this.getFormattedDuration(d)} seconds since Huddle start)`)):!i&&!this.hasDetectedRemoteAudio&&a>s&&(this.hasDetectedRemoteAudio=!0,this.remoteAudioDetectionTime=d,this.logger.info(`Remote peer audio detected for the first time (${this.getFormattedDuration(d)} seconds since Huddle start)`)),this.checkBothSidesDetected(d)}checkBothSidesDetected(i){this.hasDetectedSelfAudio&&this.hasDetectedRemoteAudio&&!this.bothSidesAudioDetected&&(this.bothSidesAudioDetected=!0,this.logger.info(`Audio detected for self and remote (${this.getFormattedDuration(i)} seconds since Huddle start)`))}hasSelfAudioBeenDetected(){return this.hasDetectedSelfAudio}getSelfAudioDetectionTime(){return this.selfAudioDetectionTime}hasRemoteAudioBeenDetected(){return this.hasDetectedRemoteAudio}getRemoteAudioDetectionTime(){return this.remoteAudioDetectionTime}haveBothSidesBeenDetected(){return this.bothSidesAudioDetected}getFormattedDuration(i){return Math.floor(i/1e3).toString()}setHuddleEnded(){this.huddleStartedTime=0,this.hasDetectedSelfAudio=!1,this.hasDetectedRemoteAudio=!1,this.selfAudioDetectionTime=void 0,this.remoteAudioDetectionTime=void 0,this.bothSidesAudioDetected=!1,this.logger.info("Audio detection tracker reset")}constructor(){this.logger=(0,t.Jt)("AUDIO-DETECTION-TRACKER"),this.huddleStartedTime=0,this.hasDetectedSelfAudio=!1,this.hasDetectedRemoteAudio=!1,this.bothSidesAudioDetected=!1,this.logger.info("Audio detection tracker initialized")}}h(o,"AudioDetectionTracker");let n;const c=h(()=>(n||(n=new o),n),"getAudioDetectionTracker")},1382151596:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>l});var t=e(6696292586),s=e(3398586081);class o{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var a,r;(a=this.battery)===null||a===void 0||a.addEventListener("chargingchange",this.handleBatteryUpdate),(r=this.battery)===null||r===void 0||r.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var a,r;(a=this.battery)===null||a===void 0||a.removeEventListener("chargingchange",this.handleBatteryUpdate),(r=this.battery)===null||r===void 0||r.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)},this.initialize=async()=>{await this.setUp(),this.updateBatteryState()},this.setUp=async()=>{if(!this.isInitialized)try{if(navigator.getBattery){const a=await navigator.getBattery();this.battery=a,this.battery&&(this.isSupported=!0,this.updateBatteryState(),this.registerListeners())}else this.isSupported=!1}catch{this.isSupported=!1}finally{this.isInitialized=!0}},this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!(0,t.A)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}h(o,"HuddleBatteryManager");const n=(0,s.A)(()=>new o),c={getHuddleBatteryManager:n,HuddleBatteryManager:o},l=n},5420942935:(B,A,e)=>{"use strict";e.d(A,{$H:()=>oe,$b:()=>E,$s:()=>le,E9:()=>g,Es:()=>l,I8:()=>m,KK:()=>V,Ll:()=>W,Ls:()=>ke,QJ:()=>x,Q_:()=>Te,RM:()=>Ee,VW:()=>Ke,Ws:()=>te,XL:()=>u,Xw:()=>c,ZT:()=>Y,Ze:()=>Z,_R:()=>fe,b9:()=>v,dQ:()=>i,gi:()=>y,i3:()=>re,j3:()=>be,jp:()=>D,jq:()=>Ue,kM:()=>xe,mn:()=>f,of:()=>pe,px:()=>Ne,uL:()=>d,vB:()=>ue,w2:()=>Me,wV:()=>ee,xY:()=>a,xc:()=>k,z2:()=>r,zF:()=>K,zg:()=>ce});var t=e(28946295),s=e.n(t),o=e(4378636601),n=e.n(o);let c=t.CheckAudioConnectivityFeedback,l=t.CheckAudioInputFeedback,i=t.CheckAudioOutputFeedback,a=t.CheckCameraResolutionFeedback,r=t.CheckContentShareConnectivityFeedback,d=t.CheckNetworkTCPConnectivityFeedback,m=t.CheckNetworkUDPConnectivityFeedback,f=t.CheckVideoConnectivityFeedback,u=t.CheckVideoInputFeedback,E=t.LogLevel,v=t.MeetingSessionStatusCode,g=t.TranscriptItemType,T=null;const p=null;let O=null;const y=t.AllHighestVideoBandwidthPolicy;let C,I=null,M=null;const _=t.DefaultDeviceController;let P;const b=t.DefaultMeetingReadinessChecker;let S;const N=t.DefaultMeetingSession;let L,D=t.DefaultModality,k=t.DefaultVideoTile,x=t.MeetingSessionConfiguration,R=null,U=null,F=null,W=t.PermissionDeniedError,w=null,K=t.Versioning,j=null,Q=null,J=null,z=null,ie=null,ee=t.VoiceFocusDeviceTransformer,ne=null,Z=t.DefaultVideoTransformDevice,te=t.BackgroundBlurVideoFrameProcessor,he=null,ue=t.CSPMonitor;const de=null;let re=t.VideoFxProcessor,V=t.VideoCodecCapability,H=!1,X=!1;async function Y($){if(H=$,!H||X)return;const ae=await Promise.resolve().then(e.t.bind(e,4378636601,23));c=ae.CheckAudioConnectivityFeedback,l=ae.CheckAudioInputFeedback,i=ae.CheckAudioOutputFeedback,a=ae.CheckCameraResolutionFeedback,r=ae.CheckContentShareConnectivityFeedback,d=ae.CheckNetworkTCPConnectivityFeedback,m=ae.CheckNetworkUDPConnectivityFeedback,f=ae.CheckVideoConnectivityFeedback,u=ae.CheckVideoInputFeedback,O=ae.ClientVideoStreamReceivingReport,I=ae.ConnectionHealthData,M=ae.DataMessage,P=ae.DefaultDeviceController,S=ae.DefaultMeetingReadinessChecker,L=ae.DefaultMeetingSession,D=ae.DefaultModality,k=ae.DefaultVideoTile,E=ae.LogLevel,x=ae.MeetingSessionConfiguration,R=ae.MeetingSessionStatus,v=ae.MeetingSessionStatusCode,U=ae.MeetingSessionVideoAvailability,F=ae.MutableVideoPreferences,W=ae.PermissionDeniedError,w=ae.TargetDisplaySize,g=ae.TranscriptItemType,T=ae.TranscriptionStatusType,K=ae.Versioning,j=ae.VideoPreference,Q=ae.VideoPreferences,J=ae.VideoPriorityBasedPolicy,z=ae.VideoPriorityBasedPolicyConfig,ie=ae.VideoTileState,C=ae.AudioProfile,ee=ae.VoiceFocusDeviceTransformer,ne=ae.DefaultBrowserBehavior,Z=ae.DefaultVideoTransformDevice,te=ae.BackgroundBlurVideoFrameProcessor,he=ae.BackgroundReplacementVideoFrameProcessor,ue=ae.CSPMonitor,re=ae.VideoFxProcessor,V=ae.VideoCodecCapability,X=!0}h(Y,"setUseExpSDK");function q(){return H}h(q,"isUsingExpSDK");function fe(){return P||_}h(fe,"getDefaultDeviceController");function ce(){return _}h(ce,"getDefaultDeviceControllerDefault");function Ee(){return P}h(Ee,"getDefaultDeviceControllerExp");function Ae(){return S||b}h(Ae,"getDefaultMeetingReadinessChecker");function le(){return b}h(le,"getDefaultMeetingReadinessCheckerDefault");function oe(){return S}h(oe,"getDefaultMeetingReadinessCheckerExp");function me(){return L||N}h(me,"getDefaultMeetingSession");function pe(){return N}h(pe,"getDefaultMeetingSessionDefault");function Te(){return L}h(Te,"getDefaultMeetingSessionExp");function Me(){return ee}h(Me,"getVoiceFocusDeviceTransformer");function Ue(){return Z}h(Ue,"getDefaultVideoTransformDevice");function xe(){return te}h(xe,"getBackgroundBlurVideoFrameProcessor");function Ne(){return o.BackgroundReplacementVideoFrameProcessor}h(Ne,"getBackgroundReplacementVideoFrameProcessor");function be(){return t.AudioProfile}h(be,"getAudioProfileDefault");function ke(){return C}h(ke,"getAudioProfileExp");function Ke($){return!!$.type}h(Ke,"isTranscriptEventTranscriptionStatus")},6993120788:(B,A,e)=>{"use strict";e.d(A,{LD:()=>l,MS:()=>i,Vd:()=>r,k0:()=>a});var t=e(8571983633),s=e(3659369705),o=e(2831883394);const n="4.30.79",c=[o.R.DesktopScreen,o.R.DesktopWindow];function l(){return!!(0,s.dY)(n)}h(l,"isWindowDrawingSupported");function i(d){return(0,t.A)(d)?o.f.None:d.startsWith("screen:")?o.f.Screen:d.startsWith("window:")?o.f.Window:o.f.Other}h(i,"determineContentShareTypeFromSourceId");function a(d){if(!(0,s.y3)())return o.R.BrowserContent;const m=i(d);if((0,s.y3)())switch(m){case o.f.Screen:return o.R.DesktopScreen;case o.f.Window:return o.R.DesktopWindow;default:return o.R.DesktopUnknown}return o.R.Unknown}h(a,"determineFullContentShareSourceType");function r(d){return c.includes(d)}h(r,"doesContentShareTypeSupportDrawing")},2831883394:(B,A,e)=>{"use strict";e.d(A,{R:()=>s,f:()=>t});var t;(function(o){o.Screen="screen",o.Window="window",o.Other="other",o.None="none"})(t||(t={}));var s;(function(o){o.DesktopScreen="desktop:screen",o.DesktopWindow="desktop:window",o.DesktopUnknown="desktop:unknown",o.BrowserContent="browser:content",o.MobileScreen="mobile:screen",o.Unknown="unknown"})(s||(s={}))},1483928852:(B,A,e)=>{"use strict";e.d(A,{Bm:()=>r,LL:()=>i,On:()=>E,Zy:()=>l,dx:()=>c,my:()=>a,tk:()=>m});var t=e(2208015175),s=e(7174777686),o=e(7516783851),n=e(1886380499);const c="default",l="communications",i=[o.lW.Microphone,o.lW.Camera,o.Q4];function a(v,g){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;(0,t.A)(g,(p,O)=>{if(!(0,s.A)(T,O))return;if(!p.length){v.warn(`No ${O} devices available`);return}const y=new n.M(["id","label"]);p.forEach(C=>{y.add([C.id,C.label].map(String))}),v.info(`${O} devices:
${y.report()}`)})}h(a,"logDevices");function r(){return{camera:[],microphone:[],output:[]}}h(r,"createEmptyDevices");const d={audioinput:o.lW.Microphone,videoinput:o.lW.Camera,audiooutput:o.Q4};function m(v){const g=d[v.kind],T={id:v.deviceId,label:v.label||void 0,groupId:v.groupId||void 0};return f(g)?{...T,type:g}:{...T,type:g}}h(m,"makeDevice");function f(v){return v!==o.Q4}h(f,"isInputDeviceType");function u(v){return f(v.type)}h(u,"isInputDevice");function E(v){return v.replace(/ *?\([^)]*?\) *?/g,"")}h(E,"removeDeviceIdFromDeviceLabel")},3037982922:(B,A,e)=>{"use strict";e.d(A,{t3:()=>l,Bh:()=>m,i4:()=>u});var t=e(4103274853);function s(){return"0.1"}h(s,"getDevicePrefsVersion");var o=e(1483928852),n=e(6690187588);const c="devicePrefs";function l(E){return(0,t.A)(E,v=>v[0])}h(l,"getPreferredDevices");function i(){return{camera:[],microphone:[o.dx,o.Zy],output:[o.dx,o.Zy]}}h(i,"createDefaultDevicePriority");function a(){return{camera:[],microphone:[],output:[]}}h(a,"createDefaultDeviceExtendedPriority");function r(){return{enableAGC:!0,enableNoiseSuppression:!0}}h(r,"createDefaultAudioPrefs");function d(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}h(d,"createDefaultVideoPrefs");function m(){const E=localStorage.getItem(c),v={version:s(),deviceIdPriorities:i(),deviceIdPrioritiesExtended:a(),video:d(),audio:r()};if(!E)return v;try{const g=JSON.parse(E);return g.version!==s()?v:{...v,...g}}catch(g){return(0,n.tZ)("DEVICES").error("Could not read device preferences from localStorage: ",g.message),v}}h(m,"readDevicePrefs");async function f(E){const v={},g=await navigator.mediaDevices.enumerateDevices();for(const T of Object.keys(E)){const p=[],O=T;for(let y=0;y<E[O].length;y++){const C=E[O][y],I=g.find(M=>M.deviceId===C);I&&p.push({id:I.deviceId,groupId:I.groupId,label:I.label,labelWithoutId:(0,o.On)(I.label)})}v[T]=p}return v}h(f,"updateDeviceIdPrioritiesExtended");async function u(E){try{const v=await f(E.deviceIdPriorities),g={...E,deviceIdPrioritiesExtended:v};localStorage.setItem(c,JSON.stringify(g))}catch(v){(0,n.tZ)("DEVICES").error("Could not write device preferences to localStorage: ",v.message)}}h(u,"writeDevicePrefs")},651151430:(B,A,e)=>{"use strict";e.d(A,{t:()=>t});var t;(function(s){s.Blur="blur",s.Background="bg"})(t||(t={}))},948175431:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>_});var t=e(7516783851),s=e(6717879785),o=e(2172170811),n=e(3659369705),c=e(2691514942),l;(function(P){P.Granted="granted",P.Denied="denied",P.Prompt="prompt",P.NotDetermined="not-determined",P.Restricted="restricted",P.Unknown="unknown"})(l||(l={}));var i;(function(P){P.CAMERA="camera",P.MICROPHONE="microphone",P.SCREEN="display-capture"})(i||(i={}));const a={[o.mT.MICROPHONE]:i.MICROPHONE,[o.mT.CAMERA]:i.CAMERA,[o.mT.SCREEN]:i.SCREEN},r={[o.mT.MICROPHONE]:null,[o.mT.CAMERA]:null,[o.mT.SCREEN]:null},d=h(()=>({...r}),"getInitialPermissionsState");var m=e(6998663753),f=e(1985486637);let u=h(class{constructor(b){this.config=b,this.canAccessMediaResource=S=>{const N=this.wasPermissionGranted(S);return this.logger.info(`${S} permissions granted: ${N}`),{isAvailable:this.config.isElectronApiAvailable,status:this.permissions[S]}},this.requestMediaAccess=async S=>(this.updatePermissionsState(S,this.getDefaultAccessResult().status),this.logger.error("Requesting media access is not implemented for this device, but it is being called. This is likely a bug."),f.S.resolve({isAvailable:this.config.isElectronApiAvailable,isGranted:!0})),this.refreshAllPermissions=async()=>{try{await this.refreshDevicePermissionStatus(o.mT.MICROPHONE),await this.refreshDevicePermissionStatus(o.mT.CAMERA),await this.refreshDevicePermissionStatus(o.mT.SCREEN)}catch(S){this.logger.warn("An error occurred while refreshing device permissions",S)}},this.refreshDevicePermissionStatus=async S=>{this.updatePermissionsState(S,this.getDefaultAccessResult().status)},this.getDefaultAccessResult=()=>({isAvailable:this.config.isElectronApiAvailable,status:t.eJ.Granted}),this.updatePermissionsState=(S,N)=>{this.permissions[S]!==N&&(this.logger.info(`permission state for ${S} changed to ${N}`),this.permissions[S]=N,this.config.onPermissionsChange(this.permissions))},this.wasPermissionGranted=S=>{let N=!1;return this.permissions[S]&&(N=this.permissions[S]===t.eJ.Granted),N},this.hasNoKnownPermissions=S=>this.permissions[S]===null,this.logger=this.config.logger,this.permissions=this.config.initialState}},"DefaultDevicePermissions");var E=e(1137236691);let v=h(class extends u{constructor(b){super(b),this.refreshDevicePermissionStatus=async S=>{const{status:N}=await(0,E.XBC)(S);this.logger.info(`Received ${S} access status for desktop app: ${N}`),this.updatePermissionsState(S,N)},this.requestMediaAccess=async S=>{const{isAvailable:N,isGranted:L}=await(0,E.Nin)(S);return this.updatePermissionsState(S,L?t.eJ.Granted:t.eJ.Denied),{isAvailable:N,isGranted:!!L}}}},"DesktopDevicePermissions"),g=h(class extends u{constructor(b){super(b),this.refreshDevicePermissionStatus=async S=>{if(S===o.mT.SCREEN)return;const N=S===o.mT.MICROPHONE?"audioinput":"videoinput";try{const D=(await navigator.mediaDevices.enumerateDevices()).filter(x=>x.kind===N),k=D.length>0&&D.some(x=>x.label.trim()!=="");this.updatePermissionsState(S,k?t.eJ.Granted:t.eJ.NotDetermined)}catch{this.logger.error('An error occurred enumerating devices. Setting access status to "granted"'),this.updatePermissionsState(S,t.eJ.NotDetermined)}}}},"FirefoxDevicePermissions"),T=h(class extends u{constructor(...b){super(...b),this.changeHandlers=d(),this.refreshDevicePermissionStatus=async S=>{const N=await navigator.permissions.query({name:a[S]});this.updatePermissionsState(S,N.state),this.logger.info(`Received ${S} access status for browser: ${this.permissions[S]}`),this.maybeRegisterPermissionChangeListener(S,N)},this.maybeRegisterPermissionChangeListener=(S,N)=>{if(!this.changeHandlers[S]){const L=h(()=>this.onPermissionChangeEvent(S,N==null?void 0:N.state),"handler");N.addEventListener("change",L),this.changeHandlers[S]=L}},this.onPermissionChangeEvent=(S,N)=>{this.updatePermissionsState(S,N)}}},"BrowserDevicePermissions");var p=e(735855716),O=e(6610969030);const y="device-permissions-state",C=7*24*60*60*1e3,I=5*1e3;class M{isPersistedStateTrustworthy(b){return!(!b||Date.now()-b>C)}savePermissionsToLocalStorage(b){try{const S={permissions:b,timestamp:Date.now()},N=JSON.stringify(S);localStorage.setItem(y,N),this.logger.info(`Permissions saved to local storage: ${N}`)}catch(S){this.logger.error("Error saving permissions to local storage",S)}}readPermissionsFromLocalStorage(){try{const b=localStorage.getItem(y);if(b){this.logger.info(`Permissions loaded from local storage ${b}`);const S=JSON.parse(b);return this.isPersistedStateTrustworthy(S==null?void 0:S.timestamp)?S.permissions:(this.logger.warn("Permissions not considered trustworthy. Requiring refresh"),null)}}catch(b){this.logger.error("Error reading permissions from local storage",b)}return null}constructor(){this.isSSB=(0,n.y3)(),this.logger=(0,c.Wo)({label:"DEVICE-PERMISSIONS-MANAGER"}),this.initialized=!1,this.init=(0,m.A)(async()=>{this.logger.info("Initializing media device permissions manager"),this.initialized=!0,this.permissionsStrategy=this.getStrategy(),setTimeout(this.refreshAllPermissions,I),this.logger.info("Scheduled permissions refresh")}),this.canAccessMediaResource=b=>{var S,N;return!((S=this.permissionsStrategy)===null||S===void 0)&&S.canAccessMediaResource?this.permissionsStrategy.canAccessMediaResource(b):{isAvailable:!!(!((N=this.config)===null||N===void 0)&&N.isElectronApiAvailable),status:t.eJ.Granted}},this.requestMediaAccess=async b=>{var S;return!((S=this.config)===null||S===void 0)&&S.isElectronApiAvailable?this.permissionsStrategy.requestMediaAccess(b):(this.logger.warn("Permissions strategy not available"),{isAvailable:!1,isGranted:!0})},this.getStrategy=()=>{const b={initialState:this.readPermissionsFromLocalStorage()||d(),isElectronApiAvailable:this.isSSB&&(0,n.cX)(),onPermissionsChange:this.onPermissionsChange,logger:this.logger};return this.config=b,(0,n.y3)()?(this.logger.info("Using desktop device permissions strategy"),new v(b)):(0,n.gm)()?(this.logger.info("Using Firefox device permissions strategy"),new g(b)):this.shouldUsePermissionsApi()?(this.logger.info("Using browser device permissions strategy"),new T(b)):(this.logger.info("Using default device permissions strategy"),new u(b))},this.onPermissionsChange=b=>{this.logger.info("Permissions changed",b),(0,p.pq)(),this.savePermissionsToLocalStorage(b)},this.refreshAllPermissions=async()=>{this.logger.info("Refreshing all permissions");try{await navigator.mediaDevices.enumerateDevices(),await this.refreshPermissions(o.mT.MICROPHONE),await this.refreshPermissions(o.mT.CAMERA),await this.refreshPermissions(o.mT.SCREEN)}catch(b){this.logger.warn("An error occurred while refreshing device permissions",b)}},this.refreshPermissions=async b=>{this.logger.debug(`Refreshing ${b} permissions`);try{await(0,O.n)(()=>{this.permissionsStrategy.refreshDevicePermissionStatus(b)},{priority:"background"})}catch(S){this.logger.warn(`An error occurred while trying to check ${b} permissions`,S)}},this.shouldUsePermissionsApi=()=>!this.isSSB&&!(0,n.gm)()&&"permissions"in s.J.navigator,this.clearAllPermissions=()=>{this.initialized&&this.savePermissionsToLocalStorage(d())}}}h(M,"DevicePermissionsManager");const _=new M},4484802807:(B,A,e)=>{"use strict";e.d(A,{S:()=>c,p:()=>d});var t=e(7516783851),s=e(3438321721),o=e(1886380499),n=e(7800683088),c;(function(m){m.InputTrackHandler="inputTrackHandler",m.CameraPreviewV2="cameraPreviewV2",m.CameraPreviewV1="cameraPreviewV1",m.JoinPreviewCamera="joinPreviewCamera",m.AudioOutSettingsMenuItems="audioOutSettingsMenuItems",m.CameraSettingsMenuItems="cameraSettingsMenuItems",m.MicSettingsMenuItems="micSettingsMenuItems",m.TroubleshootingPanelDeviceSelector="troubleshooting-panel-device-selector",m.ClipsVideoRecorderSettingsMenu="clips-video-recorder-settings-menu",m.AudioAndVideoPreferences="audio-and-video-preferences"})(c||(c={}));const l={[c.InputTrackHandler]:"auto",[c.CameraPreviewV2]:"userInitiated",[c.CameraPreviewV1]:"userInitiated",[c.JoinPreviewCamera]:"userInitiated",[c.AudioOutSettingsMenuItems]:"userInitiated",[c.CameraSettingsMenuItems]:"userInitiated",[c.MicSettingsMenuItems]:"userInitiated",[c.TroubleshootingPanelDeviceSelector]:"userInitiated",[c.ClipsVideoRecorderSettingsMenu]:"userInitiatedOutOfHuddle",[c.AudioAndVideoPreferences]:"userInitiatedOutOfHuddle"},i=60*1e3;let a=h(class{trackDeviceChange(f,u,E){try{const v={deviceId:f,deviceType:u,source:E,timestamp:Date.now()};this.deviceChanges.push(v),this.huddleStartTime&&l[E]==="userInitiated"&&v.timestamp-this.huddleStartTime<=i&&this.incrementDeviceChangeCount(u),s.A.info("Device change tracked:",{...v})}catch(v){s.A.warn("Problem tracking device change:",v)}}incrementDeviceChangeCount(f){switch(f){case t.lW.Microphone:this.audioInputDevicesChangedAtStartOfHuddleCount+=1;break;case t.lW.Camera:this.videoInputDevicesChangedAtStartOfHuddleCount+=1;break;case t.Q4:this.audioOutputDevicesChangedAtStartOfHuddleCount+=1;break;default:break}}setHuddleStarted(){this.huddleStartTime&&(s.A.warn("Huddle start time already set"),this.reset()),this.huddleStartTime=Date.now()}setHuddleEnded(){try{this.logDeviceChangesForHuddle(),this.reset()}catch(f){s.A.warn("Problem encountered with device change tracker tear down",f)}}getDeviceChangeCountsAtStartOfHuddle(){return{audioInputDevicesChangedAtStartOfHuddleCount:this.audioInputDevicesChangedAtStartOfHuddleCount,audioOutputDevicesChangedAtStartOfHuddleCount:this.audioOutputDevicesChangedAtStartOfHuddleCount,videoInputDevicesChangedAtStartOfHuddleCount:this.videoInputDevicesChangedAtStartOfHuddleCount}}logDeviceChangesForHuddle(){if(!this.deviceChanges.length){s.A.info("No device changes recorded for this huddle");return}const f=new o.M(["Device ID","Type","Source","Category","Time Since Start (s)","Time"]);this.deviceChanges.forEach(u=>{const E=this.huddleStartTime?Math.round((u.timestamp-this.huddleStartTime)/1e3):"N/A",v=(0,n.Ay)(u.timestamp).format("HH:mm:ss"),g=l[u.source];f.add([u.deviceId,u.deviceType,u.source,g,String(E),v])}),s.A.info(`Device changes during huddle:
${f.report()}`),s.A.info("Device change counts at start of the huddle:",{audioInputDevicesChangedAtStartOfHuddleCount:this.audioInputDevicesChangedAtStartOfHuddleCount,audioOutputDevicesChangedAtStartOfHuddleCount:this.audioOutputDevicesChangedAtStartOfHuddleCount,videoInputDevicesChangedAtStartOfHuddleCount:this.videoInputDevicesChangedAtStartOfHuddleCount})}reset(){this.deviceChanges=[],this.huddleStartTime=null,this.audioInputDevicesChangedAtStartOfHuddleCount=0,this.audioOutputDevicesChangedAtStartOfHuddleCount=0,this.videoInputDevicesChangedAtStartOfHuddleCount=0}constructor(){this.deviceChanges=[],this.huddleStartTime=null,this.audioInputDevicesChangedAtStartOfHuddleCount=0,this.audioOutputDevicesChangedAtStartOfHuddleCount=0,this.videoInputDevicesChangedAtStartOfHuddleCount=0}},"DeviceChangeTracker"),r;const d=h(()=>(r||(r=new a),r),"getDeviceChangeTracker")},735855716:(B,A,e)=>{"use strict";e.d(A,{$S:()=>He,_o:()=>ge,Nj:()=>Pe,T5:()=>at,Zy:()=>ae,G0:()=>Qe,pq:()=>Ve,cT:()=>nt,i_:()=>Ge,es:()=>Fe});var t=e(7516783851),s;(function(_e){_e.Microphone="audioinput",_e.Camera="videoinput",_e.Speakers="audiooutput"})(s||(s={}));const o="default",n="communications",c={[s.Camera]:void 0,[s.Microphone]:o,[s.Speakers]:o},l=h(_e=>({[t.lW.Microphone]:s.Microphone,[t.lW.Camera]:s.Camera,[t.Q4]:s.Speakers})[_e],"adapter_mapDeviceTypeToDeviceKind"),i=h(_e=>({[s.Microphone]:t.lW.Microphone,[s.Camera]:t.lW.Camera,[s.Speakers]:t.Q4})[_e],"mapDeviceKindToDeviceType"),a=h(_e=>{const Le=i(_e.kind);return Le===t.Q4?{id:_e.deviceId,label:_e.label,groupId:_e.groupId,type:t.Q4}:{id:_e.deviceId,label:_e.label,groupId:_e.groupId,type:Le,track:void 0}},"adapter_mapMediaDeviceInfoToDevice");var r=e(4484802807),d=e(3438321721),m=e(3677587543),f=e(6717879785),u=e(235108050),E=e(9113979368),v=e(4103274853),g=e(9268023148),T=e(2208015175),p=e(8289365785),O=e(3659369705),y=e(3078252698);const C=["ZoomAudioDevice (Virtual)"],_=["default","communications"],P=h(_e=>_.includes(_e),"isOSDefaultDeviceId"),b=h((_e,Le)=>{if(P(_e.deviceId))return!1;const Ie=Le.find(we=>P(we.deviceId)&&we.kind===_e.kind);return(Ie==null?void 0:Ie.groupId)===_e.groupId&&(Ie==null?void 0:Ie.label.includes(_e.label))},"isOSDefaultDeviceForType"),S=h(_e=>{const Le=/iphone/,Ie=_e.label;if(!(0,y.A)(Ie))return!1;const we=(0,O.cX)()&&Ie&&Le.test(Ie.toLowerCase()),ze=(Ie==null?void 0:Ie.toLowerCase().includes("display audio"))||Ie.toLowerCase().includes("displayport");return we||ze},"shouldDeprioritizeDevice"),N=h(_e=>!_e.label||C.includes(_e.label),"shouldRemoveDevice"),L=h(_e=>_e&&_e.replace(/ *?\([a-zA-Z0-9]{4}:[a-zA-Z0-9]{4}\) *?/g,""),"removeDeviceFingerprintFromLabel"),D=h((_e,Le)=>_e.filter(Ie=>Ie.label).map(Ie=>{let we=L(Ie.label)||"";if(Le&&P(Ie.deviceId)){const ut=Le[Ie.kind];ut&&(we=`System Default (${ut})`)}return{deviceId:Ie.deviceId,kind:Ie.kind,label:we,groupId:Ie.groupId}}),"scrubAvailableDevices"),k=h((_e,Le)=>`${_e}-${Le}`,"generateDeviceKey");var x=e(6696292586),R=e(6313685253),U=e(8086952004);const F="version",W=4,w={1:_e=>_e,2:_e=>(0,v.A)(_e,Le=>{if((0,x.A)(Le))return Le;const Ie={...Le},we=L(Le.deviceLabel);return we&&we!==Le.deviceLabel&&(Ie.deviceLabel=we),Ie}),3:_e=>(0,R.A)(_e,(Le,Ie,we)=>{if(!P(we)&&we!==F){const ze=(0,U.A)(_e,(ut,_t)=>P(_t)&&ut.deviceInfo.kind===Ie.deviceInfo.kind&&ut.deviceInfo.groupId===Ie.deviceInfo.groupId&&ut.deviceInfo.label.includes(Ie.deviceInfo.label));ze&&((!Ie.used&&ze.used||Ie.used&&ze.used&&Ie.used<ze.used)&&(Ie.used=ze.used),(!Ie.selected&&ze.selected||Ie.selected&&ze.selected&&Ie.selected<ze.selected)&&(Ie.selected=ze.selected)),Le[we]=Ie}return Le},{}),4:_e=>(0,R.A)(_e,(Le,Ie,we)=>{if((0,x.A)(Ie))Le[we]=Ie;else{const{deviceId:ze,kind:ut}=Ie.deviceInfo,_t=k(ze,ut);Le[_t]=Ie}return Le},{})},K=h(_e=>_e[F]!==W,"isMigrationNeeded"),j=h(_e=>{if(!w[W])throw new Error(`No migration found for version ${W}`);const Le=_e[F]||0;if(Le===W)return _e;let Ie={..._e};for(let we=Le;we<W;we++){const ze=we+1,ut=w[ze];Ie=ut(Ie),Ie[F]=ze}return Ie},"maybeMigrateDeviceHistory");var Q=e(1649982175);const J="device-selection-records",z=d.A,ie=h(()=>{let _e;try{const Le=localStorage.getItem(J);Le?(_e=JSON.parse(Le),K(_e)?(z.debug(`Migration needed for device selection history from ${_e[F]} to ${W}`),_e=j(_e)):z.debug("No migration needed for device selection history")):_e=void 0}catch(Le){z.error("Failed to read device selection history from local storage",Le),_e=void 0}return z.debug("Reading device selection history from local storage",_e),_e?(0,Q.A)(_e,F):void 0},"readSelectionHistoryFromLocalStorage"),ee=h(_e=>{if(_e){z.debug("Writing device selection history to local storage",_e);try{const Le={..._e,[F]:W};localStorage.setItem(J,JSON.stringify(Le))}catch(Le){z.error("Failed to write device selection history to local storage",Le)}}},"saveDeviceSelectionRecordsToLocalStorage");var ne=e(2348458032),Z=e(1874256115),te=e(7188858884),he=e(7281000332),ue=e(3783723764),de=e(6217320234);class re{hasRecordForDevice(Le){return!!this.getRecord(Le)}getFormattedLabelForRecord(Le){const Ie=this.getRecord(Le);return Ie==null?void 0:Ie.deviceLabel}wasDeviceSelected(Le){const Ie=this.getRecord(Le);return!!(Ie!=null&&Ie.selected)}wasDeviceUsed(Le){const Ie=this.getRecord(Le);return!!(Ie!=null&&Ie.used)}createRecord(Le){const Ie=this.createEmptyDeviceSelectionRecord(Le);if(Ie.deviceLabel){const we=this.findExistingRecordByLabel(Le,Ie.deviceLabel);if(we){d.A.info(`Matching device record found for label: ${we.deviceLabel} ${we.deviceInfo.deviceId}`),this.removeRecord(we.deviceInfo),this.setRecord(Le,{...we,deviceInfo:Le});return}}this.setRecord(Le,Ie)}updateDeviceUsed(Le){const Ie=this.getRecord(Le);Ie&&(d.A.info(`Removing device selection record for used device ${Le.deviceId}`),this.setRecord(Le,{...Ie,used:Date.now()}))}updateDeviceSelected(Le){const Ie=this.getRecord(Le);Ie&&(d.A.info(`Updating device selection record for selected device ${Le.deviceId}`),this.setRecord(Le,{...Ie,selected:Date.now()}))}updateDeviceLabel(Le){this.getRecord(Le)&&d.A.info(`Updating device selection record for label ${Le.label} ${Le.deviceId}`)}updateDeviceInfo(Le){const Ie=this.getRecord(Le);Ie&&(d.A.debug(`Updating device selection record for device info ${Le.label} ${Le.deviceId}`),this.setRecord(Le,{...Ie,deviceLabel:Le.label,deviceInfo:Le}))}persistToLocalStorage(){d.A.info("Persisting device selection records to local storage"),ee(this.records)}initFromLocalStorage(){this.records=ie()||{},d.A.info("Initializing device preferences manager from local storage")}setRecord(Le,Ie){const{deviceId:we,kind:ze}=Le,ut=k(we,ze);d.A.debug(`Setting device selection record for ${ut}`,Ie),this.records[ut]=Ie}getRecord(Le){let{deviceId:Ie,kind:we}=Le;const ze=k(Ie,we);return this.records[ze]}removeRecord(Le){const{deviceId:Ie,kind:we}=Le,ze=k(Ie,we);d.A.info(`Removing device selection record for ${ze}`),delete this.records[ze]}findExistingRecordByLabel(Le,Ie){return Object.values(this.records).find(ze=>ze.deviceLabel===Ie&&ze.deviceInfo.kind===Le.kind)}constructor(){this.records={},this.init=()=>{this.initFromLocalStorage(),this.printRecords()},this.getAllRecordsForTesting=()=>({...this.records}),this.getDeviceInfoForRecord=Le=>{const Ie=this.getRecord(Le);if(Ie)return{...Ie.deviceInfo}},this.sortDevicesByLastSelection=Le=>(0,ue.A)(Le,Ie=>{var we;return(we=this.records[k(Ie.deviceId,Ie.kind)])===null||we===void 0?void 0:we.selected},"desc"),this.sortDevicesByLastUsed=Le=>(0,ue.A)(Le,Ie=>{var we;return(we=this.records[k(Ie.deviceId,Ie.kind)])===null||we===void 0?void 0:we.used},"desc"),this.sortDevicesByLabel=Le=>(0,de.A)(Le,Ie=>Ie.label),this.printRecords=()=>{d.A.info("Device selection records:",this.records)},this.getAllRecordsForInitializationAnalyses=()=>(d.A.info("Returning all records for initialization analyses"),this.records),this.createEmptyDeviceSelectionRecord=Le=>({deviceInfo:Le,deviceLabel:Le.label,selected:null,used:null})}}h(re,"DeviceSelectionRecordsStore");let V;const H=h(()=>(V||(V=new re),V),"getDeviceSelectionRecordStore");class X{constructor(){this.logger=d.A,this.deviceSelectionRecords=H(),this.availableDevices=[],this.currentTeamId=null,this.useDevicesExp=!1,this.updatingAvailableDevicesPromise=null,this.enqueuedPreferenceUpdates={[s.Microphone]:!1,[s.Camera]:!1,[s.Speakers]:!1},this.osDefaultDevices={[s.Microphone]:null,[s.Camera]:null,[s.Speakers]:null},this.prioritizedDeviceLists={[s.Microphone]:[],[s.Camera]:[],[s.Speakers]:[]},this.preferredDevices={[s.Microphone]:void 0,[s.Camera]:void 0,[s.Speakers]:void 0},this.init=async Le=>{let{teamId:Ie,useDevicesExp:we}=Le;if(this.deviceSelectionRecords.init(),Ie!==this.currentTeamId){this.useDevicesExp=we,this.useDevicesExp&&this.logger.info("Initializing device preferences manager with experimental features"),this.currentTeamId=Ie,this.dispatch=(0,te.oK)(Ie).dispatch;try{await this.updateAvailableDevices(),navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange)}catch(ze){this.logger.error("Error initializing device preferences manager",ze)}}},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.getPreferredDeviceOfType=Le=>{const Ie=this.useDevicesExp?this.preferredDevices[Le]:this.getPrioritizedDeviceListOfType(Le)[0];return this.useDevicesExp&&this.logger.debug(`(EXP) Returning preferred ${Le} device: label: ${Ie==null?void 0:Ie.label}, id: ${Ie==null?void 0:Ie.deviceId}`),Ie},this.getPrioritizedDeviceListOfType=Le=>{if(this.useDevicesExp){const Ie=this.getDeviceListOfType(Le);this.logger.debug(`(EXP) Returning prioritized ${Le} device list labels: ${Ie.map(we=>we.label)}`)}return this.prioritizedDeviceLists[Le]},this.getDeviceListOfType=Le=>{const we=this.availableDevices.filter(ze=>ze.kind===Le&&ze.deviceId!=="communications").find(ze=>ze.deviceId==="default");return we?(0,u.A)([we,...this.prioritizedDeviceLists[Le]]):this.prioritizedDeviceLists[Le]},this.recordDeviceSelected=(Le,Ie)=>{try{const{deviceId:we,deviceLabel:ze}=this.lookupDeviceDetailsById(Le,Ie);if(!we){this.logger.warn("Device record not found for selected device id",Le);return}if(!this.deviceSelectionRecords.hasRecordForDevice({deviceId:we,kind:Ie})){this.logger.warn("No device selection record found for device id",we);return}this.logger.info(`Reporting ${Ie} device selected, label: ${ze}, id: ${we}`),this.deviceSelectionRecords.updateDeviceSelected({deviceId:we,kind:Ie}),this.propagateUpdateToExternalStores()}catch(we){this.logger.error("Error reporting device selected",we)}},this.recordDeviceUsed=(Le,Ie)=>{try{const{deviceId:we,deviceLabel:ze}=this.lookupDeviceDetailsById(Le,Ie);if(!we){this.logger.warn("Device record not found for used device id",Le);return}this.logger.info(`Reporting ${Ie} device used, label: ${ze}, id: ${we}`),this.deviceSelectionRecords.updateDeviceUsed({deviceId:we,kind:Ie}),this.propagateUpdateToExternalStores()}catch(we){this.logger.error("Error reporting device used",we)}},this.getOSDefaults=()=>this.osDefaultDevices,this.clearDeviceSelectionRecords=()=>{ee({})},this.lookupDeviceDetailsById=(Le,Ie)=>{(0,E.A)(this.prioritizedDeviceLists[Ie])&&this.updateAvailableDevices();const we={deviceId:null,deviceLabel:null},ze=!this.useDevicesExp&&P(Le)?this.osDefaultDevices[Ie]:Le;if(ze&&!this.useDevicesExp&&P(ze)&&this.logger.warn(`OS default device id (${Le}) used for details. This should not happen`),!ze)return this.logger.warn("Device record not found for device id",ze),we;we.deviceId=ze;const ut=this.deviceSelectionRecords.getFormattedLabelForRecord({deviceId:ze,kind:Ie}),_t=L(ut);return _t?(we.deviceLabel=_t,we):(this.logger.warn("Device record not found for device id",ze),we)},this.getOSDefaultDeviceLabels=Le=>{const Ie=(0,v.A)(this.osDefaultDevices,we=>{if(!we)return"";const ze=Le.find(ut=>ut.deviceId===we);return ze!=null&&ze.label&&L(ze.label)||""});return{[s.Microphone]:Ie.audioinput||"",[s.Camera]:Ie.videoinput||"",[s.Speakers]:Ie.audiooutput||""}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const Le=h(async Ie=>{try{this.logger.info("Updating available devices");const we=await f.J.navigator.mediaDevices.enumerateDevices();this.logger.info(`Available devices ${JSON.stringify(we,null,2)}`),this.updateOSDefaults(we),this.availableDevices=D(we,this.useDevicesExp?this.getOSDefaultDeviceLabels(we):void 0),this.updateDeviceRecords(this.availableDevices),this.logger.info("Updated device records after device list update. Propagating update"),this.propagateUpdateToExternalStores(),Ie()}catch(we){this.logger.error("Error updating available devices",we),Ie()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(Le),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.updatePrioritizedDeviceLists=()=>{this.logger.debug("Updating prioritized device lists"),this.updatePrioritizedDeviceListOfType(s.Microphone),this.logger.debug("Updated mics",this.prioritizedDeviceLists[s.Microphone]),this.updatePrioritizedDeviceListOfType(s.Camera),this.logger.debug("Updated cameras",this.prioritizedDeviceLists[s.Camera]),this.updatePrioritizedDeviceListOfType(s.Speakers),this.logger.debug("Updated speakers",this.prioritizedDeviceLists[s.Speakers])},this.handleDeviceListChange=(0,g.A)(async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(Le){this.logger.error("Error handling device list change event",Le)}},1e3,{leading:!1,trailing:!0,maxWait:2e3}),this.updateOSDefaults=Le=>{this.logger.info("Updating OS default devices",Le),Le.forEach(Ie=>{b(Ie,Le)&&Ie.deviceId&&(this.osDefaultDevices[Ie.kind]=Ie.deviceId)})},this.updateDeviceRecords=Le=>{(0,T.A)(Le,Ie=>{if(!Ie.deviceId||!this.useDevicesExp&&P(Ie.deviceId))return;const we=this.deviceSelectionRecords.hasRecordForDevice(Ie),ze=this.deviceSelectionRecords.getFormattedLabelForRecord(Ie),ut=this.deviceSelectionRecords.getDeviceInfoForRecord(Ie);if(we&&ut&&ut.kind!==Ie.kind){this.logger.warn(`device id collision between ${ut.kind} device (${ut.label}) and ${Ie.kind} device (${Ie.label})`);return}we&&Ie.label&&ze!==Ie.label&&(this.deviceSelectionRecords.updateDeviceInfo(Ie),this.logger.info(`Device label updated from ${ze} to ${Ie.label}`)),we?(this.logger.debug(`Device history record found for ${Ie.label} ${Ie.deviceId}`),this.deviceSelectionRecords.updateDeviceInfo(Ie)):(this.logger.info(`Creating new device history record for ${Ie.label} ${Ie.deviceId}`),this.deviceSelectionRecords.createRecord(Ie));const _t=b(Ie,Le);if(!this.useDevicesExp&&_t&&this.osDefaultDevices[Ie.kind]!==Ie.deviceId){var yt;const It=((yt=this.getPreferredDeviceOfType(Ie.kind))===null||yt===void 0?void 0:yt.deviceId)===this.osDefaultDevices[Ie.kind];this.osDefaultDevices[Ie.kind]=Ie.deviceId,this.logger.info(`OS default device updated for ${Ie.kind}: ${Ie.label} ${Ie.deviceId}`),It&&(this.logger.info(`Preferred ${Ie.kind} OS default has changed to: ${Ie.label} ${Ie.deviceId}. Recording as selected.`),this.recordDeviceSelected(Ie.deviceId,Ie.kind))}})},this.updatePrioritizedDeviceListOfType=Le=>{var Ie,we;let ze=null;const ut=[],_t=[],yt=[],Ot=[];this.availableDevices.forEach(Pt=>{const jt=Pt.deviceId===this.osDefaultDevices[Pt.kind];if(this.useDevicesExp){if(Pt.kind!==Le)return}else if(Pt.kind!==Le||P(Pt.deviceId))return;const Qt=this.deviceSelectionRecords.getDeviceInfoForRecord(Pt);if(!Qt){this.logger.error("No selection record found for device",Pt);return}if(!N(Qt)){if(this.deviceSelectionRecords.wasDeviceSelected(Qt)){ut.push(Qt);return}if(!this.useDevicesExp&&this.deviceSelectionRecords.wasDeviceUsed(Qt)){_t.push(Qt);return}if(S(Qt)){yt.push(Qt);return}if(!this.useDevicesExp&&jt){ze=Qt;return}Ot.push(Qt)}});const It=[];It.push(...this.deviceSelectionRecords.sortDevicesByLastSelection(ut)),this.useDevicesExp||It.push(...this.deviceSelectionRecords.sortDevicesByLastUsed(_t)),this.useDevicesExp||It.push(ze),It.push(...this.deviceSelectionRecords.sortDevicesByLabel(Ot)),It.push(...yt);const kt=(0,u.A)(It).filter(Boolean),gt=(Ie=(0,p.A)(kt))===null||Ie===void 0?void 0:Ie.deviceId;if(gt&&gt!==((we=this.prioritizedDeviceLists[Le][0])===null||we===void 0?void 0:we.deviceId)&&(this.enqueuedPreferenceUpdates[Le]=!0),kt&&(this.prioritizedDeviceLists[Le]=kt,this.useDevicesExp)){const Pt=(0,p.A)(kt);this.preferredDevices[Le]=Pt||void 0,this.logger.debug(`(EXP) Preferred device updated for ${Le}: label: ${Pt==null?void 0:Pt.label}, id: ${Pt==null?void 0:Pt.deviceId}`)}return kt},this.updateDevicesInHuddle=()=>{const Le=h(Ie=>{var we;const ze=(we=this.getPreferredDeviceOfType(Ie))===null||we===void 0?void 0:we.deviceId;!ze||!this.enqueuedPreferenceUpdates[Ie]||(this.enqueuedPreferenceUpdates[Ie]=!1,(0,he.dispatchForClientStore)((0,Z.HC)({id:ze,type:i(Ie)})),this.logger.info(`Setting preferred ${Ie} device in huddle`,ze))},"maybeApplyPreference");Le(s.Microphone),Le(s.Speakers),Le(s.Camera)},this.propagateUpdateToExternalStores=()=>{this.deviceSelectionRecords.persistToLocalStorage(),this.updatePrioritizedDeviceLists(),this.logger.info("Propagating device selection history update"),this.dispatch((0,ne.Fb)(void 0)),this.updateDevicesInHuddle()}}}h(X,"DevicePreferencesManager");const Y=new X,q={printDeviceSelectionRecords:()=>{const _e=H().getAllRecordsForTesting(),Le=(0,v.A)(_e,Ie=>{var we;return{deviceId:Ie.deviceInfo.deviceId,label:Ie.deviceLabel,type:Ie.deviceInfo.kind,"is preferred":((we=Y.getPreferredDeviceOfType(Ie.deviceInfo.kind))===null||we===void 0?void 0:we.deviceId)===Ie.deviceInfo.deviceId,"last selected":Ie.selected?Ie.selected.toString():"Never selected","last used":Ie.used?Ie.used.toString():"Never used","is available":!!Y.getPrioritizedDeviceListOfType(Ie.deviceInfo.kind).find(ze=>ze.deviceId===Ie.deviceInfo.deviceId),"is OS default":Ie.deviceInfo.deviceId===Y.getOSDefaults()[Ie.deviceInfo.kind],groupId:Ie.deviceInfo.groupId}});console.log("Device selection records"),console.table(Le)},printPreferredMicrophone:()=>{const _e=Y.getPreferredDeviceOfType(s.Microphone);console.log("Preferred microphone",_e)},printPreferredCamera:()=>{const _e=Y.getPreferredDeviceOfType(s.Camera);console.log("Preferred camera",_e)},printPreferredSpeakers:()=>{const _e=Y.getPreferredDeviceOfType(s.Speakers);console.log("Preferred speakers",_e)},printPrioritizedDeviceLists:()=>{const _e=(0,v.A)(Y.getOSDefaults(),(Le,Ie)=>Y.getPrioritizedDeviceListOfType(Ie));(0,T.A)(_e,(Le,Ie)=>{const we=Le.map(ze=>({deviceId:ze.deviceId,label:ze.label,groupId:ze.groupId}));console.log(`Prioritized list for ${Ie}`),console.table(we)})},printRawDeviceList:async()=>{const _e=await f.J.navigator.mediaDevices.enumerateDevices();console.log("Available devices"),_e.forEach(Le=>{console.log(Le)})},printDebugInfo:()=>{q.printDeviceSelectionRecords(),q.printPrioritizedDeviceLists(),q.printPreferredMicrophone(),q.printPreferredCamera(),q.printPreferredSpeakers(),q.printRawDeviceList()},clearDeviceSelectionRecords:()=>{Y.clearDeviceSelectionRecords(),f.J.location.reload()}};(0,m.ul)("devices",q);const fe=Y;var ce=e(7715417323);const Ee="preferred-media-devices",Ae=H(),le=h(()=>{try{const _e=!localStorage.getItem(Ee);return _e&&d.A.info("No preferred devices found in local storage."),_e}catch(_e){d.A.error("Error checking if no preferred devices in local storage",_e)}return!0},"hasNoPreferredDevicesInLocalStorage"),oe=h(()=>{try{const _e=localStorage.getItem(Ee);if(!_e){d.A.info("No preferred devices found in local storage. Detecting preferences from selection records"),Ae.init();const Ie=(0,ue.A)(Ae.getAllRecordsForTesting(),"selected",["desc"]),we=h(ze=>{var ut,_t;const yt=Ie.find(Ot=>{var It;return Ot.selected&&((It=Ot.deviceInfo)===null||It===void 0?void 0:It.kind)===ze});if(!(!(!(yt==null||(ut=yt.deviceInfo)===null||ut===void 0)&&ut.deviceId)&&ze===s.Camera))return(yt==null||(_t=yt.deviceInfo)===null||_t===void 0?void 0:_t.deviceId)||o},"findMostRecentDevice");return{[s.Camera]:we(s.Camera),[s.Microphone]:we(s.Microphone)||o,[s.Speakers]:we(s.Speakers)||o}}const Le=JSON.parse(_e);return Le[s.Camera]===o&&(Le[s.Camera]=void 0),Le}catch(_e){d.A.error("Error getting preferred devices from local storage",_e)}return c},"getPreferredDevicesFromLocalStorage"),me=h(_e=>{try{const Le=JSON.stringify(_e);localStorage.setItem(Ee,Le)}catch(Le){d.A.error("Error setting preferred devices in local storage",Le)}},"setPreferredDevicesInLocalStorage");var pe=e(2947229296),Te=e(6372862721);const Me=new pe.Ay("device-preferences");class Ue{getPreferredDeviceOfType(Le){if(this.availableDevices)return this.getPrioritizedDeviceListOfType(Le)[0]}validatePreferredDevices(){if(!this.availableDevices)return;const Le=new Set(this.availableDevices.map(Ie=>Ie.deviceId));Object.entries(this.preferredDevices).forEach(Ie=>{let[we,ze]=Ie;!Le.has(ze)&&we!==s.Camera&&(this.logger.warn(`Preferred ${we} device (${ze}) not found. Resetting to OS default.`),this.preferredDevices[we]=o)}),this.logger.debug("Preferred devices validated",this.preferredDevices)}recordOSDefaultDeviceIds(){this.availableDevices&&(this.availableDevices.forEach(Le=>{if(Le.deviceId===o){var Ie;const we=(Ie=this.availableDevices)===null||Ie===void 0?void 0:Ie.find(ze=>ze.deviceId!==o&&ze.groupId===Le.groupId&&ze.kind===Le.kind&&Le.label.includes(ze.label));we!=null&&we.deviceId&&this.osDefaultDeviceIds&&(this.osDefaultDeviceIds[Le.kind]=we.deviceId,this.logger.info(`Recorded OS default device for ${Le.kind}: ${we.deviceId}`))}}),this.logger.debug("OS default device IDs recorded",this.osDefaultDeviceIds))}scrubDeviceLabels(){const Le=this.availableDevices;!Le||!this.osDefaultDeviceIds||(this.availableDevices=Le.map(Ie=>{if(Ie.deviceId===o){var we;const ze=(we=this.osDefaultDeviceIds)===null||we===void 0?void 0:we[Ie.kind],ut=this.findDeviceByKindAndId(Ie.kind,ze);if(ze&&ut){const _t=L(ut.label),Ot=this.useDevicesExp?Me.t("System Default ({deviceName})",{deviceName:_t}):`System Default (${_t})`;return this.logger.info(`Amending label for OS default ${Ie.kind} device: ${Ie.label} -> ${Ot}`),{groupId:Ie.groupId,kind:Ie.kind,deviceId:o,label:Ot}}}return{groupId:Ie.groupId,kind:Ie.kind,deviceId:Ie.deviceId,label:L(Ie.label)||"Unknown Device"}}),this.logger.debug("Device labels scrubbed",this.availableDevices))}findDeviceByKindAndId(Le,Ie){var we;return(we=this.availableDevices)===null||we===void 0?void 0:we.find(ze=>ze.kind===Le&&ze.deviceId===Ie)}constructor(){this.preferredDevices=c,this.teamId=null,this.useDevicesExp=null,this.availableDevices=null,this.osDefaultDeviceIds=c,this.updatingAvailableDevicesPromise=null,this.logger=d.A,this.noPrefsOnBoot=!1,this.init=async Le=>{let{teamId:Ie,useDevicesExp:we}=Le;this.teamId=Ie,this.useDevicesExp=we,this.useDevicesExp&&this.logger.info("Using experimental device manager"),this.noPrefsOnBoot=le(),this.preferredDevices=oe()||c,this.logger.debug("Preferred devices loaded from local storage",this.preferredDevices),this.dispatch=(0,te.oK)(this.teamId).dispatch,await this.updateAvailableDevices(),this.maybeSetInitialDevicePrefToOSDefault(),this.updateDeviceListChangeHandler(),this.logger.info("Device preferences manager initialized")},this.recordDeviceUsed=(Le,Ie)=>(0,ce.A)(),this.recordDeviceSelected=(Le,Ie)=>{if(this.logger.info(`Recording selected ${Ie} device: ${Le}`),!!this.preferredDevices){if(this.preferredDevices[Ie]===Le&&!this.reduxDeviceStoreNeedsUpdate(Ie)){this.logger.info(`Device ${Le} already selected. No action taken.`);return}this.preferredDevices[Ie]=Le,me(this.preferredDevices),this.propagateUpdateToExternalStores(Ie)}},this.getPrioritizedDeviceListOfType=Le=>{if(!this.availableDevices)return[];const Ie=[],we=this.findDeviceByKindAndId(Le,this.preferredDevices[Le]);we&&Ie.push(we);const ze=this.findDeviceByKindAndId(Le,o);ze&&Ie.push(ze);const ut=this.availableDevices.filter(_t=>_t.kind===Le&&_t.deviceId!==n);return ut.sort((_t,yt)=>_t.label.localeCompare(yt.label)),(0,u.A)([...Ie,...ut]).filter(Boolean)},this.handleDeviceListChange=async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(Le){this.logger.error("Error handling device list change event",Le)}},this.updateDeviceListChangeHandler=()=>{f.J.navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceListChange),f.J.navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange),this.logger.info("Device list change handler updated")},this.maybeSetInitialDevicePrefToOSDefault=()=>{if(this.noPrefsOnBoot){const Le=this.osDefaultDeviceIds;if(!Le)return;(0,T.A)(this.preferredDevices,(Ie,we)=>{const ze=Le[we];Ie===ze&&we!==s.Camera&&(this.logger.info(`Preferred ${we} device matches OS default. Updating to OS default`),this.recordDeviceSelected(o,we))})}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const Le=h(async Ie=>{try{const we=await f.J.navigator.mediaDevices.enumerateDevices();this.availableDevices=we,this.logger.debug("Device list updated",this.availableDevices),this.validatePreferredDevices(),this.recordOSDefaultDeviceIds(),this.scrubDeviceLabels(),this.propagateUpdateToExternalStores(),this.logger.info("Device list update complete"),Ie()}catch(we){this.logger.error("Error updating available devices",we),Ie()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(Le),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.reduxDeviceStoreNeedsUpdate=Le=>{var Ie,we,ze;const ut=(0,te.oK)(this.teamId).getState();return{[s.Microphone]:(Ie=(0,Te.I7)(ut))===null||Ie===void 0?void 0:Ie.id,[s.Camera]:(we=(0,Te.Ls)(ut))===null||we===void 0?void 0:we.id,[s.Speakers]:(ze=(0,Te.QM)(ut))===null||ze===void 0?void 0:ze.id}[Le]!==this.preferredDevices[Le]},this.propagateUpdateToExternalStores=(0,g.A)(Le=>{me(this.preferredDevices),this.logger.info("Propagating device selection history update"),this.dispatch((0,ne.Fb)(void 0)),this.updateDevicesInHuddle(Le)},300),this.updateDevicesInHuddle=Le=>{const Ie=h(we=>{var ze;const ut=(ze=this.getPreferredDeviceOfType(we))===null||ze===void 0?void 0:ze.deviceId;ut&&(we===s.Camera&&!Le||((0,he.dispatchForClientStore)((0,Z.HC)({id:ut,type:i(we)})),this.logger.info(`Setting preferred ${we} device in huddle`,ut)))},"maybeApplyPreference");Le?Ie(Le):(Ie(s.Microphone),Ie(s.Speakers),Ie(s.Camera))}}}h(Ue,"manager_exp_DevicePreferencesManager");const Ne=new Ue,be=h(()=>{try{d.A.info("Analyzing stored device records");const Le=H().getAllRecordsForInitializationAnalyses(),Ie={totalRecords:Object.keys(Le).length,webAudioDevices:0,webAudioSelectedDevices:0,webAudioUsedDevices:0,microphoneCount:0,speakerCount:0,cameraCount:0};return Object.values(Le).forEach(we=>{switch(we.deviceInfo.kind){case s.Microphone:Ie.microphoneCount+=1;break;case s.Speakers:Ie.speakerCount+=1;break;case s.Camera:Ie.cameraCount+=1;break;default:break}we.deviceInfo.deviceId.startsWith("WebAudio-")&&(Ie.webAudioDevices+=1,we.selected&&(Ie.webAudioSelectedDevices+=1),we.used&&(Ie.webAudioUsedDevices+=1))}),d.A.info("Device selection records analysis:",Ie),Ie.webAudioDevices>0&&d.A.warn(`Webaudio device records found: total=${Ie.webAudioDevices}, selected=${Ie.webAudioSelectedDevices}, used=${Ie.webAudioUsedDevices}`),Ie}catch(_e){return d.A.warn("Error analyzing device records:",_e),{totalRecords:0,webAudioDevices:0,webAudioSelectedDevices:0,webAudioUsedDevices:0,microphoneCount:0,speakerCount:0,cameraCount:0}}},"analyzeDeviceRecords");let ke=null,Ke=fe,$=null;const ae=h(async _e=>{let{teamId:Le,useDevicesExp:Ie}=_e;!Le||ke===Le||(d.A.info(`Initializing device preferences manager with teamId: ${Le} and useDevicesExp: ${Ie}`),ke=Le,Ie?Ke=Ne:Ke=fe,await Ke.init({teamId:Le,useDevicesExp:Ie}),$=be(),d.A.info("Device preferences manager initialized"))},"initializeDevicePreferences"),Ge=h((_e,Le)=>{if(!ke)return;const Ie=l(Le);Ke.recordDeviceUsed(_e,Ie)},"reportDeviceUsed"),nt=h((_e,Le,Ie)=>{if(!ke){d.A.warn("reportDeviceSelected called but teamId is not initialized");return}const we=l(Le);(0,r.p)().trackDeviceChange(_e,Le,Ie),Ke.recordDeviceSelected(_e,we)},"reportDeviceSelected"),at=h(()=>{if(!ke)return;const _e=Ke.getPrioritizedDeviceListOfType(s.Microphone)||[],Le=Ke.getPrioritizedDeviceListOfType(s.Camera)||[],Ie=Ke.getPrioritizedDeviceListOfType(s.Speakers)||[];return{[t.lW.Microphone]:_e.map(a),[t.lW.Camera]:Le.map(a),[t.Q4]:Ie.map(a)}},"getPrioritizedDeviceLists"),Ve=h(async()=>{ke&&await Ke.refreshAvailableDevices()},"refreshDeviceListsOnDevicePermissionsUpdate"),Se=h(_e=>{if(!ke)return;const Le=mapDeviceTypeToDeviceKind(_e);return Ke.getPrioritizedDeviceListOfType(Le).map(mapMediaDeviceInfoToDevice)},"getPrioritizedDeviceListOfType"),Pe=h(_e=>{if(!ke)return;const Le=l(_e),Ie=Ke.getPreferredDeviceOfType(Le);if(!Ie){d.A.warn(`No preferred device found for type ${_e}. Returning undefined. If this happens, the user will likely report that their device is not working. They may also have revoked or not given permission to use the device.`);return}return d.A.debug(`Returning preferred ${_e} device`,Ie.deviceId),a(Ie)},"getPreferredDeviceOfType"),Fe=h(async()=>{ke&&await Ke.waitForDeviceListUpdate()},"waitForDeviceListUpdate"),ge=h(()=>{var _e;return((_e=Pe(t.Q4))===null||_e===void 0?void 0:_e.id)||"default"},"getPreferredAudioSinkId"),He=h(()=>$,"getDeviceRecordStats"),Qe=h(()=>!!ke,"isDevicePreferencesManagerInitialized")},3438321721:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(2691514942);const o=(0,t.Wo)({label:"DEVICE-PREFS"})},6319219164:(B,A,e)=>{"use strict";e.d(A,{k:()=>l});var t=e(5420942935),s=e(6690187588),o=e(7059587421),n=e(3677587543);const c={debug:0,info:1,warn:2,error:3,action:0};class l{debug(a){if(!(this.level>t.$b.DEBUG||!l.debugLogsEnabled))if(typeof a=="string"){const r=a;this.consoleLogger.debug(r)}else{const r=a();this.consoleLogger.debug(r)}}info(a){this.level>t.$b.INFO||this.consoleLogger.info(a)}warn(a){this.level>t.$b.WARN||this.consoleLogger.warn(a)}error(a){this.level>t.$b.ERROR||this.callLogger.error(a)}setLogLevel(a){this.level=a}getLogLevel(){return this.level}getName(){return this.name}constructor(a,r){this.name=a,this.level=r||c[(0,o.XM)()],this.consoleLogger=(0,s.Cc)(a),this.callLogger=(0,s.Jt)(a)}}h(l,"FreeWillyLogger"),l.debugLogsEnabled=!1,(0,n.ul)("toggleChimeDebugLogs",()=>{l.debugLogsEnabled=!l.debugLogsEnabled})},6532870220:(B,A,e)=>{"use strict";e.d(A,{Y:()=>an});var t=e(1649982175),s=e(5420942935),o=e(9357779721),n=e(6748214069),c=e(6690187588),l=e(7516783851),i=e(6916548184),a=e(9785827940),r=e(2172170811),d=e(2003990933),m=e(9268023148),f=e(3078252698),u=e(3659369705),E=e(6441216756),v=e(6947306788),g=e(3454761202),T=e(1526568855);let p=h(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),(0,T.n2)(this.data)/T.Ep}constructor(se){this.analyserNode=se,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var O=e(117763669);const y=300;class C{stop(){this.previewAudioAnalyser=void 0,clearTimeout(this.timeoutId)}setPreviewAudioAnalyser(se){this.previewAudioAnalyser=se}constructor(){this.timeoutId=-1,this.monitorAudioLevel=()=>{this.previewAudioAnalyser&&O.A.subscriberCount>0&&O.A.publish(this.previewAudioAnalyser.getLevel()),this.timeoutId=window.setTimeout(this.monitorAudioLevel,y)},this.monitorAudioLevel()}}h(C,"AudioLevelMonitor");function I(qe,se){let{skipIntermediatePendingRuns:Ce=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Oe=!1,Be=[];const Je=h(async function(){for(var rt=arguments.length,Dt=new Array(rt),Kt=0;Kt<rt;Kt++)Dt[Kt]=arguments[Kt];if(Oe){Ce&&(Be=[]);const $t=(0,o.u)();return Be.push({args:Dt,deferred:$t}),$t}Oe=!0;const mn=await se.call(qe,...Dt);Oe=!1;const Xt=Be.shift();return Xt&&Je(...Xt.args).then(Xt.deferred.resolve).catch(Xt.deferred.reject),mn},"run");return Je}h(I,"serialGuard");var M=e(9866542341),_=e(735855716),P=e(4484802807);class b{initialize(se){let{preferredDeviceId:Ce}=se;var Oe,Be,Je,rt,Dt,Kt,mn,Xt,$t,En,Tn,tn,Fn,jn;if(!(!((Oe=this.defaultDeviceController)===null||Oe===void 0||(Be=Oe.activeDevices)===null||Be===void 0||(Je=Be.audio)===null||Je===void 0||(rt=Je.stream)===null||rt===void 0)&&rt.getAudioTracks))return;const rs=this.defaultDeviceController;if(!(!((Dt=this.defaultDeviceController)===null||Dt===void 0||(Kt=Dt.activeDevices)===null||Kt===void 0||(mn=Kt.audio)===null||mn===void 0||(Xt=mn.stream)===null||Xt===void 0)&&Xt.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const ls=rs.activeDevices.audio.stream.getAudioTracks();if(ls.length===1)this.audioInputTrack=ls[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}($t=this.audioInputTrack)===null||$t===void 0||$t.addEventListener("mute",this.onMute),(En=this.audioInputTrack)===null||En===void 0||En.addEventListener("unmute",this.onUnmute),(Tn=this.audioInputTrack)===null||Tn===void 0||Tn.addEventListener("ended",this.onEnded),!((tn=this.audioInputTrack)===null||tn===void 0)&&tn.muted?this.onMute():this.onUnmute();const ns=(jn=(Fn=this.audioInputTrack)===null||Fn===void 0?void 0:Fn.getSettings())===null||jn===void 0?void 0:jn.deviceId;if(!ns){this.logger.warn("No deviceId found for audio input track");return}ns!==Ce?this.logger.warn(`Used audio input track device id (${ns}) does not match the preferred device id (${Ce}). 
				Preferred device is unavailable. User may report issues with other participants hearing them.`):this.logger.info(`Used audio input track device id matches the preferred device id (${Ce})`),(0,_.cT)(ns,l.lW.Microphone,P.S.InputTrackHandler)}tearDown(){var se,Ce,Oe;(se=this.audioInputTrack)===null||se===void 0||se.removeEventListener("mute",this.onMute),(Ce=this.audioInputTrack)===null||Ce===void 0||Ce.removeEventListener("unmute",this.onUnmute),(Oe=this.audioInputTrack)===null||Oe===void 0||Oe.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(se,Ce,Oe){this.defaultDeviceController=se,this.observer=Ce,this.logger=Oe,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}h(b,"AudioInputTrackHandler");var S;(function(qe){qe.Blur="BLUR",qe.Image="IMAGE",qe.None="NONE"})(S||(S={}));class N{constructor({backgroundEffect:se}){this.filterCPUUtilizationHigh=Ce=>{const{cpuUtilization:Oe,filterMillis:Be,periodMillis:Je}=Ce;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${Oe} - spent ${Be}ms of last ${Je}ms processing video background`)},this.filterFrameDurationHigh=Ce=>{const{framesDropped:Oe,avgFilterDurationMillis:Be,framerate:Je,periodMillis:rt}=Ce;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${Je}, frames dropped: ${Oe}, spent ${Be}ms of last ${rt}ms processing video background`)},this.callLogger=(0,c.Jt)(`VIDEO-BACKGROUND-${se}`)}}h(N,"VideoBackgroundObserver");const L=N;var D=e(160509973),k=e(1522654045),x=e(3037982922),R=e(651151430),U=e(1483928852),F=e(948175431),W=e(1492910739);class w{async intrinsicDevice(){return this.device}updateEffect(se){if(this.isCleaned||!this.worker)throw this.workerError||new Error("Device has been cleaned up");this.bgImg=se;const Ce={type:"updateBackgroundImage",bgImg:se},Oe=[];se&&Oe.push(se),this.worker.postMessage(Ce,Oe)}getDeviceId(se){var Ce;return typeof se=="string"?se:se instanceof MediaStream?"mediastream":((Ce=se)===null||Ce===void 0?void 0:Ce.id)||"unknown"}cleanup(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isCleaned||(window.removeEventListener("beforeunload",this.cleanupHandler),this.generatorVideoTrack&&(this.generatorVideoTrack.stop(),this.generatorVideoTrack=null),se&&this.inputMediaStream&&(this.inputMediaStream.getTracks().forEach(Ce=>Ce.stop()),this.inputMediaStream=void 0),this.worker&&(this.worker.postMessage({type:"cleanup"}),this.worker.removeEventListener("error",this.handleWorkerError),this.worker.terminate(),this.worker=null),this.bgImg&&(this.bgImg=void 0),this.isCleaned=!0)}async stop(){this.cleanup()}onOutputStreamDisconnect(){const se=!(this.device instanceof MediaStream);this.cleanup(se)}async transformStream(se){if(this.isCleaned||!this.worker||!this.generatorVideoTrack)throw this.workerError||new Error("Device has been cleaned up");if(this.inputMediaStream=se,se)try{const Ce=se.getVideoTracks()[0];if(!Ce)throw new Error("No video track found in input stream");const Oe=new MediaStreamTrackProcessor({track:Ce}),Be=[Oe.readable,this.generatorVideoTrack.writable];this.bgImg&&Be.push(this.bgImg),this.worker.postMessage({type:"init",input:Oe.readable,output:this.generatorVideoTrack.writable,width:Ce.getSettings().width,height:Ce.getSettings().height,bgImg:this.bgImg},Be),this.bgImg&&(this.bgImg=void 0)}catch(Ce){throw this.cleanup(),Ce}return this.outputMediaStream}constructor(se,Ce){this.worker=null,this.generatorVideoTrack=null,this.isCleaned=!1,this.workerError=null,this.initWorkerAsync=async()=>{let Oe=null;if((0,W.Cu)()||(0,W.$i)()||(0,W.b3)()?Oe=new Promise(Be=>{e.e("background-worker").then(e.bind(e,947429127)).then(Je=>{const rt=Je.default;Be(new rt)})}):Oe=Promise.resolve(new Worker("/background.worker.js")),this.worker=await Oe,!this.worker)throw new Error("Failed to init background worker");this.worker.addEventListener("error",this.handleWorkerError)},this.handleWorkerError=Oe=>{this.workerError=new Error(`Worker error: ${Oe.message}`),this.cleanup(!1)},this.isNewDevice=Oe=>{const Be=this.getDeviceId(this.device),Je=this.getDeviceId(Oe);return Be!==Je},this.device=se,this.bgImg=Ce,this.generatorVideoTrack=new MediaStreamTrackGenerator({kind:"video"}),this.outputMediaStream=new MediaStream([this.generatorVideoTrack]),this.cleanupHandler=()=>this.cleanup(!1),window.addEventListener("beforeunload",this.cleanupHandler)}}h(w,"BackgroundWorkerVideoTransformDevice");var K=e(5975723325),j;(function(qe){qe.PERMISSION="permission",qe.HARDWARE="hardware",qe.CONSTRAINT="constraint",qe.NOT_FOUND="not_found",qe.UNKNOWN="unknown"})(j||(j={}));var Q;(function(qe){qe.RECOVERABLE="recoverable",qe.TEMPORARY="temporary",qe.PERMANENT="permanent"})(Q||(Q={}));function J(qe){switch(qe.name){case"NotReadableError":return{category:j.HARDWARE,severity:Q.TEMPORARY};case"NotFoundError":return{category:j.NOT_FOUND,severity:Q.RECOVERABLE};case"OverconstrainedError":return{category:j.CONSTRAINT,severity:Q.RECOVERABLE};case"PermissionDeniedError":case"NotAllowedError":return{category:j.PERMISSION,severity:Q.PERMANENT};default:return{category:j.UNKNOWN,severity:Q.PERMANENT}}}h(J,"classifyError");function z(qe,se,Ce){se===l.lW.Microphone?qe.onAudioDeviceError(Ce):qe.onVideoDeviceError(Ce)}h(z,"reportDeviceError");async function ie(qe){let{callLogger:se,error:Ce,deviceType:Oe,observer:Be}=qe;const Je=J(Ce),rt=`Device error for ${Oe}: ${Ce.name} (${Ce.message}). Category: ${Je.category}, Severity: ${Je.severity}`;if(se.error(rt),Je.category===j.PERMISSION)return Be.onSelfPermissionUpdated(!0,Oe),{success:!1,errorName:Ce.name,shouldTerminate:!0};const Dt=Je.category===j.UNKNOWN?"DeviceUnknownError":Ce.name;return z(Be,Oe,Dt),{success:!1,errorName:Dt,shouldTerminate:!0}}h(ie,"handleDeviceInitError");var ee;(function(qe){qe.START_PREVIEW="start-preview",qe.STOP_PREVIEW="stop-preview",qe.ENABLE="enable",qe.DISABLE="disable"})(ee||(ee={}));const ne=1e4,Z=30,te=5e3,he=15e3,ue="medium",de=!0,re=50;let V=h(class{async shutdown(){var se,Ce,Oe;if(this.isShuttingDown=!0,this.voiceFocusDevice){var Be;await this.voiceFocusDevice.stop(),await((Be=this.voiceFocusManager)===null||Be===void 0?void 0:Be.tearDown()),this.voiceFocusDevice=void 0}this.pendingAudioDevice=void 0,this.pendingCameraDevice=void 0,this.observer.onClearAllAlerts(),this.audioVideoFacade.removeDeviceChangeObserver(this),this.audioVideoFacade.stopLocalVideoTile(),this.options.useHuddlesSingleton||(await this.audioVideoFacade.stopVideoInput(),await this.audioVideoFacade.stopAudioInput()),this.audioVideoFacade.unbindAudioElement(),this.removeAudioElementErrorHandler(),await this.clearVideoTransformDeviceRefs(),this.audioInputDeviceRefreshTimer&&(clearTimeout(this.audioInputDeviceRefreshTimer),this.audioInputDeviceRefreshTimer=null),this.videoInputDeviceRefreshTimer&&(clearTimeout(this.videoInputDeviceRefreshTimer),this.videoInputDeviceRefreshTimer=null),this.cameraMetricsTimeout&&(clearTimeout(this.cameraMetricsTimeout),this.cameraMetricsTimeout=null),await((Ce=(se=(0,s._R)())===null||se===void 0?void 0:se.getAudioContext())===null||Ce===void 0?void 0:Ce.suspend()),this.callLogger.info("Audio context suspended"),(Oe=this.audioLevelMonitor)===null||Oe===void 0||Oe.stop(),delete this.audioLevelMonitor,this.options.useHuddlesSingleton&&(this.audioInputTrackHandler&&(this.audioInputTrackHandler.tearDown(),delete this.audioInputTrackHandler),this.videoFxProcessor&&(await this.videoFxProcessor.destroy(),delete this.videoFxProcessor)),this.backgroundWorkerVideoTransformDevice&&(await this.backgroundWorkerVideoTransformDevice.stop(),delete this.backgroundWorkerVideoTransformDevice),this.callLogger.info("Device manager shutdown complete")}async init(){this.checkShutdownState("device manager initialization")||(this.options.useHuddlesSignalStartDelay||this.enumerateDevices(),await this.determineInitialMicrophonePermissionState(),this.enumerateDevices(),this.logDevices(),await this.updateMicrophone(),await this.updateSpeaker(),this.isCameraEnabled&&await this.updateCamera())}async determineInitialMicrophonePermissionState(){if((0,u.y3)()){await this.determineInitialMicrophonePermissionStateForDesktop();return}await this.determineInitialMicrophonePermissionStateForBrowser()}async determineInitialMicrophonePermissionStateForBrowser(){const{status:se}=F.Ay.canAccessMediaResource(r.mT.MICROPHONE);let Ce;(se===l.eJ.Prompt||se===l.eJ.NotDetermined||se===l.eJ.Unknown)&&(await this.audioVideoFacade.listAudioInputDevices(!0),Ce=F.Ay.canAccessMediaResource(r.mT.MICROPHONE).status),(se===l.eJ.Denied||Ce===l.eJ.Denied)&&(this.observer.onBrowserMediaDeviceAccessDenied(r.mT.MICROPHONE),this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async determineInitialMicrophonePermissionStateForDesktop(){const se=await this.maybeCheckSystemMediaAccess(r.mT.MICROPHONE);(0,u.j9)()||(0,u.uF)()||se&&(se==null?void 0:se.status)===l.eJ.Denied&&(this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async setAGC(se){this.prefs.audio&&this.prefs.audio.enableAGC!==se&&(this.callLogger.info(`AGC setting changed: ${se}`),this.prefs.audio.enableAGC=se,(0,x.i4)(this.prefs),await this.updateMicrophone())}async setPreferredDevice(se,Ce){switch(Ce){case l.lW.Microphone:await this.updateMicrophone();break;case l.Q4:await this.updateSpeaker();break;case l.lW.Camera:this.isCameraEnabled&&await this.updateCamera();break;default:break}}async setPreferredCameraDeviceForPreview(se){this.enumerateDevices(),await this.updateCamera()}async setVideoBackgroundEffect(se){let{effect:Ce,effectBgKey:Oe}=se;this.prefs.video&&(this.callLogger.info(`Video background effect changed: ${Ce}`),this.prefs.video.effect=Ce,this.prefs.video.effectBgKey=Oe,(0,x.i4)(this.prefs),this.isCameraEnabled&&await this.updateCamera())}async setNoiseSuppression(se){this.prefs.audio&&this.prefs.audio.enableNoiseSuppression!==se&&(this.callLogger.info(`Noise suppression setting changed: ${se}`),this.prefs.audio.enableNoiseSuppression=se,(0,x.i4)(this.prefs),await this.updateMicrophone())}async setStartMutedBarrier(se){!this.isStartMutedBarrierActive&&se?this.callLogger.warn("ALERT: Audio input will be muted until the start muted barrier is released"):this.isStartMutedBarrierActive&&!se&&this.callLogger.info("Start muted barrier released"),this.isStartMutedBarrierActive=se}async setMicrophone(se){var Ce;if(!this.checkShutdownState("setMicrophone")){if(this.voiceFocusManager&&await this.voiceFocusManager.setMute(se),!se){var Oe;this.audioVideoFacade.realtimeMuteLocalAudio(),(Oe=this.huddleEventsTrace)===null||Oe===void 0||Oe.update({name:v.p.MICROPHONE,type:v.G.STOP});return}this.isStartMutedBarrierActive&&this.setStartMutedBarrier(!1),this.audioVideoFacade.realtimeUnmuteLocalAudio(),(Ce=this.huddleEventsTrace)===null||Ce===void 0||Ce.update({name:v.p.MICROPHONE,type:v.G.START})}}requestPreviewStreamForDeviceId(se,Ce,Oe){Ce===l.lW.Camera&&this.handleCameraChanges({type:ee.START_PREVIEW,deviceId:se,videoElement:Oe})}stopVideoPreviewForVideoInput(se){this.handleCameraChanges({type:ee.STOP_PREVIEW,videoElement:se||this.cameraPreviewVideoElement})}setCamera(se){this.checkShutdownState("setCamera")||se!==this.isCameraEnabled&&(this.isCameraEnabled=se,this.isCameraEnabled?(this.handleCameraChanges({type:ee.ENABLE}),this.maybeCheckSystemMediaAccess(r.mT.CAMERA)):this.handleCameraChanges({type:ee.DISABLE}))}setCameraQuality(se,Ce,Oe,Be){this.checkShutdownState("setCameraQuality")||(this.callLogger.info(`Camera quality settings changed: ${se}x${Ce}@${Oe}fps ${Be}kbps`),this.audioVideoFacade.chooseVideoInputQuality(se,Ce,Oe),this.audioVideoFacade.setVideoMaxBandwidthKbps(Be))}async audioVideoDidStart(){this.checkShutdownState("audioVideoDidStart")||(this.meetingReady=!0,this.options.useHuddlesSignalStartDelay&&this.pendingAudioDevice&&(this.callLogger.info(`Setting audio to pending device ${this.pendingAudioDevice}`),await this.initAudioInput(this.pendingAudioDevice),this.pendingAudioDevice=void 0))}validatePendingDevice(se,Ce){const Oe=this.getPreferredDevice(Ce),Be=(Oe==null?void 0:Oe.id)===se;return Be||this.callLogger.warn(`Pending ${Ce} device ${se} is no longer available, skipping setup`),Be}async setCanStartLocalVideo(se){if(this.options.useHuddlesSignalStartDelay){this.canStartLocalVideo=se;const Ce=(0,d.A)(this.pendingCameraDevice,"device",this.pendingCameraDevice);this.pendingCameraDevice&&se&&(this.validatePendingDevice(Ce,l.lW.Camera)&&(this.callLogger.info(`Setting camera to pending device ${Ce}`),await this.initVideoInput(this.pendingCameraDevice),await this.runCameraActivityEnable()),this.pendingCameraDevice=void 0)}}localVideoTileDidUpdate(se){(!se.boundVideoStream||!se.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${se.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!se.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}async maybeBindAudioOutputElement(){if(!this.checkShutdownState("maybeBindAudioOutputElement")&&!this.isAudioOutputElementBound&&this.audioOutputElement){try{await this.audioVideoFacade.bindAudioElement(this.audioOutputElement)}catch(se){this.callLogger.info(`bindAudioElement failed: error: ${se.name}, message: ${se.message}`);return}this.isAudioOutputElementBound=!0}}async maybeCheckSystemMediaAccess(se){if(!(0,u.y3)()){const{status:Ce}=F.Ay.canAccessMediaResource(se);if(Ce===l.eJ.Granted)return{isAvailable:!1,status:l.eJ.Granted}}if((0,u.cX)())try{const Ce=F.Ay.canAccessMediaResource(se);if(this.callLogger.info(`DeviceManager::getMediaAccessStatus ${se} electron API available: ${Ce.isAvailable} and status: ${Ce.status}`),!Ce.isAvailable)return{isAvailable:!1,status:l.eJ.NotDetermined};if(Ce.status===l.eJ.Granted)return this.observer.onDeviceAccessApproved(se),Ce;let Oe;return(!Ce.status||Ce.status===l.eJ.NotDetermined)&&(Ce.status||this.callLogger.info(`DeviceManager::getMediaAccessStatus ${se} status is missing. Re-requesting media access`),Oe=se==="screen"?null:await F.Ay.requestMediaAccess(se),this.callLogger.info(`DeviceManager::askForMediaAccess ${se} electron API available: ${!!(Oe!=null&&Oe.isAvailable)} and isConsentGranted: ${Oe==null?void 0:Oe.isGranted}`),se!=="screen"&&(Oe!=null&&Oe.isGranted))?(this.observer.onDeviceAccessApproved(se),{status:l.eJ.Granted,isAvailable:!0}):((Ce.status===l.eJ.Denied||Oe&&!Oe.isGranted)&&(this.micPermissionDenied=!0,this.observer.onCheckSystemMediaAccess(se)),Ce)}catch(Ce){this.callLogger.info(`DeviceManager::Error retrieving system access for ${se}: ${Ce}`)}return{isAvailable:!1,status:l.eJ.NotDetermined}}audioInputMuteStateChanged(se,Ce){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${se}, ${Ce?"muted":"unmuted"}`)}audioInputStreamEnded(se){var Ce;se&&(this.callLogger.info("DeviceManager::audioInputStreamEnded"),((Ce=(0,_.Nj)(l.lW.Microphone))===null||Ce===void 0?void 0:Ce.id)===se&&(this.callLogger.warn("Call audio stream ended unexpectedly"),this.observer.onSetNoMediaInput(r.mT.MICROPHONE)))}async videoInputStreamEnded(se){this.checkShutdownState("videoInputStreamEnded")||se&&(this.callLogger.info("DeviceManager::videoInputStreamEnded"),this.observer.onSetNoMediaInput(r.mT.CAMERA))}logDevices(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U.LL;const Ce=(0,_.T5)();if(!Ce){this.callLogger.error("No devices found");return}(0,U.my)(this.callLogger,Ce,se)}getPreferredDevice(se){return(0,_.Nj)(se)}enumerateDevices(){if(this.checkShutdownState("enumerateDevices"))return;const se=(0,_.T5)();if(!se){this.callLogger.error("No devices found in v2 device manager");return}this.callLogger.info("V2 devices found. Updating device store"),this.observer.onDevicesUpdated(se)}async handleCameraChanges(se){switch(se.type){case ee.START_PREVIEW:await this.runCameraActivityStartPreview(se);break;case ee.STOP_PREVIEW:await this.runCameraActivityStopPreview(se);break;case ee.ENABLE:await this.runCameraActivityEnable();break;case ee.DISABLE:await this.runCameraActivityDisable();break;default:break}}checkDeviceStillAvailable(se,Ce,Oe){if(!this.options.useHuddlesSignalStartDelay)return!0;const Be=this.getPreferredDevice(Ce),Je=(Be==null?void 0:Be.id)===se;return Je||this.callLogger.warn(`Device was removed during ${Oe}, aborting`),Je}async updateMicrophone(){const se=this.getPreferredDevice(l.lW.Microphone);if(!se){this.callLogger.info("No audio input device found");return}const{id:Ce,label:Oe}=se;this.micPermissionDenied&&this.callLogger.error("Microphone permission is denied. The user must grant permissions and fully quit and restart Slack to join the Huddle"),this.callLogger.info(`Selected audio input device: ${se.label||se.id}, deviceId: ${Ce}, deviceLabel: ${Oe}`);const Je={autoGainControl:this.prefs.audio?this.prefs.audio.enableAGC:!0,deviceId:Ce};let rt=!0;if(this.voiceFocusManager&&this.voiceFocusManager.isAvailable()&&(this.prefs.audio&&this.prefs.audio.enableNoiseSuppression)){if(this.voiceFocusDevice||(this.voiceFocusDevice=await this.voiceFocusManager.getTransformDevice()),this.voiceFocusDevice){if(!this.checkDeviceStillAvailable(Ce,l.lW.Microphone,"voice focus setup"))return;const Dt=this.voiceFocusDevice,Kt=await this.voiceFocusDevice.chooseNewInnerDevice(Je);if(!this.checkDeviceStillAvailable(Ce,l.lW.Microphone,"voice focus device creation"))return;this.options.useHuddlesSingleton&&Dt!==Kt&&await Dt.stop(),this.voiceFocusDevice=Kt}this.voiceFocusDevice||(rt=!1)}else rt=!1;this.voiceFocusDevice&&(0,g.Y)({name:g.R1.VoiceFocusDevice,ref:this.voiceFocusDevice}),this.callLogger.info("Noise suppression:",rt?"enabled":"disabled");try{if(this.isStartMutedBarrierActive&&(this.callLogger.info("Start muted barrier active"),this.audioVideoFacade.realtimeMuteLocalAudio()),!this.checkDeviceStillAvailable(Ce,l.lW.Microphone,"audio input initialization"))return;if(rt)if(this.voiceFocusDevice)await this.initAudioInput(this.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(Je.noiseSuppression=!0),await this.initAudioInput(Je)}catch(Dt){this.callLogger.error(`chooseAudioInputDevice failed: error: ${Dt.name}, message: ${Dt.message}`),this.options.useHuddlesDeviceErrorHandler?await ie({callLogger:this.callLogger,error:Dt,deviceType:l.lW.Microphone,observer:this.observer}):await this.handleAudioInitError(Dt);return}this.observer.onClearAudioDeviceErrors(),this.initAudioAnalyserForPreview(),this.setupAudioInputTrackHandler({preferredDeviceId:Ce}),this.observer.onSelfPermissionUpdated(this.micPermissionDenied,l.lW.Microphone),this.attemptToInitMicrophoneNative(se.label)}async updateSpeaker(){if(this.checkShutdownState("updateSpeaker"))return;const se=this.getPreferredDevice(l.Q4);if(!se){this.callLogger.info("No audio output device found");return}const{id:Ce,label:Oe}=se;this.callLogger.info(`Selected audio output device id: ${se.label||se.id}, deviceId: ${Ce}, deviceLabel: ${Oe}`),await this.audioVideoFacade.chooseAudioOutput(Ce),this.observer.onOutputDeviceChanged({id:se.id,type:l.Q4}),(0,_.i_)(Ce,l.Q4)}async updateCamera(){if(this.checkShutdownState("updateCamera"))return;const se=this.getPreferredDevice(l.lW.Camera);if(!se){this.callLogger.info("No video input device found");return}this.callLogger.info(`Selected video input device id: ${se.label||se.id}`);try{await this.setCameraVideoInputDevice(se)}catch(Ce){this.options.useHuddlesDeviceErrorHandler?await ie({callLogger:this.callLogger,error:Ce,deviceType:l.lW.Camera,observer:this.observer}):(this.callLogger.info(`chooseVideoInputDevice failed: error: ${Ce.name}, message: ${Ce.message}`),Ce instanceof s.Ll?this.observer.onSelfPermissionUpdated(!0,l.lW.Camera):this.observer.onSelfPermissionUpdated(!1,l.lW.Camera));return}this.observer.onClearVideoDeviceErrors(),this.observer.onSelfPermissionUpdated(!1,l.lW.Camera)}async setCameraVideoInputDevice(se){if(await this.clearVideoTransformDeviceRefs(),!this.checkShutdownState("setCameraVideoInputDevice")){if(this.options.backgroundVideoFilteringSetting===l.uT.NONE){await this.initVideoInput(se.id);return}switch(this.prefs.video.effect){case R.t.Blur:{await this.setCameraVideoInputDeviceWithBackgroundBlurFilter(se);break}case R.t.Background:{this.options.backgroundVideoFilteringSetting!==l.uT.Both?await this.initVideoInput(se.id):await this.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:se,selectedBackgroundImageKey:this.prefs.video.effectBgKey});break}default:{await this.initVideoInput(se.id);break}}}}async setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(se){let{videoDevice:Ce,selectedBackgroundImageKey:Oe}=se;const Be=Ce.label||Ce.id;if(Oe===void 0){this.callLogger.info(`No background image key provided id: ${Be}`),await this.initVideoInput(Ce.id);return}const rt=M.g.find(tn=>tn.key===Oe);if(rt===void 0)return this.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",Ce);this.callLogger.info(`Enabling video input device with background image filter id: ${Be}`);const Kt=await(await fetch(rt.url)).blob();if(this.options.useHuddlesFilterWorker){try{const tn=await createImageBitmap(Kt);await this.initBackgroundWorkerVideoTransformDevice(Ce,tn)}catch(tn){this.callLogger.error("Error creating background worker video transform device",tn),await this.initVideoInput(Ce.id)}return}const mn=(0,s.jq)(),Xt=(0,s.px)(),$t=[];if(!await s.i3.isSupported(this.chimeLogger)&&de)return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",Ce);if(!await Xt.isSupported()&&!de)return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",Ce);if(this.isShuttingDown)return;const En={...this.defaultVideoProcessorOptions,imageBlob:Kt};if(de){if(this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ue},backgroundReplacement:{isEnabled:!0,backgroundImageURL:rt.url,defaultColor:void 0}},this.videoFxProcessor=await s.i3.create(this.chimeLogger,this.videoFxConfig,re),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",Ce);this.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${Be}`),$t.push(this.videoFxProcessor)}else{const tn=await Xt.create(void 0,En);if(tn)this.setupVideoBackgroundFrameProcessor({processor:tn,backgroundEffect:S.Image}),$t.push(tn);else return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",Ce)}this.callLogger.info(`Enabling video input device with background image replacement id: ${Be}`);const Tn=new mn(this.chimeLogger,Ce.id,$t);this.setVideoTransformDeviceRefs({transformDevice:Tn,processors:$t}),await this.initVideoInput(Tn),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async handleErrorApplyVideoEffects(se,Ce){const Oe=Ce.label||Ce.id;this.callLogger.info(`${se}: ${Oe}`),await this.initVideoInput(Ce.id)}async initBackgroundWorkerVideoTransformDevice(se,Ce){try{var Oe;if(!((Oe=this.backgroundWorkerVideoTransformDevice)===null||Oe===void 0)&&Oe.isNewDevice(se.id)&&(this.callLogger.info("Device changed, creating new background worker video transform device"),await this.backgroundWorkerVideoTransformDevice.stop(),delete this.backgroundWorkerVideoTransformDevice),this.backgroundWorkerVideoTransformDevice)try{this.backgroundWorkerVideoTransformDevice.updateEffect(Ce),this.callLogger.info("Successfully updated effect on existing background worker device")}catch(Be){this.callLogger.warn("Failed to update effect on existing device, creating new one",Be),await this.backgroundWorkerVideoTransformDevice.stop(),delete this.backgroundWorkerVideoTransformDevice,this.backgroundWorkerVideoTransformDevice=new w(se.id,Ce),await this.backgroundWorkerVideoTransformDevice.initWorkerAsync(),this.callLogger.info("Successfully created new background worker video transform device")}else this.callLogger.info("Creating new background worker video transform device"),this.backgroundWorkerVideoTransformDevice=new w(se.id,Ce),await this.backgroundWorkerVideoTransformDevice.initWorkerAsync(),this.callLogger.info("Successfully created new background worker video transform device");return await this.initVideoInput(this.backgroundWorkerVideoTransformDevice),!0}catch(Be){if(this.callLogger.error("Error creating background worker video transform device",Be),this.backgroundWorkerVideoTransformDevice){try{await this.backgroundWorkerVideoTransformDevice.stop()}catch(Je){this.callLogger.warn("Error stopping background worker device during cleanup",Je)}delete this.backgroundWorkerVideoTransformDevice}return await this.initVideoInput(se.id),!1}}async setCameraVideoInputDeviceWithBackgroundBlurFilter(se){const Ce=(0,s.jq)(),Oe=(0,s.kM)(),Be=se.label||se.id;if(this.callLogger.info(`Enabling video input device with background blur filter id: ${Be}`),this.options.useHuddlesFilterWorker){try{await this.initBackgroundWorkerVideoTransformDevice(se)}catch(Dt){this.callLogger.error("Error creating background worker video transform device",Dt),await this.initVideoInput(se.id)}return}const Je=[];if(de){if(!await s.i3.isSupported(this.chimeLogger))return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",se);if(this.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:ue},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.videoFxProcessor=await s.i3.create(this.chimeLogger,this.videoFxConfig,re),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",se);this.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${Be}`),Je.push(this.videoFxProcessor)}else{if(!await Oe.isSupported())return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",se);const Dt={...this.defaultVideoProcessorOptions,blurStrength:15},Kt=await Oe.create(void 0,Dt);if(!Kt)return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",se);this.setupVideoBackgroundFrameProcessor({processor:Kt,backgroundEffect:S.Blur}),Je.push(Kt)}this.callLogger.info(`Enabling video input device with background blur filter id: ${Be}`);const rt=new Ce(this.chimeLogger,se.id,Je);this.setVideoTransformDeviceRefs({transformDevice:rt,processors:Je}),await this.initVideoInput(rt),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async cleanupTransformDevicesAndCameraIfShuttingdown(){this.isShuttingDown&&(this.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),await this.audioVideoFacade.stopVideoInput(),await this.clearVideoTransformDeviceRefs())}async initVideoInputDevices(){const Ce=(await this.audioVideoFacade.listVideoInputDevices()).length>0;return Ce||this.observer.onSelfPermissionUpdated(!0,l.lW.Camera),this.prefs=(0,x.Bh)(),this.enumerateDevices(),Ce}async runCameraActivityStartPreview(se){const Ce=se.deviceId,Oe=se.videoElement;!Ce||!Oe||(this.cameraPreviewVideoElement=Oe,await this.setPreferredCameraDeviceForPreview(Ce),await this.startCameraPreview())}async runCameraActivityStopPreview(se){const Ce=se.videoElement;Ce&&(Ce!==this.cameraPreviewVideoElement&&this.callLogger.warn("Mismatch in preview video element"),this.audioVideoFacade.hasStartedLocalVideoTile()?this.detachStreamFromCameraPreview():this.stopCameraPreview(),delete this.cameraPreviewVideoElement)}async runCameraActivityEnable(){var se;!this.audioVideoFacade.hasStartedLocalVideoTile()&&this.cameraPreviewVideoElement&&this.stopCameraPreview(),await this.updateCamera(),this.audioVideoFacade.hasStartedLocalVideoTile()||(this.waitForCameraReady=(0,o.u)(),this.audioVideoFacade.startLocalVideoTile(),await this.waitForCameraReady.catch(()=>{this.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),this.runCameraActivityDisable()})),this.attachStreamToCameraPreview(),(se=this.huddleEventsTrace)===null||se===void 0||se.update({name:v.p.VIDEO,type:v.G.START})}async runCameraActivityDisable(){var se;this.detachStreamFromCameraPreview(),this.options.useHuddlesSignalStartDelay?(this.audioVideoFacade.stopLocalVideoTile(),await this.audioVideoFacade.stopVideoInput()):(await this.audioVideoFacade.stopVideoInput(),this.audioVideoFacade.stopLocalVideoTile()),(se=this.huddleEventsTrace)===null||se===void 0||se.update({name:v.p.VIDEO,type:v.G.STOP}),this.cameraPreviewVideoElement&&(!this.isShuttingDown||!this.options.useHuddlesSignalStartDelay)&&(await this.updateCamera(),await this.startCameraPreview())}async startCameraPreview(){this.cameraPreviewVideoElement&&(this.waitForCameraReady=(0,o.u)(),this.audioVideoFacade.startVideoPreviewForVideoInput(this.cameraPreviewVideoElement),this.cameraPreviewVideoElement.addEventListener("canplay",se=>{this.waitForCameraReady.resolve()}),await this.waitForCameraReady)}async stopCameraPreview(){this.cameraPreviewVideoElement&&(this.audioVideoFacade.stopVideoPreviewForVideoInput(this.cameraPreviewVideoElement),await this.audioVideoFacade.stopVideoInput())}attachStreamToCameraPreview(){var se;if(!this.cameraPreviewVideoElement)return;const Ce=(se=this.audioVideoFacade.getLocalVideoTile())===null||se===void 0?void 0:se.state();Ce&&Ce.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(Ce.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&s.xc.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(se){var Ce,Oe,Be,Je;const rt=((Ce=se.target)===null||Ce===void 0||(Oe=Ce.error)===null||Oe===void 0?void 0:Oe.code)||"unavailable",Dt=((Be=se.target)===null||Be===void 0||(Je=Be.error)===null||Je===void 0?void 0:Je.message)||se.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${rt}, message: ${Dt}`),this.observer.onSetNoAudioOutput(r.NS.AUDIO_ELEMENT_ERROR)}initAudioAnalyserForPreview(){const se=(0,s._R)().getAudioContext();if(!se){this.callLogger.warn("Unable to get AudioContext");return}se.resume();const Ce=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(Ce){var Oe;const Be=new p(Ce);(Oe=this.audioLevelMonitor)===null||Oe===void 0||Oe.setPreviewAudioAnalyser(Be)}}setupAudioInputTrackHandler(se){let{preferredDeviceId:Ce}=se;this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new b(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize({preferredDeviceId:Ce})}checkShutdownState(se){var Ce;return!((Ce=this.options)===null||Ce===void 0)&&Ce.useHuddlesSingleton&&this.isShuttingDown?(this.callLogger.info(`Skipping ${se} - device manager is shutting down`),!0):!1}constructor(se,Ce,Oe,Be,Je=!1,rt,Dt,Kt){this.audioVideoFacade=se,this.audioOutputElement=Ce,this.observer=Oe,this.options=Be,this.isStartMutedBarrierActive=Je,this.chimeLogger=rt,this.defaultDeviceController=Dt,this.voiceFocusManager=Kt,this.callLogger=(0,c.Jt)("DEVICES"),this.waitForCameraReady=(0,o.u)(),this.isAudioOutputElementBound=!1,this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ue},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.micPermissionDenied=!1,this.meetingReady=!1,this.canStartLocalVideo=!1,this.audioInputsChanged=async()=>{this.callLogger.info("DeviceManager::audioInputsChanged"),await(0,_.es)(),this.logDevices([l.lW.Microphone]),this.observer.onClearNoMediaInput(r.mT.MICROPHONE)},this.audioOutputsChanged=async()=>{this.checkShutdownState("audioOutputsChanged")||(this.callLogger.info("DeviceManager::audioOutputsChanged"),await(0,_.es)(),this.logDevices([l.Q4]),this.observer.onClearNoAudioOutput(r.NS.AUDIO_ELEMENT_ERROR))},this.videoInputsChanged=async()=>{this.checkShutdownState("videoInputsChanged")||(this.callLogger.info("DeviceManager::videoInputsChanged"),await(0,_.es)(),this.logDevices([l.lW.Camera]))},this.attemptToInitMicrophoneNative=(0,m.A)(async Xt=>{try{if(!Xt||!this.options.useDevicesExp)return;if(this.options.useHuddlesSignalStartDelay&&!this.meetingReady){this.validatePendingDevice(Xt,l.lW.Microphone)?(this.callLogger.info("Skipping microphone init test because meeting is not ready"),this.pendingAudioDevice=Xt):this.callLogger.warn("Device is no longer available, not storing as pending");return}const $t=await(0,K.Lh)(Xt),{error:En,canInit:Tn}=$t;(0,f.A)(En)?En.includes("Method not available")||En.includes("only supported on Windows")?this.callLogger.info("Microphone init test not supported on this client"):Tn||this.callLogger.warn(`ALERT! Possible init failure for microphone with device: ${Xt}: ${En}`):this.callLogger.info(`Successfully initialized microphone with device: ${Xt}`)}catch($t){this.callLogger.error("Error attempting to init audio device",$t)}},1e3),this.handleAudioInitError=async Xt=>{switch(Xt.name){case"NotReadableError":this.callLogger.warn("Either a hardware error (such as an OS/program/webpage lock) is preventing access to the microphone or the selected device is no longer available. Trying again");break;case"NotFoundError":this.callLogger.warn("No audio input devices are available. Trying again");break;case"OverconstrainedError":this.callLogger.warn("The specified constraints resulted in no devices being found. Trying again");break;case"PermissionDeniedError":this.callLogger.error("User denied permission to access microphone.");break;case"TypeError":this.callLogger.error("An unexpected TypeError occurred during audio input initialization",Xt);break;case"GetUserMediaError":this.callLogger.error("An unexpected GetUserMediaError occurred during audio input initialization",Xt);break;default:this.callLogger.error("Unknown error during audio input initialization")}const $t=Xt instanceof s.Ll;this.observer.onSelfPermissionUpdated(!!$t,l.lW.Microphone)},this.setVideoTransformDeviceRefs=Xt=>{let{transformDevice:$t,processors:En}=Xt;this.currentVideoTransformDevice=$t,this.currentVideoFrameProcessors=En,(0,g.Y)({name:g.R1.VideoTransformDevice,ref:$t})},this.setupVideoBackgroundFrameProcessor=Xt=>{let{processor:$t,backgroundEffect:En}=Xt;var Tn;this.clearVideoBackgroundFrameProcessor(),!de&&(this.currentVideoFrameProcessor=$t,this.currentVideoFrameProcessorObserver=new L({backgroundEffect:En}),(Tn=this.currentVideoFrameProcessor)===null||Tn===void 0||Tn.addObserver(this.currentVideoFrameProcessorObserver),(0,g.Y)({name:g.R1.VideoFrameProcessor,ref:$t}))},this.clearVideoBackgroundFrameProcessor=()=>{de||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)},this.clearVideoTransformDeviceRefs=async()=>{this.clearVideoBackgroundFrameProcessor(),this.currentVideoFrameProcessors&&(this.currentVideoFrameProcessors.forEach(Xt=>{Xt.destroy()}),this.currentVideoFrameProcessors.length=0,this.currentVideoFrameProcessors=void 0),this.currentVideoTransformDevice&&(await this.currentVideoTransformDevice.stop(),this.currentVideoTransformDevice=void 0)},this.initAudioInput=async Xt=>{if(!Xt){this.callLogger.info("initAudioInput no audio input device was provided");return}const $t=performance.now(),En=setTimeout(()=>{this.callLogger.warn(`startAudioInput took longer than ${te}ms`)},te),Tn=setTimeout(()=>{this.callLogger.warn(`startAudioInput possibly failed took longer than ${he}ms`),this.observer.onAudioInitPossiblyFailed()},he);try{await this.audioVideoFacade.startAudioInput(Xt),this.callLogger.info("startAudioInput completed")}catch(tn){throw this.callLogger.error("startAudioInput failed",tn),tn}finally{clearTimeout(En),clearTimeout(Tn);const Fn=performance.now()-$t;this.observer.onAudioInitTimeTaken(Fn)}},this.initVideoInput=async Xt=>{if(this.checkShutdownState("initVideoInput"))return;if(this.options.useHuddlesSignalStartDelay&&!this.canStartLocalVideo){this.callLogger.info("Skipping video input initialization because canStartLocalVideo is false"),this.pendingCameraDevice=Xt;return}if(!Xt)return;await this.audioVideoFacade.startVideoInput(Xt),this.recordCameraResolution();const $t=(0,d.A)(Xt,"device",Xt);typeof $t=="string"&&(0,_.i_)($t,l.lW.Camera)},this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var Xt,$t,En,Tn,tn;if(this.isShuttingDown||!((Xt=this.audioVideoFacade)===null||Xt===void 0?void 0:Xt.hasStartedLocalVideoTile()))return;const jn=this.audioVideoFacade.getLocalVideoTile(),rs=($t=jn==null?void 0:jn.state())===null||$t===void 0?void 0:$t.boundVideoStream,ls=rs==null?void 0:rs.getVideoTracks()[0];if(ls instanceof CanvasCaptureMediaStreamTrack){D.A.publish({type:k.lx.CameraResolution,update:{isCanvasStream:!0}});return}const ns=ls==null?void 0:ls.getSettings(),as=ls==null?void 0:ls.getCapabilities(),Ss=ns==null?void 0:ns.width,Us=ns==null?void 0:ns.height,ys=ns==null?void 0:ns.frameRate,Ts=as==null||(En=as.width)===null||En===void 0?void 0:En.max,Rs=as==null||(Tn=as.height)===null||Tn===void 0?void 0:Tn.max,ps=as==null||(tn=as.frameRate)===null||tn===void 0?void 0:tn.max;Ts&&Rs&&D.A.publish({type:k.lx.CameraResolution,update:{cameraWidth:Ss,cameraHeight:Us,cameraFrameRate:ys,cameraMaxWidth:Ts,cameraMaxHeight:Rs,cameraMaxFrameRate:ps,isCanvasStream:!1}})}catch{}},5e3)},this.updateMicrophone=I(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=I(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=I(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=I(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=(0,x.Bh)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new C,this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:Z,reportingPeriodMillis:ne,logger:this.chimeLogger};const{huddleEventsTrace:mn}=(0,E.A)().getAllTraceHandlers();this.huddleEventsTrace=mn}},"DeviceManager");var H=e(6319219164),X=e(9230761942),Y=e(268142347);let q=h(class{constructor(se,Ce,Oe){this.sequenceNumber=se,this.message=Ce,this.timestampMs=Oe}},"MeetingEvent"),fe=h(class ja{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(se){this.intervalScheduler.start(async()=>{if(this.getEventCaptureSize()===0)return;const Ce=this.eventCapture.slice(0,se);try{this.postEvents(Ce),this.eventCapture=this.eventCapture.slice(Ce.length)}catch(Oe){this.log.error(Oe.message)}})}stop(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,se,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(se,Ce){const{meetingHistory:Oe,...Be}=Ce;try{const Je=JSON.stringify({name:se,attributes:Be});this.eventCapture.push(new q(this.sequenceNumber,Je,Date.now())),this.sequenceNumber+=1}catch(Je){this.log.error(Je.message)}}postEvents(se){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Be;se.length===0&&!Ce&&!Oe||(Be=this.observer)===null||Be===void 0||Be.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,se,Ce,Oe)}constructor(se,Ce,Oe,Be,Je,rt=ja.DEFAULT_BATCH_SIZE,Dt=ja.DEFAULT_INTERVAL_MS){this.observer=se,this.meetingId=Ce,this.mediaRegion=Oe,this.attendeeId=Be,this.callId=Je,this.batchSize=rt,this.intervalMs=Dt,this.eventCapture=[],this.sequenceNumber=0,this.log=(0,c.tZ)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new X.A(this.intervalMs),this.startEventPublishScheduler(this.batchSize),(0,Y.A)(async()=>{this.stop(!0)})}},"MeetingEventLogger");fe.DEFAULT_BATCH_SIZE=100,fe.DEFAULT_INTERVAL_MS=65*60*1e3;var ce=e(1137236691),Ee=e(6152244507),Ae=e(6542992125),le=e(9650261137);const oe=1e4,me=3e4;class pe{observe(se){this.connections.push(se),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(se){remove(this.connections,se),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){this.connections.forEach(async se=>{const Ce=se.getPeerConnection();if(!Ce)return;const Oe=Te(await Ce.getStats());Ue(se,Oe);const Be={...be(Oe),send:Oe.sendTracks.map(Je=>ke(Je,Oe)),recv:Oe.recvTracks.map(Je=>({...Ke(Je,Oe),peerId:se.getPeerIdFromRemoteStreamId(Oe.trackIdToStreamId[Je.id])}))};this.observer.onStats(Be)})}constructor(se,Ce=oe){this.observer=se,this.collectionIntervalMs=Ce,this.connections=[]}}h(pe,"StatsManager");function Te(qe){const se=Array.from(qe.entries()),Ce=reduce(se,(Oe,Be)=>{let[Je,rt]=Be;return at(rt)?rt.remoteSource===!0?Oe.recvTracks.push(rt):Oe.sendTracks.push(rt):nt(rt)||Ge(rt)?rt.trackId&&(Oe.rtpStats[rt.trackId]=rt):Ve(rt)?Oe.transports[rt.id]=rt:Se(rt)?Oe.candidates[rt.id]=rt:Pe(rt)?Oe.candidatePairs[rt.id]=rt:Fe(rt)?Oe.codecs[rt.id]=rt:ge(rt)?rt.trackIds&&rt.trackIds.forEach(Dt=>{Oe.trackIdToStreamId[Dt]=rt.streamIdentifier}):He(rt)&&rt.trackIdentifier&&(Oe.mediaSources[rt.trackIdentifier]=rt),Oe},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return Ce.recvTracks=Ce.recvTracks.filter(Oe=>Ce.trackIdToStreamId[Oe.id]!==void 0),Ce}h(Te,"groupStatsByType");function Me(qe){const se=filter(qe.candidatePairs,Dt=>!!Dt.nominated),Ce=maxBy(se,Dt=>Dt.priority);if(!Ce)return;const Oe=find(qe.candidates,(Dt,Kt)=>Kt===Ce.localCandidateId);if(!Oe)return;let Be=Oe.candidateType==="relay"?Oe.relayProtocol:Oe.protocol;Oe.candidateType==="prflx"&&(Be+=" (unreliable)");const Je="unknown";return{candidateType:Oe.candidateType||Je,networkType:Oe.networkType||Je,transportType:Be||Je}}h(Me,"getConnectionNetworkInfo");function Ue(qe,se){const Ce=Me(se);Ce&&qe.maybeLogNetworkInfo(Ce)}h(Ue,"reportConnectionNetworkInfo");const xe={nominal:1,fair:2,serious:3,critical:4};async function Ne(){var qe;if(!(0,u.y3)())return;let se,Ce,Oe;if(ce.vkf.isAvailable()){var Be;const mn=await(0,ce.vkf)();if(!mn)return;se=mn.processMetrics,Ce=xe[mn.thermalState],Oe=(Be=mn.speedLimit)===null||Be===void 0?void 0:Be.limit}else se=await(0,ce.rc_)();if(!se)return;let Je=null;const rt=se.reduce((mn,Xt)=>{var $t,En,Tn;return Xt.type==="GPU"&&(Je=Xt),{cpu:mn.cpu+((Xt==null||($t=Xt.cpu)===null||$t===void 0?void 0:$t.percentCPUUsage)||0),memory:{workingSetSize:mn.memory.workingSetSize+(0,Ee.UK)((Xt==null||(En=Xt.memory)===null||En===void 0?void 0:En.workingSetSize)||0),peakWorkingSetSize:mn.memory.peakWorkingSetSize+(0,Ee.UK)((Xt==null||(Tn=Xt.memory)===null||Tn===void 0?void 0:Tn.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),Dt=Je==null||(qe=Je.cpu)===null||qe===void 0?void 0:qe.percentCPUUsage,Kt=Dt?rt.cpu-Je.cpu.percentCPUUsage:rt.cpu;return{...rt,cpuWithoutGpu:Kt,gpu:Dt,thermalState:Ce,speedLimit:Oe}}h(Ne,"makeAppMetricsStats");function be(qe){const[se,...Ce]=Object.values(qe.transports);debugCheck(!Ce.length,"Can there be more than one transport stat in a report?");const Oe=se&&se.selectedCandidatePairId,Be=qe.candidatePairs[Oe];if(!Oe||!Be)return;const Je=qe.candidates[Be.remoteCandidateId]||{};return{availableOutgoingBitrate:Be.availableOutgoingBitrate||0,availableIncomingBitrate:Be.availableIncomingBitrate||0,totalBytesSent:Be.bytesSent,totalBytesReceived:Be.bytesReceived,currentRoundTripTime:Be.currentRoundTripTime,totalRoundTripTime:Be.totalRoundTripTime,protocol:Je.protocol==="udp"?slack.calls.analytics.Protocol.UDP:slack.calls.analytics.Protocol.TCP,pathType:Je.candidateType==="host"?slack.calls.analytics.PathType.DIRECT:slack.calls.analytics.PathType.RELAY,clientTime:Date.now()}}h(be,"makeConnectionStats");function ke(qe,se){const Ce=se.rtpStats[qe.id]||{},Oe={codec:$(Ce,se),bytesSent:Ce.bytesSent,packetsSent:Ce.packetsSent};if(qe.kind==="audio"){const Be=qe.trackIdentifier?se.mediaSources[qe.trackIdentifier]:null;return Be?{...Oe,audioStats:{audioLevel:Be.audioLevel,totalAudioEnergy:Be.totalAudioEnergy,totalSamplesDuration:Be.totalSamplesDuration,echoReturnLoss:Be.echoReturnLoss,echoReturnLossEnhancement:Be.echoReturnLossEnhancement}}:{...Oe,audioStats:{audioLevel:qe.audioLevel,echoReturnLoss:qe.echoReturnLoss,echoReturnLossEnhancement:qe.echoReturnLossEnhancement}}}return{...Oe,videoStats:{frameHeight:qe.frameHeight,frameWidth:qe.frameWidth,framesSent:qe.framesSent,hugeFramesSent:qe.hugeFramesSent,framesPerSecond:Ce.framesPerSecond,framesEncoded:Ce.framesEncoded}}}h(ke,"makeOutboundMediaStats");function Ke(qe,se){const Ce=se.rtpStats[qe.id]||{},Oe={codec:$(Ce,se),bytesReceived:Ce.bytesReceived,packetsReceived:Ce.packetsReceived,packetsLost:Ce.packetsLost,fractionLost:Ce.fractionLost,jitter:Ce.jitter};return qe.kind==="audio"?{...Oe,audioStats:{audioLevel:qe.audioLevel,jitterBufferDelay:qe.jitterBufferDelay,concealedSamples:qe.concealedSamples,concealmentEvents:qe.concealmentEvents}}:{...Oe,videoStats:{firCount:Ce.firCount,nackCount:Ce.nackCount,pliCount:Ce.pliCount,sliCount:Ce.sliCount,frameHeight:qe.frameHeight,frameWidth:qe.frameWidth,framesPerSecond:qe.framesPerSecond,framesCorrupted:qe.framesCorrupted,framesDecoded:qe.framesDecoded,framesDropped:qe.framesDropped,framesReceived:qe.framesReceived}}}h(Ke,"makeInboundMediaStats");function $(qe,se){const Ce=qe.codecId,Oe=get(se.codecs,Ce),Be=get(Oe,"mimeType");return ae(Be)}h($,"getCodecForRtpStat");function ae(qe){switch(qe){case"video/VP8":return slack.calls.analytics.Codec.VP8;case"video/VP9":return slack.calls.analytics.Codec.VP9;case"video/H264":return slack.calls.analytics.Codec.H264;case"audio/opus":return slack.calls.analytics.Codec.OPUS;default:return slack.calls.analytics.Codec.UNKNOWN}}h(ae,"parseCodec");function Ge(qe){return qe.type==="inbound-rtp"}h(Ge,"isRecvRtpStat");function nt(qe){return qe.type==="outbound-rtp"}h(nt,"isSendRtpStat");function at(qe){return qe.type==="track"}h(at,"isTrackStat");function Ve(qe){return qe.type==="transport"}h(Ve,"isTransportStat");function Se(qe){return qe.type==="local-candidate"||qe.type==="remote-candidate"}h(Se,"isIceCandidateStat");function Pe(qe){return qe.type==="candidate-pair"}h(Pe,"isIceCandidatePairStat");function Fe(qe){return qe.type==="codec"}h(Fe,"isCodecStat");function ge(qe){return qe.type==="stream"}h(ge,"isStreamStat");function He(qe){return qe.type==="media-source"}h(He,"isMediaSourceStat");const Qe=5e3;let _e=h(class{constructor(se,Ce){var Oe=this;this.audioVideoFacade=se,this.observer=Ce,this.callLogger=(0,c.Jt)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1,this.onMetricsDidReceive=async Be=>{if(!Be)return;const Je=await this.collectScreenshareStats();this.reportAppMetrics({clientMetricReport:Be,screenshareRtcStats:Je})},this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const Be=setInterval(()=>{if(!this.isDisconnected){clearInterval(Be);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},Qe)},this.cleanup=()=>{},this.collectScreenshareStats=async()=>{let Be;try{var Je;const rt=(Je=this.audioVideoFacade.contentShareController.contentAudioVideo)===null||Je===void 0?void 0:Je.rtcPeerConnection;return rt?(Be=await rt.getStats(),Be):void 0}catch(rt){this.callLogger.error("Failed to collect screenshare stats",rt)}},this.reportAppMetrics=async function(){let{clientMetricReport:Be,screenshareRtcStats:Je}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Be&&!Oe.isDisconnected)return;Oe.isDisconnected&&Be&&(Oe.isDisconnected=!1);const rt=await Oe.collectAppMetrics();Oe.observer.onAppMetrics({appMetrics:rt,clientMetricReport:Be,screenshareRtcStats:Je})},this.collectAppMetrics=async()=>{const Be=await Ne();if(!Be)return;let Je=Be;return Be&&(Je=(0,t.A)({...Be,cpu:Be.cpuWithoutGpu},"cpuWithoutGpu")),Je}}},"HuddlesStatsManager"),Le=h(class{start(){var se;this.isSignallingOnly=!1,(se=this.videoDownlinkManager)===null||se===void 0||se.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}async stop(){this.isSignallingOnly?(this.waitForStart.resolve(),this.waitForStop.resolve(!0)):await this.waitForStart,this.isStopRequested=!0,this.audioVideoFacade.stop()}audioVideoDidStartConnecting(se){var Ce;if(!se)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var Oe,Be,Je;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(Oe=this.statsManager)===null||Oe===void 0||(Be=Oe.reportDisconnect)===null||Be===void 0||Be.call(Oe),(Je=this.huddleReconnectTracer)===null||Je===void 0||Je.traceReconnectAttempt(),this.isReconnecting=!0}(Ce=this.disconnectObserver)===null||Ce===void 0||Ce.onConnectionUpdate(this.audioVideoFacade)}async audioVideoDidStart(){var se,Ce,Oe;if(this.callLogger.info("Chime audio video session started"),(se=this.disconnectObserver)===null||se===void 0||se.onConnectionUpdate((Ce=this.audioVideoFacade)===null||Ce===void 0||(Oe=Ce.audioVideoController)===null||Oe===void 0?void 0:Oe.meetingSessionContext,this.isReconnecting),this.isReconnecting){var Be;this.callLogger.info("Successfully re-connected to Huddle"),(Be=this.huddleReconnectTracer)===null||Be===void 0||Be.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(Je=>Je.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(se){var Ce,Oe,Be,Je;const rt=s.b9[se.statusCode()],Dt=`Chime session stopped. StatusCode: ${rt}`;if(this.callLogger.info(Dt),this.isReconnecting&&se.isFailure()){var Kt;this.callLogger.info("Failed to re-connect to Huddle"),(Kt=this.huddleReconnectTracer)===null||Kt===void 0||Kt.traceReconnectAttemptOutcome({isSuccess:!1})}delete this.disconnectObserver,this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(Ce=this.videoDownlinkManager)===null||Ce===void 0||Ce.removeObserver(this),(Oe=this.meetingEventLogger)===null||Oe===void 0||Oe.stop(),delete this.meetingEventLogger,(Je=(Be=this.statsManager).cleanup)===null||Je===void 0||Je.call(Be),delete this.statsManager,this.dataChannelSubscribers.forEach(mn=>mn.onDisconnectDataChannel()),!this.isStopRequested&&se.isTerminal()&&(this.observer.onClogError(Dt),this.observer.onError(r.uZ.CallEnded,rt)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(se){if(!se.boundVideoStream||!se.boundAttendeeId){se.tileId&&this.observer.onVideoTileRemoved(se.tileId);return}const Ce=new s.jp(se.boundAttendeeId).base();this.selfAttendeeId===Ce?(this.deviceManager.localVideoTileDidUpdate(se),this.observer.onSelfVideoTileUpdate(se)):this.observer.onPeerVideoTileUpdate(Ce,se)}videoTileWasRemoved(se){this.consoleLog.info(`Video tile removed: tileId=${se}`),this.observer.onVideoTileRemoved(se)}videoAvailabilityDidChange(se){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${se.remoteVideoAvailable}, CanStartLocalVideo=${se.canStartLocalVideo}`),this.deviceManager.setCanStartLocalVideo(se.canStartLocalVideo)}async metricsDidReceive(se){var Ce;(Ce=this.statsManager)===null||Ce===void 0||Ce.onMetricsDidReceive(se)}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){var se;this.callLogger.warn("SDK suggested stop video, maybe poor connection"),(se=this.videoUplinkManager)===null||se===void 0||se.shouldRestrictVideoQuality(!0)}connectionDidBecomeGood(){var se;this.callLogger.info("SDK detected good connection"),(se=this.videoUplinkManager)===null||se===void 0||se.shouldRestrictVideoQuality(!1)}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(se){var Ce,Oe;(Ce=this.videoDownlinkManager)===null||Ce===void 0||Ce.remoteVideoSourcesDidChange(se),(Oe=this.videoUplinkManager)===null||Oe===void 0||Oe.remoteVideoSourcesDidChange(se)}tileWillBePausedByDownlinkPolicy(se){this.observer.onVideoTileWillPause(se)}tileWillBeUnpausedByDownlinkPolicy(se){this.observer.onVideoTileWillUnpause(se)}constructor(se,Ce,Oe,Be,Je,rt,Dt,Kt,mn,Xt,$t,En=[],Tn){this.selfAttendeeId=se,this.meetingId=Ce,this.mediaRegion=Oe,this.callId=Be,this.audioVideoFacade=Je,this.observer=rt,this.deviceManager=Dt,this.videoDownlinkManager=Kt,this.disconnectObserver=mn,this.dataChannelSubscribers=En,this.videoUplinkManager=Tn,this.callLogger=(0,c.tZ)("FREE-WILLY-AV"),this.consoleLog=(0,c.Cc)("FREE-WILLY-AV"),this.waitForStart=(0,o.u)(),this.waitForStop=(0,o.u)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,Xt&&(this.waitForStart=Xt),$t&&(this.waitForStop=$t),this.statsManager=new _e(Je,rt),this.meetingEventLogger=new fe(rt,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=(0,E.A)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var Ie=e(8571983633),we=e(489015593),ze=e(8057580467),ut=e(7920065931),_t=e(9662350539),yt=e(3152270006),Ot=e(3730178938);function It(){switch((0,ce.IXB)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}h(It,"getScaleFactorForCurrentZoomLevel");function kt(qe,se){const[Ce,Oe]=qe;return[Ce*se,Oe*se]}h(kt,"getScaledCoordinates");function gt(qe,se){var Ce;const Be=(0,u.y3)()&&!(0,u.dY)("4.18.0")?1/It():1,Je=((Ce=qe.itemId)===null||Ce===void 0?void 0:Ce.toString())||null,rt=qe.itemId==="self"?se:Je;switch(qe.type){case r.Sl.New:case r.Sl.Edit:{const[Dt,Kt]=kt(qe.segment.a,Be),[mn,Xt]=kt(qe.segment.b,Be),[$t,En]=kt(qe.segment.c,Be),[Tn,tn]=kt(qe.segment.d,Be);return{itemId:rt,type:qe.type===r.Sl.New?_t.Y.Draw.Type.NEW:_t.Y.Draw.Type.EDIT,segment:{a:{x:Dt,y:Kt},b:{x:mn,y:Xt},c:{x:$t,y:En},d:{x:Tn,y:tn}}}}case r.Sl.End:return{itemId:rt,type:_t.Y.Draw.Type.END};case r.Sl.ChangeHue:return{itemId:rt,type:_t.Y.Draw.Type.CHANGE_HUE,hue:qe.hue};case r.Sl.Position:return{itemId:rt,type:_t.Y.Draw.Type.POSITION,x:qe.x,y:qe.y};default:return(0,yt.Kh)(qe)}}h(gt,"convertDrawMessageToPeerMessage");function Gt(qe,se){const Ce=qe.itemId===se?"self":qe.itemId;switch(qe.type){case _t.Y.Draw.Type.NEW:case _t.Y.Draw.Type.EDIT:{const Be=(0,u.y3)()&&!(0,u.dY)("4.18.0")?It():1;return{itemId:Ce,type:qe.type===_t.Y.Draw.Type.NEW?r.Sl.New:r.Sl.Edit,segment:{a:[(qe.segment.a.x||0)*Be,(qe.segment.a.y||0)*Be],b:[(qe.segment.b.x||0)*Be,(qe.segment.b.y||0)*Be],c:[(qe.segment.c.x||0)*Be,(qe.segment.c.y||0)*Be],d:[(qe.segment.d.x||0)*Be,(qe.segment.d.y||0)*Be]}}}case _t.Y.Draw.Type.END:return{itemId:Ce,type:r.Sl.End};case _t.Y.Draw.Type.CHANGE_HUE:return{itemId:Ce,type:r.Sl.ChangeHue,hue:qe.hue};case _t.Y.Draw.Type.POSITION:return{itemId:Ce,type:r.Sl.Position,x:qe.x,y:qe.y};default:(0,le.M)("Unhandled draw message case");return}}h(Gt,"convertPeerMessageToDrawMessage");function Pt(qe){let se=Ot.o.Standard;return qe.type&&qe.type===_t.Y.Reacji.Type.Effect&&(se=Ot.o.Effect),qe.type&&qe.type===_t.Y.Reacji.Type.Gif&&(se=Ot.o.Gif),se}h(Pt,"convertFromPeerReactionType");function jt(qe){let se=_t.Y.Reacji.Type.Standard;return qe===Ot.o.Effect&&(se=_t.Y.Reacji.Type.Effect),qe===Ot.o.Gif&&(se=_t.Y.Reacji.Type.Gif),se}h(jt,"convertToPeerReactionType");var Qt=e(1908189516);let Jt=h(class Bo{updatePresence(se,Ce){Ce?this.attendeesStates.set(se,this.initializeState()):this.attendeesStates.delete(se)}calculateScore(se,Ce,Oe){const Be=this.attendeesStates.get(se);if(!Be||(Oe!==null&&(Be.muted=Oe),Be.muted))return 0;const Je=Date.now();if(Ce){Be.noiseFloor=this.updateNoiseFloor(Be,Ce);const rt={timestamp:Je,volume:Ce};Be.volumeSamples.push(rt)}return this.pruneVolumeSamples(Be),this.getScore(Be,Je)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(se,Ce){let Oe=se.noiseFloor;return Ce>Oe?Oe=(1-this.params.slowAttackFactor)*Oe+this.params.slowAttackFactor*Ce:Oe=(1-this.params.fastDecayFactor)*Oe+this.params.fastDecayFactor*Ce,Math.min(Oe,this.params.noiseFloorMax)}pruneVolumeSamples(se){const Ce=Date.now()-this.params.analysisWindowMs,Oe=se.volumeSamples;for(;Oe.length&&Oe[0].timestamp<Ce;)Oe.shift()}getScore(se,Ce){return se.volumeSamples.reduce((Oe,Be)=>{const Je=Math.max(1,Math.ceil((Ce-Be.timestamp)/1e3));return Oe+Math.max(0,Be.volume-se.noiseFloor)/Je},0)}constructor(){this.attendeesStates=new Map,this.params=Bo.FAST_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");Jt.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},Jt.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let Yt=h(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(se){new s.jp(se).hasModality(s.jp.MODALITY_CONTENT)||this.disconnectedAttendees.has(se)||(this.disconnectedAttendees.set(se,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(se){this.disconnectedAttendees.delete(se),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(se){return this.disconnectedAttendees.has(se)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const se=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);se&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(se-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const se=[],Ce=Date.now();this.disconnectedAttendees.forEach((Oe,Be)=>{Ce>Oe&&(this.observer.onStalePeer(Be),se.push(Be))}),se.forEach(Oe=>{this.disconnectedAttendees.delete(Oe)}),this.maybeStartTimer()}constructor(se,Ce){this.timeoutMs=se,this.observer=Ce,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var Rt=e(4075246222),Bt=e(2208015175),dn=e(8403493408),Mt=e(2604971659),Ye=e(2462761869);let ot=h(class{addSelf(se){this.selfId=se,this.addPeer(se)}removeSelf(se){(0,le.M)(se===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(se)}addPeer(se){this.ids=(0,Rt.A)(this.ids,[se]),(0,Bt.A)(this.cachedPeerStates[se],(Oe,Be)=>{this.peerStateForwarder[Be]&&!(0,Ie.A)(Oe)&&this.peerStateForwarder[Be](se,Oe)}),delete this.cachedPeerStates[se];const Ce=[];(0,Bt.A)(this.cachedCallState,(Oe,Be)=>{this.callStateForwarder[Be]&&!(0,Ie.A)(Oe)&&this.callStateForwarder[Be].getPeerIdFn(Oe)===se&&(this.callStateForwarder[Be].forwardFn(Oe),this.callStateForwarder[Be].isCached||Ce.push(Be))}),this.cachedCallState=(0,t.A)(this.cachedCallState,Ce)}removePeer(se){(0,dn.A)(this.ids,se),(0,Bt.A)((0,Mt.A)(this.cachedCallState),Ce=>{if(this.callStateForwarder[Ce]){const Oe=this.callStateForwarder[Ce].removeFn(this.cachedCallState[Ce],se);if(!Oe){delete this.cachedCallState[Ce];return}this.cachedCallState[Ce]=Oe}})}getPeers(){return this.ids}hasPeer(se){return this.ids.includes(se)}hasAttendee(se){return this.hasPeer(se)||se===this.selfId}updateCallState(se){const Ce=se;(0,Bt.A)(se,(Oe,Be)=>{this.callStateForwarder[Be]&&(Ce[Be]=this.callStateForwarder[Be].updateFn(this.cachedCallState[Be],Oe))}),(0,Bt.A)(this.callStateForwarder,(Oe,Be)=>{this.forwardOrCacheCallState([Ce],Be,Oe)})}updatePeerStates(se){(0,Bt.A)(this.peerStateForwarder,(Ce,Oe)=>{this.forwardOrCachePeerState(se,Oe,Ce)})}setIncludeSelfAndNoneActiveSpeaker(se,Ce){se===this.includeSelf&&Ce===this.includeNone||(this.includeSelf=se,this.includeNone=Ce,(0,Bt.A)(this.cachedCallState,(Oe,Be)=>{this.callStateForwarder[Be]&&!(0,Ie.A)(Oe)&&this.callStateForwarder[Be].forwardFn(Oe)}))}forwardOrCachePeerState(se,Ce,Oe){se.filter(Je=>!(0,Ie.A)(Je.state[Ce])).map(Je=>({id:Je.peerId,value:Je.state[Ce]})).forEach(Je=>{let{id:rt,value:Dt}=Je;this.ids.includes(rt)?Oe(rt,Dt):this.cachedPeerStates[rt]={...this.cachedPeerStates[rt],[Ce]:Dt}})}forwardOrCacheCallState(se,Ce,Oe){se.filter(Je=>!(0,Ie.A)(Je[Ce])).map(Je=>({value:Je[Ce]})).forEach(Je=>{let{value:rt}=Je;const Dt=Oe.getPeerIdFn(rt);let Kt=!1;Dt&&(this.ids.includes(Dt)||Dt===this.NO_ACTIVE_SPEAKER)?Oe.forwardFn(rt):Kt=!0,(Kt||Oe.isCached)&&(this.cachedCallState={...this.cachedCallState,[Ce]:rt})})}getAttendeeId(se){return new s.jp(se).base()}constructor(se){this.observer=se,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(Ce,Oe)=>{const Be=Ce||[],Je=Oe&&Oe.length?Oe[0]:this.NO_ACTIVE_SPEAKER;return(0,Ye.A)(Be,[Je,this.NO_ACTIVE_SPEAKER]),Be.unshift(Je),Be},removeFn:(Ce,Oe)=>{if(Ce)return(0,dn.A)(Ce,Oe),Ce},getPeerIdFn:Ce=>{const Oe=Ce.filter(Be=>Be===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(Be));if(Oe.length)return Oe[0]},forwardFn:Ce=>{const Oe=Ce.filter(Be=>Be===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(Be));!Oe.length||Oe[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===Oe[0]?"self":Oe[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(Ce,Oe)=>{this.observer.onPeerDrawEnabled(Ce,Oe)}}}},"PeerCache");var ht=e(6993120788),tt=e(8342266486);let ct=h(class{destroy(){var se,Ce,Oe;(se=this.peerCache)===null||se===void 0||se.getPeers().forEach(Be=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(Be)),delete this.peerCache,(Ce=this.staleAttendeeChecker)===null||Ce===void 0||Ce.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(Oe=this.audioVideoFacade.transcriptionController)===null||Oe===void 0||Oe.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(se){this.sendPeerMessageOverDataChannel(new _t.Y({capabilities:{isDrawEnabled:se},fromPeerIdString:this.selfAttendeeId}))}sendReacji(se,Ce,Oe){const Be={emoji:se,...Ce?{type:jt(Ce)}:{},...Oe?{emojiUrl:Oe}:{}};this.sendPeerMessageOverDataChannel(new _t.Y({reacji:Be,fromPeerIdString:this.selfAttendeeId}))}sendBackground(se){this.sendPeerMessageOverDataChannel(new _t.Y({background:{url:se},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(se){this.sendPeerMessageOverDataChannel(new _t.Y({muteRequest:{peerId:se},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(se){this.sendPeerMessageOverDataChannel(new _t.Y({jukeboxRequest:{songKey:se},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new _t.Y({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(se){this.sendPeerMessageOverDataChannel(new _t.Y({draw:gt(se,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(se){this.sendPeerMessageOverDataChannel(new _t.Y({contentShareDetails:{sourceType:se,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}sendRecordingStartNotification(){this.sendPeerMessageOverDataChannel(new _t.Y({recordingStartNotification:{type:_t.Y.RecordingStartNotification.Type.SUMMARY},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(se){this.callLogger.info(`Removing stale peer: ${se}`),this.attendeeLeft(se),this.observer.onPeerDisconnected(se),this.observer.onPeerLeft(se)}setIncludeSelfAndNoneActiveSpeaker(se,Ce){var Oe;(Oe=this.peerCache)===null||Oe===void 0||Oe.setIncludeSelfAndNoneActiveSpeaker(se,Ce)}attendeeJoined(se){if(se===this.selfAttendeeId){var Ce;(Ce=this.peerCache)===null||Ce===void 0||Ce.addSelf(se)}else{var Oe;(Oe=this.peerCache)===null||Oe===void 0||Oe.addPeer(se)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(se,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${se} volume indicator`)}attendeeLeft(se){if(se===this.selfAttendeeId){var Ce;(Ce=this.peerCache)===null||Ce===void 0||Ce.removeSelf(se)}else{var Oe;(Oe=this.peerCache)===null||Oe===void 0||Oe.removePeer(se)}this.audioVideoFacade.removeVideoTilesByAttendeeId(se),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(se),this.consoleLog.info(`Unsubscribed from attendee=${se} volume indicator`)}sendPeerMessageOverDataChannel(se){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,_t.Y.encode(se).finish()):this.logFailureToSendPeerMessage(se)}isAttendeeOfTypeContent(se){return new s.jp(se).hasModality(s.jp.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(se,Ce,Oe,Be){var Je;if(this.consoleLog.info(`Attendee presence: attendeeId=${se}, isSelf=${this.selfAttendeeId===new s.jp(se).base()}, present=${Ce}, externalUserId=${Oe}, dropped=${Be}`),(Je=this.windowedActiveSpeakerPolicy)===null||Je===void 0||Je.updatePresence(se,Ce),this.isAttendeeOfTypeContent(se)){Ce||this.audioVideoFacade.removeVideoTilesByAttendeeId(se);return}if(!Oe){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${se}`),this.observer.onClogError("MissingExternalUserId");return}let rt=null;if(Ce){var Dt;Be===!1&&!(!((Dt=this.peerCache)===null||Dt===void 0)&&Dt.hasAttendee(se))?rt="joined":rt="reconnected"}else Be===!0?rt="disconnected":rt="left";if(rt===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===se)switch(rt){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${rt}`);return}else{const $t=(0,ut.l)(Oe);if(!$t){this.callLogger.error(`No externalUserId for ${se}`);return}switch(rt){case"joined":{var Kt;(Kt=this.staleAttendeeChecker)===null||Kt===void 0||Kt.deleteDisconnectedAttendee(se),this.observer.onPeerJoined(se,$t),this.observer.onPeerConnected(se),this.updatePeerVideoTile(se);break}case"left":this.observer.onPeerDisconnected(se),this.observer.onPeerLeft(se);break;case"disconnected":var mn;(mn=this.staleAttendeeChecker)===null||mn===void 0||mn.addDisconnectedAttendee(se),this.observer.onPeerDisconnected(se);break;case"reconnected":{var Xt;(Xt=this.staleAttendeeChecker)===null||Xt===void 0||Xt.deleteDisconnectedAttendee(se),this.observer.onPeerConnected(se),this.updatePeerVideoTile(se);break}default:this.callLogger.error(`unknown peer event ${rt}`);return}}rt==="joined"&&this.attendeeJoined(se),rt==="left"&&this.attendeeLeft(se)}realtimeFatalErrorCallback(se){this.callLogger.error(`Chime session fatal error: name=${se.name}, message=${se.message}`),this.observer.onClogError(`FatalError: ${se.name} - ${se.message}`)}realtimeLocalSignalStrengthChangeCallback(se){this.consoleLog.debug(`Local attendee signalStrength=${se}`)}realtimeMuteAndUnmuteLocalAudioCallback(se){this.callLogger.debug(`Local attendee mute=${se}`),this.observer.onPeerMuted("self",se)}realtimeSetCanUnmuteLocalAudioCallback(se){this.consoleLog.debug(`Local attendee can unmute = ${se}`)}realtimeVolumeIndicatorCallback(se,Ce,Oe,Be,Je){this.consoleLog.debug(`Attendee volume indicator: attendeeId=${se}, volume=${Ce}, muted=${Oe}, signalStrength=${Be}, externalUserId=${Je}`);const rt=this.selfAttendeeId===se;(0,tt._)().trackVolumeIndicator(rt,Ce),this.selfAttendeeId!==se&&(Oe?this.observer.onPeerMuted(se,!0):Oe!==null&&Oe===!1&&this.observer.onPeerMuted(se,!1)),Be!==null&&(this.selfAttendeeId===se?this.observer.onSelfConnectionQualityChanged("uplink",(0,r.MK)(Be)):this.observer.onPeerConnectionQualityChanged(se,"uplink",(0,r.MK)(Be)))}activeSpeakerDetectorCallback(se){var Ce,Oe;(Ce=this.peerCache)===null||Ce===void 0||Ce.updateCallState({activeSpeakerList:se}),(Oe=this.videoUplinkManager)===null||Oe===void 0||Oe.reportActiveSpeakerChange(this.selfAttendeeId===se[0])}realtimeReceiveDataMessageCallback(se){if(this.selfAttendeeId===se.senderAttendeeId){if(!se.throttled)return;this.callLogger.info(`Data message throttled: size=${se.data.length} bytes`);return}let Ce;try{Ce=_t.Y.decode(se.data)}catch(Oe){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${Oe}
				| Data Sender Attendee ID: ${se.senderAttendeeId}
				| Data Sender External Attendee ID: ${se.senderExternalUserId}
				| Topic: ${se.topic}`);return}this.handlePeerMessageFromDataMessage(Ce,se.senderAttendeeId)}handlePeerMessageFromDataMessage(se,Ce){const Oe=Ce;if(se.jukeboxRequest){var Be;if(!(0,Qt.Z)(Oe,"senderAttendeeId is not populated")||!(0,Qt.Z)(se.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((Be=this.peerCache)===null||Be===void 0)&&Be.hasPeer(Oe))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${Oe}`);return}se.jukeboxRequest.songKey&&!se.jukeboxRequest.stop&&this.observer.onJukeboxRequest(se.jukeboxRequest.songKey),se.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(se.reacji){var Je;if(!(0,Qt.Z)(Oe,"senderAttendeeId is not populated")||!(0,Qt.Z)(se.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((Je=this.peerCache)===null||Je===void 0)&&Je.hasPeer(Oe)){const $t=Pt(se.reacji);var rt;this.observer.onPeerReacji(Oe,se.reacji.emoji,!0,$t,(rt=se.reacji.emojiUrl)!==null&&rt!==void 0?rt:void 0)}else this.callLogger.info(`Dropping reacji from unknown peer: ${Oe}`)}else if(se.draw){var Dt;const $t=Gt(se.draw,this.selfAttendeeId);if(!(0,Qt.Z)(Oe,"senderAttendeeId is not populated")||!(0,Qt.Z)($t,"Draw message must be correctly formed"))return;!((Dt=this.peerCache)===null||Dt===void 0)&&Dt.hasPeer(Oe)?this.observer.onPeerDrawMessage(Oe,$t):this.callLogger.info(`Dropping draw message from unknown peer: ${Oe}`)}else if(se.capabilities){if(!(0,Qt.Z)(Oe,"senderAttendeeId is not populated"))return;if(!(0,Ie.A)(se.capabilities.isDrawEnabled)){var Kt;(Kt=this.peerCache)===null||Kt===void 0||Kt.updatePeerStates([{peerId:Oe,state:{isDrawEnabled:se.capabilities.isDrawEnabled}}])}}else if(se.muteRequest){var mn;if(!(0,Qt.Z)(Oe,"senderAttendeeId is not populated")||!(0,Qt.Z)(se.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((mn=this.peerCache)===null||mn===void 0)&&mn.hasPeer(Oe)){if(se.muteRequest.peerId===this.selfAttendeeId){var Xt;const $t=this.attendeeMuteRequests[Ce],En=$t==null?void 0:$t.lastRequestTime,Tn=Date.now();if($t?($t.lastRequestTime=Tn,$t.count+=1):this.attendeeMuteRequests[Ce]={lastRequestTime:Tn,count:1},En&&Tn-En<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${Ce} peer: ${Oe}`);return}if(((Xt=this.attendeeMuteRequests[Ce])===null||Xt===void 0?void 0:Xt.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${Ce} peer: ${Oe}`);return}}this.observer.onPeerMuteRequest(Oe,se.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${Oe}`)}else if(se.contentShareDetails){if(!(0,Qt.Z)(Oe,"senderAttendeeId is not populated")||!(0,Qt.Z)(se.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!(0,Qt.Z)(se.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${se.contentShareDetails.itemId}, type: ${se.contentShareDetails.sourceType}`);const $t=(0,ht.Vd)(se.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(Oe,$t,se.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(se){this.observer.onTranscriptionEvent(se)}updatePeerVideoTile(se){this.audioVideoFacade.getAllVideoTiles().filter(Be=>{const Je=Be.state();return!Je||!Je.boundAttendeeId?!1:new s.jp(Je.boundAttendeeId).base()===new s.jp(se).base()}).forEach(Be=>{const Je=(Be==null?void 0:Be.state())||null;Je&&this.observer.onPeerVideoTileUpdate(se,Je)})}constructor(se,Ce,Oe,Be){var Je;this.selfAttendeeId=se,this.audioVideoFacade=Ce,this.observer=Oe,this.videoUplinkManager=Be,this.callLogger=(0,c.Jt)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=(0,c.Cc)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var rt,Dt,Kt;return(rt=this.audioVideoFacade.audioVideoController)===null||rt===void 0||(Dt=rt.meetingSessionContext)===null||Dt===void 0||(Kt=Dt.signalingClient)===null||Kt===void 0?void 0:Kt.ready()},this.logFailureToSendPeerMessage=rt=>{const Dt=rt.draw?"draw":"reacji",Kt=h(()=>this.callLogger.error(`Failed to send ${Dt} peer message. Data channel is not ready to use.`),"logError");return(0,ze.A)(Dt,Kt)},(0,we.A)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new Jt,this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(Je=this.audioVideoFacade.transcriptionController)===null||Je===void 0||Je.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new ot(this.observer),this.staleAttendeeChecker=new Yt(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var rn=e(3867135795),ln=e(6696292586);const on=15,G=2560,De=1e3,We="text";let it=h(class{stopMusic(se){let{cleanObserver:Ce}=se;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),Ce&&this.audioVideoFacade.removeContentShareObserver(this))}async stop(){this.isScreenshareEnabled&&(this.isStopRequested=await this.stopContentShare()),this.huddlesJukeboxEnabled&&this.stopMusic({cleanObserver:!0}),this.isStopRequested||(this.observer.onScreenShareStopped(),this.audioVideoFacade.removeContentShareObserver(this))}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}async setSongStream(se){this.huddlesJukeboxEnabled&&(this.waitForStart=(0,o.u)(),await this.audioVideoFacade.startContentShare(se),this.isMusicEnabled=!0)}async setScreenshare(se,Ce,Oe){if(se===this.isScreenshareEnabled)return;const{huddleEventsTrace:Be}=(0,E.A)().getAllTraceHandlers();if(se){let Je=Ce;if(Ce){const Dt=Ce.split(":");Dt.length===3&&Dt[2]!=="0"&&(Dt[2]="0",Je=Dt.join(":"),this.log.warn(`Munging screen share media source id, before: ${Ce}, after: ${Je}`))}let rt;try{this.waitForStart=(0,o.u)();const Dt=h(Kt=>{throw this.log.error(`getUserMedia error during huddle screenshare attempt: ${Kt.name} ${Kt.message}`),Kt},"logGetUserMediaError");if((0,ce.g9M)()&&this.log.info(`Starting screen share with zoomLevel = ${(0,ce.IXB)()}`),(0,ce.g9M)()&&Oe){const{screenHeight:Kt,screenWidth:mn,selectedDisplayId:Xt}=Oe;if(rt={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:Je,maxFrameRate:on}}},mn&&Kt){const Tn=rt.video.mandatory,tn=mn/Kt,Fn=G;Tn.maxWidth=mn<Fn?mn:Fn,Tn.maxHeight=Kt<Fn?Kt:Fn;const jn=navigator.mediaDevices.getSupportedConstraints();(0,rn.A)(jn,"aspectRatio")&&!!jn.aspectRatio&&(0,ln.A)(tn)&&(Tn.minAspectRatio=tn,Tn.maxAspectRatio=tn),this.log.info(`Starting screen share with resolution constraints: ${Tn.maxWidth} x ${Tn.maxHeight} | resolution provided: ${mn} x ${Kt}`)}else this.log.info("Starting application window share without proposed resolution");const En=await navigator.mediaDevices.getUserMedia(rt).catch(Dt);(En==null?void 0:En.getVideoTracks().length)>0?(this.log.debug(`Applying content hint to content share stream. Content Hint ${We}`),En.getVideoTracks()[0].contentHint=We):this.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const Tn=En.getVideoTracks()[0].getSettings(),tn=(0,ht.MS)(Tn==null?void 0:Tn.deviceId);D.A.publish({type:k.lx.ScreenshareContentType,update:{screenshareContentType:tn}}),this.log.info(`Created video track with resolution: ${Tn.width} x ${Tn.height} framerate: ${Tn.frameRate} aspect ratio: ${Tn.aspectRatio}`),Xt&&this.log.info(`Sharing from selected display: ${Xt}`)},500),await this.audioVideoFacade.startContentShare(En),setTimeout(()=>this.applyContentShareConstraints(En),De),Be==null||Be.update({name:v.p.SCREENSHARE,type:v.G.START})}else{this.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const Kt=await this.audioVideoFacade.startContentShareFromScreenCapture(Je).catch(Dt);if(Be==null||Be.update({name:v.p.SCREENSHARE,type:v.G.START}),setTimeout(()=>this.applyContentShareConstraints(Kt),De),(Kt==null?void 0:Kt.getVideoTracks().length)>0){this.log.debug(`Applying content hint to content share stream. Content Hint ${We}`),Kt.getVideoTracks()[0].contentHint=We;const mn=Kt.getVideoTracks()[0].getSettings(),Xt=(0,ht.MS)(mn==null?void 0:mn.deviceId);D.A.publish({type:k.lx.ScreenshareContentType,update:{screenshareContentType:Xt}})}else this.log.warn("No video tracks where available when starting unconstrained content share")}}catch(Dt){const Kt=h(()=>{delete this.waitForStart,this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped()},"exitScreenshare");if(Dt.name==="NotAllowedError"){Kt(),Dt.message==="Permission denied by system"&&this.observer.onCheckSystemMediaAccess(r.mT.SCREEN);return}if(Dt.name==="OverconstrainedError"){Kt(),rt&&this.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(rt)}`);return}if(["TypeError","AbortError","Error"].includes(Dt.name)){Kt(),this.observer.onScreenShareError(r.lD.ERROR);return}if(Dt.name==="NotReadableError"){Kt(),this.observer.onScreenShareError(r.lD.NOT_READABLE_ERROR);return}throw Dt.name==="NotFoundError"&&(Kt(),this.observer.onScreenShareError(r.lD.NOT_FOUND_ERROR)),this.log.error(`Encountered an uncaught error attempting to start screen share: ${Dt.name} ${Dt.message}`),this.waitForStart.resolve(!1),Kt(),Dt}this.lastEnableTimeMs=Date.now(),this.isScreenshareEnabled=se}else this.isScreenshareEnabled&&await this.stopContentShare()}async applyContentShareConstraints(se){if(!this.isExperimentalSDK)return;const Ce=se.getVideoTracks()[0];if(!Ce){this.log.info("Constraints not re-applied no video track available");return}Ce.getSettings()||this.log.info("Constraints not re-applied no video track settings available");const Be={width:{ideal:G},height:{ideal:G},frameRate:{ideal:on}};await Ce.applyConstraints(Be),this.log.info("Constraints re-applied to content share (resolution overwrite applied)")}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}async stopContentShare(){let se=!1;if(this.waitForStart.isPending()?Date.now()-this.lastEnableTimeMs>1e4?(se=!0,this.log.info(`Stop screen share, force: ${Date.now()-this.lastEnableTimeMs} ms since start`)):(this.log.info("Stop screen share, waiting for content share start to resolve"),se=await this.waitForStart,this.log.info(`Stop screen share, wait for content share start resolve finished: ${se}`)):(se=this.waitForStart.value(),this.log.info(`Stop screen share, promise resolved: ${se}`)),se){this.audioVideoFacade.stopContentShare(),this.isScreenshareEnabled=!1;const{huddleEventsTrace:Ce}=(0,E.A)().getAllTraceHandlers();Ce==null||Ce.update({name:v.p.SCREENSHARE,type:v.G.STOP}),D.A.publish({type:k.lx.ScreenshareContentType,update:null})}else this.log.warn("Screen share disable ignored as screen share was not started successfully");return se}constructor(se,Ce,Oe,Be){this.audioVideoFacade=se,this.observer=Ce,this.huddlesJukeboxEnabled=Oe,this.isExperimentalSDK=Be,this.log=(0,c.tZ)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=I(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),Nt=h(class{addObserver(se){var Ce,Oe;(Ce=this.videoDownlinkPolicy)===null||Ce===void 0||(Oe=Ce.addObserver)===null||Oe===void 0||Oe.call(Ce,se)}removeObserver(se){var Ce,Oe;(Ce=this.videoDownlinkPolicy)===null||Ce===void 0||(Oe=Ce.removeObserver)===null||Oe===void 0||Oe.call(Ce,se)}remoteVideoSourcesDidChange(se){this.videoSources=se,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const se=[];this.videoSources.forEach(Ce=>{var Oe;const Be=(Oe=Ce.attendee)===null||Oe===void 0?void 0:Oe.attendeeId;Be===this.selfAttendeeId||!Be||(Be.includes("#content")||!this.isAudioOnlyMode)&&se.push(Ce)}),this.sendChimeVideoPreferences(se)}constructor({selfAttendeeId:se,videoDownlinkPolicy:Ce}){this.logger=new H.k("Huddles Video Downlink Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=Oe=>{this.isAudioOnlyMode=Oe,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=Oe=>{var Be;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(Oe)}`)}catch{}(Be=this.videoDownlinkPolicy)===null||Be===void 0||Be.chooseRemoteVideoSources(Oe)},this.videoDownlinkPolicy=Ce,this.selfAttendeeId=se}},"VideoDownlinkManager");const sn=null;var en=e(2691514942),_n=e(2240330919);const Dn=30,On=720;class In{get videoParticipantCount(){const se=this.audioVideoFacade.hasStartedLocalVideoTile()?1:0;return(this.remoteVideoParticipantCount||0)+se}constructor(se,Ce){var Oe=this;this.observer=se,this.audioVideoFacade=Ce,this.logger=(0,en.Wo)({label:"VIDEO-UPLINK"}),this.remoteVideoParticipantCount=0,this.maxIdealBitrate=1200,this.minimumBitrate=240,this.useMinimumBitrate=!1,this.currentBitrate=this.maxIdealBitrate,this.isActiveSpeaker=!1,this.bitrateUpdateDelayMs=5e3,this.remoteVideoSourcesDidChange=Be=>{this.logger.info("remote video sources changed",Be),this.remoteVideoParticipantCount=Be.length,this.updateVideoQualitySettings()},this.reportActiveSpeakerChange=Be=>{this.logger.debug(`user is active speaker: ${Be}`);const Je=this.isActiveSpeaker;this.isActiveSpeaker=Be,Je===this.isActiveSpeaker?this.logger.debug(`Active speaker status unchanged ${this.isActiveSpeaker}.`):(this.logger.info(`Active speaker status changed to ${this.isActiveSpeaker}. Updating video quality settings.`),this.updateVideoQualitySettings())},this.updateVideoQualitySettings=()=>{const Be=this.maxIdealBitrate;if(!this.videoParticipantCount){this.logger.debug("Video not active in Huddle. Returning.");return}const Je=this.currentBitrate;if(this.useMinimumBitrate?this.currentBitrate=this.minimumBitrate:this.isActiveSpeaker?this.currentBitrate=Be:this.remoteVideoParticipantCount<=2?this.currentBitrate=Be:this.remoteVideoParticipantCount<=4?this.currentBitrate=Be*2/3:this.currentBitrate=Be*2/this.remoteVideoParticipantCount,this.currentBitrate=(0,_n.A)([this.currentBitrate,this.minimumBitrate])||Je,Je===this.currentBitrate){this.logger.info(`Target video bitrate unchanged (${this.currentBitrate} kbps). Not updating max bitrate`);return}const rt=Je>this.currentBitrate;this.applyNextVideoSettings(rt)},this.shouldRestrictVideoQuality=Be=>{this.logger.info(`should restrict video quality due to connection quality: ${Be}`),this.useMinimumBitrate=Be,this.updateVideoQualitySettings()},this.applyBitrate=()=>{var Be;!this.currentBitrate||!(!((Be=this.audioVideoFacade)===null||Be===void 0)&&Be.setVideoMaxBandwidthKbps)||(this.logger.info(`applying new video max bitrate to local video stream ${this.currentBitrate}`),this.audioVideoFacade.setVideoMaxBandwidthKbps(Math.trunc(this.currentBitrate)))},this.applyBitrateDelayed=(0,m.A)(this.applyBitrate,this.bitrateUpdateDelayMs,{leading:!1}),this.applyNextVideoSettings=function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?Oe.applyBitrateDelayed():Oe.applyBitrate()},this.logger.info("Initializing video uplink manager"),this.audioVideoFacade.chooseVideoInputQuality(On,On,Dn),this.observer.onMaxTileSizeUpdated(On),this.applyNextVideoSettings()}}h(In,"VideoUplinkManager");var bn=e(7424997984),Hn=e(3398586081),vn=e(8168760232);let Sn=h(class{initialize(se,Ce){this.gainNode=Ce,this.audioContext=se}onAudioLevelUpdated(se){isNaN(se.value)||se.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const se=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(se,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var se;this.gainNode&&this.audioContext&&((se=this.gainNode)===null||se===void 0||se.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(se){this.defaultVolume=se,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),vn.A.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const gn="HUDDLE-JUKEBOX";let Rn=h(class{async startLocalJukebox(se){let{song:Ce,volume:Oe}=se;var Be;const Je=this.getSongUrl({song:Ce});if(Je===this.localAudioUrl)return;this.callLogger.info(`Starting local jukebox song key: ${Ce.key}.`),this.audioContext||(this.audioContext=new AudioContext),this.cleanup(),this.localAudioUrl=Je;const Dt=await(await window.fetch(Je)).arrayBuffer(),Kt=await this.audioContext.decodeAudioData(Dt);this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=Kt,this.localAudio=new Audio,this.localAudio.volume=Oe,await this.localAudio.setSinkId((0,_._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(Be=this.jukeboxDucker)===null||Be===void 0||Be.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play()}async startContentShareJukebox(se){let{song:Ce}=se;var Oe,Be;this.audioContext||(this.audioContext=new AudioContext),this.audioDestination||(this.audioDestination=this.audioContext.createMediaStreamDestination()),this.callLogger.info(`Starting jukebox song key: ${Ce.key}`),this.cleanup();const Je=this.getSongUrl({song:Ce}),Dt=await(await window.fetch(Je)).arrayBuffer(),Kt=await this.audioContext.decodeAudioData(Dt);return this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=Kt,this.localAudio=new Audio,await this.localAudio.setSinkId((0,_._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(Oe=this.jukeboxDucker)===null||Oe===void 0||Oe.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.audioDestination),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play(),(Be=this.audioDestination)===null||Be===void 0?void 0:Be.stream}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var se,Ce,Oe,Be;(se=this.audioBufferSourceNode)===null||se===void 0||se.stop(),this.audioBufferSourceNode=void 0,(Ce=this.localAudio)===null||Ce===void 0||Ce.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(Oe=this.gainNode)===null||Oe===void 0||Oe.disconnect(),this.gainNode=void 0,(Be=this.audioDestination)===null||Be===void 0||Be.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var se;return(se=this.localAudio)===null||se===void 0?void 0:se.volume}getSongUrl(se){let{song:Ce}=se;return Ce.url}constructor(){this.defaultVolume=.3,this.callLogger=(0,c.Jt)(gn),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new Sn(this.defaultVolume)}},"JukeboxManager");const Yn=(0,Hn.A)(()=>new Rn);var Jn=e(28946295);const $n=new Jn.ConnectionHealthPolicyConfiguration,_s={connectionWaitTimeMs:15*1e3,connectionUnhealthyThreshold:5,sendingAudioFailureSamplesToConsider:3,sendingAudioFailureInitialWaitTimeMs:15*1e3,missedPongsLowerThreshold:1,missedPongsUpperThreshold:3,consecutiveVideoEncodingFailureThreshold:5},fs=h(class{constructor(se=!1){this.expectAv1EncoderFreeze=se,this.getConfiguration=()=>{const Ce={...$n,..._s};return this.expectAv1EncoderFreeze&&(Ce.consecutiveVideoEncodingFailureThreshold=20),Ce}}},"ConnectionHealthPolicyManager");var is=e(1382151596),Vn=e(4018727704),Nn;(function(qe){qe.Control="control",qe.Vp8="vp8",qe.Vp8Svc="vp8_svc",qe.Vp9="vp9",qe.Vp9Svc="vp9_svc",qe.Av1="av1",qe.Av1Svc="av1_svc"})(Nn||(Nn={}));const xn=(0,en.Wo)({label:"HUDDLE-VIDEO-CODECS"}),Xn=h(async qe=>{let{audioVideoFacade:se,h264BaselineProfileEnabled:Ce,disableVp9:Oe}=qe;var Be,Je;const rt=[];!(0,u.gm)()&&!Oe&&rt.push(s.KK.vp9()),Ce&&rt.push(s.KK.h264BaselineProfile()),rt.push(s.KK.h264()),xn.info(`Setting preferred camera video codec to ${(Be=rt[0])===null||Be===void 0?void 0:Be.codecName}`),xn.debug("Setting camera video codec preferences",rt),(Je=se.setVideoCodecSendPreferences)===null||Je===void 0||Je.call(se,rt)},"setCameraVideoCodec"),Zn=h(async qe=>{let{useAv1:se,audioVideoFacade:Ce,h264BaselineProfileEnabled:Oe}=qe;var Be,Je;const rt=[];se&&rt.push(s.KK.av1()),Oe&&rt.push(s.KK.h264BaselineProfile()),rt.push(s.KK.h264()),xn.info(`Setting preferred content share video codec to ${(Be=rt[0])===null||Be===void 0?void 0:Be.codecName}`),xn.debug("Setting content share video codec preferences",rt),(Je=Ce.setContentShareVideoCodecPreferences)===null||Je===void 0||Je.call(Ce,rt)},"setScreenshareVideoCodec");var vs=e(3677587543),cs;(function(qe){qe.CONNECTION_STATE_CHANGE="connectionstatechange",qe.ICE_CONNECTION_STATE_CHANGE="iceconnectionstatechange"})(cs||(cs={}));var Ft;(function(qe){qe.CLOSE="close",qe.ERROR="error"})(Ft||(Ft={}));var Ze;(function(qe){qe.DISCONNECTED="disconnected",qe.FAILED="failed",qe.CONNECTED="connected",qe.CLOSED="closed"})(Ze||(Ze={}));const st=5*1e3,vt=1*1e3;let At=null;class Tt{constructor(se){var Ce=this;this.observer=se,this.callLogger=(0,c.Jt)("DISCONNECT-OBSERVER"),this.genericLogger=(0,en.Wo)({label:"DISCONNECT-OBSERVER"}),this.peerConnection=null,this.webSocket=null,this.shouldIgnoreDisconnectEvents=!1,this.ignoreDisconnectTimeout=null,this.getPeerConnectionRef=Oe=>{var Be,Je;const rt=(Be=Oe)===null||Be===void 0||(Je=Be.audioVideoController)===null||Je===void 0?void 0:Je.meetingSessionContext;return rt==null?void 0:rt.peer},this.getWebSocketRef=Oe=>{var Be,Je,rt,Dt;const Kt=(Be=Oe)===null||Be===void 0||(Je=Be.audioVideoController)===null||Je===void 0?void 0:Je.meetingSessionContext;return Kt==null||(rt=Kt.signalingClient)===null||rt===void 0||(Dt=rt.webSocket)===null||Dt===void 0?void 0:Dt.connection},this.onConnectionUpdate=function(Oe){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&(Ce.brieflyIgnoreDisconnectEvents(),Ce.genericLogger.debug("Connection restored. Ignoring disconnection events for 5 seconds."));try{Ce.resetConnectionRefs(Oe),Ce.registerAllEventHandlers(),Ce.genericLogger.debug("Reconnected and monitoring for future disconnections.")}catch(Je){Ce.callLogger.error("Error updating connection references on reconnection:",Je)}},this.brieflyIgnoreDisconnectEvents=()=>{this.shouldIgnoreDisconnectEvents=!0,this.ignoreDisconnectTimeout&&clearTimeout(this.ignoreDisconnectTimeout),this.ignoreDisconnectTimeout=setTimeout(()=>{this.shouldIgnoreDisconnectEvents=!1,this.genericLogger.debug("Reconnection delay over. Now responding to disconnection events.")},st)},this.resetConnectionRefs=Oe=>{this.unregisterAllEventHandlers(),this.peerConnection=this.getPeerConnectionRef(Oe)||null,this.webSocket=this.getWebSocketRef(Oe)||null,this.webSocket?this.genericLogger.debug("WebSocket reference obtained successfully."):this.callLogger.error("WebSocket reference not available.")},this.broadcastDisconnection=(0,m.A)(()=>{var Oe;if(this.shouldIgnoreDisconnectEvents){this.genericLogger.debug("Disconnection event ignored due to recent reconnection.");return}this.genericLogger.info("Disconnection detected. Informing the user."),(Oe=this.observer)===null||Oe===void 0||Oe.onSelfDisconnected()},vt,{leading:!0,trailing:!1}),this.broadcastReconnection=()=>{var Oe;this.genericLogger.info("Peer connection successfully established. Informing the user."),(Oe=this.observer)===null||Oe===void 0||Oe.onSelfConnected()},this.onHuddleEnd=()=>{this.genericLogger.debug("Huddle ended. Cleaning up event handlers and connection references.");try{this.broadcastDisconnection.cancel(),this.ignoreDisconnectTimeout&&(clearTimeout(this.ignoreDisconnectTimeout),this.ignoreDisconnectTimeout=null),this.unregisterAllEventHandlers()}catch(Oe){this.callLogger.error(`Error during Huddle end cleanup: ${Oe}`)}this.webSocket=null,this.peerConnection=null,At=null},this.testNetworkDrop=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ws:!0,pc:!0};if(Ce.genericLogger.info("Simulating network drop by closing WebSocket and PeerConnection."),Oe.ws){var Be;(Be=Ce.webSocket)===null||Be===void 0||Be.close()}if(Oe.pc){var Je;(Je=Ce.peerConnection)===null||Je===void 0||Je.close()}},this.registerAllEventHandlers=()=>{this.genericLogger.debug("Registering event handlers for WebSocket and PeerConnection."),this.registerPeerConnectionEventHandlers(),this.registerWebSocketEventHandlers()},this.unregisterAllEventHandlers=()=>{this.genericLogger.debug("Unregistering event handlers for WebSocket and PeerConnection."),this.unregisterPeerConnectionEventHandlers(),this.unregisterWebSocketEventHandlers()},this.registerPeerConnectionEventHandlers=()=>{var Oe,Be;(Oe=this.peerConnection)===null||Oe===void 0||Oe.addEventListener(cs.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Be=this.peerConnection)===null||Be===void 0||Be.addEventListener(cs.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.registerWebSocketEventHandlers=()=>{var Oe,Be;(Oe=this.webSocket)===null||Oe===void 0||Oe.addEventListener(Ft.CLOSE,this.handleWebSocketClose),(Be=this.webSocket)===null||Be===void 0||Be.addEventListener(Ft.ERROR,this.handleWebSocketError)},this.unregisterPeerConnectionEventHandlers=()=>{var Oe,Be;(Oe=this.peerConnection)===null||Oe===void 0||Oe.removeEventListener(cs.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Be=this.peerConnection)===null||Be===void 0||Be.removeEventListener(cs.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.unregisterWebSocketEventHandlers=()=>{var Oe,Be;(Oe=this.webSocket)===null||Oe===void 0||Oe.removeEventListener(Ft.CLOSE,this.handleWebSocketClose),(Be=this.webSocket)===null||Be===void 0||Be.removeEventListener(Ft.ERROR,this.handleWebSocketError)},this.handleIceConnectionStateChange=()=>{var Oe,Be;if(((Oe=this.peerConnection)===null||Oe===void 0?void 0:Oe.iceConnectionState)===Ze.DISCONNECTED||((Be=this.peerConnection)===null||Be===void 0?void 0:Be.iceConnectionState)===Ze.FAILED)this.logDisconnectionWarning("ICE connection state is either disconnected or failed."),this.broadcastDisconnection();else{var Je;this.callLogger.info(`ICE connection state changed to: ${(Je=this.peerConnection)===null||Je===void 0?void 0:Je.iceConnectionState}.`)}},this.handlePeerConnectionStateChange=()=>{var Oe,Be,Je;if(((Oe=this.peerConnection)===null||Oe===void 0?void 0:Oe.connectionState)===Ze.DISCONNECTED||((Be=this.peerConnection)===null||Be===void 0?void 0:Be.connectionState)===Ze.FAILED)this.logDisconnectionWarning("Peer connection has either disconnected or failed."),this.broadcastDisconnection();else if(((Je=this.peerConnection)===null||Je===void 0?void 0:Je.connectionState)===Ze.CONNECTED)this.callLogger.info("Peer connection established."),this.broadcastReconnection();else{var rt;this.callLogger.info(`peer connection state changed: ${(rt=this.peerConnection)===null||rt===void 0?void 0:rt.connectionState}`)}},this.handleWebSocketClose=Oe=>{this.logDisconnectionWarning(`WebSocket connection closed unexpectedly (Code: ${Oe.code}, Reason: ${Oe.reason||"None provided"}).`),this.broadcastDisconnection()},this.handleWebSocketError=Oe=>{this.callLogger.error(`WebSocket encountered an error: ${Oe}.`)},this.logDisconnectionWarning=Oe=>{this.callLogger.warn(`ALERT! ${Oe} This may result in temporary audio/video disruption. Possible causes include network instability, network congestion, and security software (like VPNs, firewalls, or proxies) blocking or dropping the connection. If the issue persists, users should check their network or security settings and contact their IT team if necessary.`)},this.callLogger.info("Disconnection observer initialized. Monitoring for disconnections..."),At=h(Oe=>this.testNetworkDrop(Oe),"testNetworkDropFn")}}h(Tt,"HuddleDisconnectObserver");const Vt=null;(0,vs.ul)("huddleDisconnectObserver",{dropNetwork:()=>At==null?void 0:At(),dropWebsocket:()=>At==null?void 0:At({ws:!0,pc:!1}),dropPeerConnection:()=>At==null?void 0:At({ws:!1,pc:!0})});class an{async initialize(se,Ce,Oe,Be,Je,rt){var Dt,Kt,mn,Xt,$t,En,Tn,tn;Je&&(this.waitForStop=Je),rt&&(this.dataChannelSubscribers=rt),this.observer.onInit(),this.options=se;const{serverConfig:Fn,useChimeSdkExp:jn,useSimulcast:rs,useHuddlesFilterWorker:ls}=this.options;await(0,s.ZT)(jn),this.chimeLogger=new H.k(this.loggerName),this.callLogger=(0,c.Jt)(this.loggerName),(Dt=this.callLogger)===null||Dt===void 0||Dt.info(`user agent: ${navigator.userAgent}`);const ns=(0,n.HF)();(Kt=this.callLogger)===null||Kt===void 0||Kt.info(`Version TS: ${ns}`);const as=(document==null||(mn=document.documentElement)===null||mn===void 0||(Xt=mn.dataset)===null||Xt===void 0?void 0:Xt.versionHash)||"unknown";($t=this.callLogger)===null||$t===void 0||$t.info(`Version Hash: ${as}`),(En=this.callLogger)===null||En===void 0||En.info(`Chime SDK Version: ${s.zF.sdkVersion}${jn?" (Experimental)":""}`),this.meeting=Fn.meeting,this.attendee=Fn.attendee,this.selfAttendeeId=this.attendee.AttendeeId;const Ss=(0,a.Y)(Fn.attendee.ExternalUserId);try{var Us;const ft=JSON.stringify((0,t.A)(se,"serverConfig"),null,2);(Us=this.callLogger)===null||Us===void 0||Us.debug(`Huddle SDK [${Ss}] initialized with options: ${ft}`)}catch(ft){var ys;(ys=this.callLogger)===null||ys===void 0||ys.error("Error stringifying options",ft)}if(this.transportProtocols=Fn.transportProtocols,this.isPrejoin=this.options.isPrejoin,this.meetingSessionConfiguration=new s.QJ(this.meeting,this.attendee),rs&&this.meetingSessionConfiguration){var Ts;(Ts=this.callLogger)===null||Ts===void 0||Ts.info("Simulcast enabled"),this.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if(this.options.usePriorityDownlinkPolicy&&(this.videoDownlinkPolicy=new s.gi(this.selfAttendeeId),this.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=this.videoDownlinkPolicy,this.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,this.videoDownlinkManager=new Nt({selfAttendeeId:this.selfAttendeeId,videoDownlinkPolicy:this.videoDownlinkPolicy})),this.meetingSessionConfiguration.urls&&(this.meetingSessionConfiguration.urls.urlRewriter=this.urlRewriter.bind(this)),this.meetingSessionConfiguration&&this.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const ft=this.options.expectAv1EncoderFreeze||!1,St=new fs(ft);Object.assign(this.meetingSessionConfiguration.connectionHealthPolicyConfiguration,St.getConfiguration())}this.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0,await this.initVoiceFocus();const Rs={audio:Ce.includes(r.mT.MICROPHONE),video:Ce.includes(r.mT.CAMERA)};s.vB.disable();let ps;const Hs=!!(!((Tn=this.voiceFocusManager)===null||Tn===void 0)&&Tn.isAvailable()),Os=this.options.disableAudioRedundancy||!1;if(jn){const ft=(0,s.Q_)(),St=(0,s.RM)();if(this.defaultDeviceController=new St(this.chimeLogger,{enableWebAudio:Hs}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Rs)),this.sessionExp=new ft(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),ps=this.sessionExp.audioVideo,Os){const bt=(0,s.Ls)();ps.setAudioProfile(new bt(null,!1)),ps.setContentAudioProfile(new bt(null,!1))}}else{const ft=(0,s.of)(),St=(0,s.zg)();if(this.defaultDeviceController=new St(this.chimeLogger,{enableWebAudio:Hs}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Rs)),this.session=new ft(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),ps=this.session.audioVideo,Os){const bt=(0,s.j3)();ps.setAudioProfile(new bt(null,!1)),ps.setContentAudioProfile(new bt(null,!1))}}if(this.options.useVideoUplinkPolicy){var Ms;(Ms=this.callLogger)===null||Ms===void 0||Ms.info("Video uplink policy enabled"),this.videoUplinkManager=new In(this.observer,ps)}await this.populateDeviceInfoCache();const Ws=this.options.useH264Baseline||!1;Xn({audioVideoFacade:ps,h264BaselineProfileEnabled:Ws,disableVp9:!!this.options.disableVp9});const Fs=this.options.useH264BaselineScreenshare||!1,Xe=this.options.useAv1Screenshare;Zn({useAv1:Xe,audioVideoFacade:ps,h264BaselineProfileEnabled:Fs});const wt={useHuddlesFilterWorker:ls,backgroundVideoFilteringSetting:l.uT.Both,useDevicesExp:this.options.useDevicesExp,useVideoUplinkPolicy:this.options.useVideoUplinkPolicy,useHuddlesSignalStartDelay:this.options.useHuddlesSignalStartDelay,useHuddlesDeviceErrorHandler:this.options.useHuddlesDeviceErrorHandler,useHuddlesSingleton:this.options.useHuddlesSingleton};this.deviceManager=new V(ps,this.audioOutputElement,this.observer,wt,Oe,this.chimeLogger,this.defaultDeviceController,this.voiceFocusManager),(tn=this.dataChannelSubscribers)===null||tn===void 0||tn.forEach(ft=>ft.onInitializeDataChannelSubscriber()),this.disconnectObserver=new Tt(this.observer),this.audioVideoObserver=new Le(this.selfAttendeeId,this.meeting.MeetingId,this.meeting.MediaRegion,Ss,ps,this.observer,this.deviceManager,this.videoDownlinkManager,this.disconnectObserver,Be,this.waitForStop,this.dataChannelSubscribers,this.videoUplinkManager);const Wt=this.options.huddlesJukeboxEnabled;if(Wt){var lt;(lt=this.callLogger)===null||lt===void 0||lt.info("Huddles Jukebox experiment enabled (prototype)")}this.contentShareManager=new it(ps,this.observer,!!Wt,jn),this.audioVideoFacadeSubscriber=new ct(this.selfAttendeeId,ps,this.observer,this.videoUplinkManager),(0,is.Ay)().initialize(),this.connect(),this.screenManager=new i.A,this.observer.onMeetingSessionInitialized(),this.setupMeetingEventObserver(),(0,P.p)().setHuddleStarted(),(0,tt._)().setHuddleStarted(),this.waitForInit.resolve()}async shutdown(se){var Ce,Oe,Be,Je,rt,Dt,Kt,mn,Xt,$t;if((Ce=this.callLogger)===null||Ce===void 0||Ce.info("Huddles SDK shutdown initiated"),(Oe=this.disconnectObserver)===null||Oe===void 0||Oe.onHuddleEnd(),delete this.disconnectObserver,await this.waitForInit,this.cleanupDataChannelSubscribers(),!((Be=this.options)===null||Be===void 0)&&Be.useHuddlesSingleton){var En;await((En=this.contentShareManager)===null||En===void 0?void 0:En.stop())}else{var Tn;(Tn=this.contentShareManager)===null||Tn===void 0||Tn.stop()}if((Je=this.audioVideoObserver)===null||Je===void 0||Je.stop(),!((rt=this.options)===null||rt===void 0)&&rt.useHuddlesSingleton&&await this.waitForStop,(0,P.p)().setHuddleEnded(),(0,tt._)().setHuddleEnded(),await((Dt=this.deviceManager)===null||Dt===void 0?void 0:Dt.shutdown()),Vn.F.doesInstanceExist()){var tn;(tn=Vn.F.getInstance())===null||tn===void 0||tn.release()}(Kt=this.audioVideoFacadeSubscriber)===null||Kt===void 0||Kt.destroy(),!((mn=this.options)===null||mn===void 0)&&mn.useHuddlesSingleton||await this.waitForStop,delete this.session,delete this.sessionExp,delete this.meetingSessionConfiguration,await this.cleanupDefaultDeviceControllerRefs(),(Xt=this.callLogger)===null||Xt===void 0||Xt.info("Huddles SDK shutdown completed"),this.videoDownlinkManager&&this.videoDownlinkManager.removeObserver(this.audioVideoObserver),this.voiceFocusManager&&await this.voiceFocusManager.tearDown(),!(($t=this.screenManager)===null||$t===void 0)&&$t.getCurrentlyActiveScreenTrack()&&this.screenManager.stopCapturingScreen(),delete this.chimeLogger,delete this.callLogger,delete this.deviceManager,delete this.audioVideoFacadeSubscriber,delete this.audioVideoObserver,delete this.contentShareManager,delete this.screenManager,delete this.voiceFocusManager,delete this.videoDownlinkManager,delete this.videoDownlinkPolicy,delete this.videoUplinkManager,se&&se()}selfMicrophoneEnabled(se){var Ce;(Ce=this.deviceManager)===null||Ce===void 0||Ce.setMicrophone(se)}selfVideoEnabled(se,Ce,Oe,Be){var Je,rt;(Je=this.deviceManager)===null||Je===void 0||Je.setCamera(se),(rt=this.contentShareManager)===null||rt===void 0||rt.setScreenshare(Ce,Oe,Be)}async startContentShareJukebox(se){let{song:Ce}=se;var Oe;const Be=await Yn().startContentShareJukebox({song:Ce});Be&&((Oe=this.contentShareManager)===null||Oe===void 0||Oe.setSongStream(Be))}async selfStopJukebox(){var se;Yn().stopJukebox(),(se=this.contentShareManager)===null||se===void 0||se.stopMusic({cleanObserver:!1})}setCameraQuality(se,Ce,Oe,Be){var Je;if(!(!((Je=this.options)===null||Je===void 0)&&Je.useVideoUplinkPolicy)){var rt;(rt=this.deviceManager)===null||rt===void 0||rt.setCameraQuality(se,Ce,Oe,Be)}}setAGC(se){var Ce;(Ce=this.deviceManager)===null||Ce===void 0||Ce.setAGC(se)}setNewPreferredDevice(se,Ce){var Oe;(Oe=this.deviceManager)===null||Oe===void 0||Oe.setPreferredDevice(se,Ce)}setNoiseSuppression(se){var Ce;(Ce=this.deviceManager)===null||Ce===void 0||Ce.setNoiseSuppression(se)}setVideoBackgroundEffect(se){var Ce;(Ce=this.deviceManager)===null||Ce===void 0||Ce.setVideoBackgroundEffect(se)}requestPreviewStreamForDeviceId(se,Ce,Oe){var Be;(Be=this.deviceManager)===null||Be===void 0||Be.requestPreviewStreamForDeviceId(se,Ce,Oe)}stopVideoPreviewForVideoInput(se){var Ce;(Ce=this.deviceManager)===null||Ce===void 0||Ce.stopVideoPreviewForVideoInput(se)}async getScreenThumbnails(se){var Ce;return await((Ce=this.screenManager)===null||Ce===void 0?void 0:Ce.getScreenThumbnails(se==null?void 0:se.thumbnailDimensions,se==null?void 0:se.isRefetch))}selfDrawEnabled(se){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.selfDrawEnabled(se)}sendReacji(se,Ce,Oe){var Be;(Be=this.audioVideoFacadeSubscriber)===null||Be===void 0||Be.sendReacji(se,Ce,Oe)}sendBackground(se){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.sendBackground(se)}sendMuteRequest(se){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.sendMuteRequest(se)}sendJukeboxRequest(se){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.sendJukeboxRequest(se)}sendJukeboxStopRequest(){var se;(se=this.audioVideoFacadeSubscriber)===null||se===void 0||se.sendJukeboxStopRequest()}sendDrawMessage(se){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.sendDrawMessage(se)}sendContentShareDetails(se){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.sendContentShareDetails(se)}sendRecordingStartNotification(){var se;(se=this.audioVideoFacadeSubscriber)===null||se===void 0||se.sendRecordingStartNotification()}maybeBindAudioOutputElement(){var se;(se=this.deviceManager)===null||se===void 0||se.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(se){var Ce;return(Ce=this.deviceManager)===null||Ce===void 0?void 0:Ce.maybeCheckSystemMediaAccess(se)}setIncludeSelfAndNoneActiveSpeaker(se,Ce){var Oe;(Oe=this.audioVideoFacadeSubscriber)===null||Oe===void 0||Oe.setIncludeSelfAndNoneActiveSpeaker(se,Ce)}bindVideo(se,Ce,Oe){var Be;const Je=this.session||this.sessionExp;if(!Je)return;const rt=(Be=Je.audioVideo.getVideoTile(se))===null||Be===void 0?void 0:Be.state();Oe?rt!=null&&rt.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(rt.boundVideoStream,Ce,!1):(this.videoDownlinkPolicy&&(rt!=null&&rt.paused)&&Je.audioVideo.unpauseVideoTile(se),Je.audioVideo.bindVideoElement(se,Ce))}unbindVideo(se,Ce,Oe){const Be=this.session||this.sessionExp;Be&&(Oe?s.xc.disconnectVideoStreamFromVideoElement(Ce,!0):Be.audioVideo.getVideoTile(se)&&Be.audioVideo.unbindVideoElement(se))}pauseVideo(se){const Ce=this.session||this.sessionExp;if(!Ce)return;const Oe=Ce.audioVideo.getVideoTile(se),Be=Oe==null?void 0:Oe.state();!(Be!=null&&Be.isContent)&&(Be!=null&&Be.active)&&(Oe==null||Oe.pause())}unpauseVideo(se){const Ce=this.session||this.sessionExp;if(!Ce)return;const Oe=Ce.audioVideo.getVideoTile(se),Be=Oe==null?void 0:Oe.state();Be!=null&&Be.paused&&(Oe==null||Oe.unpause())}videoTileHasStream(se){const Ce=this.session||this.sessionExp;if(!Ce)return!1;const Oe=Ce.audioVideo.getVideoTile(se);if(!Oe)return!1;const Be=Oe.state();return Be?!!Be.boundVideoStream:!1}getMeetingMediaRegion(){var se;return(se=this.meeting)===null||se===void 0?void 0:se.MediaRegion}async completePrejoin(se){const{isStartMuted:Ce}=se;if(this.isPrejoin){var Oe,Be;return Ce&&((Oe=this.deviceManager)===null||Oe===void 0||Oe.setStartMutedBarrier(Ce)),(Be=this.audioVideoObserver)===null||Be===void 0||Be.start(),this.maybeBindAudioOutputElement(),this.setIncludeSelfAndNoneActiveSpeaker(!0,!0),this.isPrejoin=!1,!0}return!1}urlRewriter(se){if(!se)return se;if(this.transportProtocols){const Je=this.transportProtocols;if(se.includes("?transport=udp")&&!Je.includes("udp")){var Ce;return(Ce=this.callLogger)===null||Ce===void 0||Ce.info("Dropping UDP transport"),""}if(se.includes("?transport=tcp")){if(se.includes("turns:")){if(!Je.includes("tls")){var Oe;return(Oe=this.callLogger)===null||Oe===void 0||Oe.info("Dropping TLS transport"),""}}else if(!Je.includes("tcp")){var Be;return(Be=this.callLogger)===null||Be===void 0||Be.info("Dropping TCP transport"),""}}}return se.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var se;const Ce=h(async()=>{try{var Oe;this.videoDevicePermissionStatus="IN_PROGRESS";const Je=await navigator.mediaDevices.getUserMedia({video:!0});return(Oe=this.callLogger)===null||Oe===void 0||Oe.info("Video device permissions granted"),this.videoDevicePermissionStatus="GRANTED",Je}catch(Je){var Be;throw this.videoDevicePermissionStatus="DENIED",this.observer.onSetNoMediaInput(r.mT.CAMERA),(Be=this.callLogger)===null||Be===void 0||Be.info("Video device permissions denied"),Je}},"callback");(se=this.defaultDeviceController)===null||se===void 0||se.setDeviceLabelTrigger(Ce)}async maybeEnableSelfCamera(){let{isScreenshareEnabled:se}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(await this.initVideoPermission()&&(this.videoDevicePermissionStatus==="INITIAL"||this.videoDevicePermissionStatus==="GRANTED")){var Oe;this.selfVideoEnabled(!0,!!se),this.observer.onPeerCameraActive("self",!0),(Oe=this.callLogger)===null||Oe===void 0||Oe.info("maybeEnableSelfCamera:: enabling camera function executed")}}async initVideoPermission(){var se;return this.setupVideoDeviceLabelTrigger(),await((se=this.deviceManager)===null||se===void 0?void 0:se.initVideoInputDevices())}getSelfAttendeeId(){return this.selfAttendeeId}getAttributesString(se){try{return JSON.stringify(se)}catch(Oe){var Ce;return(Ce=this.callLogger)===null||Ce===void 0||Ce.warn("Failed to stringify attributes",Oe),"[Unable to stringify attributes]"}}setupMeetingEventObserver(){var se;!((se=this.defaultDeviceController)===null||se===void 0)&&se.eventController&&(this.meetingEventObserver={eventDidReceive:(Ce,Oe)=>{var Be;(Be=this.callLogger)===null||Be===void 0||Be.info(`Received meeting event: ${Ce}`);const Je=this.getAttributesString(Oe),rt=(0,E.A)(),{huddleMeetingEventsTrace:Dt}=rt.getAllTraceHandlers();Dt==null||Dt.recordMeetingEvent(Ce);const Kt=h((ls,ns)=>{Dt==null||Dt.recordMeetingEvent(ls);const as=["NotAllowedError","NotReadableError","NotFoundError","AbortError","OverconstrainedError"];for(const Ss of as)if(ls.includes(Ss)){Dt==null||Dt.recordInputErrorEvent(Ss,ns);break}},"processInputError");switch(Ce){case"audioInputFailed":var mn;(mn=this.callLogger)===null||mn===void 0||mn.error(`Failed to choose microphone: ${Oe.audioInputErrorMessage} ${Je}`),Oe.audioInputErrorMessage&&Kt(Oe.audioInputErrorMessage,"audio");break;case"videoInputFailed":var Xt;(Xt=this.callLogger)===null||Xt===void 0||Xt.error(`Failed to choose camera: ${Oe.videoInputErrorMessage} ${Je}`),Oe.videoInputErrorMessage&&Kt(Oe.videoInputErrorMessage,"video");break;case"meetingStartFailed":var $t;($t=this.callLogger)===null||$t===void 0||$t.error(`Failed to start a meeting: ${Oe.meetingErrorMessage} ${Je}`);break;case"meetingFailed":var En;(En=this.callLogger)===null||En===void 0||En.error(`Failed during a meeting: ${Oe.meetingErrorMessage} ${Je}`);break;case"deviceLabelTriggerFailed":var Tn;(Tn=this.callLogger)===null||Tn===void 0||Tn.error(`Device label trigger failed ${Je}`);break;case"signalingDropped":var tn;(tn=this.callLogger)===null||tn===void 0||tn.error(`Signaling connection dropped ${Je}`);break;case"receivingAudioDropped":var Fn;(Fn=this.callLogger)===null||Fn===void 0||Fn.warn(`Receiving audio packets dropped significantly ${Je}`);break;case"sendingAudioFailed":var jn;(jn=this.callLogger)===null||jn===void 0||jn.error(`Sending audio failed ${Je}`);break;default:var rs;(rs=this.callLogger)===null||rs===void 0||rs.info(`Meeting event: ${Ce} ${Je}`);break}}},this.defaultDeviceController.eventController.addObserver(this.meetingEventObserver))}constructor(se,Ce,Oe="FREE-WILLY-SDK"){this.observer=se,this.audioOutputElement=Ce,this.loggerName=Oe,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=(0,o.u)(),this.waitForStop=(0,o.u)(),this.initVoiceFocus=async()=>{let Be=0;const Je=Date.now();this.voiceFocusManager=new bn.A(this.chimeLogger),await this.voiceFocusManager.init({configOnly:!1}),Be=Date.now()-Je,this.observer.onMaybeVoiceFocusInitialized(Be)},this.populateDeviceInfoCache=async()=>{var Be,Je,rt,Dt;const Kt=Date.now(),mn=await((Be=this.defaultDeviceController)===null||Be===void 0?void 0:Be.listAudioInputDevices()),Xt=await((Je=this.defaultDeviceController)===null||Je===void 0?void 0:Je.listAudioOutputDevices()),$t=await((rt=this.defaultDeviceController)===null||rt===void 0?void 0:rt.listVideoInputDevices()),En=F.Ay.canAccessMediaResource(r.mT.MICROPHONE).status===l.eJ.Granted&&!(mn!=null&&mn.length),Tn=F.Ay.canAccessMediaResource(r.mT.CAMERA).status===l.eJ.Granted&&!($t!=null&&$t.length);if(En){var tn;(tn=this.callLogger)===null||tn===void 0||tn.error("No microphone devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}if(Tn){var Fn;(Fn=this.callLogger)===null||Fn===void 0||Fn.error("No camera devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}const jn=Date.now()-Kt;(Dt=this.callLogger)===null||Dt===void 0||Dt.info(`Populated device info cache in ${jn}ms with ${mn==null?void 0:mn.length} microphones, ${Xt==null?void 0:Xt.length} speakers, and ${$t==null?void 0:$t.length} cameras`)},this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(Be=>Be.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)},this.cleanupDefaultDeviceControllerRefs=async()=>{var Be;if(!this.defaultDeviceController)return;await this.defaultDeviceController.destroy();const Je=(Be=this.defaultDeviceController)===null||Be===void 0?void 0:Be.eventController;if(Je){var rt;this.meetingEventObserver&&(Je.removeObserver(this.meetingEventObserver),this.meetingEventObserver=void 0);const Dt=(rt=Je.configuration)===null||rt===void 0?void 0:rt.urls;Dt&&(Dt.urlRewriter=void 0)}this.defaultDeviceController.deviceLabelTrigger=void 0,delete this.defaultDeviceController},this.handleClientOffline=()=>{var Be;(Be=this.audioVideoObserver)===null||Be===void 0||Be.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=Be=>{var Je;(Je=this.videoDownlinkManager)===null||Je===void 0||Je.toggleAllIncomingVideo(Be)},this.connect=async()=>{var Be,Je,rt;if((Be=this.callLogger)===null||Be===void 0||Be.info(`FreeWilly connect called isPreJoin: ${this.isPrejoin}`),(Je=this.audioVideoObserver)===null||Je===void 0||Je.startWithSignalingOnly(),await((rt=this.deviceManager)===null||rt===void 0?void 0:rt.init()),!this.isPrejoin){var Dt;if(!F.Ay.canAccessMediaResource(r.mT.MICROPHONE)){var Kt;(Kt=this.callLogger)===null||Kt===void 0||Kt.error("Missing microphone permissions. Not connecting to huddle");return}(Dt=this.audioVideoObserver)===null||Dt===void 0||Dt.start()}},this.videoDevicePermissionStatus="INITIAL"}}h(an,"FreeWillySdk")},3714956473:(B,A,e)=>{"use strict";e.d(A,{Kp:()=>a,Nb:()=>o,RN:()=>r,Sq:()=>i,ZT:()=>t,jt:()=>d,yz:()=>s});const t=10*1e3,s=1e3,o="2.6",n=null,c=25,l=15,i="huddles_perf",a="app_metrics",r="client_metrics",d=5},8542839544:(B,A,e)=>{"use strict";e.d(A,{$c:()=>P,h7:()=>b,t5:()=>p,KG:()=>N,q4:()=>O,_N:()=>g,sI:()=>x,Ap:()=>v,kq:()=>F,ik:()=>M,No:()=>k,fB:()=>U,Ye:()=>y,RI:()=>m,Fq:()=>D,oj:()=>E,qf:()=>L,Fu:()=>T,Tg:()=>C});const t=30,s=300,o=300,n=30,c=10,l=30,i=1,a=100,r=15,d=h(W=>function(w){for(var K=arguments.length,j=new Array(K>1?K-1:0),Q=1;Q<K;Q++)j[Q-1]=arguments[Q];if(!(typeof w!="string"&&typeof w!="number"))return W(w,...j)},"makeDeduction"),m=d(W=>W>n?W/5:void 0),f=d(W=>W>400?W/20:void 0),u=d(W=>W>1?W:void 0),E=d(W=>W>o?W/7.5:void 0),v=d(W=>W>1?W*10:void 0),g=d(W=>W>t?W/2:void 0),T=d(W=>W>a?W/2:void 0),p=d(W=>W>l?W*1.25:void 0),O=d(W=>W>s?W/10:void 0),y=d(W=>W>l?W*1.5:void 0),C=d(W=>W>c?W*1.5:void 0),I=d(W=>W*2),M=d(W=>W&&W!=="udp"?40:void 0),_=d(W=>W&&W>500?W/100:void 0),P=d(W=>W>150?W/5:void 0),b=d(W=>W>15?W*2:void 0),S=d(W=>W>5?W:void 0),N=d(W=>W>20?W/5:void 0),L=d(W=>{const w=r-W;return w>1?w*2.5:void 0}),D=d(W=>!W||W==="none"?void 0:25),k=d(W=>W>0?W*20:void 0),x=d(W=>W>1?W*1.25:void 0),R=d(W=>W>300?W/10:void 0),U=d(W=>W&&W>l?W*1.5:void 0),F=d(W=>W>i?Math.round(W*7.5):void 0)},3725785328:(B,A,e)=>{"use strict";e.d(A,{ZR:()=>n,jm:()=>s,s2:()=>o});let t;const s=h(c=>{t||(t={}),Object.assign(t,c)},"updateJoinTimingMetrics"),o=h(()=>t,"getJoinTimingMetrics"),n=h(()=>{t=void 0},"resetJoinTimingMetrics")},1522654045:(B,A,e)=>{"use strict";e.d(A,{lx:()=>a,zu:()=>i});var t;(function(r){r.UDP="udp",r.TCP="tcp"})(t||(t={}));var s;(function(r){r.RELAY="relay",r.DIRECT="direct"})(s||(s={}));var o;(function(r){r.UPLINK="uplink",r.DOWNLINK="downlink"})(o||(o={}));var n;(function(r){r.GOOD="good",r.FAIR="fair",r.BAD="bad",r.WORST="worst"})(n||(n={}));var c;(function(r){r.GOOD="good",r.FAIR="fair",r.BAD="bad",r.WORST="worst"})(c||(c={}));var l;(function(r){r[r.UPSTREAM=0]="UPSTREAM",r[r.DOWNSTREAM=1]="DOWNSTREAM"})(l||(l={}));var i;(function(r){r[r.AUDIO=0]="AUDIO",r[r.VIDEO=1]="VIDEO"})(i||(i={}));var a;(function(r){r.RtmMetrics="rtm-metrics",r.RenderTiming="render-timing",r.BluetoothDevices="bluetooth-devices",r.MemoryLeaks="memory-leaks",r.SelectedMediaRegion="selected-media-region",r.PreferredMediaRegion="preferred-media-region",r.VoiceFocusConfig="voice-focus-config",r.NetworkDisconnect="network-disconnect",r.CallId="call-id",r.ScreenshareContentType="screenshare-content-type",r.AppMetrics="app-metrics",r.NoAudio="no-audio",r.CameraResolution="max-camera-resolution",r.SetIsDebugApp="set-is-debug-app",r.TroubleshootingContactUsClicked="troubleshooting-contact-us-clicked",r.TroubleshootingEntryPoint="troubleshooting-entry-point",r.TroubleshootingExitHealthSnapshot="troubleshooting-exit-health-snapshot"})(a||(a={}))},160509973:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(2210395577);const s=new t.G},6967745572:(B,A,e)=>{"use strict";e.d(A,{U:()=>n,p:()=>l});var t=e(5542293487),s=e(8542839544);const o=20,n=80,c=60,l=h(i=>{const{audioDownstreamQualityScore:a,networkQualityScore:r,networkType:d,networkProtocol:m,networkRelayProtocol:f,networkAvailableOutgoingBitrate:u,networkJitterMs:E,audioDownstreamJitterBufferDelay:v,networkCurrentRoundTripTimeMs:g,mediaRegionSelected:T,mediaRegionPreferred:p,cpuUse:O,cpuUseRelative:y,cpuCompetitionScore:C,gpuUse:I,batteryIsUsing:M,selectedMicrophone:_,selectedCamera:P,selectedSpeakers:b,cameraIsBlocked:S,cameraIsAvailable:N,microphoneIsBlocked:L,microphoneIsAvailable:D,isMicrophoneBluetooth:k,isSpeakerBluetooth:x,isMicrophoneAndSpeakerOnSameDevice:R,isHardwareAccelerationEnabled:U,isDisconnected:F,noAudioInput:W,osIsThrottlingCpu:w,networkPacketLossPercent:K,powerThrottlingActive:j}=i;let Q;switch(!0){case r<=0:Q=t.bz.Bad;break;case r<=n:Q=t.bz.Warn;break;default:Q=t.bz.Good}return{metrics:{stable:{mediaRegionSelected:T,mediaRegionPreferred:p,selectedMicrophone:_,selectedCamera:P,selectedSpeakers:b},unstable:{cpuCompetitionScore:C,cpuUse:O,gpuUse:I,cpuUseRelative:y,audioQualityScore:a,jitterMs:E,audioDelayMs:v,roundTripTimeMs:g,packetLossPercent:K,incomingBandwidth:u,networkQualityScore:r}},warnings:{stable:{isVpnEnabled:d==="vpn",isSuboptimalProtocol:!!(0,s.ik)(m)||!!(0,s.ik)(f),isMediaRegionSuboptimal:!!T&&!!p&&T!==p,isUsingBatteryPower:M,isMicrophoneBluetooth:k,isMicrophoneAndSpeakerOnSameDevice:R,isSpeakerBluetooth:x,isCameraProbablyIphone:/iphone/.test(P==null?void 0:P.toLowerCase()),isHardwareAccelerationDisabled:U===!1,isOSThrottlingCpu:!!w},unstable:{isCpuUsePoor:!!(0,s.$c)(O),isCpuUseRelativePoor:!!(0,s.h7)(y),isGpuUsePoor:!!(0,s.KG)(I),isJitterPoor:!!(0,s._N)(E),isRTTPoor:!!(0,s.oj)(g),isAudioDelayPoor:!!(0,s.q4)(v),isPacketLossPoor:!!(0,s.kq)(K)}},alerts:{stable:{isCameraBlocked:S||!N,isMicrophoneBlocked:L||!D,isMicrophoneNotSendingAudio:!!W,isDisconnected:F,isPowerThrottlingActive:!!j},unstable:{networkQualityHealth:Q,isNetworkQualityPoor:r<=n,isAudioQualityPoor:a<=o,isCpuCompetitionPoor:C<=c}}}},"getTroubleshootingMetricsFromTags")},3454761202:(B,A,e)=>{"use strict";e.d(A,{N5:()=>r,R1:()=>c,Y:()=>a});var t=e(2126476007),s=e(6690187588),o=e(1522654045),n=e(160509973),c;(function(d){d.HuddlesSdk="huddles-sdk",d.ChimeChannelListener="chime-channel-listener",d.ChimeChannelBroadcaster="chime-channel-broadcaster",d.VoiceFocusDevice="voice-focus-device",d.VideoTransformDevice="video-transform-device",d.VideoFrameProcessor="video-frame-processor"})(c||(c={}));const l=new Map([[c.HuddlesSdk,t.Y.create({name:c.HuddlesSdk})],[c.ChimeChannelListener,t.Y.create({name:c.ChimeChannelListener})],[c.ChimeChannelBroadcaster,t.Y.create({name:c.ChimeChannelBroadcaster})],[c.VoiceFocusDevice,t.Y.create({name:c.VoiceFocusDevice})],[c.VideoTransformDevice,t.Y.create({name:c.VideoTransformDevice})],[c.VideoFrameProcessor,t.Y.create({name:c.VideoFrameProcessor})]]),i=(0,s.Jt)("HUDDLE-LEAK-MONITOR"),a=h(d=>{let{name:m,ref:f}=d;const u=l.get(m);if(!u)return;const E=u.getMetrics();if(E){const{numberOfObjects:v,numberOfExpiredObjects:g}=E,T=v-g;g>3&&(i.warn(`Detected ${g} memory leak(s) for ${m}${T?` (with another ${T} instances in memory)`:""}`),n.A.publish({type:o.lx.MemoryLeaks,update:{name:m,leakCount:g}}))}u.watch(f)},"monitorObjectForMemoryLeaks"),r=h(()=>{for(const[,d]of l)d.expectGCAll()},"detectMemoryLeaks")},6441216756:(B,A,e)=>{"use strict";e.d(A,{A:()=>cs});var t=e(3398586081),s=e(1492910739),o=e(2691514942),n=e(292027566),c=e(2084938045),l=e(6027564436);let i=h(class{initializeHuddleReconnectTracer(){var Ze,st,vt;this.reconnectSpan=(Ze=this.trace)===null||Ze===void 0?void 0:Ze.startSpan(l.xN),this.reconnectSuccessSpan=(st=this.trace)===null||st===void 0?void 0:st.startSpan(l.xx),this.reconnectFailureSpan=(vt=this.trace)===null||vt===void 0?void 0:vt.startSpan(l.cJ)}traceReconnectAttemptOutcome(Ze){let{isSuccess:st}=Ze;var vt;st?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(vt=this.logger)===null||vt===void 0||vt.info(`Registered huddle reconnect attempt outcome - isSuccess: ${st}`)}traceReconnectAttempt(){var Ze;this.reconnectCount+=1,(Ze=this.logger)===null||Ze===void 0||Ze.info("Counted huddle reconnect attempt")}report(){var Ze,st,vt,At,Tt;(Ze=this.reconnectSpan)===null||Ze===void 0||Ze.addTags({metric_value:this.reconnectCount}).close(),(st=this.reconnectSuccessSpan)===null||st===void 0||st.addTags({metric_value:this.reconnectSuccessCount}).close(),(vt=this.reconnectFailureSpan)===null||vt===void 0||vt.addTags({metric_value:this.reconnectFailureCount}).close(),(At=this.tracer)===null||At===void 0||At.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(Tt=this.logger)===null||Tt===void 0||Tt.info("Reported reconnect attempt metric trace")}constructor({tracer:Ze,trace:st,logger:vt}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=Ze,this.trace=st,this.logger=vt,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),a=h(class{addTTIMetaTags(Ze){let{entryPoint:st,preferredMediaRegion:vt,isPrejoin:At,isCreate:Tt}=Ze;var Vt;(Vt=this.trace)===null||Vt===void 0||Vt.addTags({entry_point:st,preferred_media_region:vt,is_prejoin:At,is_create:Tt,success:!1})}createFetchCredentialsSpan(){var Ze;this.fetchCredentialsSpan=(Ze=this.trace)===null||Ze===void 0?void 0:Ze.startSpan(l.xl)}setCachedTag(Ze){let{cached:st}=Ze;var vt;(vt=this.trace)===null||vt===void 0||vt.addTags({cached:st})}closeFetchCredentialsSpan(){var Ze;(Ze=this.fetchCredentialsSpan)===null||Ze===void 0||Ze.close()}createConnectToMediaServiceSpan(){var Ze;this.connectToMediaServiceSpan=(Ze=this.trace)===null||Ze===void 0?void 0:Ze.startSpan(l.xA)}closeConnectToMediaServiceSpan(){var Ze,st,vt,At;(Ze=this.connectToMediaServiceSpan)===null||Ze===void 0||Ze.close(),(st=this.trace)===null||st===void 0||st.addTags({success:!0}),(vt=this.tracer)===null||vt===void 0||vt.reportTrace(this.trace),this.traceReported=!0,(At=this.logger)===null||At===void 0||At.info("Reported TTI metric trace")}getTTITraceId(){var Ze;return(Ze=this.trace)===null||Ze===void 0?void 0:Ze.getTraceId()}getFetchCredentialsSpanId(){var Ze;return(Ze=this.fetchCredentialsSpan)===null||Ze===void 0?void 0:Ze.getId()}setMediaRegionTag(Ze){var st,vt;const At=(st=this.trace)===null||st===void 0?void 0:st.getTags().preferred_media_region;(vt=this.trace)===null||vt===void 0||vt.addTags({media_region:Ze,media_region_matches:Ze===At})}report(){var Ze,st;if(!this.traceReported){var vt,At;(vt=this.tracer)===null||vt===void 0||vt.reportTrace(this.trace),this.traceReported=!0,(At=this.logger)===null||At===void 0||At.info("Reported TTI metric trace in final clean up")}(Ze=this.tracer)===null||Ze===void 0||Ze.clearTrace(this.trace),(st=this.logger)===null||st===void 0||st.info("Cleaned up TTI metric trace")}constructor({teamId:Ze,logger:st}){this.traceReported=!1,this.tracer=(0,n.E)({teamOrEnterpriseId:Ze}),this.trace=this.tracer.createTrace({traceName:l.bQ,samplingOptions:{sampleRate:(0,s.Cu)()?1:.05,sampleType:c.tS.SESSION}}),this.logger=st}},"HuddleTTITracer");var r=e(1522654045),d=e(3714956473),m=e(8610257504),f=e(6313685253),u=e(5797466484),E=e(2208015175),v=e(4103274853),g=e(3605769895),T=e(2048121586),p=e(6696292586),O=e(6890312250),y=e(3750057149),C=e(3078252698);const I=(0,o.Wo)({label:"HUDDLE-METRICS-CACHE"}),M=[],_=h(Ft=>{try{if(!Ft.length)return{};const Ze=Date.now(),st=(0,f.A)(Ft,(Tt,Vt)=>{if(!(0,u.A)(Vt))throw new Error(`metrics cache reports are not correctly formatted. Expected object, got ${typeof Vt}`);return(0,E.A)(Vt,(an,qe)=>{qe in Tt?Tt[qe].push(an):Tt[qe]=[an]}),Tt},{}),vt=(0,v.A)(st,Tt=>{const Vt=Tt.find(qe=>typeof qe<"u"&&qe!==null),an=h(qe=>{var se;const Ce=(0,g.A)(qe);return(se=(0,T.A)(Object.entries(Ce),Be=>{let[Je,rt]=Be;return rt}))===null||se===void 0?void 0:se[0]},"getMostCommon");return(0,p.A)(Vt)?(0,O.A)(Tt.filter(p.A)):(0,y.A)(Vt)?an(Tt)==="true":(0,C.A)(Vt)?an(Tt):Tt[0]});I.info(`Aggregating huddle metric reports took ${Date.now()-Ze}ms for reports ${Ft.length}`);const At=Object.keys(Ft[0]).filter(Tt=>!(Tt in vt));return At.length&&I.warn(`Keys missing from summary: ${At.length}`),vt}catch(Ze){return I.error("Error merging reports into summary",Ze),Ft[0]||{}}},"mergeReports"),P=h(Ft=>{M.push(Ft)},"cacheMetricsReport"),b=h(()=>{const Ft=_(M);return M.length=0,Ft},"getMetricsSummary");var S=e(1703559452),N=e(9268023148);const L=10*1e3;let D=h(class{async recordAppMetrics(Ze){const st=Date.now(),vt=st-this.lastRecordedSpanTs,At=(0,m.tT)(Ze);if(this.metricsAveragesEnabled&&P(At),this.logQualityScoreWarnings(Ze),vt<this.reportingInterval)return;this.logger.debug(`Adding new ${d.Sq}:${d.Kp} span`);const Tt=this.trace.startSpan(d.Kp),Vt=Object.keys(At).length;if(Tt.addTags(At),Tt.close(),this.logger.debug(`Added new ${d.Sq}:${d.Kp} span with ${Vt} tags`),this.getSpanCount()>d.jt){if(this.metricsAveragesEnabled){const an=b();Tt.addTags(an)}this.report()}this.lastRecordedSpanTs=st}constructor({teamId:Ze,logger:st,callLogger:vt,enableMaxReportingFrequency:At,metricsAveragesEnabled:Tt}){var Vt=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.perfDataStartTimestamp=Date.now(),this.getMetricsCollectionInterval=()=>(0,s.Cu)()||this.enableMaxReportingFrequency?d.yz:d.ZT,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:d.Sq,tags:{__dataset:d.RN},samplingOptions:{sampleType:c.tS.ALWAYS}}),this.trace),this.getSpanCount=()=>{var an;const qe=(an=this.trace)===null||an===void 0?void 0:an.getSpans();return qe?Object.keys(qe).length:0},this.maybeRecordLeftEarly=an=>{if(!an)return;const qe=30;if(Date.now()-this.perfDataStartTimestamp<qe*1e3){var se;this.callLogger.warn(`Leaving huddle less than ${qe} seconds after joining.`),(se=this.trace)===null||se===void 0||se.addTags({left_early:!0})}},this.report=function(){let an=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(an&&(Vt.callLogger.debug(`Huddle ${Vt.callId} is ending. Reporting ${Vt.getSpanCount()} remaining spans`),Vt.maybeRecordLeftEarly(an)),!Vt.traceReported&&Vt.getSpanCount()>0){var qe,se;(qe=Vt.tracer)===null||qe===void 0||qe.reportTrace(Vt.trace),(se=Vt.tracer)===null||se===void 0||se.clearTrace(Vt.trace),Vt.logger.debug(`Cleared ${d.Sq}:${d.Kp} event trace`),an?Vt.traceReported=!0:Vt.createNewTrace()}else Vt.logger.debug(`Attempted to report ${d.Sq}:${d.Kp} trace but there was nothing to report`)},this.logQualityScoreWarnings=an=>{let{audioDownstreamQualityScore:qe,audioUpstreamQualityScore:se,selfVideoQualityScore:Ce,videoDownstreamQualityScore:Oe,screenshareUpstreamQualityScore:Be,screenshareDownstreamQualityScore:Je,networkQualityScore:rt,cpuCompetitionScore:Dt}=an;const Kt=50,mn={"audio-incoming":qe,"audio-outgoing":se,network:rt,cpu:Dt,"video-outgoing":Ce,"video-incoming":Oe,"screenshare-outgoing":Be,"screenshare-incoming":Je},Xt=h($t=>Object.entries($t).filter(En=>{let[,Tn]=En;return(0,p.A)(Tn)}).map(En=>{let[Tn,tn]=En;return`${Tn}=${tn}`}).join(" "),"makeLogString");(0,S.A)(mn,$t=>(0,p.A)($t)&&$t<=Kt)?this.logger.warn(`quality scores: ${Xt(mn)}`):this.debouncedInfoLog(Xt(mn))},this.debouncedInfoLog=(0,N.A)(an=>{this.logger.info(`quality scores: ${an}`)},L,{leading:!0,trailing:!1,maxWait:L}),this.tracer=(0,n.E)({teamOrEnterpriseId:Ze}),this.enableMaxReportingFrequency=!!At,this.metricsAveragesEnabled=!!Tt,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=st,this.callLogger=vt}},"HuddlePerfTracer");const k=null;var x=e(166097325),R=e(9945681457),U=e(6967745572);const F=10*1e3,W=30*1e3;class w{constructor(Ze){this.logger=Ze,this.currentUnstableAlerts={},this.currentAlerts={networkQualityHealth:[],isNetworkQualityPoor:[],isAudioQualityPoor:[],isCpuCompetitionPoor:[]},this.updateInterval=F,this.updateIntervalIncrements=0,this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(W,this.updateInterval+1e3))},this.getStableAlerts=(st,vt)=>{const At=h(Tt=>{const Vt=st[Tt];let an=this.currentAlerts[Tt];const qe=Date.now();an.push({timestamp:qe,value:Vt}),an=an.filter(Je=>{let{timestamp:rt}=Je;return qe-rt<=W}),this.currentAlerts[Tt]=an,an=an.filter(Je=>{let{timestamp:rt}=Je;return qe-rt<=vt.interval});const se=new Map;for(const Je of an)se.has(Je.value)||se.set(Je.value,0),se.set(Je.value,se.get(Je.value)+1);const Ce=Array.from(se.entries());let[Oe,Be]=Ce[0];for(const[Je,rt]of Ce.slice(1))rt>Be&&(Be=rt,Oe=Je);return Ce.length?Oe:this.currentUnstableAlerts[Tt]},"nextAlert");return{isAudioQualityPoor:At("isAudioQualityPoor"),isCpuCompetitionPoor:At("isCpuCompetitionPoor"),isNetworkQualityPoor:At("isNetworkQualityPoor"),networkQualityHealth:At("networkQualityHealth")}},this.getStabilityConfig=()=>({interval:this.updateInterval}),this.getAlertUpdates=st=>{let{alerts:vt}=st;const At=this.getStableAlerts(vt,this.getStabilityConfig()),Tt=!(0,x.A)(At,this.currentUnstableAlerts);if(this.maybeIncrementUpdateInterval(),Tt)return this.currentUnstableAlerts=At,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),At}}}h(w,"AlertUpdater");const K=null,j="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",Q={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${j}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${j}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network.",isOSThrottlingCpu:"The operating system is throttling CPU to manage heat or conserve battery power, which could lead to degraded audio or video quality and/or a general sense that Slack is slow or unresponsive. This might manifest as video freezing frequently, audio cutting out frequently, or audio-video sync issues. In more extreme cases, it can even trigger disconnections from the Chime media server. To mitigate this, ensure the user's device is well-ventilated, that they avoid running unnecessary applications during the call, and, if they are on a laptop, they should connect it to a power source. Adjusting power settings to prefer maximum performance (even when battery is being used) can also help. For detailed steps, please refer to your device's power management settings."},ie={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...Q},ee={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class ne{constructor({callLogger:Ze,logger:st,dispatch:vt}){this.isDev=(0,s.Cu)(),this.isJsPath=(0,s.b3)(),this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=At=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:Tt,isUnifiedGrid:Vt,visibleSidebarItemCount:an,networkType:qe,networkProtocol:se,networkRelayProtocol:Ce,isHardwareAccelerationEnabled:Oe,batteryIsUsing:Be}=At;this.callLogger.info(`Initial Huddle Config: Network Type=${qe}; Network Protocol=${se}; Network Relay Protocol=${Ce}; IA4=${Tt}; Unified Grid=${Vt}; Hardware Acceleration=${Oe??"unknown (browser)"}; Using Battery Power=${Be}; Sidebar Size=${an};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(At,Tt)=>{Object.entries(At).forEach(Vt=>{let[an,qe]=Vt;if(qe&&this.isRelevantWarning(an,At)&&ie[an]){let se;if(an in ee){const Oe=ee[an];Oe&&(Tt!=null&&Tt[Oe])&&(se=Tt[Oe])}this.logger.warn(`\u{1F6A8} WARNING! ${ie[an]}${se?` reasons: (${se})`:""}`)}})},this.isRelevantWarning=(At,Tt)=>At==="isNetworkQualityPoor"||At==="isCpuCompetitionPoor"?"isAudioQualityPoor"in Tt&&!!Tt.isAudioQualityPoor:!0,this.logTags=At=>{const Tt=Date.now();this.isJsPath||this.isDev?this.logger.info(`Recorded ${d.Sq}:${d.Kp} event span tags`,At):Tt-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${d.Sq}:${d.Kp} event span tags`,At),this.lastLoggedTagsTs=Tt)},this.getStatsDiff=At=>{const Tt=this.lastProcessedStats;return(0,v.A)(At,(Vt,an)=>{var qe,se;return{stable:Tt?!(0,x.A)((qe=Tt[an])===null||qe===void 0?void 0:qe.stable,Vt==null?void 0:Vt.stable):null,unstable:Tt?!(0,x.A)((se=Tt[an])===null||se===void 0?void 0:se.unstable,Vt==null?void 0:Vt.unstable):null}})},this.maybeUpdateTroubleshootingPanel=At=>{var Tt,Vt,an,qe,se,Ce,Oe,Be,Je;const rt=Date.now(),Dt=(0,U.p)(At),Kt=this.getStatsDiff(Dt);if(this.lastProcessedStats=Dt,(!((Tt=Kt.alerts)===null||Tt===void 0)&&Tt.stable||((Vt=Kt.alerts)===null||Vt===void 0?void 0:Vt.stable)===null)&&Dt.alerts.stable&&(this.dispatch((0,R._6)(Dt.alerts.stable)),Kt.alerts.stable&&this.logWarningAndAlertUpdates(Dt.alerts.stable)),(!((an=Kt.metrics)===null||an===void 0)&&an.stable||((qe=Kt.metrics)===null||qe===void 0?void 0:qe.stable)===null)&&Dt.metrics.stable&&this.dispatch((0,R.qO)(Dt.metrics.stable)),(!((se=Kt.warnings)===null||se===void 0)&&se.stable||((Ce=Kt.warnings)===null||Ce===void 0?void 0:Ce.stable)===null)&&Dt.warnings.stable&&(this.dispatch((0,R.it)(Dt.warnings.stable)),this.logWarningAndAlertUpdates(Dt.warnings.stable)),!((Oe=Dt.alerts)===null||Oe===void 0)&&Oe.unstable){const mn=this.alertUpdater.getAlertUpdates({alerts:Dt.alerts.unstable});mn&&(this.dispatch((0,R.Li)(mn)),this.logWarningAndAlertUpdates(mn,At))}Dt.metrics.unstable&&Dt.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||rt-this.lastUnstableMetricsUpdateTs>1e4&&(!((Be=Kt.warnings)===null||Be===void 0)&&Be.unstable||!((Je=Kt.metrics)===null||Je===void 0)&&Je.unstable))&&(this.dispatch((0,R.bW)({metrics:Dt.metrics.unstable,warnings:Dt.warnings.unstable})),this.lastUnstableMetricsUpdateTs=rt)},this.processTags=At=>{this.maybeUpdateTroubleshootingPanel(At),this.logHuddleConfigInfo(At),this.logTags(At),this.lastProcessedTagsTs=Date.now()},this.callLogger=Ze,this.logger=st,this.dispatch=vt,this.alertUpdater=new w(st),this.callLogger.info("huddle perf observer initialized")}}h(ne,"HuddlePerfObserver");const Z=null,te=ne;var he=e(6690187588),ue=e(5238395322),de=e(9137897911),re=e(9113979368),V=e(8872403767),H=e(1687672245);const X=h(Ft=>{if((0,re.A)(Ft))return;const Ze=(0,f.A)(Ft,(st,vt)=>(0,H.A)(st,vt,(At,Tt)=>(At||0)+Tt),{});return(0,v.A)(Ze,st=>st/Ft.length)},"calculateIncomingVideoStatsAverages"),Y=h(Ft=>{if(typeof Ft=="string"||typeof Ft=="boolean")return Ft;if(!isNaN(Ft)&&!(typeof Ft>"u"||Ft===null))return Math.round(Ft)},"getScrubbedMetricValue"),q=h(Ft=>{let{clientMetricReport:Ze,direction:st}=Ft;const vt=Object.keys(Ze.streamMetricReports);let At;return vt.forEach(Tt=>{const Vt=Number(Tt),an=Ze.streamMetricReports[Vt];an.direction===st&&an.mediaType===r.zu.AUDIO&&(At=Vt)}),At},"getAudioSsrcId"),fe=h((Ft,Ze,st,vt,At)=>{const Tt=Ft==null?void 0:Ft.getMetricMap(Ze,st)[vt];if(Tt!=null&&Tt.transform)return Tt.transform(vt,At)},"getNonObservedMetric"),ce=h((Ft,Ze)=>{const st=Ze?Ft.replace(Ze,""):Ft;return st.charAt(0).toUpperCase()+st.slice(1)},"removeSubstringAndCapitalize"),Ee=h(function(Ft){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(0,p.A)(Ze)||!(0,p.A)(Ft))return 0;const vt=isNaN(st)?0:st;if(Ft===Ze||Ft>Ze)return 0;const Tt=(Ze-Ft)/Ze*100-vt;return Math.round(Tt)},"calculateNonNetworkPacketLoss");var Ae=e(7682027334),le;(function(Ft){Ft[Ft.UPSTREAM=0]="UPSTREAM",Ft[Ft.DOWNSTREAM=1]="DOWNSTREAM"})(le||(le={}));var oe;(function(Ft){Ft[Ft.AUDIO=0]="AUDIO",Ft[Ft.VIDEO=1]="VIDEO"})(oe||(oe={}));let me,pe;const Te=h(function(Ft,Ze,st){let vt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft||!Ze)return;const At=(Ze.timestamp-Ft.timestamp)/1e3,Tt=Ze[st]-Ft[st];return vt?Tt/At:Tt},"getNextStat"),Me=h(Ft=>{let{clientMetricReport:Ze,selfAttendeeId:st}=Ft;const vt=Ze.getObservableVideoMetrics();if(!vt||!st)return;let At=0;const Tt={},Vt=[];return(0,E.A)(vt,(an,qe)=>{var se;const Ce=Number((se=Object.keys(an))===null||se===void 0?void 0:se[0]);if(!Ce)return;const Oe=an[Ce];if(qe.endsWith("#content")){var Be,Je;At+=1,(0,E.A)(Oe,($t,En)=>{Tt[(0,de.A)(`screenshare_${(0,m._3)(En)}${At>1?`${At}_`:""}`)]=Y($t)}),Object.assign(Tt,{screenshareVideoDownstreamDecoderImplementation:(Be=Ze.streamMetricReports[Ce])===null||Be===void 0||(Je=Be.currentStringMetrics)===null||Je===void 0?void 0:Je.decoderImplementation,screenshareVideoDownstreamFramesReceivedPerSecond:Ze.countPerSecond("framesReceived",Ce),screenshareVideoDownstreamFramesDroppedPerSecond:fe(Ze,oe.VIDEO,le.DOWNSTREAM,"framesDropped",Ce),screenshareVideoDownstreamFreezeCount:fe(Ze,oe.VIDEO,le.DOWNSTREAM,"freezeCount",Ce),screenshareVideoDownstreamTotalDecodeTime:fe(Ze,oe.VIDEO,le.DOWNSTREAM,"totalDecodeTime",Ce),screenshareVideoDownstreamTotalFreezesDuration:fe(Ze,oe.VIDEO,le.DOWNSTREAM,"totalFreezesDuration",Ce)});return}if(st===qe){if(Oe.videoUpstreamBitrate!==0){var rt,Dt;(0,E.A)(Oe,($t,En)=>{Tt[`self${ce(En,"Upstream")}`]=Y($t)}),Object.assign(Tt,{selfVideoHardwareEncoder:fe(Ze,oe.VIDEO,le.UPSTREAM,"encoderImplementation",Ce),selfVideoEncoderImplementation:(rt=Ze.streamMetricReports[Ce])===null||rt===void 0||(Dt=rt.currentStringMetrics)===null||Dt===void 0?void 0:Dt.encoderImplementation,selfVideoTotalEncodeTime:fe(Ze,oe.VIDEO,le.UPSTREAM,"totalEncodeTime",Ce)})}}else{var Kt,mn;const $t=fe(Ze,oe.VIDEO,le.DOWNSTREAM,"totalDecodeTime",Ce);if($t){var Xt;Tt.videoDownstreamTotalDecodeTime=((Xt=Tt.videoDownstreamTotalDecodeTime)!==null&&Xt!==void 0?Xt:0)+$t}Object.assign(Tt,{videoDownstreamDecoderImplementation:(Kt=Ze.streamMetricReports[Ce])===null||Kt===void 0||(mn=Kt.currentStringMetrics)===null||mn===void 0?void 0:mn.decoderImplementation}),Vt.push({...Oe,videoDownstreamFramesReceivedPerSecond:Ze.countPerSecond("framesReceived",Ce),videoDownstreamFramesDroppedPerSecond:fe(Ze,oe.VIDEO,le.DOWNSTREAM,"framesDropped",Ce)})}}),(0,re.A)(Vt)||Object.assign(Tt,X(Vt)),Tt},"getVideoMetricTags"),Ue=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],xe=h(Ft=>{let{clientMetricReport:Ze}=Ft;const{audioDecoderLoss:st,audioPacketLossPercent:vt,audioPacketsReceived:At,audioPacketsReceivedFractionLoss:Tt,audioPacketsSent:Vt,audioSpeakerDelayMs:an,audioDownstreamJitterMs:qe,videoUpstreamBitrate:se,videoPacketSentPerSecond:Ce,currentRoundTripTimeMs:Oe,availableIncomingBitrate:Be,availableOutgoingBitrate:Je,nackCountReceivedPerSecond:rt,audioUpstreamRoundTripTimeMs:Dt,audioUpstreamJitterMs:Kt}=Ze.getObservableMetrics(),mn=50,Xt=Ee(At,mn,Tt),$t=Ee(Vt,mn,vt),En={audioDownstreamDecoderLoss:st,audioUpstreamPacketLossPercent:vt,audioDownstreamPacketsReceived:At,audioDownstreamPacketLossPercent:Tt,audioDownstreamJitterMs:qe,audioUpstreamPacketsSent:Vt,audioDownstreamNonNetworkPacketLossPercent:Xt,audioUpstreamNonNetworkPacketLossPercent:$t,audioDownstreamJitterBufferDelay:an,selfVideoBitrate:se,selfVideoPacketsSentPerSecond:Ce,audioUpstreamRoundTripTimeMs:Dt,audioUpstreamJitterMs:Kt,networkCurrentRoundTripTimeMs:Oe,networkAvailableIncomingBitrate:Be,networkAvailableOutgoingBitrate:Je,networkNackCountReceivedPerSecond:rt},Tn=(0,V.A)(En,(ns,as)=>Ue.indexOf(as)>-1?(0,de.A)(`network_${as}`):as),Fn={networkSocketPacketsDiscardedOnSend:Ze.globalMetricReport.currentMetrics.packetsDiscardedOnSend},jn=q({clientMetricReport:Ze,direction:le.DOWNSTREAM});let rs;if(jn){const ns=fe(Ze,oe.AUDIO,le.DOWNSTREAM,"concealedSamples",jn);rs={audioDownstreamTotalSamplesReceived:fe(Ze,oe.AUDIO,le.DOWNSTREAM,"totalSamplesReceived",jn),audioDownstreamConcealedSamples:ns}}return(0,v.A)({...Tn,...Fn,...rs},ns=>Y(ns))},"getAudioMetricTags"),Ne=h(Ft=>{const Ze={},st=[];let vt;if(!Ft)return me=void 0,Ze;Ft.forEach(Tt=>{Tt.type==="local-candidate"&&st.push(Tt),Tt.type==="media-source"&&Tt.kind==="audio"&&(Ze.audioUpstreamTotalSamplesDuration=Tt.totalSamplesDuration,Ze.audioUpstreamAudioLevel=Tt.audioLevel,Ze.audioUpstreamTotalAudioEnergy=Tt.totalAudioEnergy),Tt.type==="candidate-pair"&&Tt.state==="succeeded"&&Tt.nominated&&Tt.localCandidateId&&(vt=Tt.localCandidateId,Ze.networkBytesSent=Tt.bytesSent,Ze.networkBytesReceived=Tt.bytesReceived,Ze.networkBytesDiscardedOnSend=Tt.bytesDiscardedOnSend),Tt.type==="inbound-rtp"&&Tt.kind==="audio"&&(Ze.audioDownstreamLevel=Tt.audioLevel),Tt.type==="outbound-rtp"&&Tt.kind==="video"&&(Ze.selfVideoQualityLimitationDurations=Tt.qualityLimitationDurations&&(0,Ae.Zf)(Tt.qualityLimitationDurations),Ze.selfVideoOutboundFramesPerSecond=Tt.framesPerSecond,Ze.selfVideoPacketSendDelay=Te(me,Tt,"totalPacketSendDelay"),me=Tt),Tt.type==="media-source"&&Tt.kind==="video"&&(Ze.selfVideoSourceFramesPerSecond=Tt.framesPerSecond)});const At=st.find(Tt=>Tt.id===vt);if(At){const{networkType:Tt,protocol:Vt,relayProtocol:an}=At;Ze.networkType=Tt,Ze.networkProtocol=Vt,Ze.networkRelayProtocol=an}return Ze},"getRtcStatsTags"),be=h(Ft=>{if(!Ft){pe=void 0;return}const Ze={};return Ft.forEach(st=>{if(st.type==="remote-inbound-rtp"&&st.kind==="video"){const{fractionLost:vt,jitter:At,roundTripTime:Tt}=st;Object.assign(Ze,{screenshareUpstreamJitter:At*1e3,screenshareUpstreamPacketLossPercent:vt*100,screenshareUpstreamRoundTripTime:Tt*1e3})}if(st.type==="outbound-rtp"&&st.kind==="video"){const{frameHeight:vt,frameWidth:At,framesPerSecond:Tt,targetBitrate:Vt,encoderImplementation:an,scalabilityMode:qe,powerEfficientEncoder:se}=st;if(Object.assign(Ze,{screenshareUpstreamTargetBitrate:Vt,screenshareUpstreamFrameWidth:At,screenshareUpstreamFrameHeight:vt,screenshareUpstreamFramesPerSecond:Tt,screenshareUpstreamEncoderImplementation:an,screenshareUpstreamPowerEfficientEncoder:se,screenshareUpstreamScalabilityMode:qe}),!pe){pe=st;return}const Ce=Te(pe,st,"totalEncodeTime",!0),Oe=Ce&&Ce*1e3;Object.assign(Ze,{screenshareUpstreamPacketsSent:Te(pe,st,"packetsSent"),screenshareUpstreamPacketSendDelay:Te(pe,st,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:Te(pe,st,"keyFramesEncoded"),screenshareUpstreamBitrate:Te(pe,st,"bytesSent",!0),screenshareUpstreamTotalEncodeTime:Oe}),pe=st}}),(0,v.A)(Ze,st=>Y(st))},"getScreenshareRtcStatsTags"),ke=h(Ft=>{let{clientMetricReport:Ze,selfAttendeeId:st}=Ft;const vt=Me({clientMetricReport:Ze,selfAttendeeId:st}),At=xe({clientMetricReport:Ze});return{...vt,...At}},"getClientMetricReportTags"),Ke={getVideoMetricTags:Me,getAudioMetricTags:xe,getClientMetricReportTags:ke,getScreenshareRtcStatsTags:be,getRtcStatsTags:Ne};var $=e(4404059078),ae=e(8542839544);const Ge=0,nt=100;function at(Ft){return Ft.endsWith(",")?Ft.slice(0,-1):Ft}h(at,"trimComma");const Ve=h(()=>{let Ft=100,Ze="";return{deductFromScoreForReason:(st,vt)=>{st&&(Ft-=st,Ze+=`${vt},`)},getScore:()=>(0,$.A)(Ft,Ge,nt),getReasons:()=>at(Ze)}},"trackScoreAndReasons"),Se=h(Ft=>{const{deductFromScoreForReason:Ze,getScore:st,getReasons:vt}=Ve(),{screenshareUpstreamBitrate:At,screenshareUpstreamPacketLossPercent:Tt,screenshareUpstreamJitter:Vt,screenshareUpstreamPacketSendDelay:an,screenshareUpstreamQualityLimitationReason:qe}=Ft;if(At)return Ze((0,ae.Tg)(Tt),"screenshareUpstreamPacketLossPercent"),Ze((0,ae.Fu)(Vt),"screenshareUpstreamJitter"),Ze((0,ae.RI)(an),"screenshareUpstreamPacketSendDelay"),Ze((0,ae.Fq)(qe),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:st(),screenshareUpstreamQualityScoreReasons:vt()}},"getScreenshareUpstreamQualityScore"),Pe=h(Ft=>{const{selfVideoPacketLossPercent:Ze,selfVideoJitterMs:st,isSelfVideoEnabled:vt,selfVideoOutboundFramesPerSecond:At,selfVideoBitrate:Tt}=Ft;if(!vt||!Tt)return;const{deductFromScoreForReason:Vt,getScore:an,getReasons:qe}=Ve();return Vt((0,ae.Tg)(Ze),"selfVideoPacketLossPercent"),Vt((0,ae.Fu)(st),"selfVideoJitterMs"),Vt((0,ae.qf)(At),"selfVideoOutboundFramesPerSecond"),{selfVideoQualityScore:an(),selfVideoQualityScoreReasons:qe()}},"getSelfVideoQualityScore"),Fe=h(Ft=>{const{videoDownstreamPacketLossPercent:Ze,videoDownstreamFramesDecodedPerSecond:st,videoDownstreamBitrate:vt,videoDownstreamJitterMs:At,videoDownstreamDelayMs:Tt}=Ft;if(!vt)return;const{deductFromScoreForReason:Vt,getScore:an,getReasons:qe}=Ve();return Vt((0,ae.Tg)(Ze),"videoDownstreamPacketLossPercent"),Vt((0,ae.q4)(Tt),"videoDownstreamDelayMs"),Vt((0,ae.Fu)(At),"videoDownstreamJitterMs"),Vt((0,ae.qf)(st),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:an(),videoDownstreamQualityScoreReasons:qe()}},"getVideoDownstreamQualityScore"),ge=h(function(Ft){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:st,getScore:vt,getReasons:At}=Ve();if(Ze){const{screenshareVideoDownstreamPacketLossPercent2:se,screenshareVideoDownstreamJitterMs2:Ce,screenshareVideoDownstreamDelayMs2:Oe,screenshareVideoDownstreamFrameHeight2:Be}=Ft;return Be?(st((0,ae.Tg)(se),"screenshareVideoDownstreamPacketLossPercent2"),st((0,ae.Fu)(Ce),"screenshareVideoDownstreamJitterMs2"),st((0,ae.q4)(Oe),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:vt(),screenshareVideoDownstreamQualityScoreReasons2:At()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:Tt,screenshareVideoDownstreamJitterMs:Vt,screenshareVideoDownstreamDelayMs:an,screenshareVideoDownstreamFrameHeight:qe}=Ft;if(qe)return st((0,ae.Tg)(Tt),"screenshareVideoDownstreamPacketLossPercent"),st((0,ae.Fu)(Vt),"screenshareVideoDownstreamJitterMs"),st((0,ae.q4)(an),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:vt(),screenshareVideoDownstreamQualityScoreReasons:At()}},"getScreenshareDownstreamQualityScore"),He=h(Ft=>{const{audioUpstreamPacketLossPercent:Ze,audioUpstreamRoundTripTimeMs:st,audioUpstreamJitterMs:vt,audioUpstreamNonNetworkPacketLossPercent:At}=Ft;if(!st)return;const{deductFromScoreForReason:Tt,getScore:Vt,getReasons:an}=Ve();return Tt((0,ae.Ye)(Ze),"audioUpstreamPacketLossPercent"),Tt((0,ae.oj)(st),"audioUpstreamRoundTripTimeMs"),Tt((0,ae._N)(vt),"audioUpstreamJitterMs"),Tt((0,ae.fB)(At),"audioUpstreamNonNetworkPacketLossPercent"),{audioUpstreamQualityScore:Vt(),audioUpstreamQualityScoreReasons:an()}},"getAudioUpstreamQualityScore"),Qe=h(Ft=>{const Ze={};return Ft.screenshareVideoDownstreamFrameHeight2&&Object.assign(Ze,ge(Ft,!0)),{...ge(Ft),...Ze}},"getScreenshareDownstreamQualityScores"),_e=h(Ft=>{const{cpuUse:Ze,gpuUse:st,cpuUseRelative:vt,longTasksPercentage:At}=Ft,{deductFromScoreForReason:Tt,getScore:Vt,getReasons:an}=Ve();return Tt((0,ae.sI)(At),"longTasksPercentage"),Tt((0,ae.$c)(Ze),"cpuUse"),Tt((0,ae.KG)(st),"gpuUse"),Tt((0,ae.h7)(vt),"cpuUseRelative"),{cpuCompetitionScore:Vt(),cpuCompetitionScoreReasons:an()}},"getCpuCompetitionScoreTags"),Le=h(function(){for(var Ft=arguments.length,Ze=new Array(Ft),st=0;st<Ft;st++)Ze[st]=arguments[st];const vt=Ze.filter(p.A);return vt.length?Math.round((0,O.A)(vt)):0},"getMetricAverage"),Ie=h(Ft=>{const{networkCurrentRoundTripTimeMs:Ze,networkNackCountReceivedPerSecond:st,networkSocketPacketsDiscardedOnSend:vt,networkProtocol:At,networkRelayProtocol:Tt,audioDownstreamJitterMs:Vt,audioDownstreamPacketLossPercent:an,audioUpstreamPacketLossPercent:qe,audioUpstreamJitterMs:se,videoDownstreamPacketLossPercent:Ce,screenshareDownstreamPacketLossPercent:Oe,screenshareUpstreamPacketLossPercent:Be,selfVideoPacketLossPercent:Je}=Ft,{deductFromScoreForReason:rt,getScore:Dt,getReasons:Kt}=Ve();rt((0,ae.ik)(At),"networkProtocol"),rt((0,ae.ik)(Tt),"networkRelayProtocol"),rt((0,ae.No)(vt),"networkSocketPacketsDiscardedOnSend"),rt((0,ae.oj)(Ze),"networkCurrentRoundTripTimeMs");const mn=Le(Vt,se);rt((0,ae._N)(mn),"networkJitterMs"),rt((0,ae.Ap)(st),"networkNackCountReceivedPerSecond");const Xt=Le(an,Ce,Oe,qe,Je,Be);return rt((0,ae.kq)(Xt),"networkPacketLossPercent"),{networkJitterMs:mn,networkPacketLossPercent:Xt,networkQualityScore:Dt(),networkQualityScoreReasons:Kt()}},"getNetworkQualityScoreTags"),we=h(Ft=>{const{audioDownstreamDecoderLoss:Ze,audioDownstreamJitterBufferDelay:st,audioDownstreamPacketLossPercent:vt}=Ft,{deductFromScoreForReason:At,getScore:Tt,getReasons:Vt}=Ve();return At((0,ae.t5)(Ze),"audioDownstreamDecoderLoss"),At((0,ae.q4)(st),"audioDownstreamJitterBufferDelay"),At((0,ae.Ye)(vt),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:Tt(),audioDownstreamQualityScoreReasons:Vt()}},"getAudioDownstreamQualityTags"),ut=h(Ft=>({...we(Ft),...Ie(Ft),...He(Ft),...Pe(Ft),...Qe(Ft),...Se(Ft),..._e(Ft),...Fe(Ft),qualityScoringVersion:d.Nb}),"getQualityScoreTags"),_t=h((Ft,Ze)=>{let{type:st,update:vt}=Ft;switch(st){case r.lx.BluetoothDevices:case r.lx.PreferredMediaRegion:case r.lx.CameraResolution:case r.lx.CallId:case r.lx.ScreenshareContentType:Object.assign(Ze.sharedTags,vt);break;case r.lx.MemoryLeaks:{const At=Ze.sharedTags.memoryLeakCount;Object.assign(Ze.sharedTags,{type:"shared",tags:{[`memoryLeaks-${vt.name}`]:vt.leakCount,memoryLeakCount:At?At+vt.leakCount:vt.leakCount}});break}case r.lx.SelectedMediaRegion:{const{mediaRegionPreferred:At}=Ze.sharedTags,Tt=At&&vt.mediaRegionSelected?At===vt.mediaRegionSelected:!0;Object.assign(Ze.sharedTags,{mediaRegionSelected:vt.mediaRegionSelected,mediaRegionMatchesPreference:Tt});break}case r.lx.VoiceFocusConfig:Object.assign(Ze.sharedTags,{vfSimdSupported:vt.model.simd,vfModelVariant:vt.model.variant,vfSupported:vt.supported});break;case r.lx.NetworkDisconnect:vt.peerId==="self"&&Object.assign(Ze.transientTags,{selfDisconnectCount:(Ze.transientTags.selfDisconnectCount||0)+1});break;case r.lx.NoAudio:{const At=vt.direction==="send"?{noAudioInput:vt.noAudio}:{noAudioOutput:vt.noAudio};Object.assign(Ze.sharedTags,At);break}case r.lx.SetIsDebugApp:Object.assign(Ze.sharedTags,{isDebugApp:!0});break;default:{(0,he.tZ)("HUDDLES-PERF").error(new Error(`Unexpected type: ${st}`));break}}},"updateState"),yt=null;var Ot=e(2210395577);const It=(0,o.Wo)({label:"COMPUTE-PRESSURE"}),kt={nominal:1,fair:2,serious:3,critical:4};class gt{constructor(){this.defaultSampleRate=.5,this.pubSub=new Ot.G,this.isObserving=!1,this.currentLevel=null,this.startObserving=async()=>{if(!this.isObserving){try{var Ze;this.isObserving=!0,await((Ze=this.pressureObserver)===null||Ze===void 0?void 0:Ze.observe("cpu"))}catch(st){this.isObserving=!1,It.error("An error occurred while attempting to observe compute pressure",st)}It.info("Observing compute pressure")}},this.getPressureLevelFromRecord=Ze=>Ze?kt[Ze.state]:void 0,this.pressureObserverCallback=Ze=>{const st=Ze.pop();if(!st)return;const vt=this.getPressureLevelFromRecord(st);vt&&(this.currentLevel=vt,vt===1?It.debug(`Compute pressure updated to ${st.state} (${vt} of 4)`):It.warn(`Compute pressure updated to ${st.state} (${vt} of 4)`),this.pubSub.publish(vt))},this.subscribe=async Ze=>{this.pubSub.subscribe(Ze),await this.startObserving()},this.unsubscribe=Ze=>{if(this.pubSub.unsubscribe(Ze),!this.pubSub.subscriberCount)try{var st;(st=this.pressureObserver)===null||st===void 0||st.disconnect(),It.debug("No longer observing compute pressure.")}catch(vt){It.error("An error occurred attempted to disconnect from the compute pressure observer",vt)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let Ze;try{var st;Ze=(st=this.pressureObserver)===null||st===void 0?void 0:st.takeRecords()}catch(At){It.error("An error occurred attempting to get latest compute pressure reports",At)}const vt=Ze?this.getPressureLevelFromRecord(Ze.pop()):void 0;return vt&&(this.currentLevel=vt),vt},It.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(Ze){It.error("An error occurred creating a new instance of the PressureObserver",Ze)}if(!this.pressureObserver){It.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}h(gt,"ComputePressureObserver"),gt.isSupported=()=>"PressureObserver"in globalThis;let Gt;const Pt=h(()=>{if(Gt)return Gt;if(!gt.isSupported()){It.info("Compute Pressure API is not supported.");return}try{Gt=new gt}catch(Ft){It.error("An error occurred while attempting to create compute pressure observer",Ft);return}return Gt},"getComputePressureObserver"),jt=null,Qt=null,Jt=Pt,Yt={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let Rt=h(class{initializeReport(){this.report={...Yt},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const st=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/st*100));const vt={...this.report};return this.initializeReport(),vt}constructor(){this.report={...Yt},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=Ze=>{const st=Ze.getEntries();let vt=0,At=0;st.forEach(Tt=>{const Vt=Tt.duration;vt+=Vt,Vt>At&&(At=Vt)}),this.report.longTasksTotalDuration+=vt,this.report.longTasksCount+=st.length,At>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=At)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const Bt=null,dn=Rt;let Mt=0;const Ye={traceName:d.Sq},ot="HUDDLES-PERF",ht={troubleshootingEntryPoint:null,troubleshootingContactUsClicked:!1};let tt=h(class{constructor(){var Ze;this.callLogger=(0,he.tZ)(ot),this.logger=(0,o.Wo)({label:ot}),this.sharedTags=Ye,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.troubleshootingTags={...ht},this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new dn,this.initSharedTags=()=>{Mt+=1,this.updateSharedTags({huddlesCountSinceRefresh:Mt})},this.initComputePressureObserver=()=>{this.computePressureObserver=Jt(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var st;const vt=(st=this.computePressureObserver)===null||st===void 0?void 0:st.getCurrentLevel();this.computePressure=vt})},this.updateSharedTags=st=>{this.sharedTags={...this.sharedTags,...st}},this.updateTransientTags=st=>{this.transientTags={...this.transientTags,...st}},this.updateComputePressure=st=>{const vt=this.computePressure;this.computePressure=st;let At;switch(st){case 1:At="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:At="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:At="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:At="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:At="Unknown system workload condition."}st>2?this.callLogger.warn(`Compute pressure updated to level ${st} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${st} suggests that: ${At}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):vt&&vt>2&&this.logger.debug(`Compute pressure updated to level ${st} of 4 from ${vt}. ${At}`)},this.updateState=st=>{switch(st.type){case r.lx.RenderTiming:this.renderTimings.push(st.update);break;case r.lx.RtmMetrics:this.rtmProcessingTimings.push(st.update);break;case r.lx.AppMetrics:this.updateMetrics(st.update);break;case r.lx.TroubleshootingEntryPoint:this.troubleshootingTags.troubleshootingEntryPoint=st.update;break;case r.lx.TroubleshootingContactUsClicked:this.troubleshootingTags.troubleshootingContactUsClicked=!0;break;default:_t(st,{sharedTags:this.sharedTags,transientTags:this.transientTags})}},this.updateMetrics=st=>{let{huddleStateSnapshot:vt,clientMetricReport:At,screenshareRtcStats:Tt}=st;const Vt=At?ke({clientMetricReport:At,selfAttendeeId:At.selfAttendeeId}):{},an=At?Ne(At.getRTCStatsReport()):{},qe=be(Tt),se={...vt,...Vt,...qe,...an,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags(),...this.getTroubleshootingTags()},Ce=ut(se);this.currentTags={...se,...Ce},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var st;return(st=this.longTaskObserver)===null||st===void 0?void 0:st.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:st}=this.currentTags;return st?{secondsSinceJoining:Math.floor((Date.now()-st)/1e3)}:{}},this.getRtmMetricTags=()=>{const st=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:st}},this.getTroubleshootingTags=()=>{const st={...this.troubleshootingTags};return this.troubleshootingTags={...ht},st},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const st=Date.now()-this.lastAppMetricsRecordingTs,vt=(0,ue.A)(this.renderTimings),At=this.renderTimings.length;return!vt||!st?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((vt/st*100).toFixed(1)),uiRenderCount:At})},this.cleanup=()=>{var st,vt;(st=this.computePressureObserver)===null||st===void 0||st.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(vt=this.longTaskObserver)===null||vt===void 0||vt.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(Ze=this.longTaskObserver)===null||Ze===void 0||Ze.start()}},"HuddlePerfStateInternal");const ct=null,rn=tt;var ln=e(160509973),on=e(6610969030),G=e(3725785328),De=e(9383537253);const We="HUDDLES-PERF",it=5e3,Nt=1e3;let sn=h(class{constructor({teamId:Ze,logger:st,dispatch:vt,getState:At}){this.logger=(0,o.Wo)({label:We}),this.callLogger=(0,he.tZ)(We),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.reportUpdate=Vt=>{Vt.type===r.lx.AppMetrics?this.recordAppMetrics(Vt):this.huddlePerfState.updateState(Vt)},this.recordAppMetrics=Vt=>{(0,on.n)(()=>{var an,qe;if(!this.shouldRecordAppMetrics({nextReportTimestamp:(an=Vt.update)===null||an===void 0||(qe=an.clientMetricReport)===null||qe===void 0?void 0:qe.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateState(Vt);const se=this.huddlePerfState.getCurrentTags();this.huddlePerfTrace.recordAppMetrics(se);try{this.huddlePerfObserver.processTags(se)}catch(Ce){this.errorReported||(this.callLogger.error("An error occurred while processing tags",Ce),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{priority:"background",delay:100})},this.shouldRecordAppMetrics=Vt=>{let{nextReportTimestamp:an}=Vt;if(!an)return!1;const qe=Date.now(),se=qe-this.lastRecordedMetricsTs;if(se<Nt)return this.logger.debug(`Not enough time has passed since last report was recorded (${se}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const Oe=qe-an;return Oe>it?(this.logger.debug(`Too much time has passed since the current report was made (${Oe}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.report=Vt=>{this.huddlePerfTrace.report(Vt),ln.A.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),(0,G.ZR)()};const Tt=At();this.huddlePerfTrace=new D({teamId:Ze,logger:st,callLogger:this.callLogger,enableMaxReportingFrequency:(0,De.CN)(Tt),metricsAveragesEnabled:(0,De.Ml)(Tt)}),this.huddlePerfObserver=new te({logger:st,callLogger:this.callLogger,dispatch:vt}),this.huddlePerfState=new rn,ln.A.subscribe(this.reportUpdate)}},"HuddlePerfManager");const en=null,_n=sn;var Dn=e(7188858884),On=e(2141441167),In=e(6947306788),bn=e(7281000332),Hn=e(6766178921),vn=e(1242487384),Sn=e(3015119762),gn=e(7874250141),Rn=e(9132422875),Qn=e(5233827933),Yn=e(6545531717);const Jn=h(Ft=>{let{teamId:Ze}=Ft;var st,vt;const At=(0,Dn.oK)(Ze).getState(),Tt=(0,bn.en)().getState(),Vt=(0,Sn.E9)(Tt),an=(0,Sn.hc)(Tt),qe=(0,gn.jV)(At),se=(0,Qn.ok)(At,{huddleId:Vt}),Ce=(0,Qn.Zg)(At,{huddleId:Vt}),Oe=(0,vn.WR)(At),Be=Ce?((Ce==null?void 0:Ce.timestamps)||[]).map(Xt=>an?(0,Rn.Ld)(At,an,Xt):void 0).filter(Xt=>(Xt==null?void 0:Xt.user)===Oe):[],Je=(st=Be[0])===null||st===void 0?void 0:st.ts,rt=(vt=Be.slice(-1)[0])===null||vt===void 0?void 0:vt.ts,Dt=Be.length,Kt=(0,Hn.nv)(At,Oe),mn=(0,Yn.P)(Kt);return{huddleId:Vt,channelId:an,enterpriseId:qe,threadId:se,threadReplyCnt:Dt,threadFirstReplyTs:Je,threadLastReplyTs:rt,isGuest:mn}},"getHuddleEventsStateSnapshot"),$n="huddle_events",_s="huddle",os="vhq",fs={topicName:_s,userAgent:navigator.userAgent,family:os};let is=h(class{get spansList(){var Ze;return(0,On.A)((Ze=this.trace)===null||Ze===void 0?void 0:Ze.getSpans())||[]}report(){var Ze;let st;try{st=(0,m.tT)({...this.sharedTags,...Jn({teamId:this.teamId})})}catch(At){var vt;this.logger.error(`Error while reporting huddle_events trace: ${At}`),(vt=this.tracer)===null||vt===void 0||vt.clearTrace(this.trace);return}!this.traceReported&&this.trace&&(this.trace.addTags(st),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",st)),(Ze=this.tracer)===null||Ze===void 0||Ze.clearTrace(this.trace)}constructor({teamId:Ze,logger:st}){this.sharedTags=fs,this.traceReported=!1,this.getSpanByName=vt=>this.spansList.find(At=>vt===At.getOperationName()),this.getDataSet=()=>{if(!(0,s.Cu)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:In.p.JOIN,type:In.G.START,tags:{}}),this.update({name:In.p.MINIPLAYER_VIEW,type:In.G.START})},this.isSurfaceChange=vt=>vt===In.p.MINIPLAYER_VIEW||vt===In.p.WINDOW_COMPACT_VIEW||vt===In.p.WINDOW_FULL_VIEW,this.handleSurfaceChange=vt=>{let{name:At,type:Tt}=vt;Tt===In.G.START&&this.isSurfaceChange(At)&&this.spansList.filter(Vt=>this.isSurfaceChange(Vt.getOperationName())).forEach(Vt=>{Vt.getOperationName()!==At&&this.closeSpan(Vt)})},this.update=vt=>{let{name:At,type:Tt,tags:Vt}=vt;if(this.trace)if(Tt===In.G.START||Tt===In.G.ONCE){const an=this.trace.startSpan(At,{parentSpanId:this.joinSpanId});Vt&&an.addTags(Vt),At===In.p.JOIN&&(this.joinSpanId=an.getId()),this.isSurfaceChange(At)&&this.handleSurfaceChange({name:At,type:Tt}),this.logger.debug(`started new span for huddle_events trace: ${At}`),Tt===In.G.ONCE&&this.closeSpan(an)}else{const an=this.getSpanByName(At);this.closeSpan(an),this.logger.debug(`closed span for huddle_events trace: ${At}`)}},this.closeSpan=vt=>{vt&&(vt.getCloseTimeMs()||vt.close())},this.recordEntryPoint=vt=>{Object.assign(this.sharedTags,{entryPoint:vt})},this.tracer=(0,n.E)({teamOrEnterpriseId:Ze}),this.trace=this.tracer.createTrace({traceName:$n,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:c.tS.SESSION}}),this.teamId=Ze,this.logger=st,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");var Vn=e(2226923485);class Nn{capatalizeFirstLetter(Ze){return(0,Vn.Z)(Ze,!1)}incrementEventCount(Ze){this.eventCounts[Ze]=(this.eventCounts[Ze]||0)+1}recordMeetingEvent(Ze){const st=this.capatalizeFirstLetter(Ze);this.incrementEventCount(`meetingEvents${st}Count`)}recordInputErrorEvent(Ze,st){const vt=this.capatalizeFirstLetter(st),At=this.capatalizeFirstLetter(Ze),Tt=`meetingEvents${vt}InputFailed${At}`;this.incrementEventCount(Tt)}getTeamId(){return this.teamId}report(){var Ze;const st=this.trace.startSpan(d.Kp);try{const At=(0,m.tT)(this.eventCounts);st.addTags(At)}catch(At){var vt;this.logger.error(`Error while reporting huddle_meeting_events trace: ${At}`),st.close(),(vt=this.tracer)===null||vt===void 0||vt.clearTrace(this.trace);return}st.close(),this.tracer.reportTrace(this.trace),(Ze=this.tracer)===null||Ze===void 0||Ze.clearTrace(this.trace),this.eventCounts={}}constructor({logger:Ze,teamId:st}){this.eventCounts={},this.teamId=st,this.logger=Ze,this.tracer=(0,n.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:d.Sq,tags:{__dataset:d.RN},samplingOptions:{sampleType:c.tS.ALWAYS}}),this.logger.info(`Initialized meeting events tracer for huddle (teamId: ${this.teamId})`)}}h(Nn,"HuddleMeetingEventsTracer");const xn="HUDDLE-TRACE-MANAGER",Xn=(0,o.Wo)({label:xn});let Zn=h(class{initializeTraces(Ze){let{teamId:st,isTinySpeck:vt,isDebugApp:At}=Ze;const Tt=(0,Dn.oK)(st);this.teamId=st,this.tracer=(0,n.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:l.ne,samplingOptions:{sampleRate:(0,s.Cu)()||vt?1:.05,sampleType:c.tS.SESSION},tags:{__dataset:"client_metrics"}}),At||(this.reconnectTrace=new i({tracer:this.tracer,trace:this.trace,logger:Xn}),this.ttiTrace=new a({teamId:this.teamId,logger:Xn}),this.huddleEventsTrace=new is({teamId:this.teamId,logger:Xn}),this.huddleMeetingEventsTrace=new Nn({logger:Xn,teamId:this.teamId})),this.huddlePerfTraceManager=new _n({teamId:this.teamId,logger:Xn,dispatch:Tt.dispatch,getState:Tt.getState})}setCallId(Ze){var st;this.callId=Ze,(st=this.trace)===null||st===void 0||st.addTags({callId:this.callId}),Ze&&ln.A.publish({type:r.lx.CallId,update:{callId:Ze}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace,huddleMeetingEventsTrace:this.huddleMeetingEventsTrace}}cleanup(){var Ze,st,vt,At,Tt;if((Ze=this.reconnectTrace)===null||Ze===void 0||Ze.report(),(st=this.ttiTrace)===null||st===void 0||st.report(),(vt=this.huddlePerfTraceManager)===null||vt===void 0||vt.report(!0),(At=this.huddleEventsTrace)===null||At===void 0||At.report(),(Tt=this.huddleMeetingEventsTrace)===null||Tt===void 0||Tt.report(),this.trace){var Vt,an;(Vt=this.tracer)===null||Vt===void 0||Vt.reportTrace(this.trace),(an=this.tracer)===null||an===void 0||an.clearTrace(this.trace)}Xn.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,delete this.huddleMeetingEventsTrace,this.callId=null}constructor(){Xn.info("Huddle Trace Manager created")}},"HuddleTraceManager");const cs=(0,t.A)(()=>new Zn)},6947306788:(B,A,e)=>{"use strict";e.d(A,{G:()=>t,p:()=>s});var t;(function(o){o.START="start",o.STOP="stop",o.ONCE="once"})(t||(t={}));var s;(function(o){o.JOIN="session_join",o.VIDEO="video",o.SCREENSHARE="screenshare",o.REACTION="reaction_posted",o.MESSAGE="message_posted",o.MICROPHONE="microphone",o.MINIPLAYER_VIEW="mini_player_view",o.WINDOW_COMPACT_VIEW="window_compact_view",o.WINDOW_FULL_VIEW="window_full_view",o.THREAD_VIEW="thread_flexpane_view",o.TRANSCRIPT="trxn"})(s||(s={}))},8610257504:(B,A,e)=>{"use strict";e.d(A,{_3:()=>n,tT:()=>c});var t=e(4178261413),s=e(8872403767),o=e(1985486637);const n=h(i=>(0,t.A)(i),"formatTag"),c=h(function(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return(0,s.A)(i,(r,d)=>d.indexOf(a)>-1?d:n(d))},"formatTags"),l=h(()=>new Bluebird(i=>{setTimeout(i,0)}),"waitForNextTick")},7424997984:(B,A,e)=>{"use strict";e.d(A,{A:()=>p});var t=e(5566107789),s=e(1985486637),o=e(7397682160),n=e(321010523),c=e(5420942935),l=e(6690187588);function i(){return 2}h(i,"getVoiceFocusCacheVersion");var a;const r="voiceFocusCache";function d(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}h(d,"createDefaultVoiceFocusCapability");function m(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}h(m,"createDefaultVoiceFocusCachedConfig");function f(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(a=window.navigator)===null||a===void 0?void 0:a.userAgent,y=arguments.length>1?arguments[1]:void 0;const C=localStorage.getItem(r),I={version:i(),voiceFocusCapability:d(),voiceFocusCachedConfig:m()};if(!C)return I;let M;try{M=JSON.parse(C)}catch(_){return(0,l.tZ)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",_.message),I}return M.version!==i()?I:(M.voiceFocusCapability&&(M.voiceFocusCapability.userAgent!==O||M.voiceFocusCapability.sdkVersion!==y)&&(M.voiceFocusCapability=I.voiceFocusCapability,M.voiceFocusCachedConfig=I.voiceFocusCachedConfig),{...I,...M})}h(f,"readVoiceFocusCache");function u(O){try{localStorage.setItem(r,JSON.stringify(O))}catch(y){(0,l.tZ)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",y.message)}}h(u,"writeVoiceFocusCache");var E=e(1522654045),v=e(160509973);const g=1657647210615,T=1686248081659;let p=h(class{async init(y){let{configOnly:C}=y;C||this.callLogger.info(`VF cache: ${!!this.cache}`),this.isSupported=await this.isCapable(!!C),this.isSupported&&this.prepare(C)}isAvailable(){return this.isSupported}async getTransformDevice(){if(this.isSupported&&(this.voiceFocusConfigPromise&&await this.voiceFocusConfigPromise,!!this.voiceFocusDeviceTransformerPromise)){try{await this.voiceFocusDeviceTransformerPromise}catch{this.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(this.voiceFocusTransformDevicePromise)try{return await this.voiceFocusTransformDevicePromise}catch{this.callLogger.error("Could not get VoiceFocusTransformDevice")}}}shouldDisable(){return!1}async setMute(y){const C=await this.getTransformDevice();C&&await C.mute(y)}async isCapable(y){if(this.isIFramed())return y||this.callLogger.warn("not supported due to IFrame"),!1;let C=!1;switch(this.cache.voiceFocusCapability.isSupported){case"yes":y||this.callLogger.info("cache says supported"),C=!0;break;case"no":y||this.callLogger.info("cache says not supported"),C=!1;break;case"unknown":{y||this.callLogger.info("cache says unknown, determining support..."),this.cache.voiceFocusCapability.userAgent=(0,t.A)(),this.cache.voiceFocusCapability.sdkVersion=c.zF.sdkVersion,C=await(0,c.w2)().isSupported(),C?this.cache.voiceFocusCapability.isSupported="yes":this.cache.voiceFocusCapability.isSupported="no",u(this.cache),y||this.callLogger.info(`determined supported=${this.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:this.callLogger.warn(`Voice Focus capability pref bad: ${this.cache.voiceFocusCapability.isSupported}`);break}return C}isIFramed(){try{var y;return((y=window.frameElement)===null||y===void 0?void 0:y.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(y){const I=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,M=this.allowMaxModelsToBeUsed?T:g;return I===0||y-I>6048e5||I<M}prepare(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const C=Date.now(),I=this.cache.voiceFocusCachedConfig.vfConfig,M=this.isStale(C),_={},P={logger:this.chimeLogger};if(I!=="unknown"&&!M){if(y)return;if(!I.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(_,P,I);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=s.S.resolve((0,c.w2)().configure(_,P)),this.voiceFocusConfigPromise.then(b=>{var S;if(!b.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${b.reason}`);return}if(!(!(b==null||(S=b.model)===null||S===void 0)&&S.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const L=b;this.callLogger.info(`Got new config, variant: ${L.model.variant}, simd: ${L.model.simd}, executionQuanta: ${L.executionQuanta}`),this.storeVfConfig(C,L),y||this.setupDevice(_,P,L)}).catch(b=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${b.name}: ${b.message}`),y||this.setupDevice(_,P)}))}storeVfConfig(y,C){this.cache.voiceFocusCachedConfig.vfConfig=C,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=y,u(this.cache)}async updateCacheWithUpdatedConfig(y){this.callLogger.info("Updating VF cache with new modified model");const C={logger:this.chimeLogger},I={variant:y},M=await(0,c.w2)().configure(I,C);M.supported&&this.storeVfConfig(Date.now(),M)}setupDevice(y,C,I){const M=y;let _=I,P,b;I?(P=I.model.variant,b=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),P="c10",b=!1);let S=!0;this.allowMaxModelsToBeUsed&&(S=!1);const N=this.chooseModelVariant(P,b,S);if(N.modelWasAdjusted&&(M.variant=N.chosenModel,_=void 0,this.callLogger.info(`VF Model was adjusted from ${I==null?void 0:I.model.variant} to ${N.chosenModel} Reason: ${N.adjustmentReason}`),this.updateCacheWithUpdatedConfig(N.chosenModel)),I){(0,o.e)().track(n.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:I.model.variant,model_variant_override:M.variant,simd:I.model.simd,execution_quanta:I.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const L={...I};L.model.variant=N.chosenModel,v.A.publish({type:E.lx.VoiceFocusConfig,update:L}),this.callLogger.info(`model_variant_determined: ${I.model.variant}, model_variant_override: ${N.chosenModel}, simd: ${I.model.simd}, execution_quanta: ${I.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=s.S.resolve((0,c.w2)().create(M,C,_)),this.voiceFocusDeviceTransformerPromise.then(async L=>{this.voiceFocusTransformDevicePromise=s.S.resolve(L.createTransformDevice(null))}).catch(L=>{this.callLogger.info(`Could not create voice device transformer exp: ${L.name}: ${L.message}`)})}chooseModelVariant(y,C,I){const M={c10:1,c20:2,c50:3,c100:4},_=navigator==null?void 0:navigator.hardwareConcurrency;if(!_)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${y}`),{modelWasAdjusted:!1,chosenModel:y,adjustmentReason:""};let P;return _<=4?P="c10":_<=6?P="c20":_<=8?P="c50":P="c100",M[P]<M[y]&&!I?{modelWasAdjusted:this.wasModelAdjusted(P,y,C),chosenModel:P,adjustmentReason:"Using CPU restricted model variant which is weaker"}:M[P]>M[y]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${y}`),P=y,!I)?{modelWasAdjusted:!1,chosenModel:y,adjustmentReason:""}:P==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",y,C),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",y,C),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(y,C,I){return y===C&&!I||y!==C}async tearDown(){const y=await this.getTransformDevice();y&&(this.callLogger.info("Attempting to destroyVoiceFocus"),c.wV.destroyVoiceFocus(y))}constructor(y,C){this.chimeLogger=y,this.allowMaxModelsToBeUsed=C,this.callLogger=(0,l.Jt)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cache=f((0,t.A)(),c.zF.sdkVersion)}},"VoiceFocusManager")},6154830566:(B,A,e)=>{"use strict";e.d(A,{k:()=>c});var t=e(7397682160),s=e(1242487384),o=e(121977275),n=e(8311865584);function c(l,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var d;const m=(d=(0,n.KA)())===null||d===void 0?void 0:d.getState();if(!m)return;const f=(0,t.e)({state:m}).setUser((0,s.WR)(m));if(a){const u={...i,room_id:(0,o.G0)(m)};f.track(l,u,{sendImmediately:r})}else f.track(l,i,{sendImmediately:r})}h(c,"trackCallsClog")},761842554:(B,A,e)=>{"use strict";e.d(A,{w:()=>T});var t=e(7370098413),s=e(1985486637),o=e(4894634110),n=e(6766178921),c=e(3666777625),l=e(9204569428),i=e(6748214069),a=e(8133631081),r=e(4357854421),d=e(9650261137);const m="screenhero.rooms.proxyLogs",f=(0,o.Ay)("Send call logs to the server",(p,O,y)=>{let{logs:C,useSendBeacon:I=!1,callId:M}=y;const _=O();let P;if(M?P=M:_.activeCall&&_.activeCall.id&&(P=_.activeCall.id),!P)return(0,d.M)(!1,"There should be an active call in progress in order to send logs."),s.S.reject(new Error("SendLogs: no call"));const b=(0,n.cA)(_),S=(0,c.H7)(_);if(!S)return s.S.reject(new Error("SendLogs: no current team"));const N={data:{room_id:P,user_id:b.id,team_id:S.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:C}},L={data:JSON.stringify(N.data)};return I?(0,a.A)({apiUrl:"/api/",method:m,token:(0,r.F)(_),versionTs:(0,i.HF)(),versionUid:(0,i.X3)(),args:L})?s.S.resolve():s.S.reject(new Error("SendLogs: beacon failed")):p((0,l.apiCall)({method:m,reason:"calls-logging",args:L}))});f.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var u=e(8311865584),E=e(2691514942),v=e(6717879785);const g=60*1e3;class T{start(O){(0,d.M)(!this.intervalHandle,"Log reporter already started."),this.callId=O,this.intervalHandle=v.J.setInterval(()=>this.report(!1),g),v.J.addEventListener("beforeunload",this.unloadHandler)}joinLogs(O){return O.map(y=>y.join(" ")).join(`
`)}constructor(O=t.tt){var y=this;this.buffer=O,this.unloadHandler=()=>{v.J.Cypress||this.report(!0)},this.stop=async function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;y.intervalHandle&&v.J.clearInterval(y.intervalHandle),y.intervalHandle=void 0,v.J.removeEventListener("beforeunload",y.unloadHandler),await y.emptyBuffer(I),y.callId=void 0},this.emptyBuffer=async function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;y.buffer.hasItems()&&(await y.report(C),await y.emptyBuffer(C))},this.report=async function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{dispatch:I}=(0,u.KA)(),M=y.buffer.flush();if(!M.length)return;const _=y.joinLogs(M);await I(f({logs:_,useSendBeacon:C,callId:y.callId})).catch(()=>{(0,E.Wo)().error("Failed to send Huddle logs")})}}}h(T,"LogReporter")},8927008694:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(2210395577);const s=new t.G},7918696228:(B,A,e)=>{"use strict";e.d(A,{D8:()=>m,WY:()=>d,cn:()=>f,d2:()=>a,gJ:()=>r});var t=e(4414425352);const s=(0,t.Ay)("connect to free willy media server");s.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const o=(0,t.Ay)("Set flag to indicate if experimental Chime SDK should be used");o.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const n=(0,t.Ay)("Set flag to indicate if simulcast should be used in a Chime call");n.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const c=(0,t.Ay)("Set flag to indicate if priority based downlink policy should be used in a Chime call");c.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const l=(0,t.Ay)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");l.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const i=(0,t.Ay)("Set flag to determine if a call is a readiness test call");i.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const a=(0,t.Ay)("Binds video tile to a video element");a.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const r=(0,t.Ay)("Unbinds video tile from a video element");r.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const d=(0,t.Ay)("Pauses video tile");d.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const m=(0,t.Ay)("Unpauses video tile");m.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const f=(0,t.Ay)("Returns if there in a stream associated with the tileId");f.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},411441547:(B,A,e)=>{"use strict";e.d(A,{P:()=>t});const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function s(o){return!!has(o,"activeCall")}h(s,"isCallWindowContextState")},2564569187:(B,A,e)=>{"use strict";e.d(A,{Rv:()=>k,Xk:()=>D,hL:()=>L,j7:()=>w,lp:()=>x,tO:()=>ie,tw:()=>R,uI:()=>J,vf:()=>Q});var t=e(9866181557),s=e(1240477450),o=e(7547404166),n=e(9963560),c=e(6928237551),l=e(5248257622),i=e(8859166048),a=e(9994173668),r=e(5478938623),d=e(6987151047),m=e(6766178921),f=e(9844570768),u=e(4527069385),E=e(353071615),v=e(9819891010),g=e(3666777625),T=e(2947229296),p=e(5150875261),O=e(3351247794),y=e(9234668555),C=e(7608550931),I=e(2172170811),M=e(8815644013),_=e(4357385957);const P="Slack",b=new T.Ay("calls");function S(ne){return!!(0,t.xp)(ne,"allow_calls")}h(S,"isCallsAllowedByAdmin");function N(ne,Z){return(0,_.pt)(ne)&&(0,_.Bn)(ne,Z)}h(N,"isHuddlesAllowed");function L(ne,Z,te){const he=(0,O.Pu)(ne,Z.id);return!(!S(ne)&&!N(ne,he)||(0,E.fy)(Z)&&!te||!(0,E._W)(Z)||!(0,C.S)(ne,Z.id)||(0,n.Mi)(he))}h(L,"canCallMember");function D(ne,Z){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const he=(0,m.nv)(ne,(0,l.e)(Z)),ue=te&&j(ne);return!S(ne)&&!N(ne,Z)&&!ue||(0,o.Zz)(Z)||(0,i.LI)(Z)&&(!he||!L(ne,he))||!(0,n.Ez)(Z)?!1:(0,d.c)(ne,Z)}h(D,"isCallButtonVisibleForChannel");function k(ne,Z){return(0,f.Pb)(ne)?((0,n.bU)(Z)||(0,s.F)(Z))&&!ee(Z):!0}h(k,"isCallButtonDisabledForChannel");function x(ne,Z){const te=(0,O.OL)(ne,Z);return te&&!k(ne,te)&&D(ne,te)}h(x,"canStartCallInChannel");function R(ne,Z,te){const he=(0,a.V)(Z),ue=(0,y.q8)(ne,he),de=(0,m.nv)(ne,te,{preferNonExistentToNull:!1,fetchIfMissing:!0}),re=(0,E.v8)(de),V=(0,y.OJ)({callsApp:ue,memberPhoneNumber:re,hideVideoApps:!1}),H=V.length,X=N(ne,Z);let Y=H;return X&&(Y+=1),Y>1?b.t("{numCallApps} calling options",{numCallApps:Y}):Y===1?H===0?"":b.t("using {appName}",{appName:V[0].name}):""}h(R,"getTipSubtitleForStartCall");function U(ne,Z,te){const he=(0,u.I)(ne,(0,l.e)(Z));return te?b.rt("Huddle with {name}",{name:he,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):b.rt("Call {name}",{name:he})}h(U,"getTipForIm");function F(ne,Z,te){const he=(0,n.d3)(ne,Z).map(de=>(0,v.sE)(ne,de)),ue=(0,p.A)(he,{noEscape:!0}).join("");return te?b.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ue,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):b.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ue})}h(F,"getTipForMpim");function W(ne,Z,te){return(0,i.LI)(Z)?U(ne,Z,te):(0,i.yz)(Z)?F(ne,Z,te):te?b.t("Huddle in {channelName}",{channelName:(0,c.SB)(ne,Z),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):b.t("Start a call")}h(W,"getTipForChannel");function w(ne,Z){const te=(0,g.H7)(ne),he=(0,r.qR)(te),ue=j(ne),de=he||ue,re=N(ne,Z)&&!Q(ne);return(0,f.Pb)(ne)?de&&(0,s.F)(Z)?b.t("Unarchive this channel to start a huddle"):de&&(0,n.bU)(Z)?b.t("Join this channel to start a huddle"):(ue||ee(Z),W(ne,Z,re)):b.t("Go online to start a huddle")}h(w,"getTipForStartCall");function K(ne,Z){const te=getCurrentTeam(ne),he=isPaidTeamRule(te),ue=isMpimRule(Z),de=j(ne),re=he||de;return!isClientOnline(ne)||re&&isArchived(Z)||re&&isPreview(Z)||de?!1:!!(!he&&ue||!he&&isNonImOrMpimChannel(Z))}h(K,"isFreeTeamAndInChannelOrMpim");function j(ne){const Z=(0,y.wZ)(ne);for(let te=0;te<Z.length;te++)if(Z[te].id!==I.rq)return!0;return!1}h(j,"isThirdPartyCallEnabled");function Q(ne){return(0,y.wZ)(ne).length>0}h(Q,"isAnyCallAppEnabled");function J(ne){const Z=b.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),te=b.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:ne,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),he=b.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:Z,description:te,confirm:he,cancel:b.t("Cancel")}}h(J,"getCallConfirmationStrings");function z(){return!1}h(z,"isNativeSlackCallEnabled");function ie(){return!0}h(ie,"isSlackCallSlashCommandDisabled");function ee(ne){return(0,M.ju)(ne)&&!(0,i.LI)(ne)}h(ee,"shouldEnableForSponsoredConnections")},6916548184:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(6690187588),s=e(1137236691),o=e(9650261137),n=e(3659369705),c=e(6154830566),l=e(321010523),i=e(1886380499);const a=window.RTCPeerConnection,r=window.MediaStream,d=window.RTCIceCandidate,m=window.navigator,f={height:116,width:168};let u=h(class{async getScreenThumbnails(g){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const p=await(0,s.zxd)();T||E(this.log,p);const O=["screen"];O.push("window"),f.width=(g==null?void 0:g.width)||200,f.height=(g==null?void 0:g.height)||150;let y;try{y=await(0,s.Yx3)(f,O)}catch(I){this.log.error(`Could not get screen thumbnails: ${I.message}`)}return y?y.map((I,M)=>{var _;const P=p.find(S=>parseInt(I.display_id,10)===S.id);!P&&!(0,n.tR)()&&!(0,n.cX)()&&!(!((_=I.id)===null||_===void 0)&&_.startsWith("window:"))&&this.log.error(`Could not find matching display for screen ${M} with id ${I.display_id}`);const b=P||((0,n.tR)()||(0,n.cX)()?p[M]:void 0);return{mediaSourceId:I.id,thumbnail:I.thumbnail,displayId:b&&b.id,bounds:b&&b.bounds,name:I.name}}):[]}getCurrentlyActiveScreenTrack(){return this.screenTrack}async startCapturingScreen(g){if((0,o.M)(!this.screenTrack,"Screen track should not already be active"),!g){if(!m.mediaDevices.getDisplayMedia)throw this.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const T={audio:!1,video:{frameRate:{max:15}}},p=await m.mediaDevices.getDisplayMedia(T);return this.screenTrack=p.getVideoTracks()[0],this.log.info(`Start screen sharing with track id: ${this.screenTrack.id} in browser`),this.screenTrack}catch(T){if(T.name!=="NotAllowedError")throw this.log.error(`Error: ${T.name} while trying to screen share in browser`),(0,c.k)(l.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:T.name}),T;return null}}try{const T={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:g,maxFrameRate:15}}};if(!(0,n.uF)()){const O=await this.getScreenDetailsByMediaSourceId(g);O&&O.bounds&&(T.video.mandatory.maxWidth=O.bounds.width,T.video.mandatory.maxHeight=O.bounds.height)}const p=await m.mediaDevices.getUserMedia(T);return this.screenTrack=p.getTracks()[0],this.log.info("Start screen sharing with track id:",this.screenTrack.id,"and mediaSourceId:",g),this.screenTrack}catch(T){throw this.log.error(`Error: ${T.name} for screen ${g}`),(0,c.k)(l.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:T.name}),T}}stopCapturingScreen(){if(!this.screenTrack){(0,o.M)("No screenTrack to stop.");return}this.screenTrack.stop();const g=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",g),g}clearScreenTrack(){delete this.screenTrack}async getScreenDetailsByMediaSourceId(g){let T;const p=await this.getScreenThumbnails();return p&&(T=p.find(O=>O.mediaSourceId===g,p)),T}constructor(){this.log=(0,t.tZ)("SCREENS")}},"ScreenManager");function E(v,g){if(!g.length){v.error("No screens available");return}const T=new i.M(["id","width","height","x","y","scaleFactor","rotation"]);g.forEach(p=>{T.add([p.id,p.bounds.width,p.bounds.height,p.bounds.x,p.bounds.y,p.scaleFactor,p.rotation].map(String))}),v.info(`Available screens:
${T.report()}`)}h(E,"logDisplays")},9785827940:(B,A,e)=>{"use strict";e.d(A,{Y:()=>t});function t(s){const o=(s||"").split("-");return o&&(o.length===3||o.length===4)?o[1]:null}h(t,"getCallIdFromExternalId")},1137687041:(B,A,e)=>{"use strict";e.d(A,{n:()=>t});function t(s){let{width:o,height:n,top:c,left:l}=s;return{position:"absolute",width:`${o}px`,height:`${n}px`,top:`${c}px`,left:`${l}px`}}h(t,"cssForRect")},4406016077:(B,A,e)=>{"use strict";e.d(A,{BD:()=>o,OV:()=>s,XY:()=>l,kx:()=>c,wn:()=>n,zq:()=>i});var t=e(205540855);function s(a){return(0,t._Z)(a,"calls_chime_sdk_exp")==="enabled"}h(s,"isCallsChimeSdkExpEnabled");const o=h(a=>(0,t._Z)(a,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),n=h(a=>(0,t._Z)(a,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),c=h(a=>(0,t._Z)(a,"call_button_suppress_window")==="treatment","isCallsWindowSuppressed"),l=h(a=>(0,t._Z)(a,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),i=h(a=>(0,t._Z)(a,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled")},3559485330:(B,A,e)=>{"use strict";e.d(A,{$:()=>c,Y:()=>n});var t=e(5403430935),s=e(6690187588),o=e(2691514942);function n(l){let{direction:i,type:a,payload:r}=l;const d=(0,t.A)()?"slack":"call",m="INTER-WINDOW-MESSAGE";((0,t.A)()?(0,s.tZ)(m):(0,o.Wo)({label:m})).info(`${i==="send"?"Sending":"Received"} ${a} ${i==="send"?"to":"from"} the ${d} window${r?`, with payload: ${JSON.stringify(r)}`:""}`)}h(n,"logInterWindowMessage");function c(l){function i(a,r,d){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;l(r,d,m),a.sendData({type:r,payload:d})}return h(i,"sendMessage"),i}h(c,"createInterWindowMessageSender")},7094543179:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(3659369705);function s(){return!(0,t.j9)()&&(0,t.y3)()}h(s,"isDrawSupported")},2210395577:(B,A,e)=>{"use strict";e.d(A,{G:()=>s});var t=e(8403493408);class s{get subscriberCount(){return this.subscribers.length}subscribe(n){this.subscribers.push(n)}unsubscribe(n){(0,t.A)(this.subscribers,n)}publish(n){this.subscribers.forEach(c=>{c(n)})}constructor(){this.subscribers=[]}}h(s,"PubSub")},2429228070:(B,A,e)=>{"use strict";e.d(A,{X:()=>E,a:()=>v});var t=e(3659369705),s=e(9393022898),o=e(6690187588),n=e(5403430935),c=e(2691514942),l=e(4406016077);const i=2e3,a=6,r=0/265,d=255/265,m=53/265,f=1,u="SCREEN-SHARE",E=h((g,T)=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&!(0,l.zq)(T)&&((0,s.$m)(g,i),(0,s.VR)(g),(0,s.D0)(a),(0,s.Mh)(r,d,m,f),(0,s.Ac)(),((0,n.A)()?(0,o.tZ)(u):(0,c.Wo)({label:u})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),v=h(()=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&((0,s.th)(),((0,n.A)()?(0,o.tZ)(u):(0,c.Wo)({label:u})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},1456171589:(B,A,e)=>{"use strict";e.d(A,{R:()=>n});var t=e(9650261137),s=e(5403430935),o=e(3559485330);const n=(0,o.$)(function(c,l){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;(0,t.M)(!(0,s.A)(),"Expected to send message from the slack window"),(0,o.Y)({direction:"send",type:c,payload:i?l:"REDACTED"})})},1886380499:(B,A,e)=>{"use strict";e.d(A,{M:()=>s});var t=e(9118672869);class s{add(n){this.rows.push(n),this.adjustPadding(n)}report(){const n=this.padding.map(l=>"-".repeat(l));return(this.columnNames?[n,this.columnNames,n]:[]).concat(this.rows).reduce((l,i)=>l+i.reduce((a,r,d)=>a+(0,t.A)(r,this.padding[d])+(d!==i.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(n){this.padding=n.map((c,l)=>Math.max(c.length,this.padding[l]||0))}constructor(n,c="|"){this.columnNames=n,this.separator=c,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}h(s,"StringTable")},7920065931:(B,A,e)=>{"use strict";e.d(A,{l:()=>t});function t(s){const o=(s||"").split("-");return o&&(o.length===3||o.length===4)?o[2]:null}h(t,"getUserIdFromExternalId")},313470212:(B,A,e)=>{"use strict";e.d(A,{i:()=>o});var t=e(3037982922),s=e(651151430);function o(){var n,c;const l=(0,t.Bh)(),i=(l==null||(n=l.video)===null||n===void 0?void 0:n.effect)===s.t.Blur;return{backgroundEffectBgKey:l==null||(c=l.video)===null||c===void 0?void 0:c.effectBgKey,blurEffectIsEnabled:i}}h(o,"getVideoDeviceBackgroundPrefs")},8898240026:(B,A,e)=>{"use strict";e.d(A,{uM:()=>ee,Gf:()=>ie,lQ:()=>ne});var t=e(7375514955),s=e(5512437437),o=e(1865636784),n=e(3381563238),c=e(5228113015),l=e(5801849507),i=e(1236500105),a=e(2878883205),r=e(2691514942),d=e(7188858884),m=e(76949914),f=e(7281000332),u=e(2408953692),E=e(7004130644),v=e(7418708689),g=e(33414219),T=e(3122619948),p=e(2203123872),O=e(7914090806),y=e(1960980773),C=e(9505217998),I=e(1223021996),M=e(4894634110),_=e(4373247959);const P=(0,M.Ay)("Determine if fullscreen mode is enabled",(Z,te)=>{const he=te();return(0,_.V)(he)});P.meta={name:"createThunk",key:"createThunkgetIsFullscreenEnabled",description:"Determine if fullscreen mode is enabled"};var b=e(5823512943),S=e(8915855496),N=e(7141701373),L=e(4837506835),D=e(9175153974),k=e(5687451052),x=e(2398473551);const R=h((Z,te)=>!((0,S.V)(Z)||te[v.jf]!==v.k6.BBM),"shouldPreventBBMHistory"),U=h((Z,te,he)=>{if((0,D.V)(Z))return!1;const ue=(0,f.Ry)();if((x.getFocusedWorkspace===null||x.getFocusedWorkspace===void 0?void 0:(0,x.getFocusedWorkspace)(ue))!==he)return!1;const de=(0,u.jo)(ue),re=te[v.jf],V=de[v.jf];if(re!==V)return!1;const H=te[re],X=de[V];return!!(0,k.A)(H,X)},"shouldPreventDuplicateHistory"),F=(0,M.Ay)("Maybe prevent default handling of history on pop state",(Z,te,he)=>{let{current:ue,index:de,teamId:re}=he;const V=te();if(!R(V,ue)&&!U(V,ue,re))return!1;const H=(0,f.Ry)(),X=(0,u.XG)(H),Y=de>X;if(Y){if((0,u.yS)(H))return!0}else if((0,u.m6)(H))return!0;return Z((Y?N.r:L.h)()),!0});F.meta={name:"createThunk",key:"createThunkmaybePreventHistoryOnPopState",description:"Maybe prevent default handling of history on pop state"};var W=e(6808207036),w=e(6556969494);async function K(Z){const te=Z.state;if(!(te!=null&&te.teamId)||!(te!=null&&te.id))return;const he=(0,f.en)();if(!he)return;const ue=he.getState,de=he.dispatch;if(!ue||!de)return;const re=(0,u.jR)(ue()),V=re.findIndex(Te=>Te.id===te.id);if(V<0)return;const H=(0,u.XG)(ue()),X=re[H],Y=te.state[v.jf];if((0,d.Qw)(te.teamId,F({current:te.state,index:V,teamId:te.teamId})))return;var fe;const ce=(fe=te.state[Y])!==null&&fe!==void 0?fe:(0,v.DP)(Y),Ee=(0,y.H)(X)?X[v.jf]:void 0,Ae=(0,y.H)(X)&&Ee?X[Ee]:void 0,{viewSet:le}=await(0,d.Qw)(te.teamId,(0,I.F)({context:C.b.HistoryStack,prevViewSet:Ae,prevTab:Ee,nextViewSet:ce,nextTab:Y,windowId:v.N2}));te.state[Y]=le??ce,de((0,E.cM)({windowId:v.N2,index:V,previousIndex:H}));const me=(0,d.Qw)(te.teamId,P())?(0,d.Qw)(te.teamId,(0,b.n)({id:te.id})):void 0,pe={prevViewSet:Ae,prevTab:Ee,nextViewSet:ce,nextTab:Y,windowId:v.N2,navigateParams:{destinationContainer:me},triggerType:O.w.HISTORY_NAVIGATION};(0,d.Qw)(te.teamId,(0,W.c)(pe)),(0,d.Qw)(te.teamId,(0,g.cQ)(te.state)),(x.getFocusedWorkspace===null||x.getFocusedWorkspace===void 0?void 0:(0,x.getFocusedWorkspace)(ue()))!==te.teamId&&de(w.b===null||w.b===void 0?void 0:(0,w.b)({teamId:te.teamId,fromNavigation:!0})),(0,d.Qw)(te.teamId,(0,p.C)(pe))}h(K,"onPopState");function j(Z){if(!isSonic())return;const te=Z.state;if(!(te!=null&&te.id))return;const he=getClientStoreInstance();if(!he)return;const ue=he.getState,de=he.dispatch;if(!ue||!de)return;const V=getHistoryForMainWindow(ue()).findIndex(X=>X.id===te.id);if(V<0)return;const H=getHistoryIndexForMainWindow(ue());de(updateIndexForMainWindow({windowId:MainWindowId,index:V,previousIndex:H}))}h(j,"onIA3PopState");async function Q(Z){var te;if(!(0,l.A)())return;if(!(Z==null||(te=Z.state)===null||te===void 0)&&te.isIA4){n.p.prevNavigatedTeamOrEnterpriseId=Z.state.teamId,K(Z);return}const he=(0,c.oI)(),ue=(0,o.f)(),de=(0,a.A_)(),re=(0,d.oK)(n.p.prevNavigatedTeamOrEnterpriseId),V=re?(0,m.oY)(re.getState()):!1,H=(0,i.A)().slice(0,8);if((0,r.Wo)().info("ROUTES",`[${H}]`,`[${ue.routeName}]`,"Attempting to popstate navigate to new route",ue.params),await(0,a.$C)({prevTeamOrEnterpriseId:n.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:he,prevRouteInfo:n.p.popstatePrevRouteInfo,routeName:ue.routeName,params:ue.params,reason:a.GB,uuid:H})===!1||V===!0){(0,r.Wo)().info("ROUTES",`[${H}]`,`[${ue.routeName}]`,"willNavigateListener caused early exit"),window.history.forward();return}if((0,a.OX)({prevTeamOrEnterpriseId:n.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:he,prevRouteInfo:n.p.popstatePrevRouteInfo,routeName:ue.routeName,params:ue.params,reason:a.GB,uuid:H}),(0,r.Wo)().info("ROUTES",`[${H}]`,`[${ue.routeName}]`,"Navigated to new route"),n.p.prevNavigatedTeamOrEnterpriseId=he,de&&typeof de.onEnter=="function"){const Y=(0,d.oK)(he);de.onEnter.call(null,Y.getState,null,window.location.pathname)}}h(Q,"navigateAfterPopState");const J=h(()=>{window.addEventListener("popstate",Q)},"addPopStateListener");var z=e(6040873869);J();function ie(){let{shouldSetFocus:Z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const te=(0,o.f)(window.location.pathname,{throwOnNoRoute:!1});return te&&Z&&te.routeName!==t.o?te:null}h(ie,"determineCurrentView");function ee(){(0,a.Dd)(Z=>{let{nextTeamId:te,routeName:he,params:ue}=Z;(0,d.oK)(te)&&(0,d.Qw)(te,(0,z.w)({routeName:he,params:ue}))})}h(ee,"configureUpdateCurrentRoute");function ne(Z){const te=(0,s._z)(Z,"lastRoute");return(0,a.EB)(te)?te??null:null}h(ne,"getLastRouteFromLocalConfig")},6040873869:(B,A,e)=>{"use strict";e.d(A,{T:()=>o,w:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Navigate to a route");s.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const o=(0,t.Ay)("Set a value that represents whether the user navigated during a warm boot");o.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},2091245204:(B,A,e)=>{"use strict";e.d(A,{RG:()=>b,f1:()=>L,fp:()=>N});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(2947229296),l=e(4637971620),i;(function(D){D.BaseHeart="mask__base-heart",D.SmallHeart="mask__small-heart",D.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",D.BaseSingleChannelGuest="mask__base-single-channel-guest",D.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",D.SmallSingleChannelGuest="mask__small-single-channel-guest",D.BaseGuestDnd="mask__base-guest-dnd",D.BaseGuest="mask__base-guest",D.SmallGuestDnd="mask__small-guest-dnd",D.SmallGuest="mask__small-guest",D.BaseMemberDnd="mask__base-member-dnd",D.BaseMember="mask__base-member",D.SmallMemberDnd="mask__small-member-dnd",D.SmallMember="mask__small-member",D.NoAccess="mask__base-no-access"})(i||(i={}));function a(D){let{size:k="base",userType:x="member",isDnd:R=!1,hasNoAccess:U=!1}=D;return U?t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:i.NoAccess,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.542 V0.825 C0.542,0.745,0.587,0.676,0.653,0.642 C0.662,0.481,0.795,0.353,0.958,0.353 C0.972,0.353,0.986,0.354,1,0.356 V0"}))):t.createElement("svg",{className:"sr-only"},x==="slackbot"&&(k==="base"?t.createElement("clipPath",{id:i.BaseHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.createElement("clipPath",{id:i.SmallHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),x==="ura"&&(k==="base"?R?t.createElement("clipPath",{id:i.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:i.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):R?t.createElement("clipPath",{id:i.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:i.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(x==="ra"||x==="external")&&(k==="base"?R?t.createElement("clipPath",{id:i.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:i.BaseGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):R?t.createElement("clipPath",{id:i.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.createElement("clipPath",{id:i.SmallGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),x==="member"&&(k==="base"?R?t.createElement("clipPath",{id:i.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:i.BaseMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):R?t.createElement("clipPath",{id:i.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:i.SmallMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}h(a,"AvatarMasks");var r=e(2517999913),d=e(1814447001),m=e(9081602608),f=e(5279500834),u=e(4458861846),E=e(8804120515),v=e(9122366353),g=e(6369345880),T=e(2061145436),p=e(9006442414),O=e(3299124106),y=e(3137087203),C=e.n(y),I=e(2925497764),M=e.n(I);function _(){return _=Object.assign||function(D){for(var k=1;k<arguments.length;k++){var x=arguments[k];for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&(D[R]=x[R])}return D},_.apply(this,arguments)}h(_,"_extends");const P=new c.Ay("avatar"),b={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},S=t.memo(D=>{let{botEmoji:k,canRenderEmoji:x}=D;return k?x?t.createElement(f.Ay,{className:"c-avatar__emoji",text:k,emojiSize:f.lw.LARGE,stopAnimations:!0,forceDisplay:!0}):t.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:C(),srcSet:`${M()} 2x`,alt:""}):null});function N(D){let{isExternal:k,teamId:x,team:R,showTooltip:U,badgeIconType:F,badgeIconClassName:W,allowTeamInitials:w=!0}=D;if(F){const K=W?{[W]:!!W}:{};return()=>t.createElement(g.A,{className:o()("c-avatar__icon c-avatar__nonteam_icon",{...K}),type:F})}return k&&x?()=>t.createElement(m.A,{className:"c-avatar__icon c-avatar__team_icon",id:x,team:R,size:16,showTooltip:U,allowTeamInitials:w,ariaHidden:!0}):()=>null}h(N,"getCustomBadgeIconRenderer"),N.displayName="getCustomBadgeIconRenderer";const L=h(D=>{let{size:k,userId:x,isAdHocMember:R,botId:U,botProfile:F=void 0,imageUrl:W,imageUrl2x:w,additionalOverlay:K,onClick:j=void 0,className:Q,teamId:J,isExternal:z=!1,isRestricted:ie=!1,isUltraRestricted:ee=!1,isInToken:ne=!1,isDeleted:Z=!1,tokenSize:te=void 0,memberOrBotName:he=void 0,showTooltip:ue=!1,showCard:de=!1,showBadge:re=!0,showPresence:V=!1,badgeIconType:H=void 0,badgeIconClassName:X=void 0,isInteractive:Y=!0,clogLinkClick:q=n.A,tabIndex:fe=0,ariaHidden:ce=void 0,team:Ee=void 0,botEmoji:Ae=void 0,canRenderEmoji:le=void 0,renderCustomBadge:oe=void 0,autoClogProps:me=void 0,openProfile:pe=n.A,propagateClickEvent:Te=!1,fromQuipDoc:Me=!1,allowTeamInitials:Ue=!0,disableLink:xe=!1,isUserHidden:Ne=!1,onLoad:be=n.A,onError:ke=n.A,navigate:Ke,resetIA:$,userType:ae,isDnd:Ge,isSlackbot:nt,hasNoAccess:at,"data-qa":Ve,"data-stringify-ignore":Se,triggerId:Pe,alwaysUseOpenProfile:Fe,maybeOpenInSurface:ge}=D;const He=(0,t.useCallback)(async ot=>{if(ot.preventDefault(),!Y)return null;if(Te||ot.stopPropagation(),q(),!Me){if(x&&ge&&await ge({e:ot,navProps:(0,u.Fo)({memberId:x})}))return;!Fe&&Ke&&x?Ke((0,u.Fo)({memberId:x})):pe({memberId:x,serviceId:U,botProfile:F,triggerId:Pe})}return j?j(ot):null},[Y,Te,q,Me,j,ge,x,Fe,Ke,pe,U,F,Pe]),Qe=h(()=>x?`/team/${x}`:U&&!xe?`/services/${U}`:"","getHrefAttr"),_e=h(()=>w?`${w} 2x`:"","getSrcSetAttribute"),Le=h(()=>{if(K){const ot=K>9?"9+":`+${K}`;return t.createElement("div",{className:"c-avatar__additional_overlay"},ot)}return null},"renderAdditionalOverlay");Le.displayName="renderAdditionalOverlay";const Ie=h(ot=>{let{tooltipText:ht,className:tt}=ot,ct=t.createElement("span",{className:"c-avatar__badge_inner"});ue&&(ct=t.createElement(p.Ay,{tip:ht},ct));const rn=o()("c-avatar__badge",tt);return t.createElement("span",{className:rn},ct)},"renderBadgeElement");Ie.displayName="renderBadgeElement";const we=h(()=>{const ot=te?l.n[te]:k;if(oe!==void 0&&ot>=32){const ht=oe();if(ht)return ht}if(oe===void 0&&ot>=32){const ht=N({isExternal:z,teamId:J,team:Ee,showTooltip:ue,badgeIconType:H,badgeIconClassName:X,allowTeamInitials:Ue})();if(ht)return ht}return V?t.createElement(d.A,{memberId:x,inline:!1,className:"c-avatar__presence",inheritIconSize:!0,hasNoAccess:at}):ee&&ot>=32?Ie({tooltipText:h(()=>P.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,tt=>{let{text:ct}=tt;return t.createElement("span",{className:"c-avatar__tooltip_detail"},ct)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):ie&&ot>=32?Ie({tooltipText:h(()=>P.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,tt=>{let{text:ct}=tt;return t.createElement("span",{className:"c-avatar__tooltip_detail"},ct)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");we.displayName="renderBadgeOrPresence";const ze=h(()=>{let ot=W||w;return te?(te==="large"&&w&&(ot=w),t.createElement(E.A,{image:ot,classes:"c-base_icon--token",srcSet:_e(),size:l.n[te],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:be,onError:ke,resetIA:$})):null},"renderTokenAvatar");ze.displayName="renderTokenAvatar";const ut=h(()=>W||w?te||ne?ze():t.createElement(E.A,{image:W||w,size:k,srcSet:_e(),ariaHidden:!0,widthOnly:!0,onLoad:be,onError:ke,resetIA:$}):null,"renderImageTag");ut.displayName="renderImageTag";const _t=h(ot=>{let{fallback:ht=null}=ot,tt=ht;return(W||w)&&(tt=ut()),tt},"renderImageOrFallback"),yt=Ae?t.createElement(S,{botEmoji:Ae,canRenderEmoji:le}):null,Ot=k>26?"base":"small",It=ae==="member",kt=ae==="ra"||ae==="external",gt=ae==="ura",Gt=t.useMemo(()=>V?at?i.NoAccess:nt&&Ot==="base"?i.BaseHeart:nt&&Ot==="small"?i.SmallHeart:It&&Ot==="base"&&Ge?i.BaseMemberDnd:It&&Ot==="base"?i.BaseMember:It&&Ot==="small"&&Ge?i.SmallMemberDnd:It&&Ot==="small"?i.SmallMember:kt&&Ot==="base"&&Ge?i.BaseGuestDnd:kt&&Ot==="base"?i.BaseGuest:kt&&Ot==="small"&&Ge?i.SmallGuestDnd:kt&&Ot==="small"?i.SmallGuest:gt&&Ot==="base"&&Ge?i.BaseSingleChannelGuestDnd:gt&&Ot==="base"?i.BaseSingleChannelGuest:gt&&Ot==="small"&&Ge?i.SmallSingleChannelGuestDnd:gt&&Ot==="small"?i.SmallSingleChannelGuest:"":"",[V,Ge,Ot,kt,It,gt,nt,at]),Pt=o()(Q,"c-avatar",{"c-avatar--no_image":!(W||w||yt),"c-avatar--interactive":Y&&!R&&!xe,"c-avatar--ad_hoc_member":R,"c-avatar--deleted_member":Z,"c-avatar--resetIA":$}),jt=te?l.n[te]:k,Qt={height:`${jt}px`,width:`${jt}px`};let Jt;U&&(Jt=Y&&Qe());const Yt=he&&(Y||Jt)?P.t("View {name}\u2019s Profile",{name:he}):void 0,Rt=_t({fallback:yt}),Bt={...Qt,"--avatar-image-size":`${jt}px`},dn=nt?"slackbot":ae,Mt=V||re;let Ye=t.createElement(t.Fragment,null,V&&ae&&t.createElement(a,{isDnd:Ge,userType:dn,hasNoAccess:at,size:Ot}),Ne?t.createElement(r.A,{className:Q,size:jt}):Rt,Mt&&we(),Le());return Jt?Ye=t.createElement(T.A,{href:Jt,target:"_blank",rel:"noopener noreferrer",style:Qt,className:Pt,onClick:He,tabIndex:fe,"aria-hidden":ce,"aria-label":Yt,autoClogProps:me,"data-qa":Ve,"data-stringify-ignore":Se},Ye):Y&&!xe?Ye=t.createElement(v.A,{style:Qt,className:Pt,"data-qa":Ve,"data-stringify-ignore":Se,"aria-hidden":ce,"aria-label":Yt,tabIndex:fe,onClick:He,autoClogProps:me},Ye):Ye=t.createElement("span",_({style:Bt,className:Pt},Gt?{"data-mask":Gt}:{},{"data-qa":Ve,"data-stringify-ignore":Se,"aria-hidden":ce}),Ye),Y&&de&&k>=b.medium?(0,O.yN)({memberId:x,serviceId:U,botProfile:F,children:Ye}):Ye},"BaseAvatar");L.displayName="BaseAvatar"},990356743:(B,A,e)=>{"use strict";e.d(A,{A:()=>U});var t=e(3134334389),s=e(6122756707),o=e(3889517373),n=e(1492910739),c=e(2091245204),l=e(2601053726),i=e(3256462851),a=e(4697222354),r=e(6563296078),d=e(4458861846),m=e(9911704344),f=e(7197636798),u=e(2291590724),E=e(353071615),v=e(9819891010),g=e(1263278196),T=e(6182787245),p=e(6412795092),O=e(5450958027),y=e(7874250141),C=e(3908486291),I=e(280840163),M=e(9238137835),_=e(4489510387),P=e(566873972),b=e(3542943043),S=e(205540855),N=e(6259376722),L=e(3666777625),D=e(7418708689);function k(){return k=Object.assign||function(F){for(var W=1;W<arguments.length;W++){var w=arguments[W];for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&(F[K]=w[K])}return F},k.apply(this,arguments)}h(k,"_extends");const x=(0,t.forwardRef)((F,W)=>{const w=(0,s.wA)();t.useImperativeHandle(W,()=>({props:F}),[F]);const{user:K,userId:j,botId:Q,botProfile:J,triggerId:z,size:ie,icons:ee,emoji:ne,team:Z,slackbotFeels:te,isUnknown:he,showPresence:ue,isExternal:de,hasNoAccess:re}=F;let V=null,H=null,X,Y,q,fe,ce,Ee=ne,Ae,le;const{member:oe,bot:me,memberIsHuman:pe}=(0,I.Z2)(Le=>(0,M.Od)(Le,{userId:j,botId:Q,botProfile:J})),{channelId:Te}=(0,t.useContext)(a.d),Me=(0,i.u)(),{container:Ue}=(0,t.useContext)(m.A),xe=K||j||he,Ne=xe?K||oe:void 0,be=Ne&&!Ne.isUnknown&&!Ne.is_unknown,ke=(0,I.d4)(Le=>(0,S._Z)(Le,"bot_team_id_from_member")==="on"),Ke=(0,I.d4)(Le=>(0,S._Z)(Le,"app_flexpane")==="on");if(be){var $;Q||(Ae=me==null?void 0:me.id);let Le;ke?Le=(0,T.dQ)(Ne):Le=(0,g.A)(Ne)?(0,T.D5)(Ne):(0,T.dQ)(Ne);const Ie=(0,p.Ay)({size:ie,teamOrEnterpriseId:Le,memberId:Ne==null?void 0:Ne.id,avatarHash:Ne==null||($=Ne.profile)===null||$===void 0?void 0:$.avatar_hash,slackbotFeels:te});V=Ie==null?void 0:Ie.imageUrl,H=Ie==null?void 0:Ie.imageUrl2x,X=de||(Ne==null?void 0:Ne.isExternal),Y=Ne==null?void 0:Ne.is_restricted,q=Ne.is_ultra_restricted,fe=Ne.id,ce=(0,E.oy)(Ne)}le=(0,I.d4)(Le=>be&&X?(0,T.Ux)(Le,Ne):void 0);let ae=xe?void 0:ee||J&&J.icons;if(!xe){if(me){ae=ae||me.icons;const Le=(0,n.Cu)()?_.O:_.U;(me==null?void 0:me.app_id)===Le&&(ae=(me==null?void 0:me.icons)||ae)}if(!Ee&&ae&&(Ee=ae.emoji),!Ee){const Le=(0,p.Ay)({size:ie,botImages:ae,isBot:!0});V=Le.imageUrl,H=Le.imageUrl2x}}le=(0,I.d4)(Le=>xe?le:(Z==null?void 0:Z.id)||(0,u.s)(Le,{bot:me,botProfile:J,botId:Q})||void 0),X=(0,I.d4)(Le=>xe?X:le?le!==(0,y.Kc)(Le):!1);const Ge=(0,I.d4)(Le=>{if(be)return(0,v.sE)(Le,Ne);if(!xe)return(0,f.Hg)(me)}),nt=(0,I.d4)(Le=>{let Ie=Ee&&le&&(0,b.ux)(Le,{text:Ee,teamId:le});if(!Ie&&Ee&&le===(0,y.Kc)(Le)){const we=(0,L.H7)(Le),ze=we&&we.id;ze&&ze!==le&&(Ie=(0,b.ux)(Le,{text:Ee,teamId:ze}))}return Ie}),at=(0,I.d4)(Le=>ue?(0,O.d)(Le,j):void 0),Ve=(0,I.d4)(Le=>ue?(0,P.z)(Le,j):!1);var Se;const Pe=(Se=j??fe)!==null&&Se!==void 0?Se:"",Fe=(0,I.d4)(Le=>Pe?(0,N.a)(Le,Pe):!1),ge=(0,t.useCallback)(Le=>w((0,C.U)(Le)),[w]),He=(0,t.useCallback)(Le=>Me&&Te&&Ue!==D.mq.Split?w((0,r.o)((0,d.sL)(Le,Te,Me.id))):w((0,r.o)(Le)),[w,Me,Te,Ue]),Qe=(0,t.useCallback)(Le=>w((0,l.d)(Le)),[w]),_e=pe||me&&!(0,E.v3)(me)||z;return t.createElement(c.f1,k({},F,{userId:j,imageUrl:V||void 0,imageUrl2x:H||void 0,botEmoji:Ee,canRenderEmoji:!!nt,teamId:le,isRestricted:Y,isUltraRestricted:q,isDeleted:ce,memberOrBotName:Ge,botId:Ae||Q,disableLink:!_e,isExternal:X,isUserHidden:Fe,userType:at,isDnd:Ve,isSlackbot:j===o.Q$,size:ie,openProfile:ge,navigate:He,hasNoAccess:re,showPresence:ue,triggerId:z,alwaysUseOpenProfile:Ke,maybeOpenInSurface:Qe}))}),R=t.memo(x);R.displayName="ConnectedAvatar";const U=R},7175825412:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>o,RG:()=>s.RG,f1:()=>s.f1,fp:()=>s.fp});var t=e(990356743),s=e(2091245204);const o=t.A},2517999913:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5190921192);function c(i){let{className:a="",size:r,"data-qa":d}=i;return t.createElement("span",{className:o()(a,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":r===16}),style:{width:`${r}px`,height:`${r}px`},"data-qa":d},t.createElement("span",{className:"c-hidden_user_avatar--icon"},t.createElement(n.A,{size:r<=24?"16":"24",name:"user-hide"})))}h(c,"HiddenUserAvatar"),c.displayName="HiddenUserAvatar";const l=t.memo(c)},1085956403:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(2947229296),o=e(5190921192);const n=new s.Ay("members");function c(){return t.createElement("span",{className:"c-hidden_user_icon_and_name "},t.createElement(o.A,{name:"user-hide",inline:!0}),"\xA0",n.t("Name hidden"))}h(c,"HiddenUserIconAndName"),c.displayName="HiddenUserIconAndName";const l=t.memo(c)},1836905948:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(5279500834),o=e(353071615),n=e(2236744111),c=e(280840163),l=e(6766178921);function i(r){let{memberId:d,className:m,emoji:f,emojiSize:u=s.lw.SMALL,showTooltips:E=!1,stopAnimations:v=!1}=r;const g=(0,c.d4)(O=>(0,l.nv)(O,d));if(!g||!f)return;const T=(0,o.q4)(g),p=(0,n.H)(f,T);return t.createElement(s.Ay,{className:m,emojiSize:u,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:E,stopAnimations:v,text:p.name,url:p.url})}h(i,"CustomStatusEmoji"),i.displayName="CustomStatusEmoji";const a=t.memo(i)},4273433797:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(2742515263),o=e(2947229296),n=e(6761585902),c=e(4953088289),l=e(293248343);const i=new o.Ay("current_status");function a(m){let{className:f,expiration:u,time24:E}=m;if(!u)return null;const v=u*1e3,g=i.t("Until {expirationDate}",{expirationDate:(0,s.A)(v,"{status_expiration}",{do24hrTime:E,shouldCapitalize:!1})});return t.createElement("span",{className:f,"data-qa-status-expiration":u},g)}h(a,"CustomStatusExpiration"),a.displayName="CustomStatusExpiration";function r(m,f){let{memberId:u}=f;return{expiration:(0,c.A)(m,u||"")||0,time24:!!(0,l.ty)(m,"time24")}}h(r,"mapStateToProps");const d=(0,n.N)(r)(a)},1871254375:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(5279500834),o=e(4125496918),n=e(353071615),c=e(280840163),l=e(6766178921);function i(r){let{memberId:d,className:m,emojiSize:f,showTooltips:u,stopAnimations:E,text:v}=r;const g=(0,c.d4)(p=>(0,l.nv)(p,d));if(!v)return;const T=(0,n.q4)(g);return t.createElement("span",{className:m,"data-qa":"custom_status_text"},t.createElement(o.A,{text:v,inputIsEscaped:!0,emojiSize:f||s.lw.MEDIUM,showTooltips:!!u,stopAnimations:!!E,emojiDisplayInfo:T}))}h(i,"CustomStatusText"),i.displayName="CustomStatusText";const a=t.memo(i)},9012059190:(B,A,e)=>{"use strict";e.d(A,{A:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(1836905948),c=e(4273433797),l=e(1871254375),i=e(5279500834),a=e(353071615),r=e(2236744111),d=e(280840163),m=e(6766178921),f=e(243903495);const u=h(O=>{let{stopAnimations:y=!1,noText:C=!1,className:I,memberId:M="",showEmojiTooltip:_=!1,insertTextSpacing:P=!1,displayInMemberProfile:b=!1,displayEmojiTextAsFallbackIfNoText:S=!1,emoji:N}=O;const L=(0,d.d4)(R=>(0,f.A)(R,M)),D=(0,d.d4)(R=>(0,m.nv)(R,M)),k=S&&!L&&!C&&!b;let x=N;if(k){const R=(0,a.q4)(D),U=(0,r.H)(N,R);U&&(x=U.name)}if(b){const R=(0,a.fy)(D);return t.createElement("span",{className:I},t.createElement(n.A,{memberId:M,emoji:N,stopAnimations:y,showTooltips:_,emojiSize:i.lw.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),L&&t.createElement(l.A,{memberId:M,className:o()("margin_left_50","padding_right_50",{margin_right_100:R}),emojiSize:i.lw.SMALL,stopAnimations:y,text:C?"":L}))}return t.createElement("span",{className:I},t.createElement(n.A,{memberId:M,showTooltips:_,emojiSize:i.lw.SMALL,emoji:N,stopAnimations:y}),L&&t.createElement(l.A,{memberId:M,className:P?"margin_left_50":"margin_left_25",emojiSize:i.lw.SMALL,stopAnimations:y,text:C?"":L}),k&&x&&t.createElement("span",{className:P?"margin_left_50":"margin_left_25"},x))},"CustomStatusTooltipContent");u.displayName="CustomStatusTooltipContent";const E=t.memo(u);var v=e(9006442414),g=e(2131091774);const T=h(O=>{let{animated:y=!1,tooltip:C=!0,tipPosition:I,noText:M=!1,className:_,memberId:P="",showEmojiTooltip:b=!1,insertTextSpacing:S=!1,displayInMemberProfile:N=!1,fallback:L}=O;const D=(0,d.d4)(x=>(0,g.A)(x,P)),k=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement(E,{className:"c-custom_status__tooltip",noText:M,memberId:P,showEmojiTooltip:b,insertTextSpacing:S,displayInMemberProfile:N,emoji:D,displayEmojiTextAsFallbackIfNoText:!0}),t.createElement(c.A,{className:"c-custom_status__expiration c-tooltip__subtitle",memberId:P})),[P,M,b,S,N,D]);return D?C?t.createElement(v.Ay,{tip:k,position:I,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.createElement("span",{className:o()("c-custom_status",_),"data-qa":"custom_status"},t.createElement(n.A,{memberId:P,showTooltips:!1,emojiSize:i.lw.SMALL,emoji:D,stopAnimations:!y}))):t.createElement(E,{className:o()(_,"c-custom_status","c-custom_status--inline",{display_flex:N}),stopAnimations:!y,noText:M,memberId:P,showEmojiTooltip:b,insertTextSpacing:S,displayInMemberProfile:N,emoji:D}):L||null},"CustomStatus");T.displayName="CustomStatus";const p=t.memo(T)},7222797029:(B,A,e)=>{"use strict";e.d(A,{A:()=>o,j:()=>s.A});var t=e(9012059190),s=e(4273433797);const o=t.A},3333012541:(B,A,e)=>{"use strict";e.d(A,{A:()=>T});var t=e(3134334389),s=e(1649982175),o=e(3297051565),n=e.n(o),c=e(2947229296),l=e(5630795175),i=e(4527069385),a=e(9819891010),r=e(6761585902),d=e(6259376722);function m(){return m=Object.assign||function(p){for(var O=1;O<arguments.length;O++){var y=arguments[O];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(p[C]=y[C])}return p},m.apply(this,arguments)}h(m,"_extends");const f=new c.Ay("files"),u={name:n().string.isRequired,isChannelFiles:n().bool,showMemberNameIfHidden:n().bool},E={isChannelFiles:!1,showMemberNameIfHidden:!1},v=h(p=>{const O=(0,s.A)(p,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let y=p.name;if(p.isChannelFiles){const C=p.name;y=f.t("Shared by {memberName}",{memberName:C})}return t.createElement("span",m({},O),y)},"MemberName");v.displayName="MemberName",v.propTypes=u,v.defaultProps=E;const g=h((p,O)=>{const{id:y,member:C,skipPrefCompliance:I,showMemberNameIfHidden:M}=O;if(I)return{name:(0,l.wg)(C)};let _;return!M&&(0,d.a)(p,y)?_=f.t("Name hidden"):_=C?(0,a.sE)(p,C,!1,!1,I,!1):(0,i.I)(p,y,!1,!1,!1,!1),{name:_}},"mapStateToProps"),T=(0,r.N)(g)(v)},483051253:(B,A,e)=>{"use strict";e.d(A,{I:()=>a,a:()=>r});var t=e(3134334389),s=e(4125496918),o=e(8859166048),n=e(6928237551),c=e(3309105301),l=e(280840163),i=e(3351247794);const a=t.memo(d=>{let{name:m}=d;return t.createElement(s.A,{text:m,showTooltips:!1,inputIsEscaped:!0})}),r=t.memo(d=>{let{channel:m,channelId:f,name:u,displayNameOptions:E}=d;const v=(0,l.d4)(c.h),g=(0,l.d4)(y=>m??(0,i.OL)(y,f)),T=(0,o.yz)(g),p=(0,l.d4)(y=>u??(0,n.SB)(y,g,E));return v&&T?t.createElement(a,{name:p}):p})},414222479:(B,A,e)=>{"use strict";e.d(A,{A:()=>M,k:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4470890745),c=e(5270110349),l=e(1019181210),i=e(5355681964),a=e(4957255594),r=e(9803445011),d=e(8859166048),m=e(796726665),f=e(1240477450),u=e(4343907495),E=e(2691514942),v=e(6761585902),g=e(3351247794);function T(){return T=Object.assign||function(_){for(var P=1;P<arguments.length;P++){var b=arguments[P];for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(_[S]=b[S])}return _},T.apply(this,arguments)}h(T,"_extends");function p(_){return!(0,d.LI)(_)&&!(0,d.yz)(_)}h(p,"shouldUseInlineChannelEntity");const O="INLINE-CHANNEL-ENTITY";function y(_){let{className:P,channel:b,bestFormerName:S,displayFormerNames:N=c.P.false,logger:L,boldIcon:D=!1,showTeam:k=!0,truncate:x=!1,truncateWidth:R,overrideHiddenName:U,overrideHiddenIcon:F,withTruncationTooltip:W,channelNameClassName:w,omitNonExistentTooltip:K,channelHasNonUniqueName:j=!1,showDisambiguatingTeamName:Q=!1,readChannelIcon:J=!1}=_;const z=(0,d.t8)(b),ie=(0,d.QR)(b||null),ee=(0,t.useCallback)(re=>{let{className:V,...H}=re;return(!ie||F)&&t.createElement(a.A,T({},H,{bold:D,className:V,channel:b,overrideHiddenIcon:F,readChannelIcon:J}))},[b,D,ie,F,J]);if(!p(b||null))return L==null||L.warn(O,"InlineChannelEntity should not display IMs or MPIMs"),null;const ne=o()(P,"c-inline_channel_entity"),Z=(0,f.F)(b)?c.pI.dim:void 0,te=b&&U?{...b,name:U}:b||void 0,he=o()(w,"c-inline_channel_entity__content"),ue=j&&Q,de=(z||ie)&&!U?t.createElement(r.A,{"data-qa":"inline_channel_entity__missing",type:z?"unknown":"non-existent",size:"small",width:R,omitNonExistentTooltip:K}):t.createElement("span",{className:he},t.createElement(l.A,{bold:D,channel:te,bestFormerName:S,displayFormerNames:N,showTeam:k,showTeamForLocalChannel:ue,width:R,"data-qa":"inline_channel_entity__name",overrideHiddenName:U}));return t.createElement(u.A,{avatar:ee,className:ne,"data-qa":"inline_channel_entity","data-channel-id":b&&b.id,style:Z,truncate:x,truncateWidth:R,withTruncationTooltip:W,primaryContent:de,secondaryContent:R&&t.createElement(t.Fragment,null,k&&t.createElement(i.A,{className:"c-inline_channel_entity__team",iconSize:14,channel:te,"data-qa":"inline_channel_entity__team"}))})}h(y,"InlineChannelEntity"),y.displayName="InlineChannelEntity";function C(_){return Object.prototype.hasOwnProperty.call(_,"channel")}h(C,"propsContainsChannel");function I(_,P){const b=C(P)?P.channel:(0,g.OL)(_,P.channelId);let S;return P.showDisambiguatingTeamName&&(S=(0,m.i)((0,g.MS)(_),b)),{channel:b,channelHasNonUniqueName:S,logger:(0,E.Ay)({state:_})}}h(I,"mapStateToProps");const M=(0,v.N)(I,null,null,{areStatePropsEqual:n.kt})(y)},2848133605:(B,A,e)=>{"use strict";e.d(A,{A:()=>S});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6696292586),c=e(2947229296),l=e(5270110349),i=e(7608183932),a=e(1019181210),r=e(9803445011),d=e(9963560),m=e(8859166048),f=e(796726665),u=e(1240477450),E=e(5887324738),v=e(9951047608),g=e(2691514942),T=e(6761585902),p=e(3351247794),O=e(205540855),y=e(5793557592);function C(){return C=Object.assign||function(N){for(var L=1;L<arguments.length;L++){var D=arguments[L];for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(N[k]=D[k])}return N},C.apply(this,arguments)}h(C,"_extends");const I=new c.Ay("channel_entity"),M="SMALL-CHANNEL-ENTITY";function _(N){let{className:L,channel:D,bestFormerName:k,inlineNameSuffix:x,invert:R=!1,logger:U,displayFormerNames:F=l.P.false,showTeamForLocalChannel:W,showDraftIcon:w=!1,showFilledIcon:K=!1,showTeam:j,memberCount:Q,onlyBoldIfUnread:J=!1,showTruncatedChannelNameTooltip:z=!1,"data-qa":ie="small_channel_entity",channelHasNonUniqueName:ee=!1,showDisambiguatingTeamName:ne=!1,useIconOutline:Z=!1,removeArchivedSuffix:te=!1,experimentOmniPolishGroupOn:he=!1}=N;const ue=(0,t.useCallback)(Ae=>t.createElement(i.A,C({},Ae,{className:o()({"c-small_channel_entity__icon":!Z,"c-small_channel_entity__icon--nonMember":he&&!(0,E.bl)(D)&&!(0,u.F)(D),"c-small_channel_entity__icon--nonMemberArchived":(0,u.F)(D)&&he&&!(0,E.bl)(D)}),channel:D,size:Z?l.RG.smallListVariantOutline:l.RG.small,showDraftIcon:w,showFilledIcon:K})),[D,he,w,K,Z]);if((0,m.LI)(D)||(0,m.yz)(D))return U==null||U.warn(M,"SmallChannelEntity should not display IMs or MPIMs"),null;const de=o()(L,"c-small_channel_entity"),re=!J||(0,d.KJ)(D),V=(0,m.t8)(D),H=(0,m.QR)(D);let X=(0,u.F)(D)?l.pI.dim:void 0;R&&(X=l.pI.highlightDark);let Y=null;if((0,n.A)(Q)){const Ae=I.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:Q,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});Y=t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":Ae},"(",Q,")")}const q=ee&&ne,fe=t.createElement(a.A,{channel:D,bestFormerName:k,inlineNameSuffix:x,displayFormerNames:F,showTeamForLocalChannel:W||q,showTeam:j,removeArchivedSuffix:te,bold:!!re}),ce=z?t.createElement(v.CG,{withTruncationTooltip:!0},fe):fe,Ee=o()("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":z,"c-small_channel_entity__content--nonMember":he&&!(0,E.bl)(D)&&!(0,u.F)(D),"c-small_channel_entity__content--nonMemberArchived":he&&!(0,E.bl)(D)&&(0,u.F)(D)});return t.createElement(v.Ay,{avatar:ue,className:de,"data-qa":ie,size:"small",style:X,text:t.createElement(v.CG,null,V||H?t.createElement(r.A,{type:V?"unknown":"non-existent",invert:R,size:"small"}):t.createElement("span",{className:Ee},ce,x&&t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},x),Y)),useAvatarOutline:Z})}h(_,"SmallChannelEntity"),_.displayName="SmallChannelEntity";function P(N){return Object.prototype.hasOwnProperty.call(N,"channel")}h(P,"propsContainsChannel");function b(N,L){let D;if(L.showMemberCounts){const U=(0,y.q8)(N,P(L)?(0,d.FB)(L.channel):L.channelId);D=U==null?void 0:U.counts.member_count}const k=P(L)?L.channel:(0,p.OL)(N,L.channelId);let x;L.showDisambiguatingTeamName&&(x=(0,f.i)((0,p.MS)(N),k));const R=(0,O._Z)(N,"omni_polish")==="on";return{memberCount:D,channel:k,logger:(0,g.Ay)({state:N,label:M}),channelHasNonUniqueName:x,experimentOmniPolishGroupOn:R}}h(b,"mapStateToProps");const S=(0,T.N)(b)(_)},539692672:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(5270110349),o=e(2848133605),n=e(718447733),c=e(4073687536),l=e(6761585902),i=e(3351247794);function a(){return a=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(E[T]=g[T])}return E},a.apply(this,arguments)}h(a,"_extends");function r(E,v,g){if(E)return v||g?s.pI.highlightDim:s.pI.highlightDark;if(v||g)return s.pI.dim}h(r,"getBaseStyle");function d(E){let{className:v,secondaryContent:g,isActive:T=!1,isDeactivated:p=!1,isDisabled:O=!1,showUnreadBadge:y=!1,badgeCount:C=0,onlyBoldIfUnread:I=!1,useIconOutline:M=!1,..._}=E,P=g;y&&(P=t.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},g,t.createElement(c.A,{count:C,className:"c-channel_entity__mentions",style:T?c.r.white:c.r.red})));const b=r(T,O,p);return t.createElement(n.A,{className:v,primaryContent:t.createElement(o.A,a({invert:b===s.pI.highlightDark,onlyBoldIfUnread:I,useIconOutline:M},_)),secondaryContent:P,size:"small",style:b})}h(d,"SmallChannelListEntity"),d.displayName="SmallChannelListEntity";function m(E){return Object.prototype.hasOwnProperty.call(E,"channel")}h(m,"propsContainsChannel");function f(E,v){const g=m(v)?v.channel:(0,i.OL)(E,v.channelId),T=v.showUnreadBadge?v.badgeCount||(0,i.TJ)(E,g):0;return{channel:g,badgeCount:T}}h(f,"mapStateToProps");const u=(0,l.N)(f)(d)},7608183932:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5270110349),c=e(5895760034),l=e(8859166048),i=e(5190921192),a=e(280840163);function r(){return r=Object.assign||function(f){for(var u=1;u<arguments.length;u++){var E=arguments[u];for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(f[v]=E[v])}return f},r.apply(this,arguments)}h(r,"_extends");function d(f){let{size:u=n.RG.medium,className:E,channel:v,showDraftIcon:g=!1,showFilledIcon:T=!1}=f;const p=(0,l.t8)(v),O=(0,a.d4)(C=>(0,c.Ay)(C,v,{filled:T,showDraftIcon:g})),y=(0,t.useMemo)(()=>{const C={...O};return u===n.RG.small&&(C.size="18"),u===n.RG.smallListVariantOutline&&(C.size="16"),C},[u,O]);return t.createElement("span",{className:o()("c-channel_icon",{"c-channel_icon--unknown":p,"c-channel_icon--with-background":u===n.RG.medium},E),"data-channel-type-icon":(y==null?void 0:y.name)||"unknown"},!p&&t.createElement(i.A,r({},y)))}h(d,"ChannelIcon"),d.displayName="ChannelIcon";const m=d},1019181210:(B,A,e)=>{"use strict";e.d(A,{A:()=>N});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9113979368),c=e(9483971336),l=e(2947229296),i=e(5150875261),a=e(5270110349),r=e(5355681964),d=e(4957255594),m=e(4734502414),f=e(9963560),u=e(6928237551),E=e(1240477450),v=e(1336112848),g=e(7547404166),T=e(9323019934),p=e(7295269717),O=e(5478938623),y=e(3299124106),C=e(6761585902),I=e(3701660703),M=e(3666777625);function _(){return _=Object.assign||function(L){for(var D=1;D<arguments.length;D++){var k=arguments[D];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(L[x]=k[x])}return L},_.apply(this,arguments)}h(_,"_extends");const P=new l.Ay("search");function b(L){const{bestFormerName:D,bold:k=!0,channel:x,channelName:R,overrideHiddenName:U,width:F,displayFormerNames:W=a.P.true,isChannelFrozenAndInGracePeriod:w,showTeam:K=!0,showTeamForLocalChannel:j=!1,showTeamName:Q,titleBlocks:J,removeArchivedSuffix:z}=L,ie=(0,E.F)(x)&&!w&&!z;let ee=`${U??R}${ie?` ${P.t("(archived)")}`:""}`,ne;if(W)if(D){const te=t.createElement(d.A,{bold:k,className:"c-channel_name__former_channel_icon",channel:x}),he=t.createElement("span",{className:"c-channel_name__former_name_text"},t.createElement(m.A,{text:D,showTooltips:!1}));ne=D&&t.createElement("span",{className:"c-channel_name__suffix"},P.rt(" (formerly {icon}{name})",{icon:te,name:he}))}else{let te;const he=(0,f.Hx)(x);if(he&&!(0,n.A)(he)){const ue=he.map(re=>`#${re}`);te=(0,i.A)(ue,{noConj:!0}).join("")}te&&(ee+=` ${P.t("(formerly {names})",{names:te})}`)}const Z=o()("c-channel_entity__name",{"c-channel_entity__name--bold":k});return t.createElement(t.Fragment,null,t.createElement("span",_({className:Z},(0,c.A)(L)),J??t.createElement(t.Fragment,null,t.createElement(m.A,{text:ee,showTooltips:!1}),W&&ne)),!F&&t.createElement(t.Fragment,null,K&&t.createElement(r.A,{className:"c-channel_entity__team",iconSize:a.RG.inline,channel:x,"data-qa":"channel_entity__team",shouldRender:j,showTeamName:Q})))}h(b,"ChannelName"),b.displayName="ChannelName";function S(L,D){let{channel:k,includeChannelPrefix:x}=D;const R=(0,M.H7)(L)||(0,M.lp)(L),U=(0,O.ZT)(R),F=k&&(0,v.jT)(k)&&(0,p.l)(k.id),W=F?(0,I.Lp)(L,F):void 0,w=W&&(0,T.U9)(W)?(0,y.GU)({id:F,fileId:F,size:"caption",truncate:!1}):null;var K;return{channelName:(K=(0,u.SB)(L,k,{publicChannelIncludeHashSign:!!x,imIncludeAtSign:!1}))!==null&&K!==void 0?K:void 0,titleBlocks:w,isChannelFrozenAndInGracePeriod:(0,g.sP)(U,k)}}h(S,"mapStateToProps");const N=(0,C.N)(S)(b)},5355681964:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9963560),c=e(4314470620),l=e(2322942398),i=e(5478938623),a=e(6761585902),r=e(3351247794),d=e(3666777625);let m=h(class extends t.Component{render(){const{shouldRender:v,team:g,className:T}=this.props;return!v||!g?null:t.createElement("div",{className:o()("c-channel_team","c-channel_team--xws",T),"data-qa":"channel_team"},t.createElement("span",{className:"c-channel_team__name"},(0,i.F1)(g)))}},"ChannelTeam");m.displayName="ChannelTeam";const f=h((E,v)=>{let{channel:g,channelId:T,shouldRender:p}=v;const O=g||(0,r.OL)(E,T),y=(0,c.R)(E,O);let C;if((0,n.lo)(O))C=(0,d._J)(E,(0,n.bK)(E,O));else if(p||y){const I=(0,l.n)(E,O);C=(I?(0,d._J)(E,I):void 0)||(0,d.H7)(E)}return{shouldRender:p||y||!!(0,n.lo)(O),team:C??void 0}},"mapStateToProps"),u=(0,a.N)(f)(m)},4957255594:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(5895760034),l=e(8859166048),i=e(5190921192),a=e(280840163);function r(){return r=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},r.apply(this,arguments)}h(r,"_extends");const d=new n.Ay("channels"),m=h(u=>{let{className:E,filled:v,bold:g,channel:T,disableArchived:p,overrideHiddenIcon:O,readChannelIcon:y}=u;const C=(0,a.d4)(P=>O||(0,c.Ay)(P,T,{filled:v||(0,l.Zp)(T),bold:g,disableArchived:p})),I=o()(E,{"c-inline_channel_icon c-inline_channel_icon--space":!0}),M=(0,l.Zp)(T),_=(0,t.useMemo)(()=>M?d.t("private channel ",{fallbackHash:"943992d03db8cad462814c3650217ac329a26742",fallbackHashNs:"channel_sidebar"}):d.t("channel ",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf",fallbackHashNs:"huddles"}),[M]);return t.createElement(t.Fragment,null,y&&t.createElement("span",{className:"offscreen"},_),t.createElement("span",{className:I,"data-inline-channel-type-icon":C.name},t.createElement(i.A,r({inline:!0},C))))},"InlineChannelIcon");m.displayName="InlineChannelIcon";const f=t.memo(m)},5895760034:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>_,PR:()=>I,pH:()=>y});var t=e(5076607117),s=e(9963560),o=e(8859166048),n=e(1240477450),c=e(1336112848),l=e(7547404166),i=e(9323019934),a=e(7295269717),r=e(5478938623),d=e(3351247794),m=e(3701660703),f=e(3666777625);const u={name:"archive"},E={name:"archive-filled"},v={name:"edit"},g={name:"edit-filled"},T={name:"file"},p={name:"lists"},O={name:"lock"},y={name:"lock-filled"},C={name:"channel"},I={name:"channel-filled"},M={name:"canvas"};function _(P,b){let{filled:S,bold:N,disableArchived:L,showDraftIcon:D}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const k=(0,f.H7)(P)||(0,f.lp)(P),x=(0,r.ZT)(k);if(!(0,l.sP)(x,b)&&((0,n.F)(b)&&!L||(0,l.Zz)(b)))return S?E:u;if(D&&(0,s.yc)(P,b.id))return S?g:v;if((0,c.jT)(b)){const U=(0,m.Lp)(P,(0,a.l)(b.id));if((0,i.wL)(U))return M;if((0,i.aD)(U)){const F=(0,d.Pf)(P,U.id),W=(0,d.OL)(P,F);return(0,o.Zp)(W)||(0,o.JM)(W)?S?y:O:M}return(0,i.l7)(U)?p:T}const R=(0,t.sc)(b);return R||((0,o.Zp)(b)?S?y:O:N?I:C)}h(_,"getChannelIconType")},59694732:(B,A,e)=>{"use strict";e.d(A,{A:()=>g});var t=e(3134334389),s=e(2947229296),o=e(9510202814),n=e(2859360324),c=e(9323019934),l=e(6652075354),i=e(4527069385),a=e(7570256687),r=e(6761585902),d=e(280840163),m=e(1242487384),f=e(293248343);const u=new s.Ay("files");function E(T){let{file:p,time24:O,isChannelFiles:y,useSeparator:C,customSeparator:I,excludeTime:M,displaySharedBy:_,documentUnfurlTs:P=void 0,name:b,showYou:S,isCreator:N=!1}=T;const L=y||_;let D;const k=I??"\xB7",x="\xA0\xA0";L?D=null:C||I||P?D=[x,k,x]:D=x;const R=N&&(p!=null&&p.created)?p.created:(0,c.VP)(p);let U,F;if(R){const ie=(0,a.Od)(R,{shortenMonth:!0});U=ie;let ee;if(L)if(ie==="Today"||ie==="Yesterday"){const Z=ie.toLowerCase();ee=u.t("{newDate}",{newDate:Z})}else ee=u.t("on {date}",{date:ie});else ee=ie;const ne=M?ee:u.t("{date} at {time}",{date:ie,time:(0,a.Yq)(R,"{time}",{do24hrTime:O})});F=t.createElement(t.Fragment,null,D,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-timestamp"},ne))}const w=(0,d.d4)(m.WR)===p.user;let K=p.bot_id?t.createElement(n.A,{id:p.bot_id,isChannelFiles:L,isWorkflow:!1,"data-qa":"file-entity-metadata-user",className:"margin_right_0"}):t.createElement(o.A,{name:b,isChannelFiles:L,"data-qa":"file-entity-metadata-user",inline:!0,isBold:!1,isCreator:N,className:"margin_right_0",isSelf:S?w:!1});(0,c.aD)(p)&&p.user==="USLACKBOT"&&(K=t.createElement("span",{className:"margin_right_25"},u.t("Shared")));const j=P&&(0,a.Od)(P,{shortenMonth:!0});let Q=!1,J;j&&(j.includes("Today")||j.includes("Yesterday")?J=u.t("Added {readableTs}",{readableTs:j}):J=u.t("Added on {readableTs}",{readableTs:j}),U&&(Q=U===j));let z;return J&&(z=t.createElement(t.Fragment,null,D,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-unfurl-in-canvas-timestamp"},J))),(0,l.A)(p)||(0,c.aK)(p)||(0,c.c4)(p)?null:t.createElement(t.Fragment,null,K,Q?t.createElement(t.Fragment,null," ",z):t.createElement(t.Fragment,null," ",F,z))}h(E,"FileEntityUserTimestamp"),E.displayName="FileEntityUserTimestamp";const v=h((T,p)=>({time24:(0,f.ty)(T,"time24"),name:(0,i.I)(T,p.file.user||"",!1,!1,!1,!1)}),"mapStateToProps"),g=(0,r.N)(v)(E)},4959737713:(B,A,e)=>{"use strict";e.d(A,{I:()=>N,A:()=>k});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(9113979368),l=e(2947229296),i=e(5270110349),a=e(5318639645),r=e(7523342097),d=e(5680356591),m=e(5279500834),f=e(1287843253),u=e(2479670139),E=e(5185154246),v=e(9323019934),g=e(9951047608),T=e(6369345880),p=e(5190921192),O=e(6228897917);function y(x){var R;const U=(0,O.A)(),F=(R=x.match(U))===null||R===void 0?void 0:R[0];return F&&x.indexOf(F)===0?[F,x.slice(F.length).trim()]:[null,x]}h(y,"parseLeadingEmoji");var C=e(2138802802),I=e(6761585902),M=e(3367202917),_=e(3701660703),P=e(2441508242),b=e.n(P);const S=new l.Ay("files");var N;(function(x){x[x.NORMAL=0]="NORMAL",x[x.BLACK=1]="BLACK"})(N||(N={}));function L(x){let{className:R,"data-qa":U,"data-sk":F,fileFromPropsOrState:W,id:w,isDisabled:K,detailText:j,shouldShowHighlight:Q=!0,shouldShowDetailText:J=!0,fontWeight:z,useLeadingEmojiAsIcon:ie,shouldCheckForTemporaryFiles:ee,useLiveTitleForChannelCanvas:ne,useMissingIconIfFileUnknown:Z,hideRichTextEmojiTooltips:te=!1,useIconOutline:he=!1}=x;const ue=(0,s.wA)(),de=(W==null?void 0:W.filetype)||(W==null?void 0:W.highlight_type),re=(0,C.oH)(w)&&ee,V=(0,t.useMemo)(()=>{const fe=n()({"c-file_entity__icon":!he,[b().fileIconSearch]:he});return t.createElement(T.A,{className:fe,file:"svgicon",type:de})},[de,he]),H=(0,t.useCallback)(()=>{if(!W)return null;const fe=n()("c-file_entity__icon",{"c-file_entity__icon--contained":he});if(re)return t.createElement("span",{className:fe},t.createElement(p.A,{name:"canvas-content"}));if((0,v.uO)(W)||(0,v.aK)(W))return t.createElement(T.A,{className:fe,type:"trash"});if((0,v.kn)(W)||(0,v.Bp)(W)||(0,v.Ki)(W)||(0,v.AL)(W))return t.createElement(T.A,{className:fe,type:"eye-closed"});if(!(0,v.ZG)(W))return t.createElement(T.A,{className:fe,type:"question"});if((0,v.Y8)(W))return t.createElement(E.A,{iconClassName:n()(fe,"p-list_icon--search"),file:W,isFilled:!1});if((0,v.l7)(W)){const[ce,Ee]=y((0,v.V)(W)||"");return ce&&ue((0,M.D)(ce))&&ie?t.createElement("div",{className:n()(fe,"c-file_entity_emoji_container")},t.createElement(m.Ay,{text:ce,emojiSize:m.lw.SMALL,showTooltip:!1,stopAnimations:!0})):t.createElement(u.A,{iconClassName:n()(fe,"p-list_icon--search"),file:W,isFilled:!1,size:"inherit"})}if((0,v.DQ)(W)||W.filetype==="docs"){const[ce,Ee]=y((0,v.V)(W)||"");return ce&&ue((0,M.D)(ce))&&ie?t.createElement("div",{className:n()(fe,"c-file_entity_emoji_container")},t.createElement(m.Ay,{text:ce,emojiSize:m.lw.SMALL,showTooltip:!1,stopAnimations:!0})):t.createElement("span",{className:fe},t.createElement(p.A,{name:"canvas-content"}))}return de?V:Z?t.createElement("span",{className:n()(fe,"c-file_entity__missing_icon_container")},t.createElement(d.A,{size:16})):t.createElement(T.A,{className:fe,file:"tiny",type:"file"})},[ue,W,re,de,ie,Z,he,V]),X=(0,t.useMemo)(()=>{if(J)return t.createElement(g.Q,{"data-qa":"file_detail_text"},j)},[j,J]),Y=K?i.pI.dim:void 0;if((0,c.A)(W))return null;const q=H();return t.createElement(g.Ay,{size:"small",className:n()("c-file_entity",R),"data-id":w||(W==null?void 0:W.id),"data-qa":U,"data-sk":(0,c.A)(F)?"small_file_entity":F,style:Y,avatar:H,text:t.createElement(g.CG,{className:n()("c-file_entity__text",{normal:z===0,black:z===1})},re?S.t("Untitled"):t.createElement(f.A,{file:W,shouldShowHighlight:Q,useLeadingEmojiAsIcon:ie,useLiveTitleForChannelCanvas:ne,hideRichTextEmojiTooltips:te})),metadata:X,useAvatarOutline:q!==V&&he})}h(L,"SmallFileEntity"),L.displayName="SmallFileEntity";function D(x,R){let{id:U,file:F,detailType:W=a.s.FILETYPE}=R;const w=F||(0,_.Lp)(x,U),K=(0,r.A)(x,w,W);return{fileFromPropsOrState:w,detailText:K}}h(D,"mapStateToProps");const k=(0,I.N)(D)(L)},5318639645:(B,A,e)=>{"use strict";e.d(A,{h:()=>s,s:()=>t});const t={NONE:"none",OWNER:"owner",OWNER_TIMESTAMP:"owner-timestamp",CHANNEL:"channel",SHARER:"sharer",FILETYPE:"filetype",LAST_UPDATED:"last-updated",LAST_VIEWED:"last-viewed",CREATED_TIMESTAMP:"created-timestamp",SHARED_TIMESTAMP:"shared-timestamp",ACTIVITY_MENTION:"mention",READ_TIME:"read-time"},s={Detail:"detail",View:"view",Download:"download",Window:"window",Remote:"remote",Reveal:"reveal",External:"external",Open:"open",Show:"show"}},7523342097:(B,A,e)=>{"use strict";e.d(A,{A:()=>S});var t=e(3134334389),s=e(59694732),o=e(5318639645),n=e(5076545938),c=e(2208015175),l=e(3351247794),i=e(9963560),a=e(3889517373);const r=6,d=10,m=20,f=25,u=h((N,L)=>{const D=L==null?void 0:L.shares;if(!D)return null;let k=null,x=!1,R=!1;return(0,c.A)(D.private,(U,F)=>{R=!0;let W=U.find(K=>{let{share_user_id:j}=K;return j!==a.Q$});if(W)x=!0;else{if(x)return;W=U[0]}const w=W.ts;w&&Number(w)>Number((k==null?void 0:k.ts)||0)&&(k={ts:w,channelId:F,shareUserId:U[0].share_user_id})}),(0,c.A)(D.public,(U,F)=>{const W=(0,l.OL)(N,F);if((0,i.Ez)(W))R||(k=null),R=!0;else if(R)return;let w=U.find(j=>{let{share_user_id:Q}=j;return Q!==a.Q$});if(w)x=!0;else{if(x)return;w=U[0]}const K=w.ts;K&&Number(K)>Number((k==null?void 0:k.ts)||0)&&(k={ts:K,channelId:F,shareUserId:U[0].share_user_id})}),k},"getMostRelevantShare");function E(N,L){const D=u(N,L);if(!D)return null;const{channelId:k}=D;return t.createElement(n.A,{channelId:k,inline:!0})}h(E,"getFileChannel"),E.displayName="getFileChannel";var v=e(8471041027),g=e(2947229296),T=e(9819891010),p=e(1242487384),O=e(6766178921);const y=new g.Ay("file");function C(N,L,D){if(!L||L===a.Q$)return(0,v.g)(N,D);const k=(0,O.nv)(N,L),x=(0,T.sE)(N,k);return L===(0,p.WR)(N)?y.rt("{name} (you)",{name:x}):x}h(C,"getShareName");function I(N,L){const{shareUserId:D}=u(N,L)||{};return C(N,D,L)}h(I,"getFileSharer");var M=e(758425580),_=e(5554174976),P=e(8807931182);function b(){return b=Object.assign||function(N){for(var L=1;L<arguments.length;L++){var D=arguments[L];for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(N[k]=D[k])}return N},b.apply(this,arguments)}h(b,"_extends");function S(N,L,D,k,x){if(Array.isArray(D))return D.map(R=>S(N,L,R,k,x));switch(D){case o.s.NONE:return"";case o.s.OWNER:return(0,v.g)(N,L);case o.s.OWNER_TIMESTAMP:return t.createElement(s.A,b({file:L,documentUnfurlTs:x},k));case o.s.CHANNEL:return E(N,L);case o.s.SHARER:return I(N,L);case o.s.LAST_UPDATED:case o.s.LAST_VIEWED:return(0,P.N)(N,L,D);case o.s.READ_TIME:return(0,M.O)(N,L);case o.s.FILETYPE:default:return(0,_.A)(N,L)}}h(S,"getFileDetail")},8471041027:(B,A,e)=>{"use strict";e.d(A,{g:()=>a});var t=e(2947229296),s=e(2369541067),o=e(9819891010),n=e(1242487384),c=e(9238137835),l=e(6766178921);const i=new t.Ay("file");function a(r,d){if(!d)return"";var m;const f=(m=d.canvas_creator_id)!==null&&m!==void 0?m:d.user,u=f?(0,l.nv)(r,f):null,E=u?(0,s.A)(r,u):null,v=d.bot_id||E;if(v){const g=(0,c.AF)(r,v);if(g&&g.name)return g.name}if(u){const g=(0,o.sE)(r,u);return f===(0,n.WR)(r)?i.rt("{name} (you)",{name:g}):g}return d.username||""}h(a,"getFileOwner")},9227142567:(B,A,e)=>{"use strict";e.d(A,{A:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3750057149),c=e(5270110349),l=e(9510202814),i=e(4378915552),a=e(353071615),r=e(5630795175),d=e(1263278196),m=e(4343907495),f=e(6761585902),u=e(6259376722),E=e(6766178921),v=e(4272914214);function g(O){const{className:y,forceRealName:C=!1,id:I,member:M,truncate:_=!1,truncateWidth:P,withTruncationTooltip:b=!1,"data-qa":S="inline_member_entity",isBold:N=!0,showAppOrBotBadge:L,isUserHidden:D=!1}=O,k=o()(y,"c-inline_member_entity"),x=(0,d.A)(M),R=(0,a.v3)(M),U=(0,a.oy)(M),F=(0,i.lv)(M),W=(0,i.mX)(M),w=(0,r.wg)(M),K=(0,r.Fh)(M);let j;C||!K?j=w:j=K;const Q=U?c.pI.dim:void 0;return t.createElement(m.A,{className:k,"data-qa":S,"data-member-id":I||(M==null?void 0:M.id),style:Q,truncate:_,truncateWidth:P,withTruncationTooltip:b,primaryContent:t.createElement("span",{className:"c-inline_member_entity__content"},t.createElement(l.A,{isBold:N,name:j,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:x,isWorkflowBot:R,isDeleted:U,isNonExistent:F,isUnknown:W,showAppOrBotBadge:L,isUserHidden:D}))})}h(g,"InlineMemberEntity"),g.displayName="InlineMemberEntity";function T(O,y){let{forceRealName:C,member:I,id:M}=y;const _=I||(0,E.nv)(O,M);return{member:_??void 0,forceRealName:(0,n.A)(C)?C:(0,v.E)(O),isUserHidden:_&&(0,u.a)(O,_.id)}}h(T,"mapStateToProps");const p=(0,f.N)(T)(g)},2681072893:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>k,lP:()=>N});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5270110349),c=e(7175825412),l=e(7222797029),i=e(9510202814),a=e(5768409048),r=e(9035338428),d=e(4378915552),m=e(9963560),f=e(353071615),u=e(5630795175),E=e(9819891010),v=e(1263278196),g=e(7771734999),T=e(8990069699),p=e(4228252595),O=e(8757493093),y=e(5190921192),C=e(3223990792),I=e(3299124106),M=e(6761585902),_=e(3351247794),P=e(6259376722),b=e(6766178921);function S(){return S=Object.assign||function(x){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&(x[F]=U[F])}return x},S.apply(this,arguments)}h(S,"_extends");const N={right:"right",bottom:"bottom"};function L(x){const{className:R,id:U,invert:F=!1,member:W,memberPrimaryName:w,memberSecondaryName:K,secondaryContent:j,secondaryContentPosition:Q=N.bottom,subtext:J,showSubtext:z=!0,showAvatar:ie=!0,showDraftIcon:ee=!1,showPresence:ne=!0,showStatus:Z=!0,showTooltip:te=!0,showAppOrBotBadge:he=!0,isDeactivated:ue=!1,useShortMode:de,showHoverCard:re=!1,forwardedRef:V,"data-sk":H="medium_member_entity","data-qa":X="medium_member_entity",isUserHidden:Y=!1,noStatusText:q=!1,showBadgeOnTextTruncation:fe,description:ce=""}=x,Ee=(0,v.A)(W),Ae=(0,f.v3)(W),le=(0,f.oy)(W),oe=(0,f.fy)(W),me=(0,f.hh)(W),pe=(0,r.u)(W),Te=(0,d.lv)(W),Me=(0,d.mX)(W),Ue=t.createElement(i.A,{"data-qa":"member-entity__primary-name",name:w,invert:F&&!ue,isAppOrBot:Ee,isWorkflowBot:Ae,showAppOrBotBadge:he,isDeleted:le,isSelf:oe,isNonExistent:Te,isUnknown:Me,isUserHidden:Y,showBadgeOnTextTruncation:fe,isAgent:pe}),xe=(0,I.yN)({memberId:U,children:Ue}),Ne=!Y&&t.createElement(O.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},K),be=W&&t.createElement(p.A,{className:"c-member__title","data-qa":"member-entity__title"},(0,f.rN)(W)),ke=!le&&!me&&t.createElement(a.Ay,{memberId:U,className:"c-member__presence",invert:F&&!ue,"data-qa":"member-entity__presence",inline:!1}),Ke=t.createElement(l.A,{memberId:U,tooltip:te,animated:de,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:q}),$=Q===N.bottom&&j?t.createElement(T.A,{"data-qa":"member-entity__metadata"},j):null,ae=t.createElement("span",{className:"c-member__primary_content__description"},t.createElement(C.A,{lines:1,withTooltip:!0,breakWords:!1},ce)),Ge=t.createElement("span",{className:"c-member__primary_content"},re?xe:Ue,ne&&ke,!de&&Ne,Z&&Ke,ce&&ae),nt=le||ue?n.pI.dim:void 0,at=o()(R,"c-member","c-member--medium",{"c-member--with-presence":ne}),Ve=(0,t.useCallback)(Se=>ie?ee?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(y.A,{name:"edit"})):t.createElement(c.Ay,S({},Se,{size:n.RG.medium,userId:U,"data-qa":"member-entity__avatar",isInteractive:!1})):null,[ie,ee,U]);return t.createElement(g.A,{avatar:Ve,className:at,size:"medium",style:nt,text:Ge,subtext:z&&(J||be),metadata:!le&&$,"data-qa":X,"data-sk":H,forwardedRef:V})}h(L,"MediumMemberEntity"),L.displayName="MediumMemberEntity";function D(x,R){let{id:U,isDraftContext:F,member:W,showStatus:w}=R;const K=W||(0,b.nv)(x,U);let j=!1;if(F&&U){const J=(0,_.Pu)(x,U);j=!!(J&&(0,m.yc)(x,J.id))}const Q=U||(K==null?void 0:K.id);return{id:Q,member:K??void 0,memberPrimaryName:(0,E.sE)(x,K,!1,!1),memberSecondaryName:(0,u.Mu)(x,K),showDraftIcon:j,showStatus:w&&(0,f.aH)(K),isUserHidden:!!Q&&(0,P.a)(x,Q)}}h(D,"mapStateToProps");const k=(0,M.N)(D)(L)},503109336:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5270110349),c=e(2681072893),l=e(6107500718),i=e(718447733),a=e(4323560298),r=e(6761585902),d=e(6766178921);function m(){return m=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var T=arguments[g];for(var p in T)Object.prototype.hasOwnProperty.call(T,p)&&(v[p]=T[p])}return v},m.apply(this,arguments)}h(m,"_extends");let f=h(class extends t.Component{render(){const{className:g,isActive:T=!1,isDeactivated:p=!1,isDisabled:O=!1,secondaryContent:y,secondaryContentPosition:C=c.lP.right,showUnreadCount:I=!1,showStatus:M,showPresence:_,useShortMode:P=!1,showHoverCard:b,forwardedRef:S,unreadCount:N,ariaLabel:L}=this.props,D=I&&N&&t.createElement(a.Ay,{className:"c-member__unread_count",count:N,style:a.rY.red}),k=y&&t.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},y),x=(C===c.lP.right&&k||D)&&t.createElement("span",{className:"c-member__secondary_content"},C===c.lP.right&&k,D),R=o()(g,"c-medium_member_list_entity");let U;return T?O||p?U=n.pI.highlightDim:U=n.pI.highlightLight:(O||p)&&(U=n.pI.dim),t.createElement(i.A,{"data-qa":"medium_member_list_entity",className:R,style:U,primaryContent:t.createElement(c.Ay,m({},this.props,{secondaryContent:C===c.lP.right?null:y,showStatus:M,showPresence:_,showHoverCard:b,useShortMode:P,forwardedRef:S})),secondaryContent:x,size:"medium",ariaLabel:L})}},"MediumMemberListEntity");f.displayName="MediumMemberListEntity";function u(v,g){let{id:T}=g;const p=(0,d.nv)(v,T);return{member:p??void 0,unreadCount:(0,l.A)(v,p)}}h(u,"mapStateToProps");const E=(0,r.N)(u,null,null,{forwardRef:!0})(f)},9254931471:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>j,Cg:()=>F});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3750057149),c=e(2947229296),l=e(5270110349),i=e(7175825412),a=e(9012059190),r=e(9510202814),d=e(7022978171),m=e(5768409048),f=e(4801207065),u=e(9035338428),E=e(3366578852),v=e(4378915552),g=e(9963560),T=e(353071615),p=e(6107500718),O=e(5630795175),y=e(1263278196),C=e(7492291136),I=e(6182787245),M=e(9951047608),_=e(8757493093),P=e(4323560298),b=e(5190921192),S=e(6761585902),N=e(3351247794),L=e(205540855),D=e(6259376722),k=e(6766178921),x=e(4272914214);function R(){return R=Object.assign||function(Q){for(var J=1;J<arguments.length;J++){var z=arguments[J];for(var ie in z)Object.prototype.hasOwnProperty.call(z,ie)&&(Q[ie]=z[ie])}return Q},R.apply(this,arguments)}h(R,"_extends");const U=20,F=16,W=new c.Ay("members");function w(Q){const{className:J,id:z,invert:ie=!1,member:ee,teamId:ne,showAvatar:Z=!0,showDraftIcon:te=!1,showPresence:he=!0,showBadge:ue=!0,showStatus:de=!0,showTooltip:re=!0,showUnreadCount:V=!1,showDeactivated:H=!0,showAppOrBotBadge:X=!0,isDeactivated:Y=!1,unreadCount:q,useShortMode:fe=!1,forceRealName:ce=!1,tokenSize:Ee,truncateStatus:Ae=!1,withTruncationTooltip:le,"data-sk":oe="small_member_entity","data-qa":me="small_member_entity",isBold:pe,experimentSidebarPrefsApplyToMenusGroupOn:Te=!1,isUserHidden:Me=!1,hasNoAccess:Ue=!1,forceAvatarPresenceIndicator:xe=!1,experimentAgentforceGroupOn:Ne=!1,avatarSize:be=l.RG.small,useAtSymbolForDisplayName:ke=!1,useSmallerDisplayName:Ke=!1,isSearchSuggestion:$}=Q,ae=(0,y.A)(ee),Ge=(0,T.v3)(ee),nt=(0,T.oy)(ee),at=(0,C.g)(ee),Ve=(0,T.fy)(ee),Se=(0,T.hh)(ee),Pe=(0,u.u)(ee),Fe=(0,v.lv)(ee),ge=(0,v.mX)(ee),He=Fe||ge,Qe=ie&&!Y,_e=H&&nt,Le=(0,O.wg)(ee),Ie=(0,O.Fh)(ee);let we,ze;Me?(we=W.t("Name hidden"),ze=W.t("Name hidden")):ce||!Ie?(we=Le,ze=Ie?`${ke?"@":""}${Ie}`:void 0):(we=Ie,ze=Le);const ut=t.createElement(r.A,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:we,invert:Qe,isAppOrBot:ae,isWorkflowBot:Ge,isDeleted:_e,isSelf:Ve,isNonExistent:Fe,isUnknown:ge,withTruncationTooltip:le,isBold:pe,isAgent:Ne&&Pe,showAppOrBotBadge:X}),_t=!Me&&!Se&&t.createElement(_.A,{className:o()("c-member__secondary-name",{"c-member__secondary-name--smaller":Ke,"c-member__secondary-name--interpunct":$}),"data-qa":"member-entity__secondary-name"},ze),yt=(0,t.useMemo)(()=>Me||nt||Se?null:t.createElement(m.Ay,{memberId:z||(ee==null?void 0:ee.id),className:"c-member__presence",invert:Qe,inline:!1}),[Me,nt,Se,z,Qe,ee]),Ot=(0,t.useCallback)(Jt=>Z?Me?t.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.createElement(b.A,{size:"20",name:"user-hide"})):He?t.createElement(d.A,R({},Jt,{"data-qa":"member-entity__missing",isNonExistent:Fe,size:U})):te?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(b.A,{name:"edit"})):t.createElement(i.Ay,R({},Jt,{"data-qa":"member-entity__avatar",size:be,userId:z,user:ee,showBadge:ue,tabIndex:-1,isInteractive:!1,tokenSize:Ee,hasNoAccess:Ue,showPresence:xe})):he&&Te?yt:null,[Z,z,Fe,He,ee,Ee,te,Me,yt,he,ue,Te,Ue,xe,be]),It=at&&t.createElement(f.A,R({},Q,{"data-qa":"member-entity__team-icon",id:ne,size:F,className:"c-member__team_icon"})),kt=t.createElement(a.A,{memberId:z||"",tooltip:re,animated:fe,className:o()("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:Ae}),"data-qa":"member-entity__status"}),gt=V&&!!q&&t.createElement(P.Ay,{className:"c-member__unread_count",count:q,style:Qe?P.rY.white:P.rY.red,"data-qa":"member-entity__mention-badge"}),Gt=t.createElement("span",{className:"c-member__primary_content"},ut,he&&!He&&Z&&yt,!fe&&_t,de&&kt),Pt=(It||gt)&&t.createElement("span",{className:"c-member__secondary_content"},It,gt),jt=nt&&!ie?l.pI.dim:void 0,Qt=o()(J,"c-member","c-member--small",{"c-member--with-presence":he,"c-member--deleted":nt,"c-base_entity--dim":Me});return t.createElement(M.Ay,{avatar:Ot,className:Qt,text:Gt,size:"small",style:jt,subtext:Pt,"data-qa":me,"data-sk":oe})}h(w,"SmallMemberEntity"),w.displayName="SmallMemberEntity";function K(Q,J){let{forceRealName:z,member:ie,id:ee,isDraftContext:ne,showStatus:Z,onlyBoldIfUnread:te,useShortMode:he,neverBold:ue}=J;const de=ie||(0,k.nv)(Q,ee);let re;const V=ee||(de==null?void 0:de.id);V&&(ne||te)&&(re=(0,N.Pu)(Q,V));const H=(0,D.a)(Q,V);let X=!0;H?X=!!he:te?X=!!(re&&(0,g.KJ)(re)):ue&&(X=!1);let Y;return ne&&(Y=!!(re&&(0,g.yc)(Q,re.id))),{id:ee||(de==null?void 0:de.id),member:de??void 0,teamId:(0,I.Ux)(Q,de),forceRealName:(0,n.A)(z)?z:(0,x.E)(Q),unreadCount:(0,p.A)(Q,de),showDraftIcon:Y,showStatus:Z&&(0,T.aH)(de),isBold:X,experimentSidebarPrefsApplyToMenusGroupOn:(0,L._Z)(Q,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:H,experimentAgentforceGroupOn:(0,E.mr)(Q)}}h(K,"mapStateToProps");const j=(0,S.N)(K)(w)},900444442:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5270110349),c=e(9254931471),l=e(718447733);function i(){return i=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(d[u]=f[u])}return d},i.apply(this,arguments)}h(i,"_extends");let a=h(class extends t.Component{render(){const{className:m,id:f,isActive:u=!1,isDeactivated:E=!1,isDisabled:v=!1,isDraftContext:g,showAvatar:T,showBadge:p,showPresence:O,showAppOrBotBadge:y,showStatus:C,showTooltip:I,withTruncationTooltip:M,showUnreadCount:_,useShortMode:P,secondaryContent:b,onlyBoldIfUnread:S=!1,forceRealName:N,hasNoAccess:L,forceAvatarPresenceIndicator:D,removePadding:k,avatarSize:x,useAtSymbolForDisplayName:R,useSmallerDisplayName:U,showDeactivated:F,isSearchSuggestion:W}=this.props;let w;return u?v||E?w=n.pI.highlightDim:w=n.pI.highlightDark:(v||E)&&(w=n.pI.dim),t.createElement(l.A,{className:o()(m,"c-small_member_list_entity"),primaryContent:t.createElement(c.Ay,i({id:f,invert:w===n.pI.highlightDark,isDeactivated:E,truncateStatus:!!b,showAvatar:T,showPresence:O,showBadge:p,showAppOrBotBadge:y,useShortMode:P,showStatus:C,showTooltip:I,withTruncationTooltip:M,showUnreadCount:_,isDraftContext:g,onlyBoldIfUnread:S,forceRealName:N,hasNoAccess:L,forceAvatarPresenceIndicator:D,avatarSize:x,useAtSymbolForDisplayName:R,useSmallerDisplayName:U,showDeactivated:F,isSearchSuggestion:W},this.props)),secondaryContent:b,size:"small",style:w,padding:k?n.FK.none:n.FK.normal})}},"SmallMemberListEntity");a.displayName="SmallMemberListEntity";const r=a},9510202814:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9483971336),c=e(2947229296),l=e(5419577369),i=e(1713938770),a=e(9951047608),r=e(280840163),d=e(205540855);function m(){return m=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var T=arguments[g];for(var p in T)Object.prototype.hasOwnProperty.call(T,p)&&(v[p]=T[p])}return v},m.apply(this,arguments)}h(m,"_extends");const f=new c.Ay("inline_member");function u(v){const{className:g,multiline:T=!1,inline:p=!1,invert:O=!1,name:y,isSelf:C=!1,isAppOrBot:I=!1,isWorkflowBot:M=!1,showAppOrBotBadge:_=!0,isDeleted:P=!1,isUnknown:b=!1,isNonExistent:S=!1,withTruncationTooltip:N=!1,isBold:L=!0,isUserHidden:D=!1,isChannelFiles:k=!1,isCreator:x=!1,showMemberNameIfHidden:R=!1,showBadgeOnTextTruncation:U,isAgent:F=!1}=v,W=(0,r.d4)(J=>(0,d._Z)(J,"member_name_channel_files_view_two")==="on");let w;if(b||S)w=t.createElement(l.A,{type:S?"non-existent":"unknown","data-qa":"member_name__missing"});else if(D&&!R)w=f.t("Name hidden");else if(k){const J=W?f.rt("Created by {name}",{name:y}):`Created by ${y}`;w=x?J:f.rt("Shared by {name}",{name:y})}else w=y;const K=o()(g,"c-member_name",{"c-member_name--deactivated":P,"c-member_name--inverted":O}),j=L?"strong":"span",Q=(I||M)&&_;return t.createElement(a.CG,m({className:K,multiline:T,inline:p,withTruncationTooltip:N},(0,n.A)(v)),t.createElement(j,{className:o()({"c-member_name__container":Q&&U}),"data-qa":"member_name"},Q&&U?t.createElement("span",{className:"c-member_name__text"},w):w,C&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},f.t("(you)")),P&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},f.t("(deactivated)")),Q&&t.createElement(i.A,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:O,isWorkflow:M,isAgent:F})))}h(u,"MemberName"),u.displayName="MemberName";const E=u},1251379633:(B,A,e)=>{"use strict";e.d(A,{A:()=>X});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3297051565),c=e.n(n),l=e(5270110349),i=e(7175825412),a=e(8039100536),r=e(9510202814),d=e(7022978171),m=e(4378915552),f=e(353071615),u=e(9819891010),E=e(1263278196),v=e(6761585902),g=e(6766178921);const T=20,p={id:c().string.isRequired,invert:c().bool,isDeactivated:c().bool,isHidden:c().bool,member:c().object,memberPrimaryName:c().string},O={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},y=t.forwardRef((Y,q)=>{const{id:fe,invert:ce,member:Ee,memberPrimaryName:Ae,isDeactivated:le,isHidden:oe}=Y,me=(0,E.A)(Ee),pe=(0,f.v3)(Ee),Te=(0,f.oy)(Ee),Me=(0,m.lv)(Ee),Ue=(0,m.mX)(Ee),xe=Me||Ue,Ne=ce&&!le,be=t.createElement(r.A,{"data-qa":"mpim-entity__name",name:Ae,invert:Ne,isAppOrBot:me,isWorkflowBot:pe,isDeleted:Te,isNonExistent:Me,isUnknown:Ue});let ke;xe?ke=t.createElement(d.A,{isNonExistent:Me,size:T}):ke=t.createElement(i.Ay,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:l.RG.small,userId:fe,tabIndex:-1,isInteractive:!1});const Ke=o()("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":Te,"c-small_mpim_entity__member--hidden":oe});return t.createElement("div",{className:Ke,"data-id":fe,ref:q},ke,be)});y.propTypes=p,y.defaultProps=O;function C(Y,q){let{id:fe}=q;const ce=(0,g.nv)(Y,fe);return{member:ce,memberPrimaryName:(0,u.sE)(Y,ce,!1,!1)}}h(C,"mapStateToProps");const I=(0,v.N)(C,null,null,{forwardRef:!0})(y);var M=e(8474682929),_=e(5279500834),P=e(2947229296),b=e(5150875261),S=e(8928750104),N=e(280840163),L=e(1242487384);const D=new P.Ay("channel_token"),k=10,x=h(Y=>{let{memberIds:q}=Y;var fe;const ce=(fe=(0,N.d4)(L.WR))!==null&&fe!==void 0?fe:void 0;let Ee=q.map((Ae,le)=>t.createElement(S.A,{key:Ae,userId:Ae,isFirst:le===0,isSelf:ce===Ae}));return q.length>k+1&&(Ee=Ee.slice(0,k).concat(D.rt("{count} others",{count:q.length-k}))),t.createElement(t.Fragment,null,(0,b.A)(Ee))},"TooltipMemberNames");x.displayName="TooltipMemberNames";const R=x;var U=e(9963560),F=e(6928237551),W=e(9951047608),w=e(4323560298),K=e(9006442414),j=e(3223990792),Q=e(6191248486),J=e(2219323483),z=e(9603687846),ie=e(3351247794),ee=e(873516440),ne=e(205540855),Z=e(7335329806),te=e(3347559665);function he(){return he=Object.assign||function(Y){for(var q=1;q<arguments.length;q++){var fe=arguments[q];for(var ce in fe)Object.prototype.hasOwnProperty.call(fe,ce)&&(Y[ce]=fe[ce])}return Y},he.apply(this,arguments)}h(he,"_extends");const ue=l.RG.small,de={className:c().string,"data-qa":c().string,"data-sk":c().string,mpim:c().object,id:c().string,invert:c().bool,isDeactivated:c().bool,memberIds:c().array,isActive:c().bool,clientTheme:c().oneOf(["light","dark"]),matchData:c().array,onlyBoldIfUnread:c().bool,showUnreadBadge:c().bool,unreadCount:c().number,shortenTooltipContents:c().bool,showAvatar:c().bool,showMemberList:c().bool,memberList:c().string,experimentSidebarPrefsApplyToMenusGroupOn:c().bool,tooltipPosition:c().string,disableTooltip:c().bool,experimentMpdmOmniswitcherDisplayTopicGroupOn:c().bool,isOmniswitcherContext:c().bool,isMpimSuggestion:c().bool},re={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,memberList:null,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,showMemberList:!1,experimentSidebarPrefsApplyToMenusGroupOn:!1,tooltipPosition:"top-right",disableTooltip:!1,experimentMpdmOmniswitcherDisplayTopicGroupOn:!1,isOmniswitcherContext:!1,isMpimSuggestion:!1};function V(Y){let{className:q,"data-qa":fe,"data-sk":ce,memberList:Ee,id:Ae,invert:le,isDeactivated:oe,mpim:me,memberIds:pe,isActive:Te,clientTheme:Me,matchData:Ue,onlyBoldIfUnread:xe,showUnreadBadge:Ne,showMemberList:be,unreadCount:ke,shortenTooltipContents:Ke,showAvatar:$,experimentSidebarPrefsApplyToMenusGroupOn:ae,tooltipPosition:Ge,disableTooltip:nt,experimentMpdmOmniswitcherDisplayTopicGroupOn:at,isOmniswitcherContext:Ve,isMpimSuggestion:Se}=Y;const Pe=(0,m.lv)(me),Fe=(0,m.mX)(me),ge=(0,U.N4)(me),He=Ae||(me==null?void 0:me.id),Qe=(0,U.cU)(me),_e=at&&Qe&&Ve,Le=Qe&&t.createElement(M.A,{text:Qe,className:"c-medium_mpim_entity__topic",emojiSize:_.lw.SMALL,noJumbomoji:!0,noHighlights:!0}),Ie=le&&!oe,we=Ne&&!!ke&&t.createElement(w.Ay,{className:"c-member__unread_count",count:ke,style:Ie?"white":"red","data-qa":"member-entity__mention-badge"}),ze=we&&t.createElement("span",{className:"c-member__secondary_content"},we),ut=(0,t.useCallback)(kt=>{if(Pe||Fe)return t.createElement(d.A,he({},kt,{isNonExistent:Pe,size:ue,invert:Ie}));const gt=pe==null?void 0:pe[0];return t.createElement("span",{className:o()("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",q,{"c-small_mpim_entity__mpim_avatars--inverted":Ie,[`c-small_mpim_entity__mpim_avatars--${Me}`]:Me!=="light"})},$&&t.createElement(i.Ay,{userId:gt,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:Se?18:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.createElement("div",{className:o()({"c-small_mpim_entity__mpim_counter":!Se,"c-small_mpim_entity__mpim_counter--count-only":!$&&ae,"c-small_mpim_entity__mpim_counter--updated":Se}),"data-qa":"small-mpim-entity-mpim-counter"},t.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},ge)))},[Pe,Fe,pe,q,Ie,Me,$,ae,Se,ge]),_t=(0,t.useCallback)(()=>{let kt;return Ke?kt=t.createElement(R,{memberIds:pe}):kt=pe.map(gt=>t.createElement(I,{id:gt,key:gt})),t.createElement(t.Fragment,null,kt)},[pe,Ke]);let yt=oe?l.pI.dim:null;Ie&&(yt=l.pI.highlightDark);const Ot=o()(q,{"c-small_mpim_entity__with_member_list":be}),It=t.createElement(W.Ay,{"data-id":He,"data-qa":fe,"data-sk":ce,avatar:ut,className:Ot,size:_e?"medium":"small",style:yt,subtext:_e?Le:ze,text:t.createElement(t.Fragment,null,t.createElement(a.A,{mpim:me,className:"c-small_mpim_entity__primary_name",invert:Ie,matchData:Ue,onlyBoldIfUnread:xe}),be&&t.createElement("div",{className:"c-small_mpim_entity__member_list"},t.createElement(j.A,{lines:1},Ee)))});return nt?It:t.createElement(K.Ay,{tip:_t(),tipClassName:Ke?"":"c-small_mpim_entity__tooltip",position:Ge,shouldForceVisible:Te,shouldOnlyShowWhenTruncated:Te,zIndex:"above_fs"},t.createElement("div",null,It))}h(V,"SmallMpimEntity"),V.displayName="SmallMpimEntity",V.propTypes=de,V.defaultProps=re;function H(Y,q){let{id:fe,mpim:ce,matchData:Ee}=q;const Ae=ce||(0,ie.OL)(Y,fe),le=(0,z.B)(Y,fe),oe=(0,Z.x)(Y,te.Jx.OMNISWITCHER),me=(0,ne._Z)(Y,"sidebar_prefs_apply_to_menus")==="on",pe=(0,J.M)({state:Y,mpim:Ae,matchData:Ee}),Te=(0,ee.to)(Y),Me=(0,U.kR)(Ae,le),Ue=(0,F.Xx)(Y,Ae,pe,!0),xe=(0,Q.z)(Y);return{memberList:Ue,mpim:Ae,experimentSidebarPrefsApplyToMenusGroupOn:me,memberIds:pe,clientTheme:Te,unreadCount:Me,experimentMpdmOmniswitcherDisplayTopicGroupOn:xe,isOmniswitcherContext:oe}}h(H,"small_mpim_entity_mapStateToProps");const X=(0,v.N)(H)(V)},8039100536:(B,A,e)=>{"use strict";e.d(A,{A:()=>g});var t=e(3134334389),s=e(9867500491),o=e(1703559452),n=e(483051253),c=e(3776304241),l=e(4378915552),i=e(9963560),a=e(6928237551),r=e(9951047608),d=e(2219323483),m=e(6761585902),f=e(6766178921);const u=4;function E(T){let{className:p,mpim:O,multiline:y=!1,name:C,invert:I=!1,isAnyMemberUnknown:M=!1,inline:_=!1,onlyBoldIfUnread:P=!1}=T;const b=(0,l.mX)(O),S=(0,l.lv)(O),N=(0,i.N4)(O),L=!P||(0,i.KJ)(O);let D=C;return b||S||M?D=(0,s.A)(N||u).map(k=>t.createElement(c.A,{key:k,className:"c-mpim_entity__missing_text",isNonExistent:S,size:"random",invert:I,dataQa:"mpim_name_missing"})):(D=t.createElement(n.a,{channel:O,name:C??""}),D=L?t.createElement("strong",{"data-qa":"mpim_name"},D):t.createElement("span",{"data-qa":"mpim_name"},D)),t.createElement(r.CG,{className:p,multiline:y,breakWords:!1,inline:_},D)}h(E,"MpimName"),E.displayName="MpimName";const v=h((T,p)=>{let{mpim:O,matchData:y,equalizeMembersListToMatchData:C=!1}=p;const I=(0,d.M)({state:T,mpim:O,matchData:y,equalizeMembersListToMatchData:C}),M=I&&I.map(_=>(0,f.nv)(T,_));return{name:(0,a.Xx)(T,O,I),isAnyMemberUnknown:(0,o.A)(M,l.GU)}},"mapStateToProps"),g=(0,m.N)(v)(E)},5958324413:(B,A,e)=>{"use strict";e.d(A,{A:()=>O});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(5270110349),l=e(2806232803),i=e(5478938623),a=e(1315591004),r=e(9951047608),d=e(5190921192),m=e(6761585902),f=e(7874250141),u=e(3666777625),E=e(6166500720);function v(){return v=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(y[M]=I[M])}return y},v.apply(this,arguments)}h(v,"_extends");const g=new n.Ay("user_group_entity");function T(y){let{className:C,invert:I,showDescription:M=!0,userGroup:_,userGroupTeamName:P,isDeactivated:b}=y;const S=b||!(0,a.V1)(_),N=(0,t.useCallback)(F=>t.createElement("span",{className:"margin_right_50"},t.createElement(d.A,v({},F,{name:"user-groups",size:"18"}))),[]);if((0,a.t8)(_)||(0,a.QR)(_)){const F=o()("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":I});return t.createElement("div",{className:"c-small_user_group__missing"},t.createElement("div",{className:F},t.createElement(d.A,{name:"user-groups",size:"18"})),t.createElement(l.A,{type:(0,a.t8)(_)?"unknown":"non-existent",invert:I}))}const L=(0,a.ue)(_),D=t.createElement("span",{className:"c-user_group__name c-small_user_group__name"},L),k=(0,a.Br)(_),x=P&&t.createElement(t.Fragment,null,"\xA0\xA0",t.createElement("span",{className:"c-small_user_group__team"},P)),R=t.createElement(t.Fragment,null,t.createElement("span",{className:"c-small_user_group__count"},"(",g.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:k}),")"),x);let U;return S?U=c.pI.dim:I&&(U=c.pI.highlightDark),t.createElement(r.Ay,{avatar:N,className:C,size:"small",style:U,text:t.createElement(r.CG,null,D,M&&R),"data-usergroup-id":_.id})}h(T,"SmallUserGroupEntity"),T.displayName="SmallUserGroupEntity";const p=h((y,C)=>{let{id:I,userGroup:M}=C;const _=M||(0,E.lJ)(y,I),P=(0,f.ZT)(y),b=(0,a.$Q)(_),S=b!==P&&(0,i.F1)((0,u._J)(y,b));return{userGroup:_,userGroupTeamName:S}},"mapStateToProps"),O=(0,m.N)(p)(T)},3909477874:(B,A,e)=>{"use strict";e.d(A,{E:()=>c,a:()=>l});var t=e(9231584561),s=e(9615730202),o=e(4894634110),n=e(121333136);const c=(0,o.Ay)("Opens the AddCustomEmojiModal for importing a custom emoji",(i,a,r)=>{let{emojiName:d,emojiUrl:m}=r;var f;i((0,n.A)({emojiNameSuggestion:d&&((f=(0,s.A)(d))===null||f===void 0?void 0:f.name),emojiUrl:m}))});c.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const l=(0,o.Ay)("Opens the AddCustomEmojiModal if an emoji can be imported",(i,a,r)=>{const d=a(),{event:m,emojiName:f,emojiUrl:u}=r;u&&(0,t.LU)(d,u,f)&&(m==null||m.preventDefault(),m==null||m.stopPropagation(),i(c(r)))});l.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},8333768732:(B,A,e)=>{"use strict";e.d(A,{K:()=>l});var t=e(3134334389),s=e(2947229296),o=e(9231584561),n=e(5190921192);const c=new s.Ay("import-external-emoji");function l(i){let{emojiUrl:a,emojiName:r}=i;return(0,o.tJ)(a,r)?t.createElement("div",{className:"margin_top_50"},t.createElement(n.A,{name:"right-click",inline:!0,size:"18"}),t.createElement("span",{className:"margin_left_25"},c.t("Right click to add to your organization"))):null}h(l,"ImportExternalEmojiTooltipInfo"),l.displayName="ImportExternalEmojiTooltipInfo"},9231584561:(B,A,e)=>{"use strict";e.d(A,{$N:()=>D,LU:()=>_,pg:()=>b,tJ:()=>P});var t=e(605568209),s=e(5566149298),o=e(1186657761),n=e(4612528447),c=e(9841064735),l=e(5478938623),i=e(4730429351),a=e(4198854083),r=e(3164011383),d=e(9615730202),m=e(9588678965),f=e(4950864742),u=e(7691907057),E=e(280840163),v=e(1242487384),g=e(9132422875),T=e(1599909623),p=e(3666777625);const O=h(k=>{var x;return Array.isArray((x=k)===null||x===void 0?void 0:x.elements)},"hasElements"),y=h((k,x)=>(0,s.Ay)(k.emojiName,x.emojiName),"emojiNameSort"),C=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function I(k){var x;const R=(x=(0,d.A)(k))===null||x===void 0?void 0:x.name;return!!R&&C.has(R)}h(I,"isBuiltInEmoji");function M(k,x,R){return decodeURIComponent(x).includes((0,o.w)())?!1:!(R&&((0,r.A)(k,R)||I(R)))}h(M,"isCustomEmoji");const _=(0,m.Mz)((k,x,R)=>{if(!(x&&(0,v.TZ)(k)&&M(k,x,R)&&(0,i.D)(k)))return!1;const F=(0,p.Yc)(k);var W;const w=(W=F==null?void 0:F.id)!==null&&W!==void 0?W:"",K=(0,l.Ic)(F);return!!K&&x.indexOf((0,l.k7)(w,K))===-1&&x.indexOf(w.slice(1))===-1});_.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(k,x,R)=>{if(!(x&&(0,v.TZ)(k)&&M(k,x,R)&&(0,i.D)(k)))return!1;const F=(0,p.Yc)(k);var W;const w=(W=F==null?void 0:F.id)!==null&&W!==void 0?W:"",K=(0,l.Ic)(F);return!!K&&x.indexOf((0,l.k7)(w,K))===-1&&x.indexOf(w.slice(1))===-1}};function P(k,x){return(0,E.d4)(R=>_(R,k,x))}h(P,"useCanImportThisEmoji");function b(k){return(0,E.d4)(x=>k.find(R=>_(x,R==null?void 0:R.url,R==null?void 0:R.name)))}h(b,"useFindFirstImportEmojiFromArray");function S(k,x){for(const R of x||[])(0,a.E)(R)?R.display_url&&k.set(R.display_url,{emojiName:R.name,emojiUrl:R.display_url}):O(R)&&S(k,R.elements)}h(S,"collectMessageEmojis");function N(k,x){for(const{name:R,url:U}of x||[])U&&k.set(U,{emojiName:R,emojiUrl:U})}h(N,"collectMessageReactjis");const L=(0,u.F)((k,x)=>x,(k,x)=>(0,T.bk)(k,(0,c.J)(x)),(k,x)=>{const R=new Map;return N(R,x),S(R,k.blocks),[...R.values()].sort(y)}),D=(0,f.eI)((k,x)=>{let{channelId:R,ts:U}=x;if(!(0,i.D)(k)||!(0,v.TZ)(k))return t.Ml;const F=(0,g.Ld)(k,R,U);return!F||(0,n.aK)(F)?t.Ml:L(k,F).filter(W=>{let{emojiName:w,emojiUrl:K}=W;return _(k,K,w)})})},2157756221:(B,A,e)=>{"use strict";e.d(A,{A:()=>D});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(2947229296),l=e(1085956403),i=e(9254931471),a=e(4797202944),r=e(9035338428),d=e(23487312),m=e(6563296078),f=e(4458861846),u=e(353071615),E=e(2369541067),v=e(5630795175),g=e(8823986650),T=e(9006442414),p=e(3299124106),O=e(3122619948),y=e(907002960),C=e(280840163),I=e(1242487384),M=e(873516440),_=e(205540855),P=e(6259376722),b=e(6766178921);function S(){return S=Object.assign||function(k){for(var x=1;x<arguments.length;x++){var R=arguments[x];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(k[U]=R[U])}return k},S.apply(this,arguments)}h(S,"_extends");const N=new c.Ay("members"),L=h(k=>{let{id:x,fallback:R,variableLabel:U,noHighlights:F,noLinking:W,onClick:w,showTooltip:K,clogLinkClick:j,className:Q,tabIndex:J=0,ariaHidden:z,supressLinkColors:ie,supressMentionAtSymbol:ee,forceRealNames:ne,alwaysDisplayAsLink:Z}=k;const te=(0,s.wA)(),he=(0,C.d4)(M.to),ue=(0,C.d4)(I.WR),de=(0,C.d4)(Me=>(0,b.nv)(Me,x)),re=x===ue;let V=ne?(0,v.wg)(de):(0,v.Gt)(de),H=(0,u.t8)(de),X=(0,u.QR)(de),Y=W;const q=(0,C.d4)(Me=>(0,E.A)(Me,de)),fe=(0,C.d4)(Me=>(0,_._Z)(Me,"app_flexpane")==="on"),ce=(0,r.u)(de);X&&!(0,y.A)(x)&&!U?(V=x,H=!1,X=!1,Y=!0):U&&(V=U,H=!1,X=!1,Y=!1);const Ee=(0,C.d4)(Me=>(0,P.a)(Me,de.id)),Ae=(0,t.useCallback)(Me=>{Me.preventDefault(),j==null||j({link_type:"user"}),(0,T.Ws)(),te(fe&&q&&!ce?(0,m.o)((0,f.tp)({serviceId:q,memberId:de.id})):(0,d.n)({e:Me,navProps:(0,f.Fo)({memberId:x})})),w&&w(Me,x)},[j,q,w,te,x,fe,de,ce]),le=`${ee?"":"@"}${V||R}`,oe=n()("c-member_slug",Q,`c-member_slug--${he}`,{"c-member_slug--link":Z||!Y,"c-member_slug--mention":re&&!F,"c-member_slug--grey":ie}),me=(0,t.useMemo)(()=>t.createElement(i.Ay,{id:x,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0}),[x]),pe=(0,t.useMemo)(()=>(0,O.A)()?{"data-stringify-type":"mention","data-stringify-id":x,"data-stringify-label":le}:{"data-stringify-text":`@${x}`},[x,le]),Te=t.useMemo(()=>t.createElement(g.A,S({className:oe,href:`/team/${x}`,"data-member-id":x,"data-member-label":le},pe,{onClick:Ae,tabIndex:J,"aria-hidden":z}),le),[oe,le,x,pe,Ae,J,z]);return x?H?t.createElement(a.A,{type:"unknown"}):X?t.createElement(a.A,{type:"non-existent"}):Ee?K?t.createElement(T.Ay,{tip:N.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",null,t.createElement(l.A,null))):t.createElement(l.A,null):Y?t.createElement("span",{className:oe},le):K?w?t.createElement(T.Ay,{tip:me,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",{dir:"ltr"},Te)):(0,p.yN)({memberId:x,serviceId:q,children:Te,noStyling:!0}):Te:null},"MemberSlug");L.displayName="MemberSlug";const D=t.memo(L)},9803445011:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(816036469);const s=t.A},816036469:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(8318224360),l=e(3776304241),i=e(5190921192),a=e(9006442414);const r=new n.Ay("channel_token"),d=h(f=>{let{type:u=c.A.Unknown,subtler:E=!1,size:v=c.o.Small,width:g="random",invert:T=!1,showHash:p=!0,showTooltip:O=!0,omitNonExistentTooltip:y=!1}=f;const C=o()("c-missing_channel",{"c-missing_channel--unknown":u===c.A.Unknown,"c-missing_channel--nonexistent":u===c.A.Nonexistent,"c-missing_channel--subtler":E,"c-missing_channel--medium":v===c.o.Medium,"c-missing_channel--unknown_inverted":u===c.A.Unknown&&T,"c-missing_channel--non_existent_inverted":u===c.A.Nonexistent&&T}),I=o()("c-missing_channel--medium_hash",{"c-missing_channel--subtler":E});let M;if(O&&(u===c.A.Unknown?M=r.t("Loading\u2026",{fallbackHash:"b04ba49f848624bb97ab094a2631d2ad74913498",fallbackHashNs:"channel_token"}):u===c.A.Nonexistent&&(M=r.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"}))),u===c.A.Nonexistent){const _=t.createElement("span",{className:"c-missing_channel--private"},t.createElement(i.A,{inline:!0,name:"lock"}),r.t("private channel"));return y?_:t.createElement(a.Ay,{tip:M},_)}return v===c.o.Medium?t.createElement("div",null,t.createElement("div",{className:"c-missing_channel--medium-top"},p&&t.createElement("span",{className:I},t.createElement(i.A,{inline:!0,name:"channel"})),t.createElement(l.A,{tooltip:M,isNonExistent:!1,size:g,className:C})),t.createElement(l.A,{tooltip:M,isNonExistent:!1,size:g,className:C})):t.createElement(l.A,{tooltip:M,isNonExistent:!1,size:g,className:C})},"MissingChannel");d.displayName="MissingChannel";const m=t.memo(d)},5680356591:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(7022978171);const s=t.A},7022978171:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8318224360);const c=h(i=>{let{className:a,isNonExistent:r=!1,size:d,subtler:m=!1,invert:f=!1,dataQa:u}=i;const{Unknown:E,Nonexistent:v}=n.A,g=r?v:E,T=(0,t.useMemo)(()=>({height:d,width:d}),[d]);return t.createElement("span",{className:o()(a,"c-missing_icon",`c-missing_icon--${g}`,{"c-missing_icon--unknown_inverted":g===E&&f,"c-missing_icon--non_existent_inverted":g===v&&f,"c-missing_icon--subtler":m}),style:T,"data-qa":u})},"MissingIcon");c.displayName="MissingIcon";const l=c},4797202944:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(5419577369);const s=t.A},5419577369:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(2947229296),o=e(8318224360),n=e(3776304241);const c=new s.Ay("member_token"),{Unknown:l,Nonexistent:i}=o.A,a=h(d=>{let{type:m=l,subtler:f=!1,className:u,"data-qa":E}=d;const v=m===l?c.t("Loading\u2026"):c.t("Private user info");return t.createElement(n.A,{className:u??"",isNonExistent:m===i,subtler:f,tooltip:v,"data-qa":E})},"MissingMember");a.displayName="MissingMember";const r=t.memo(a)},2806232803:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(2947229296),o=e(8318224360),n=e(3776304241);const c=new s.Ay("user_group_token"),{Unknown:l,Nonexistent:i}=o.A,{Small:a,Medium:r}=o.o,d=h(u=>{let{invert:E=!1,size:v=a,type:g=l,subtler:T=!1}=u;const p=g===l?c.t("Loading\u2026",{fallbackHash:"b04ba49f848624bb97ab094a2631d2ad74913498"}):c.t("Private user group info");if(v===r){const O="\xA0\xA0\xB7\xA0\xA0";return t.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.createElement("div",null,t.createElement(n.A,{tooltip:p,isNonExistent:g===i,size:"small",invert:E})," ",t.createElement(n.A,{tooltip:p,isNonExistent:g===i,size:"small",invert:E})),t.createElement("div",null,t.createElement(n.A,{tooltip:p,isNonExistent:g===i,size:"small",invert:E}),O,t.createElement(n.A,{tooltip:p,isNonExistent:g===i,size:"large",invert:E})))}return t.createElement(n.A,{tooltip:p,isNonExistent:g===i,size:"random",subtler:T,invert:E})},"MissingUserGroup");d.displayName="MissingUserGroup";const f=d},714409569:(B,A,e)=>{"use strict";e.d(A,{i:()=>r,m:()=>f});var t=e(3134334389),s=e(2947229296),o=e(6154618221),n=e(4144342945),c=e(6761585902);const l=new s.Ay("message"),i={code:"code",codeBlock:"codeBlock"};function a(u){let{children:E,blockType:v,...g}=u,T;const p=t.Children.only(E),O=t.cloneElement(p,{...g,ref:C=>{C&&(T=C)}}),y=(0,t.useCallback)(()=>[{label:v==="codeBlock"?l.t("Copy this code block"):l.t("Copy this code"),click:()=>T&&(0,n.x3)(T.innerText)}],[v,T]);return t.createElement(o.A,{getTemplate:y},O)}h(a,"BaseCopyCodeBlockContextMenuTrigger"),a.displayName="BaseCopyCodeBlockContextMenuTrigger";const r=(0,c.N)(()=>({}),()=>({}))(a),d=t.forwardRef((u,E)=>{let{children:v,...g}=u;const T=t.Children.only(v);return t.cloneElement(T,{...g,ref:E,onMouseDown:m})});function m(u){if(u.button!==0||u.detail<3)return;u.preventDefault();const E=window.getSelection(),v=document.createRange();E==null||E.removeAllRanges(),v.selectNodeContents(u.currentTarget),E==null||E.addRange(v)}h(m,"selectContentsOnTripleMouseDown");const f=(0,c.N)(()=>({}),()=>({}),null,{forwardRef:!0})(d)},423283942:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(6122756707),o=e(4446334436),n=e(756609587),c=e(7570256687),l=e(638638155);function i(r){let{ts:d,format:m,fallback:f=void 0,link:u=void 0,noLinking:E=!1,do24hrTime:v=!1,timezone:g=void 0}=r;const T=(0,s.wA)(),p=(0,c.Yq)(d,m,{fallbackString:f,do24hrTime:v,timezone:g}),O=(0,t.useCallback)(y=>{u&&p&&(0,o.A)(p,u)&&(T((0,l.A)({text:p,url:u})),y.preventDefault())},[T,p,u]);return!p||p===m?null:!u||E?t.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},p):t.createElement(n.A,{"data-qa":"mrkdwn_date",href:u,maybeOpenSuspiciousLinkDialog:O},p)}h(i,"DateCommand"),i.displayName="DateCommand";const a=t.memo(i)},8738884775:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9295947818);let c=h(class extends t.PureComponent{render(){const{type:a,noHighlights:r,noLinking:d}=this.props,m=!r,f=(0,n.Y)({type:a,tsfMode:"NORMAL"}),u=f,E=o()("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!d,"c-mrkdwn__broadcast--mention":m});return t.createElement("span",{className:E,"data-broadcast-id":`BK${a}`,"data-stringify-text":f},u)}},"MrkdwnBroadcastCommand");c.defaultProps={noHighlights:!1,noLinking:!1},c.displayName="MrkdwnBroadcastCommand";const l=c},8269992551:(B,A,e)=>{"use strict";e.d(A,{A:()=>z});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(2947229296),l=e(414222479),i=e(9803445011),a=e(8661260709),r=e(641615021),d=e(23487312),m=e(7656345157),f=e(5076607117),u=e(3964099078),E=e(4458861846),v=e(5128714371),g=e(9963560),T=e(8859166048),p=e(796726665),O=e(6928237551),y=e(5887324738),C=e(8823986650),I=e(5190921192),M=e(9006442414),_=e(3299124106),P=e(6670379766),b=e(4180164121),S=e(2930707440),N=e(4204146482),L=e(6761585902),D=e(3351247794),k=e(1293325440),x=e(205540855),R=e(3666777625);function U(){return U=Object.assign||function(ie){for(var ee=1;ee<arguments.length;ee++){var ne=arguments[ee];for(var Z in ne)Object.prototype.hasOwnProperty.call(ne,Z)&&(ie[Z]=ne[Z])}return ie},U.apply(this,arguments)}h(U,"_extends");const F=new c.Ay("recordchannels"),W={channelName:void 0,className:void 0,fallbackName:void 0,showTooltip:!0,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isRecord:!1,recordChannelIconProps:null,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:n.A,mpimMemberNames:[],teamName:"",channelHasNonUniqueName:!1,noTabbableContent:!1,alwaysDisplayAsLink:!1};let w=h(class extends t.PureComponent{async onClick(ee){const{id:ne,tabId:Z,experimentBkChannelTabsGroupOn:te}=this.props;ee.preventDefault(),ee.stopPropagation();const he=te&&Z?(0,E.id)(ne,{tabId:Z}):(0,E.pr)(ne);this.props.maybeOpenInSurfaceOrNavigate({e:ee,navProps:he})}getTooltipContent(){const{id:ee,isRecord:ne,isChannelImOrMpim:Z,mpimMemberNames:te,teamName:he,channelHasNonUniqueName:ue,recordLabel:de}=this.props;return Z?te.join(", "):ne?t.createElement("div",{className:"c-mrkdwn__record_channel--tooltip"},F.t("{recordLabel} channel ",{recordLabel:de,recordType:de}),t.createElement(m.r,{channelId:ee})):t.createElement(t.Fragment,null,t.createElement(l.A,{channelId:ee}),ue&&t.createElement("br",null),ue&&t.createElement("span",{className:"c-member_slug__tooltip_subheader"},he))}clogLinkClick(){var ee,ne;(ne=(ee=this.props).clogLinkClick)===null||ne===void 0||ne.call(ee,{item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember})}renderChannelHoverCard(){const{id:ee}=this.props;return(0,_.Q$)({channelId:ee,enableButtons:!0})}renderChannelHoverCardTrigger(ee){return t.createElement(r.d,{renderCard:this.renderChannelHoverCard},ee)}render(){const{channelName:ee,className:ne,fallbackName:Z,showTooltip:te,id:he,isPrivate:ue,isChannelImOrMpim:de,isRecord:re,recordChannelIconProps:V,isMember:H,isNonExistent:X,isUnknown:Y,noLinking:q,isFromAnotherTeam:fe,team:ce,noTabbableContent:Ee,alwaysDisplayAsLink:Ae,experimentChannelHoverCardGroupOn:le}=this.props;if(Y)return le&&te?this.renderChannelHoverCardTrigger(t.createElement(i.A,{showTooltip:!1,type:"unknown"})):t.createElement(i.A,{showTooltip:te,type:"unknown"});if(X&&!Z)return le&&te?this.renderChannelHoverCardTrigger(t.createElement(i.A,{showTooltip:!1,type:"non-existent"})):t.createElement(i.A,{showTooltip:te,type:"non-existent"});const oe=!ue||H||re;if(!oe)return le&&te?this.renderChannelHoverCardTrigger(t.createElement(i.A,{showTooltip:!1,type:"non-existent"})):t.createElement(i.A,{showTooltip:te,type:"non-existent"});const me=(0,P.A)({channelName:ee,fallbackName:Z,isUnknown:Y,isNonExistent:X,includePrefix:!ue&&!de&&!V}),pe=me;let Te,Me;Te=!q&&!X&&oe,ue&&(Me=(0,S.A)({channelName:ee,isPrivate:ue})),Te&&fe&&(Te=!!ce);const Ue=o()("c-mrkdwn__channel c-member_slug",{internal_channel_link:Te,"c-member_slug--link":Ae||Te},ne);if(!Te)return t.createElement("span",{className:Ue},ue&&t.createElement(I.A,{name:"lock-filled",inline:!0}),pe);let xe;V?xe=t.createElement(I.A,U({inline:!0},V)):ue&&(xe=t.createElement(I.A,{name:"lock-filled",inline:!0}));const Ne=fe&&ce?(0,N.Kk)({team:ce,channelId:he}):(0,N.iu)({channelId:he}),be=Ne?{href:Ne,clogLinkClick:this.clogLinkClick}:{},ke=t.createElement(C.A,U({className:Ue,"data-channel-name":me,"data-channel-id":he,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":Me,onClick:this.onClick},be,Ee&&{tabIndex:-1}),xe,pe);return le?te?t.createElement(a.A,{id:he},this.renderChannelHoverCardTrigger(ke)):t.createElement(a.A,{id:he},ke):te?t.createElement(a.A,{id:he},t.createElement(M.Ay,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},ke)):t.createElement(a.A,{id:he},ke)}constructor(ee){super(ee),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this),this.renderChannelHoverCard=this.renderChannelHoverCard.bind(this),this.renderChannelHoverCardTrigger=this.renderChannelHoverCardTrigger.bind(this)}},"BaseMrkdwnChannel");w.defaultProps=W,w.displayName="BaseMrkdwnChannel";function K(ie,ee){let{id:ne}=ee,Z,te,he,ue,de,re,V=null;const H=(0,D.OL)(ie,ne);let X,Y,q=null,fe=[],ce,Ee,Ae;const le=(0,x._Z)(ie,"bk_channel_tabs")==="on",oe=(0,b.V)(ie);return H?(Z=(0,O.SB)(ie,H,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),de=(0,T.t8)(H),te=(0,T.Zp)(H),ue=(0,y.bl)(H),X=(0,T.JM)(H),Y=(0,T.rI)(H),q=(0,f.sc)(H),he=(0,T.QR)(H),re=(0,g.lo)(H),V=re?(0,R._J)(ie,(0,g.bK)(ie,H)):null,fe=(0,g.Zu)(ie,ne),Ee=(0,p.i)((0,D.MS)(ie),H),Ae=(0,u.jT)(H),Ee&&(ce=(0,k.a)(ie,{channel:H}))):he=!0,{channelName:Z,isPrivate:te,isChannelImOrMpim:X,isRecord:Y,recordChannelIconProps:q,isNonExistent:he,isMember:ue,isUnknown:de,isFromAnotherTeam:re,team:V,mpimMemberNames:fe,channelHasNonUniqueName:Ee,teamName:ce,recordLabel:Ae,experimentBkChannelTabsGroupOn:le,experimentChannelHoverCardGroupOn:oe}}h(K,"mapStateToProps");const j={maybeOpenInSurfaceOrNavigate:d.n},Q=(0,L.N)(K,j),z=(0,v.A)(Q(w))},7368624288:(B,A,e)=>{"use strict";e.d(A,{A:()=>U});var t=e(3134334389),s=e(2947229296),o=e(414222479),n=e(59694732),c=e(8474682929),l=e(4471878238);function i(F){let{href:W,entity:w}=F;const K=(0,l.Kr)(w);if(K){const j=K.full(),Q=K.compact(),J=K.expanded();if(j)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},j.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},j.headerSubtitle()," | ",j.headerTitle())),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W));if(Q)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Q.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},Q.subtitle()," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W));if(J)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},J.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},J.subtitle()," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W))}return t.createElement("div",{className:"sk_foreground_high_solid break_all"},W)}h(i,"WorkObjectLinkTooltip"),i.displayName="WorkObjectLinkTooltip";var a=e(1752414386),r=e(665140504),d=e(5279500834),m=e(8320547579),f=e(4378915552),u=e(8859166048),E=e(6928237551),v=e(1240477450),g=e(9323019934),T=e(4846005180),p=e(803196644),O=e(4542547804),y=e(884582241),C=e(6832752617),I=e(9842572424),M=e(6730916127),_=e(4612528447),P=e(4170441464),b=e(6761585902),S=e(3351247794),N=e(3701660703),L=e(9132422875),D=e(4114246846);const k=new s.Ay("linkify_emails");function x(F){let{href:W,isMsgPermalink:w=!1,msg:K=void 0,channelDisplayName:j,msgSenderName:Q,permalinkChannelId:J=void 0,channel:z=void 0,isFilePermalink:ie=!1,file:ee=void 0,isWorkObject:ne,entity:Z}=F,te=W.length>500?`${W.substr(0,500)}\u2026`:W;if(te=w?te:te==null?void 0:te.toLowerCase(),ne&&Z)return t.createElement(i,{entity:Z,href:W});if(ie&&ee){const de=ee==null?void 0:ee.title,re=(0,g.Hx)(ee);return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},de)),t.createElement("div",null,t.createElement("span",{className:"normal"},re," | "),t.createElement("span",{className:"normal"},t.createElement(n.A,{file:ee,displaySharedBy:!0,excludeTime:!0}))),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W))}if(!w||(0,f.lv)(K)||(0,T.ow)(K)||(0,v.F)(z)||(0,y.A)(K==null?void 0:K.subtype)||(0,_.ys)(K)==="tombstone"||(0,_.s7)(K)||(0,_.Dv)(K)||(0,_.TD)(K)||(0,C.o)(K)||!(0,T.iM)(K)&&!(K!=null&&K.text)){if(W.startsWith("mailto:")){const re=W.split("mailto:")[1]?W.split("mailto:")[1]:W;return k.rt("Contact {emailAddress} in Slack",{emailAddress:re})}return t.createElement(t.Fragment,null,te)}let he;if(K&&(0,I.A)(K,!0)&&(0,r.n)(K.blocks)&&!(0,M.A)(K))he=t.createElement(a.A,{richTextBlock:(K==null?void 0:K.blocks)&&K.blocks[0],emojiSize:d.lw.SMALL,truncateLength:125});else{const de=K&&(0,p.A)(K);de&&(he=t.createElement(c.A,{text:de,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:d.lw.SMALL,maxCharacters:125}))}const ue=(0,u.LI)(z)||(0,u.yz)(z)?j:t.createElement(o.A,{className:"normal",channelId:J});return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Q),t.createElement("span",{className:"normal"}," | ",ue)),he&&t.createElement("div",{className:"normal"},he),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W))}h(x,"MrkdwnLinkTooltip"),x.displayName="MrkdwnLinkTooltip";function R(F,W){let{href:w}=W;const K=(0,P.$N)(F,w),j=!!(K&&K.type==="message"&&K.ts),Q=j?K.channelId:void 0,J=!!(K&&(K!=null&&K.fileId)),z=K!=null&&K.fileId?(0,N.Lp)(F,K.fileId):void 0,ie=j&&K.channelId&&K.ts&&(0,L.Ld)(F,K.channelId,K.ts),ee=ie&&(0,O.A)(F,ie),ne=!!(K&&K.type===P.im.WORK_OBJECT);var Z;const te=ne&&(0,D.Ne)(F,{recordId:K==null?void 0:K.entityId,lookupFunction:K==null?void 0:K.lookupFunction,entityUrl:(Z=K==null?void 0:K.entityUrl)!==null&&Z!==void 0?Z:""})||void 0;var he;return{isFilePermalink:J,file:z,isMsgPermalink:j,msg:ie||void 0,permalinkChannelId:Q||void 0,channel:Q&&(he=(0,S.OL)(F,Q))!==null&&he!==void 0?he:void 0,channelDisplayName:j?(0,E.SB)(F,(0,S.OL)(F,Q)):void 0,msgSenderName:ee?(0,m.A)(F,{userId:ee.userId,botId:ee.botId,username:ee.username,botProfile:ie.bot_profile}):void 0,isWorkObject:ne,entity:te}}h(R,"mapStateToProps");const U=(0,b.N)(R)(x)},1100006258:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>Q});var t=e(3134334389),s=e(2774532222),o=e(7715417323),n=e(5734673180),c=e(3889517373),l=e(2258531297),i=e(1411907682),a=e(2947229296),r=e(5221609289),d=e(7368624288),m=e(9882933947),f=e(4193831941),u=e(1401466188),E=e(2211405675),v=e(5406890873),g=e(6182787245),T=e(4170441464),p=e(3649477833),O=e(756609587),y=e(9006442414),C=e(3299124106),I=e(9128139071),M=e(2691514942),_=e(3587464655),P=e(6761585902),b=e(5707983015),S=e(9238137835),N=e(205540855),L=e(2493542956),D=e(6766178921),k=e(293248343),x=e(7822104609);const R="javascript:";function U(z){let{url:ie,origin:ee,botId:ne,urlIsSIWSLink:Z,experimentWebIdentityLinksGroupTreatment:te,isFileQuipAndNotAccessible:he,isFileListAndNotAccessible:ue}=z;return Z&&te?"siws":he?"quip-inaccessible":ue?"list-inaccessible":ne?"bot":(0,s.A)(ie,R)?"javascript":(0,s.A)(ie,`${ee}/messages`)?"messages":(0,s.A)(ie,`${c.SQ}chat.help`)?"old-slack-action":(0,s.A)(ie,`${c.Rw}`)?"slack-action":"external"}h(U,"getUrlType");const F=(0,i.A)();function W(z){let{botId:ie,botName:ee,children:ne,origin:Z=F,doSlackAction:te,doSlackActionLinks:he=!0,requestAccessModalThunk:ue,noLinking:de=!1,url:re,maybeOpenSuspiciousLinkDialog:V=o.A,clogLinkClick:H=o.A,urlIsSIWSLink:X=!1,explicitlyRenameBotLink:Y=!1,showTooltip:q=!1,suppressLinkWarningPref:fe=!1,experimentWebIdentityLinksGroupTreatment:ce=!1,isHermesLinkTrigger:Ee=!1,triggerId:Ae,isFileQuipAndNotAccessible:le=!1,isFromAppHome:oe=!1,permalinkType:me=null,permalinkFileId:pe=void 0,isFileListAndNotAccessible:Te=!1,noTabbableContent:Me=!1,appId:Ue}=z;const xe=(0,t.useCallback)(()=>{te(re)},[te,re]),Ne=(0,t.useCallback)(Fe=>{Fe.preventDefault(),ue({url:re})},[ue,re]),be=(0,t.useCallback)(Fe=>{let ge;me===T.im.FILE&&pe&&(ge={item_id:pe,item_type:"F",link_action:"file_preview_link"});let He;me===T.im.WORK_OBJECT&&(He={appId:Ue}),H({...Fe,...ge,...He,link_type:me||"external"})},[me,pe,H,Ue]),ke=(0,t.useCallback)(()=>{const Fe=(0,n.A)(re);return t.createElement(d.A,{href:Fe})},[re]);if(de)return t.createElement("span",null,ne);const Ke=U({url:re,origin:Z,botId:ie,urlIsSIWSLink:X,experimentWebIdentityLinksGroupTreatment:ce,isFileQuipAndNotAccessible:le,isFileListAndNotAccessible:Te}),$=(0,n.A)(re);let ae,Ge=null,nt=!1,at=!1,Ve=ne,Se=!1;if(Ke==="slack-action")at=!0,he?Ge=xe:(nt=!0,ae="(Disabled) ");else if(Ke==="old-slack-action")nt=!0,ae="(Disabled) ";else if(Ke==="quip-inaccessible"||Ke==="list-inaccessible"){const ge=new a.Ay("request_access").t("Request access"),He=t.createElement(O.A,{className:"c-mrkdwn__quip_and_list_file_request_access_link","data-stringify-link":$,"data-qa":"file-request-access-link",href:$,onClick:Ne,isFromAppHome:oe,tabIndex:Me?-1:void 0},ne);return q?t.createElement(y.Ay,{tip:ge,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},He):He}else if(Ke==="javascript")at=!0,Ge=o.A;else if(Ke==="bot"&&Y)at=!0,Ve=ee||ne,Se=!0;else if(Ke==="siws"){const Fe=h((He,Qe)=>t.createElement(O.A,{autoClogProps:Qe,clogLinkClick:be,className:"c-mrkdwn__identity_trigger",onClick:He,"data-stringify-link":$,href:$},Ve),"renderBaseLink");let ge=Fe;return q&&(ge=h((He,Qe)=>t.createElement(y.Ay,{tip:ke,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Fe(He,Qe)),"renderSiwsLink")),t.createElement(f.A,{url:$},ge)}if(at){let Fe=t.createElement(p.A,{onClick:Ge&&!nt?Ge:o.A,disabled:nt,renderAsSpan:!0},ae,Ve);return Se&&(Fe=t.createElement(E.A,{botId:ie,onClick:!nt&&Ge},Fe)),Fe}const Pe=t.createElement(O.A,{"data-stringify-link":$,href:$,clogLinkClick:be,maybeOpenSuspiciousLinkDialog:fe?o.A:V,isFromAppHome:oe,tabIndex:Me?-1:void 0},ne);return Ee&&Ae?t.createElement(u.A.Consumer,null,Fe=>{let{...ge}=Fe;const He={triggerId:Ae,url:re},Qe=(0,L.P)(ge),_e=(0,L.S)(ge,He);return(0,C.sh)({shortcutInfo:He,channelId:ge.channelId,hermesLinkTriggerUIContext:Qe,autoClogEntryPoint:(_e==null?void 0:_e.entryPoint)||"other",children:t.createElement(O.A,{"data-stringify-link":$,href:$,clogLinkClick:be,autoClogProps:_e,hermesLinkTriggerUIContext:Qe,maybeOpenSuspiciousLinkDialog:fe?o.A:V},ne)})}):q?t.createElement(y.Ay,{tip:ke,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Pe):Pe}h(W,"BaseMrkdwnLink"),W.displayName="BaseMrkdwnLink";const w=h((z,ie)=>{let{children:ee,memberId:ne,url:Z}=ie;const te=(0,N._Z)(z,"web_identity_links")==="treatment",he=(0,l.A)(Z),ue=(0,r.Ay)(Z),de=ue?(0,T.XN)(z,ue):null;let re;if(he&&(re=(0,S.vu)(z,he),!re&&ne)){const Y=(0,D.nv)(z,ne);(0,g.Ux)(z,Y)&&(re=ee),re||(0,M.Ay)({state:z}).warn(`MrkdwnLink: no bot name found for ${he}`)}const V=(0,v.Wc)(z)&&(de==null?void 0:de.type)===T.im.SHORTCUT_LINK_TRIGGER,H=ue&&(0,_.dR)(z,ue)!==null,X=ue&&(0,I.W4)(z,ue)!==null;return{botId:he??void 0,botName:re,appId:de==null?void 0:de.appId,experimentWebIdentityLinksGroupTreatment:te,suppressLinkWarningPref:!!(0,k.ty)(z,"suppress_link_warning"),urlIsSIWSLink:ue?(0,x.Ls)(z,ue):!1,isHermesLinkTrigger:V,triggerId:de==null?void 0:de.triggerId,permalinkType:de==null?void 0:de.type,permalinkFileId:de==null?void 0:de.fileId,isFileQuipAndNotAccessible:H,isFileListAndNotAccessible:X}},"mapStateToProps"),K=h(z=>({doSlackAction:ie=>z((0,b.A)(ie)),requestAccessModalThunk:ie=>z((0,m.A)(ie))}),"mapDispatchToProps"),Q=(0,P.N)(w,K)(W);Object.defineProperty({},"getUrlType",{get:()=>U,set:z=>{U=z}})},8474682929:(B,A,e)=>{"use strict";e.d(A,{A:()=>Z});var t=e(3134334389),s=e(1398359918),o=e(6696292586),n=e(8891672792),c=e(8840779375),l=e(9113979368),i=e(7715417323),a=e(2947229296),r=e(2157756221),d=e(714409569),m=e(423283942),f=e(8738884775),u=e(8269992551),E=e(1100006258),v=e(6860278840),g=e(4446334436),T=e(5279500834),p=e(5757319274),O=e(9006442414),y=e(2236744111),C=e(4850505900),I=e(246468476),M=e(1869001920),_=e(2691514942),P=e(7831811348),b=e(3122619948),S=e(9052466159),N=e(6761585902),L=e(392783670),D=e(638638155),k=e(205540855),x=e(250694849),R=e(2049899491),U=e(293248343),F=e(4272914214);function W(){return W=Object.assign||function(te){for(var he=1;he<arguments.length;he++){var ue=arguments[he];for(var de in ue)Object.prototype.hasOwnProperty.call(ue,de)&&(te[de]=ue[de])}return te},W.apply(this,arguments)}h(W,"_extends");const w=void 0,K="\u2026.,_-",j=/\ue000|\ue001/,Q=new a.Ay("message"),J=(0,_.Wo)();let z=h(class extends t.PureComponent{componentDidMount(){const{onRender:he}=this.props;he==null||he({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:he}=this.props;he==null||he({isTruncated:this.isTruncated()})}render(){const{text:he,className:ue,noJumbomoji:de,noSpecials:re,customContentHandler:V,addDirectionAttr:H,refToForward:X,onMouseEnter:Y,onMouseLeave:q,"data-qa":fe,experimentTsfSnitchGroupOn:ce}=this.props;if(!he)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const Ee=re?"NOMRKDWN":this.props.tsfMode,Ae=this.props.ariaAssertive?"assertive":void 0;let le=(0,M.sm)(he,Ee,{jumbomoji:!de,allow_intra_word_formatting:!0});j.test(he)&&(le=(0,s.A)(le,pe=>pe.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let oe=(0,I.A)(le);V&&(oe=V(oe));const me=H?"auto":void 0;return t.createElement("span",{className:ce?`c-mrkdwn__snitch ${ue||""}`:ue,ref:X,"aria-live":Ae,dir:me,"data-qa":fe,onMouseEnter:Y,onMouseLeave:q},this.renderMrkdwnFormatting(oe,!0))}constructor(...he){var ue;super(...he),ue=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(de,re)=>{const{onUserGroupClick:V}=this.props;de.preventDefault(),V==null||V(re)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=de=>{let{contents:re}=de;const V=(0,P.Yp)()==="ja-JP"?"\uFF0A":"*",H=(0,b.A)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":V,"data-stringify-suffix":V,"data-stringify-requires-siblings":!0};return t.createElement("b",W({key:this.nextKey()},H),this.renderMrkdwnFormatting(re))},this.renderChannel=de=>{let{id:re="",name:V=""}=de;const{noLinking:H,clogLinkClick:X,showTooltips:Y}=this.props;return this.numCharactersUsed+=(V||re).length+1,t.createElement(u.A,{key:this.nextKey(),id:re,noLinking:H,clogLinkClick:X,showTooltip:Y})},this.renderCode=de=>{let{contents:re}=de;if(this.props.noCode)return t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(re));const V=(0,P.Yp)()==="ja-JP"?"\uFF40":"`",H=(0,b.A)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":V,"data-stringify-suffix":V,"data-stringify-requires-siblings":!0};return t.createElement(d.i,{blockType:"code",key:this.nextKey()},t.createElement(d.m,null,t.createElement("code",W({key:this.nextKey(),className:"c-mrkdwn__code"},H),this.renderMrkdwnFormatting(re))))},this.renderCommand=de=>{let{data:re}=de;const{type:V,label:H,...X}=re,{noHighlights:Y,noLinking:q,do24hrTime:fe}=this.props;switch(V){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=V.length+1,t.createElement(f.A,W({},X,{key:this.nextKey(),type:V,noHighlights:Y,noLinking:q}));case"subteam":return this.numCharactersUsed+=(H||V).length,t.createElement(v.Ay,W({},X,{key:this.nextKey(),fallback:H,noHighlights:Y,noLinking:q,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(H||V).length,t.createElement(m.A,W({},X,{key:this.nextKey(),fallback:H,do24hrTime:fe}));default:return w}},this.renderEmoji=de=>{let{name:re=""}=de;const{showTooltips:V,stopAnimations:H,emojiDisplayInfo:X,emojiSize:Y=T.lw.MEDIUM,isEmojiInlineWithText:q,iconInTextMode:fe,sourceTeamId:ce}=this.props;this.numCharactersUsed+=1;const{name:Ee=re,url:Ae=void 0}=(0,y.H)(re,X);return t.createElement(T.Ay,{key:this.nextKey(),text:Ee,emojiSize:Y,showTooltip:V,stopAnimations:H,iconInTextMode:fe,sourceTeamId:ce,isEmojiInlineWithText:q,url:Ae})},this.renderHardSpace=de=>this.props.customLineEnding?"\xA0":["\xA0",t.createElement("wbr",{key:this.nextKey()})],this.renderHex=de=>{let{color:re=""}=de;const{noHexColors:V}=this.props;return this.numCharactersUsed+=re.length,V?null:t.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:re}})},this.renderHighlight=de=>t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},de),this.renderHighlightMarkers=de=>{let{contents:re}=de;return t.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(re))},this.renderHighlights=(de,re)=>{let{text:V=""}=de;const{highlightWords:H,noHighlights:X,maxCharacters:Y}=this.props,{isLastItem:q}=re;if((0,o.A)(Y)&&this.numCharactersUsed<Y){const Ae=Y-this.numCharactersUsed;if(Ae<V.length||Ae===V.length&&!q){const le=(0,n.A)((0,n.A)(V.slice(0,Ae)),K);return this.numCharactersUsed=Y,[this.renderHighlights({text:le},re),"\u2026"]}this.numCharactersUsed+=V.length}if(!V||!H||X)return(0,S.A)(V);const fe=(0,C.Ay)(V,H),ce=[];let Ee=0;if(fe.forEach(Ae=>{let{index:le,length:oe}=Ae;const me=(0,S.A)(V.slice(Ee,le));ce.push(me);const pe=(0,S.A)(V.substr(le,oe));ce.push(this.renderHighlight(pe)),Ee=le+oe}),Ee!==V.length){const Ae=(0,S.A)(V.slice(Ee));ce.push(Ae)}return ce},this.renderItalic=de=>{let{contents:re}=de;const V=(0,P.Yp)()==="ja-JP"?"\uFF3F":"_",H=(0,b.A)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":V,"data-stringify-suffix":V,"data-stringify-requires-siblings":!0};return t.createElement("i",W({key:this.nextKey()},H),this.renderMrkdwnFormatting(re))},this.renderJumbomoji=de=>{let{name:re}=de;const{showTooltips:V,stopAnimations:H,sourceTeamId:X}=this.props;return this.numCharactersUsed+=1,t.createElement(T.Ay,{key:this.nextKey(),text:re,emojiSize:T.lw.LARGE,showTooltip:V,stopAnimations:H,sourceTeamId:X})},this.renderLineBreak=()=>{const{customLineEnding:de}=this.props,re=t.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,de?[t.createElement("span",{key:this.nextKey()},de),re]:re},this.onMaybeOpenSuspiciousLinkDialog=(de,re)=>{let{url:V="",contents:H=[]}=re;const{onOpenSuspiciousLinkDialog:X,suppressLinkWarningPref:Y}=this.props;if(Y)return;const q=h(Ae=>Ae!=null&&Ae.text?Ae.text:Ae!=null&&Ae.name?Ae.name:Ae!=null&&Ae.contents?Ae.contents.map(q):"","textFromContents"),fe=H.map(q).join(""),ce=fe.replace(/&amp;/g,"&"),Ee=V.replace(/&amp;/g,"&");(0,g.A)(fe,V)&&(X==null||X({text:ce,url:Ee}),de.preventDefault())},this.renderLink=de=>{let{url:re="",contents:V=[]}=de;const{doSlackActionLinks:H,noLinking:X,origin:Y,memberId:q,clogLinkClick:fe,explicitlyRenameBotLink:ce,isFromAppHome:Ee,showTooltips:Ae}=this.props;return t.createElement(E.Ay,{key:this.nextKey(),url:re,noLinking:X,doSlackActionLinks:H,origin:Y,memberId:q,clogLinkClick:fe,explicitlyRenameBotLink:ce,showTooltip:Ae,maybeOpenSuspiciousLinkDialog:le=>{this.onMaybeOpenSuspiciousLinkDialog(le,{url:re,contents:V})},isFromAppHome:Ee},this.renderMrkdwnFormatting(V))},this.renderLongQuotePrefix=()=>(0,b.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=de=>{let{id:re="",fallback:V}=de;const{noHighlights:H,noLinking:X,showTooltips:Y,clogLinkClick:q,forceRealNames:fe,supressMentionAtSymbol:ce}=this.props;return this.numCharactersUsed+=re.length,t.createElement(r.A,{key:this.nextKey(),forceRealNames:fe,id:re,fallback:V,showTooltip:Y,noHighlights:H,noLinking:X,clogLinkClick:q,supressMentionAtSymbol:ce})},this.renderMrkdwnFormatting=function(de){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:V}=ue.props;return(0,c.A)(de,(H,X)=>{if(ue.isTruncated())return!1;const Y=H.type,q=Y&&ue.FORMAT_HANDLERS[Y]||ue.renderHighlights,fe=h(()=>{const Ee=Boolean(re&&de&&X===de.length-1);return q(H,{index:X,isLastItem:Ee})},"getDefaultOutput");let ce;try{V?(ce=V({item:H,getDefaultOutput:fe}),t.isValidElement(ce)&&(ce=t.cloneElement(ce,{key:ue.nextKey()}))):ce=fe()}catch(Ee){J.error(Ee)}return ce===w&&(ce=ue.renderUnknownItem(H)),ce})},this.renderParagraphBreak=()=>{const{customLineEnding:de}=this.props;return de?this.renderLineBreak():(0,b.A)()?t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.createElement("i",{className:"copy_only"},t.createElement("br",null)))},this.renderPre=(de,re)=>{let{contents:V}=de,{index:H}=re;if(this.props.noCode)return this.renderUnformattedBlock({contents:V,index:H});const X=(0,P.Yp)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",Y=(0,b.A)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":X,"data-stringify-suffix":X,"data-stringify-requires-siblings":!0};return t.createElement(d.i,{blockType:"codeBlock"},t.createElement(d.m,null,t.createElement("pre",W({key:this.nextKey(),className:"c-mrkdwn__pre"},Y),this.renderMrkdwnFormatting(V))))},this.renderQuote=(de,re)=>{let{contents:V}=de,{index:H}=re;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:V,index:H});const X={};if((0,b.A)()&&!(0,l.A)(V)){const Y=(V==null?void 0:V[0].type)==="long_quote_prefix"?"blockquote":"quote";X["data-stringify-type"]=Y}return t.createElement("blockquote",W({key:this.nextKey(),className:"c-mrkdwn__quote"},X),this.renderMrkdwnFormatting(V))},this.renderQuotePrefix=()=>(0,b.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=de=>{let{contents:re}=de;const V=(0,b.A)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.createElement("strike",W({key:this.nextKey()},V),this.renderMrkdwnFormatting(re))},this.renderUnformattedBlock=de=>{let{contents:re,index:V}=de;const H=t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(re));if(V===0)return H;const X=this.renderLineBreak();return this.isTruncated()?X:[X,H]},this.renderUnknownItem=de=>{let{token:re}=de;const{showTooltips:V}=this.props;return V?t.createElement(O.Ay,{key:this.nextKey(),tip:Q.t("Sorry! This part didn\u2019t render correctly.")},t.createElement("code",{className:"sk_primary_foreground"},re)):t.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},re)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");z.defaultProps={text:"",tsfMode:"NORMAL",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:i.A,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:i.A,onMouseEnter:i.A,onMouseLeave:i.A,explicitlyRenameBotLink:!1,onUserGroupClick:i.A,onOpenSuspiciousLinkDialog:i.A,refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1,forceRealNames:!1,supressMentionAtSymbol:!1,useUserNamePrefs:!1},z.displayName="BaseMrkdwn";const ie=h((te,he)=>{const{emojiMode:ue,noHexColors:de,noJumbomoji:re,useUserNamePrefs:V}=he,H=ue||(0,p.w)(te),X=(0,R.A)(te);return{emojiMode:H,noJumbomoji:re||!X,highlightWords:(0,x.A)(te),noHexColors:de||(0,U.ty)(te,"hide_hex_swatch"),do24hrTime:(0,U.ty)(te,"time24"),suppressLinkWarningPref:(0,U.ty)(te,"suppress_link_warning"),experimentTsfSnitchGroupOn:(0,k._Z)(te,"tsf_snitch")==="on",forceRealNames:V&&(0,F.E)(te)}},"mapStateToProps"),ee=h(te=>({onUserGroupClick:he=>te((0,L.q)({groupId:he})),onOpenSuspiciousLinkDialog:he=>{let{text:ue,url:de}=he;return te((0,D.A)({text:ue,url:de}))}}),"mapDispatchToProps"),Z=(0,N.N)(ie,ee)(z)},6860278840:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(2806232803),l=e(5478938623),i=e(1315591004),a=e(8823986650),r=e(7328353247),d=e(3122619948),m=e(6761585902),f=e(392783670),u=e(3666777625),E=e(5550559787),v=e(6166500720);function g(){return g=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var _=arguments[M];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(I[P]=_[P])}return I},g.apply(this,arguments)}h(g,"_extends");function T(I){let{id:M,className:_=void 0,fallback:P=void 0,handle:b=void 0,isUserInGroup:S=!1,onClick:N=n.A,noHighlights:L=!1,noLinking:D=!1,isNonExistent:k=!1,isUnknown:x=!1,isDeactivated:R=!1,team:U=void 0,showUserGroupDetailsProps:F,alwaysDisplayAsLink:W=!1,noTabbableContent:w=!1}=I;const K=(0,t.useCallback)(ne=>{F(M),ne.preventDefault(),N(ne,M)},[M,N,F]);if(x)return t.createElement(c.A,{type:"unknown"});if(k&&!P)return t.createElement(c.A,{type:"non-existent"});const j=!D&&!k&&!R,Q=(0,r.k)({userGroupHandle:b,fallbackHandle:P,isUnknown:x,isNonExistent:k}),J=Q,z=S&&!L,ie=o()("c-mrkdwn__user_group",_,{"c-mrkdwn__user_group--link":W||j,"c-mrkdwn__user_group--mention":z});if(!j)return t.createElement("span",{"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":j,"data-qa-user-group-mrkdwn-is-mention":z,className:ie},J);const ee={};return(0,d.A)()?(ee["data-stringify-type"]="mention",ee["data-stringify-id"]=M,ee["data-stringify-label"]=Q):ee["data-stringify-text"]=Q,t.createElement(a.A,g({className:ie,"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":j,"data-qa-user-group-mrkdwn-is-mention":z,href:`${(0,l.Zl)(U)}admin/user_groups`,onClick:K},w&&{tabIndex:-1},ee),J)}h(T,"UserGroup"),T.displayName="UserGroup";const p=null;function O(I,M){let{id:_}=M;const P=(0,v.lJ)(I,_);let b;if(P){const N=(0,i.t8)(P),L=(0,i.QR)(P),D=!(0,i.V1)(P),k=P.handle||void 0;var S;b={handle:k,isUnknown:N,isNonExistent:L,isDeactivated:D,isUserInGroup:(0,E.nc)(I,P.id)&&!D,team:(S=(0,u.H7)(I))!==null&&S!==void 0?S:void 0}}else b={isNonExistent:!0};return b}h(O,"mapStateToProps");const y=h(I=>({showUserGroupDetailsProps:M=>I((0,f.q)({groupId:M}))}),"mapDispatchToProps"),C=(0,m.N)(O,y)(T)},1814447001:(B,A,e)=>{"use strict";e.d(A,{A:()=>O});var t=e(3889517373),s=e(3134334389),o=e(6122756707),n=e(7715417323),c=e(9148286968),l=e(1605171913),i=e(8767180839);function a(){return a=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(y[M]=I[M])}return y},a.apply(this,arguments)}h(a,"_extends");const r=(0,s.memo)(y=>{let{addMemberToPresenceSubscription:C=n.A,memberId:I,removeMemberFromPresenceSubscription:M=n.A,renderDoublePresence:_=!1,firstElementExtraClassName:P="",...b}=y;const S=(0,o.wA)();return(0,s.useEffect)(()=>{S((0,i.n$)())},[S]),(0,c.A)(()=>(C(I),()=>M(I)),[I]),_?s.createElement(s.Fragment,null,s.createElement(l.Ay,a({},b,{className:`${b.className||""} ${P}`})),s.createElement(l.Ay,a({},b))):s.createElement(l.Ay,a({},b))});r.displayName="PresenceWithSubscriptions";const d=r;var m=e(5450958027),f=e(6761585902),u=e(6637594072),E=e(1242487384),v=e(566873972),g=e(5416456934);const T=h((y,C)=>{const I=(0,g.gd)(y,C.memberId),M=(0,m.d)(y,C.memberId),_=(0,v.z)(y,C.memberId),P=(0,E.WR)(y)===C.memberId;return{...C,userType:M,isDnd:_,isSelf:P,isSlackbot:C.memberId===t.Q$,isActive:I==="active"}},"mapStateToProps"),p=h(y=>({addMemberToPresenceSubscription:C=>y((0,u.xz)(C)),removeMemberFromPresenceSubscription:C=>y((0,u.Fd)(C))}),"mapDispatchToProps"),O=(0,f.N)(T,p)(d)},5768409048:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>o});var t=e(1814447001),s=e(1605171913);const o=t.A},1605171913:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>f,Jc:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(9122366353),l=e(5190921192),i=e(9006442414);function a(){return a=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},a.apply(this,arguments)}h(a,"_extends");const r=new n.Ay("presence");function d(u,E){return u?E?r.t("Active, notifications snoozed"):r.t("Active"):E?r.t("Away, notifications snoozed"):r.t("Away")}h(d,"getPresenceText");const m=h(u=>{let{inheritIconSize:E=!1,inline:v=!0,isActive:g=!1,isDnd:T=!1,isSelf:p=!1,isSlackbot:O=!1,invert:y=!1,userType:C="member",focusable:I=!1,showText:M=!1,resetIA:_=!1,hasNoAccess:P=!1,className:b}=u,S=g?{name:"status-member-filled"}:{name:"status-member"};const N=o()(b,"c-presence",{"c-presence--active":g&&!y,"c-presence--resetIA":_,"c-presence--away":!g&&!y,"c-presence--inverted":y,"is-inline":v,block:!v}),L=d(g,T);P?S={name:"lock-filled"}:C==="member"?T?S=g?{name:"status-member-dnd-filled"}:{name:"status-member-dnd"}:O&&(S={name:"status-slackbot-filled"}):C==="ra"||C==="external"?T?S=g?{name:"status-guest-dnd-filled"}:{name:"status-guest-dnd"}:S=g?{name:"status-guest-filled"}:{name:"status-guest"}:C==="ura"&&(T?S=g?{name:"status-single-channel-guest-dnd-filled"}:{name:"status-single-channel-guest-dnd"}:S=g?{name:"status-single-channel-guest-filled"}:{name:"status-single-channel-guest"});const D=t.createElement("span",{className:N},t.createElement(l.A,a({},S,{title:L,"aria-label":L,"aria-hidden":"false",size:E?"inherit":"20",inline:v,"data-qa":"presence_indicator","data-qa-type":S.name,"data-qa-presence-self":p,"data-qa-presence-active":g,"data-qa-presence-dnd":T})));return I?t.createElement(t.Fragment,null,t.createElement(i.Ay,{tip:L},t.createElement(c.A,null,D)),M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},L)):t.createElement(t.Fragment,null,D,M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},L))},"Presence");m.displayName="Presence";const f=t.memo(m)},672497297:(B,A,e)=>{"use strict";e.d(A,{A:()=>V});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(481313997),l=e(2947229296),i=e(307717037),a=e(2208015175),r=e(9148286968),d=e(1236500105),m=e(2548388602),f=e(2207269998),u=e(1181734040),E=e(9062511843),v=e(8090731885),g=e(7089278202),T=e(321010523),p=e(280840163),O=e(293248343);const y=new l.Ay("slack_kit_video"),I=(0,t.forwardRef)((H,X)=>{let{src:Y,vtt:q,videoPoster:fe,title:ce,label:Ee,autoPlay:Ae=!0,enableMediaCaptions:le,onLoadedMetadata:oe,isLoading:me,setIsLoading:pe,isPlaying:Te,setIsPlaying:Me,duration:Ue,setDuration:xe,setElapsed:Ne,enableControls:be=!1,controlsList:ke,shiftCaptionsUp:Ke,setHasError:$,videoContainerClassName:ae}=H;const Ge=(0,E.A)(),nt=(0,u.A)(),at=(0,t.useRef)(null),Ve=(0,v.d)(d.A),[Se,Pe]=(0,t.useState)(!1),Fe=(0,t.useRef)(),ge=(0,t.useRef)(0),[He,Qe]=(0,t.useState)(null),_e=(0,p.d4)(Rt=>(0,O.ty)(Rt,"media_muted"));var Le;const Ie=(Le=(0,p.d4)(Rt=>(0,O.ty)(Rt,"media_volume")))!==null&&Le!==void 0?Le:1,we=(0,p.d4)(Rt=>(0,O.ty)(Rt,"media_playback_speed")),ze=(0,t.useRef)({});(0,t.useEffect)(()=>{at.current&&He&&(ze.current={file_src:He,media_type:"video",duration_ms:Ue*1e3,playback_session:Ve,title:ce})},[Ve,He,ce,Ue]),(0,t.useEffect)(()=>{fetch(Y).then(Rt=>Rt.blob()).then(Rt=>{const Bt=URL.createObjectURL(Rt);Qe(Bt)}).catch(Rt=>{Ge.error(`Video player err: ${Rt}`),$(!0)})},[Ge,$,Qe,Y]);const ut=(0,t.useRef)(!1),_t=(0,t.useCallback)(()=>{!ut.current&&Se&&(Fe.current&&(ge.current+=Date.now()-Fe.current,Fe.current=void 0),nt.track(T.EventId.SK_VIDEO_PLAYER,(0,i.A)({},ze.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_type:"video",element_name:"playback_finished"}}},closed_captions:le?"on":"off",playback_speed:`${we??1}x`,duration_watched_ms:ge.current})),ut.current=!0,ge.current=0)},[nt,Se,le,we]),yt=(0,t.useRef)(_t);yt.current=_t,(0,r.A)(()=>()=>yt.current(),[]);const Ot=(0,t.useCallback)(()=>{_t()},[_t]);(0,t.useEffect)(()=>{if(!at.current)return;const Rt=h(()=>{Te&&Me(!1),pe(!0)},"onWaiting"),Bt=h(()=>{pe(!1),Me(!0),nt.track(T.EventId.SK_VIDEO_PLAYER,(0,i.A)({},ze.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"play"}}}})),Se||(Pe(!0),nt.track(T.EventId.SK_VIDEO_PLAYER,(0,i.A)({},ze.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_name:"media"}}}}))),Fe.current=Date.now()},"onPlay"),dn=h(()=>{Me(!1),pe(!1),nt.track(T.EventId.MEDIA_PLAYER,(0,i.A)({},ze.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"pause"}}}})),Fe.current&&(ge.current+=Date.now()-Fe.current,Fe.current=void 0)},"onPause"),Mt=at.current,Ye=h(()=>{if(!Mt.buffered)return;const tt=Mt.duration||0;xe(tt)},"onProgress"),ot=h(()=>{pe(!1);const tt=Mt.duration;xe(tt),Ne(Mt.currentTime)},"onTimeUpdate"),ht=h(()=>{const tt=Mt.playbackRate;f.Cv.includes(tt)&&(Mt.playbackRate=tt)},"handleRateChange");return Mt.addEventListener("waiting",Rt),Mt.addEventListener("progress",Ye),Mt.addEventListener("timeupdate",ot),Mt.addEventListener("play",Bt),Mt.addEventListener("playing",Bt),Mt.addEventListener("pause",dn),Mt.addEventListener("ratechange",ht),Mt.addEventListener("ended",Ot),()=>{Mt.addEventListener("waiting",Rt),Mt.removeEventListener("progress",Ye),Mt.removeEventListener("timeupdate",ot),Mt.removeEventListener("play",Bt),Mt.removeEventListener("playing",Bt),Mt.removeEventListener("pause",dn),Mt.removeEventListener("ratechange",ht),Mt.removeEventListener("ended",Ot)}},[at,me,Te,xe,pe,Ne,Me,Se,Pe,Ot,nt]),(0,t.useEffect)(()=>{var Rt;const Bt=(Rt=at.current)===null||Rt===void 0?void 0:Rt.textTracks[0];Bt&&(Bt.mode=le?"showing":"hidden")},[le]),(0,t.useEffect)(()=>{if(le){var Rt,Bt;const dn=(Rt=at.current)===null||Rt===void 0?void 0:Rt.textTracks[0];if(!dn)return;const Mt=((Bt=at.current)===null||Bt===void 0?void 0:Bt.clientWidth)<500?50:80;dn.mode="hidden",Ke?(0,a.A)(dn==null?void 0:dn.cues,Ye=>{(Ye.text.match(/\n/g)||[]).length>=2||Ye.text.length>Mt?Ye.line=-6:Ye.line=-5}):(0,a.A)(dn==null?void 0:dn.cues,Ye=>{Ye.line="auto"}),dn.mode="showing"}},[le,Ke]);const It=(0,t.useCallback)(function(Rt){let Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;at!=null&&at.current&&(at.current.currentTime=Rt,Bt&&at.current.play())},[at]),kt=(0,t.useCallback)(()=>{at!=null&&at.current&&(at.current.paused?at.current.play():at.current.pause())},[at]),gt=(0,t.useCallback)(()=>{var Rt;at!=null&&at.current&&((Rt=at.current)===null||Rt===void 0||Rt.pause())},[at]),Gt=(0,t.useCallback)(Rt=>{at!=null&&at.current&&(at.current.muted=Rt)},[at]),Pt=(0,t.useCallback)(Rt=>{at!=null&&at.current&&(at.current.volume=Rt)},[at]),jt=(0,t.useCallback)(Rt=>{at!=null&&at.current&&f.Cv.includes(Rt)&&(at.current.playbackRate=Rt)},[at]);(0,t.useImperativeHandle)(X,()=>({setCurrentTime:It,togglePlayPause:kt,setMuted:Gt,setVolume:Pt,setPlaybackRate:jt,pause:gt})),(0,t.useEffect)(()=>{_e&&Gt(_e),Ie&&Pt(Ie),we&&!be&&jt(we)});const Qt=(0,t.useCallback)(()=>{var Rt;const Bt=(Rt=at.current)===null||Rt===void 0?void 0:Rt.error;Bt&&($(!0),Ge.error(`error code: ${Bt.code}, msg: ${Bt.message}`))},[at,Ge,$]),Jt=(0,t.useCallback)(()=>{pe(!1)},[pe]),Yt=o()("c-video_player-video-container",ae);return t.createElement("div",{className:Yt,"data-media-focus-container":!0,tabIndex:-1},me&&t.createElement("div",{className:"c-video_player-video-container_spinner"},t.createElement(g.A,{color:"white"})),t.createElement("video",{preload:"auto",autoPlay:Ae,"aria-label":Ee,className:"c-video_player-video",controls:be&&!me?!0:void 0,controlsList:be?ke:void 0,title:ce,ref:at,poster:fe,disablePictureInPicture:!0,onLoadedMetadata:oe,onCanPlay:Jt,onError:Qt},He&&t.createElement("source",{src:He,type:"video/mp4"}),y.t("Your browser does not support the video tag"),q&&t.createElement(m.A,{vtt:q,enableMediaCaptions:le})))});var M=e(8565526682),_=e(3254286694),P=e(6122756707),b=e(1093203675),S=e(9122366353),N=e(5681517118),L=e(5190921192),D=e(9006442414),k=e(2577163594);const x=new l.Ay("video_player"),R=h(H=>{let{vtt:X,isInlinePlayer:Y,className:q,backgroundStyle:fe}=H;const ce=(0,P.wA)(),Ee=(0,p.d4)(Te=>(0,O.ty)(Te,"enable_media_captions")),Ae=(0,p.d4)(b.y0),le=(0,t.useCallback)(()=>{ce((0,k.AZ)({pref:"enable_media_captions",value:!Ee}))},[ce,Ee]),oe=Ee&&X?x.t("Turn off captions"):x.t("Turn on captions"),me=x.t("Display captions"),pe=(0,t.useMemo)(()=>({name:Ee?"closed-caption-filled":"closed-caption"}),[Ee]);return Ae?t.createElement(D.Ay,{tip:oe,position:"top",delay:D.n1,hideFromScreenReader:!0},Y?t.createElement(S.A,{className:o()("c-video_controls_overlay__controls__button c-video_controls_overlay__controls__caption"),"aria-label":me,"aria-pressed":Ee,onClick:le},t.createElement(L.A,{name:pe.name,size:"inherit"})):t.createElement(N.A,{"aria-label":me,"aria-pressed":Ee,svgIconProps:pe,onClick:le,size:"medium",className:q,backgroundStyle:fe})):null},"VideoCaptionsButton");R.displayName="VideoCaptionsButton";const U=R;var F=e(9999571835),W=e(8710211278);function w(){return w=Object.assign||function(H){for(var X=1;X<arguments.length;X++){var Y=arguments[X];for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(H[q]=Y[q])}return H},w.apply(this,arguments)}h(w,"_extends");const K=new l.Ay("video_scrubber"),j=h(H=>{let{elapsed:X,duration:Y,setTime:q}=H;const fe=(0,t.useRef)(null);(0,t.useEffect)(()=>{var le;(le=fe.current)===null||le===void 0||le.toggleAttribute("data-no-drag-on-mouse-move",!0)},[fe]);const ce=(0,t.useCallback)(le=>t.createElement("div",w({className:"c-video_player_controls_scrubber c-video_player_controls_overlay__hover",ref:fe},le)),[]),Ee=(0,t.useCallback)(le=>t.createElement("div",w({className:"c-video_player_controls_scrubber__track"},le)),[]),Ae=(0,t.useCallback)(le=>t.createElement("div",w({className:"c-video_player_controls_scrubber__elapsed"},le)),[]);return t.createElement(W.A,{value:X,max:Y,onChange:q,renderContainer:ce,renderTrack:Ee,renderInner:Ae,"aria-label":K.t("Time scrubber",{currentTime:(0,F.A)(X),totalTime:(0,F.A)(Y),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1",fallbackHashNs:"stories_av"}),"aria-valuetext":(0,F.A)(X)})},"VideoControlsScrubber");j.displayName="VideoControlsScrubber";const Q=j;var J=e(2759708258),z=e(9917685424),ie=e(7850441626),ee=e(3432655345),ne=e(685249320),Z=e(5181078482);const te=new l.Ay("slack_kit_video"),he=h(H=>{let{onClickOverlay:X,showControls:Y=!0,duration:q,elapsed:fe,setTime:ce,isPlaying:Ee,isLoading:Ae,videoRef:le,vtt:oe,setShiftCaptionsUp:me=n.A,onFullscreenButtonClicked:pe,isFullScreen:Te}=H;const Me=(0,t.useContext)(_.A),[Ue,xe]=(0,t.useState)(!1),[Ne,be]=(0,t.useState)(!1),ke=(0,t.useRef)(null),Ke=(0,t.useRef)(null),$=Ee?te.t("Pause"):te.t("Play"),ae=(0,t.useCallback)(Qe=>{var _e,Le;const Ie=Qe.target,we=!!(Me&&(!((_e=ke.current)===null||_e===void 0)&&_e.contains(Ie)||!((Le=Ke.current)===null||Le===void 0)&&Le.contains(Ie)));be(we)},[Me]),Ge=(0,t.useCallback)(Qe=>{var _e,Le;const Ie=Qe.relatedTarget,we=!!(Me&&(!((_e=ke.current)===null||_e===void 0)&&_e.contains(Ie)||!((Le=Ke.current)===null||Le===void 0)&&Le.contains(Ie)));be(we)},[Me]),{mouseIsOverElement:nt,onMouseLeave:at,onMouseEnter:Ve,onMouseMove:Se,onMouseOver:Pe}=(0,ne.A)(),Fe=(0,t.useCallback)(()=>{Ve()},[Ve]);(0,t.useEffect)(()=>{me(nt)},[nt,me]);const ge=(()=>fe?(0,M.A)(fe*1e3):q?(0,M.A)(q*1e3):te.t("Video"))(),He=Ae?t.createElement(g.A,{size:"medium",color:"white",className:"c-video_player_controls_overlay__controls__spinner",noMargin:!0}):t.createElement(L.A,{name:Ee?"pause-filled":"play-filled",inline:!0});return Y?t.createElement(J.A,null,Qe=>{let{measureRef:_e,width:Le}=Qe;const Ie=Le||360,we=!!(Ie&&Ie<=330);return t.createElement("div",{className:o()("c-video_player_controls_overlay","c-video_player_controls_overlay--controls",{"c-video_player_controls_overlay--active":Ne,"p-video_player_controls_overlay--vertical_volume_active":Ue}),onFocus:ae,onBlur:Ge,onMouseEnter:Fe,onMouseLeave:at,onMouseMove:Se,onMouseOver:Pe,"data-prevent-fade":"true",role:"group",ref:_e},t.createElement(Z.Nm,{className:"c-video_player_controls_overlay__button",onClick:X,tabIndex:-1,"aria-hidden":"true"}),t.createElement("div",{className:"c-video_player_controls_overlay__controls_container",ref:ke},t.createElement(Q,{elapsed:fe,duration:q,setTime:ce}),t.createElement("div",{className:"c-video_player_controls_overlay--controls"},t.createElement(Z.Nm,{className:o()("c-video_player_controls_overlay__controls__pill",{"c-video_player_controls_overlay__controls__pill--playing":Ee}),"aria-label":$,"aria-pressed":Ee,onClick:X},He,t.createElement("div",{className:"c-video_player_controls_overlay__time"},ge)),t.createElement(ee.A,{className:"c-video_player_media_volume_slider",isInlinePlayer:!0,useVerticalVolume:we,setIsVerticalVolumeActive:xe,videoRef:le}),t.createElement("div",{className:"c-video_player_controls--right-controls"},t.createElement(ie.A,{isInlinePlayer:!0,videoRef:le}),oe&&t.createElement(U,{vtt:oe,isInlinePlayer:!0})))),t.createElement("div",{className:"c-video_player_controls_overlay__corner c-video_controls_overlay__hover",ref:Ke},!Te&&pe&&t.createElement(z.A,{classPrefix:"c-video_player",onClick:pe})))}):null},"VideoOverlay");he.displayName="VideoOverlay";const ue=he,de=new l.Ay("slack_kit_video"),re=h(H=>{let{className:X,styleProps:Y,title:q,label:fe,src:ce,vtt:Ee,enableMediaCaptions:Ae=!1,autoPlay:le,videoPoster:oe,enableControls:me=!1,controlsList:pe,bubbleErrorOrLoadingStateToParent:Te=n.A,videoContainerClassName:Me}=H;const Ue=(0,t.useRef)(null),[xe,Ne]=(0,t.useState)(!1),[be,ke]=(0,t.useState)(!1),[Ke,$]=(0,t.useState)(!0),[ae,Ge]=(0,t.useState)(0),[nt,at]=(0,t.useState)(0),[Ve,Se]=(0,t.useState)(!1),Pe=(0,p.d4)(Qe=>(0,O.ty)(Qe,"enable_media_captions"))||Ae;(0,t.useEffect)(()=>{Te&&Te({hasError:be,isLoading:Ke})},[be,Ke,Te]);const Fe=(0,t.useCallback)(Qe=>{if(Ue!=null&&Ue.current){var _e;(_e=Ue.current)===null||_e===void 0||_e.setCurrentTime(Qe,!1)}else Ge(Qe)},[Ue,Ge]),ge=(0,t.useCallback)((Qe,_e)=>{_e&&at(_e)},[]),He=(0,t.useCallback)(Qe=>{var _e;Qe.stopPropagation(),(_e=Ue.current)===null||_e===void 0||_e.togglePlayPause()},[Ue]);return t.createElement(c.A,{clogImpression:!0,eventId:T.EventId.SK_VIDEO_PLAYER},t.createElement("div",{className:o()("c-video_player",X),style:Y},t.createElement(I,{title:q,label:fe,src:ce,vtt:Ee,ref:Ue,autoPlay:le,videoPoster:oe,enableControls:me,controlsList:pe,setIsLoading:$,isLoading:Ke,isPlaying:xe,setIsPlaying:Ne,duration:nt,setDuration:at,setElapsed:Ge,onLoadedMetadata:ge,enableMediaCaptions:Pe,shiftCaptionsUp:Ve,setHasError:ke,videoContainerClassName:Me}),be&&t.createElement("div",{className:"c-video_player__error_overlay"},t.createElement("p",null,de.t("Error loading video. Please try again later."))),t.createElement(ue,{onClickOverlay:He,elapsed:ae,duration:nt,showControls:!me,setTime:Fe,isPlaying:xe,isLoading:Ke,videoRef:Ue,vtt:Ee,setShiftCaptionsUp:Se,onFullscreenButtonClicked:n.A,isFullScreen:!1})))},"VideoPlayer");re.displayName="VideoPlayer";const V=t.memo(re)},2601874210:(B,A,e)=>{"use strict";e.d(A,{$:()=>c,h:()=>n});var t=e(9147812225),s=e(9217109404),o=e(7073323626);const n=(0,t.A)(s.yW),c=(0,t.A)((0,o.A)(s.yW))},7893409143:(B,A,e)=>{"use strict";e.d(A,{A:()=>c,u:()=>n});var t=e(9147812225),s=e(9430324073),o=e(7073323626);const n=(0,t.A)(s.JJ),c=(0,t.A)((0,o.A)(s.JJ))},9147812225:(B,A,e)=>{"use strict";e.d(A,{A:()=>z});var t=e(3134334389),s=e(7715417323),o=e(166097325),n=e(9113979368),c=e(9524650809),l=e(235108050),i=e(362134992),a=e(2208015175),r=e(8086952004),d=e(4360875129),m=e(2394306156),f=e(9746734072),u=e(2101927269),E=e(8840779375),v=e(9268023148),g=e(5950652755),T=e(3297051565),p=e.n(T),O=e(1985486637),y=e(2947229296),C=e(5150875261),I=e(5375489720),M=e(4470890745),_=e(4541462795),P=e(5117478290),b=e(3094355396),S=e(5244320769),N=e(666771474);function L(ie){return[...ie.filter(ee=>!ee.isError&&!ee.isUnknown),...ie.filter(ee=>!ee.isError&&ee.isUnknown),...ie.filter(ee=>ee.isError)]}h(L,"sortTokens");var D=e(4144342945),k=e(7397682160),x=e(2691514942),R=e(907002960),U=e(289822669),F=e(768637177),W=e(639862555),w=e(6761585902),K=e(7874250141);function j(){return j=Object.assign||function(ie){for(var ee=1;ee<arguments.length;ee++){var ne=arguments[ee];for(var Z in ne)Object.prototype.hasOwnProperty.call(ne,Z)&&(ie[Z]=ne[Z])}return ie},j.apply(this,arguments)}h(j,"_extends");const Q=(0,x.Wo)(),J=new y.Ay("form_inputs");function z(ie){const ee={searcherOptions:p().object.isRequired,selectId:p().string.isRequired,inputRef:p().object,isRequired:p().bool,selectedOptions:p().array,selectedOption:p().object,isExpanded:p().bool,isDisabled:p().bool,isInvalid:p().bool,focusOnMount:p().bool,searchOnPaste:p().bool,expandOnFocus:p().bool,expandOnClick:p().bool,searchBatchSize:p().number,debounceWaitPeriod:p().number,onFilterQueryPaste:p().func,onInputFocused:p().func,onSearch:p().func,onSearchError:p().func,onSearchResolved:p().func,onOptionsListClose:p().func,splitPastedQuery:p().func,processOptions:p().func,processSelectedOptions:p().func,clogger:p().object.isRequired,search:p().func.isRequired,teamId:p().string.isRequired,useSearcherSessions:p().bool,showConfirmDialog:p().func,restrictedSelectedTokenIndexes:p().array,disabledSelectedTokenIndexes:p().array,invalidSelectedTokenIndexes:p().array,useBulkSearch:p().bool,shouldRefocusInputAfterSelection:p().bool},ne={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:s.A,onInputFocused:s.A,onSearch:s.A,onSearchError:s.A,onSearchResolved:s.A,onOptionsListClose:s.A,splitPastedQuery:S.I,processOptions:ue=>O.K.resolve(ue),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],disabledSelectedTokenIndexes:[],invalidSelectedTokenIndexes:[],useBulkSearch:!1,shouldRefocusInputAfterSelection:void 0};let Z=h(class extends t.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(de,re){const{isDisabled:V,isInvalid:H,selectedOptions:X,selectedOption:Y,searchOnPaste:q,expandOnFocus:fe,expandOnClick:ce,restrictedSelectedTokenIndexes:Ee,disabledSelectedTokenIndexes:Ae,invalidSelectedTokenIndexes:le}=this.props,oe={};if(de.isInvalid!==H&&(oe.isInvalid=H),de.isDisabled!==V&&(oe.isDisabled=V),(0,o.A)(de.selectedOptions,X)||(oe.selectedOptions=X),(0,o.A)(de.selectedOption,Y)||(oe.selectedOption=Y),(de.expandOnFocus&&!fe||de.expandOnClick&&!ce)&&(oe.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,re.selectedOptions)){var pe,Te;const ke=this.getNextUnknownTokenIndex();oe.selectedTokenIndexes=[ke],(pe=this.inputRef)===null||pe===void 0||(Te=pe.current)===null||Te===void 0||Te.focus()}de.restrictedSelectedTokenIndexes!==Ee&&(oe.restrictedSelectedTokenIndexes=Ee),de.disabledSelectedTokenIndexes!==Ae&&(oe.disabledSelectedTokenIndexes=Ae),de.invalidSelectedTokenIndexes!==le&&(oe.invalidSelectedTokenIndexes=le);const{isLoading:Me,pendingQueries:Ue,selectedOptions:xe,pendingEscapeQueries:Ne,filterQuery:be}=this.state;if(q&&!Me){if(!(0,n.A)(Ue))oe.isLoading=!0,oe.loadInBackground=!0,this.searchQueryObjects(Ue);else if(re.isLoading){if(this.updateDisabled(!1),Ne.length>0&&be===""){const ke=(0,C.A)(Ne.map(nt=>nt.query),{noConj:!0}).join(""),Ke=Ne[0],{options:$}=Ke,ae=h(nt=>nt.map(at=>{const{query:Ve,options:Se,...Pe}=at,Fe=Se?{options:ae(Se)}:{};return{...Pe,...Fe,query:ke}}),"getUpdatedOptions"),Ge={...Ke,options:ae($),query:ke};oe.pendingEscapeQueries=[],oe.options=Ge.options,oe.filterQuery=ke,oe.isExpanded=!0,oe.isLoading=!1}if(xe.length){const ke=xe.filter($=>$.isError||$.isUnknown).length,Ke=ke?J.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:ke}):J.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Ke)}}}(0,n.A)(oe)||this.setSelectState(()=>oe)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}async onFilterQueryPaste(de){const{searchOnPaste:re,searcherOptions:V,splitPastedQuery:H,processOptions:X}=this.props;if(!re||!de&&!de.clipboardData)return;de.preventDefault();const Y=de.clipboardData.getData("text/plain")?"text/plain":"Text",q=(0,D.i_)(de),fe=q.text,ce=H(fe,{...V,fromMetadata:q.text!==de.clipboardData.getData(Y)});this.props.onFilterQueryPaste(ce);const Ee=[],Ae=[];await O.K.all(ce.map(le=>{const oe=this.getQueryId();return(0,R.A)(le)||(0,U.A)(le)||(0,I.Ay)(le)?X([{key:oe,pasted:!0,fromMetadata:!0,value:le,label:q.members?q.members[le]:le}]).then(me=>(me[0]&&Ae.push(me[0]),O.K.resolve())):(Ee.push({query:le,queryId:oe,pasted:!0}),Ae.push({label:le,queryId:oe,isLoading:!0,key:oe,pasted:!0}),O.K.resolve())})),this.setSelectState(le=>({pendingQueries:le.pendingQueries.concat(Ee),selectedOptions:le.selectedOptions.concat(Ae),filterQuery:""})),this.updateDisabled(!(0,n.A)(Ee)),this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(de){const{isLoading:re,isExpanded:V,filterQuery:H}=this.state;!re&&V&&H.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(de)}async onTokenSelect(de){if(!(this.props.expandOnClick||this.shouldExpandOnFocus())){if(de&&!de.isUnknown)this.setState(()=>({isExpanded:!1,options:[]}));else if(de){const re=await this.props.processOptions(de.resultOptions.map(V=>({...V,fromUnknown:!0})),de.label);this.lastShownSearchDetails=de.searcher,this.setState(()=>({isExpanded:!0,options:re}))}}}getQueryId(){return(0,c.A)("query__")}async setSelectState(de,re){var V;const{processSelectedOptions:H}=this.props;let X=de(this.state);const{selectedOption:Y,selectedOptions:q,shouldRefocusInputAfterSelection:fe}=this.state;fe&&(X.shouldRefocusInputAfterSelection=!0),X.filterQuery!==void 0&&X.filterQuery!==this.state.filterQuery&&(X.isLoading=!0,X.loadInBackground=!1,this.searchQuery(X.filterQuery));const{searchOnPaste:ce}=this.props;if(ce&&X.selectedOptions){const Ae=X.selectedOptions.map(oe=>{let{key:me}=oe;return me}),le=(0,l.A)((0,i.A)(Ae.filter(oe=>Ae.indexOf(oe)!==Ae.lastIndexOf(oe))));(0,a.A)(le,oe=>{const me=(0,r.A)(X.selectedOptions,Te=>{let{key:Me,isUnknown:Ue}=Te;return Me===oe&&!Ue}),pe=(0,i.A)(X.selectedOptions.map(Te=>Te.key===oe?Te.isUnknown?me:null:Te));X.selectedOptions=pe})}if(X.selectedOptions!==void 0&&!(0,o.A)(X.selectedOptions,q)){const Ae=X.selectedOptions.filter(oe=>{let{isLoading:me,isUnknown:pe}=oe;return!me&&!pe}),[le]=(0,d.A)(Ae,q,"value");le&&this.clogSearcherResults(le)}X.selectedOption!==void 0&&X.selectedOption!==null&&((V=X.selectedOption)===null||V===void 0?void 0:V.value)!==(Y==null?void 0:Y.value)&&this.clogSearcherResults(X.selectedOption);const Ee=!!X.removalInitiator;if(X.selectedOptions&&!Ee&&H){if(X=(0,m.A)(X),X.isLoading!==void 0){const Ae=X.isLoading;this.setState(()=>({isLoading:Ae})),delete X.isLoading}X.selectedOptions=await H(X.selectedOptions)}this.setState(()=>X,re)}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(de=>de.isUnknown&&de.queryId)}wasUnknownTokenResolved(de,re){const V=de.filter(X=>X.isUnknown).length,H=re.filter(X=>X.isUnknown).length;return V<H}shouldExpandOnFocus(){const{expandOnFocus:de}=this.props,{selectedOptions:re}=this.state,V=(0,b.A)(re);return de&&!V}clogSearcherResults(de){if(this.lastShownSearchDetails===null)return;const{clogger:re,selectId:V,useSearcherSessions:H,teamId:X}=this.props,{query:Y,results:q}=this.lastShownSearchDetails,fe={source:V,query:Y,results:q};de?(fe.selectedItemId=de.value,H?(0,F.A)({teamId:X,key:V}).clogSearcherAccept({clogger:re,data:fe}):(0,_.DC)({clogger:re,data:fe})):H?(0,F.A)({teamId:X,key:V}).clogSearcherReject({clogger:re,data:fe}):(0,_.Yb)({clogger:re,data:fe})}processSearchResults(de){const{searchOnPaste:re,onSearchResolved:V,searcherOptions:H}=this.props,{escapeHatchEnabled:X,escapeHatchKeys:Y}=H,q=this.state.selectedOptions.slice(0);re&&de.forEach(fe=>{let{queryId:ce,options:Ee,searcher:Ae}=fe;const le=q.findIndex(pe=>pe.queryId===ce),oe=q[le];let me=null;if(oe){this.lastShownSearchDetails=Ae;let pe;Ee.length===1?(pe=Ee[0],X&&Ae&&Ae.results&&Ae.results.length===0&&Ae.pasted&&Y&&Y[pe.key]&&this.setState(Me=>({pendingEscapeQueries:[...Me.pendingEscapeQueries,{query:Ae.query,options:[pe]}]})),this.clogSearcherResults(pe)):Ee.length?pe={isUnknown:!0}:(pe={isError:!0},this.clogSearcherResults()),me={...oe,...pe,resultOptions:Ee,searcher:Ae,isLoading:!1},q[le]=me}V({result:Ee,selectedOption:me})}),this.setState(fe=>{if((0,M.Ay)(fe.selectedOptions,q,2)){const{options:ce,searcher:Ee}=de[0];return this.lastShownSearchDetails=Ee,fe.loadInBackground?null:{options:ce}}return{selectedOptions:L(q)}})}runBatchedSearch(de){const re=de.slice(0,this.props.searchBatchSize);if(de.length>1&&this.props.useBulkSearch){const H=re.some(Y=>!!Y.pasted),X=re.some(Y=>!!Y.initial);return this.runSingleSearch({query:re,pasted:H,initial:X})}const V=re.map(H=>{let{query:X,queryId:Y,pasted:q,initial:fe}=H;return this.runSingleSearch({query:X,queryId:Y,pasted:q,initial:fe})});return O.K.all(V)}runSingleSearch(de){let{query:re,queryId:V,pasted:H,initial:X}=de;const{onSearch:Y,onSearchError:q,processOptions:fe,searcherOptions:ce,selectId:Ee,useSearcherSessions:Ae,teamId:le,useBulkSearch:oe}=this.props;let me,pe,Te=!1;const Me=V||this.getQueryId(),Ue=new Map;if((0,f.A)(re)&&oe?(me=re.map(Ne=>(Ue.set(Ne.queryId,Ne.query),{query:(0,S.t)(Ne.query,ce),queryId:Ne.queryId})),Te=!0):pe=(0,S.t)(re,ce),pe&&Y(re)===!1)return fe([],pe).then(Ne=>({queryId:Me,options:Ne,searcher:this.lastShownSearchDetails}));let xe;return Ae&&(!H||Te)?xe=(0,F.A)({teamId:le,key:X?Me:Ee}).search({query:Te?me:pe,options:{...ce,sort:{source:Ee,...ce.sort},returnMetadata:!0}}):xe=this.props.search({query:Te?me:pe,options:{...ce,sort:{source:Ee,...ce.sort},returnMetadata:!0}}),xe.then(async Ne=>{this.lastShownSearchDetails={query:Te?me:pe,results:Ne};const be=(Ne||[]).map(($,ae)=>{var Ge;return{key:Te?$.queryId:`${Me}_${ae}`,value:$.item.id,label:$.name||((Ge=$.item)===null||Ge===void 0?void 0:Ge.name)||(Te?Ue.get($.queryId):re),entity:$.item,matchData:$.subqueryScoresByMember}}),{selectedOption:ke}=this.state;pe===""&&ke&&((0,r.A)(be,["value",ke.value])||be.unshift(ke));const Ke=await fe(be,re,{pasted:H});return{queryId:Me,options:Ke,searcher:{...this.lastShownSearchDetails,pasted:H}}}).catch(Ne=>{Q.error(`Error when searching for select id: ${Ee}, error: ${Ne}`),q(Ne);const be=[];return{queryId:Me,options:be,searcher:{query:Te?me:pe,results:be,pasted:H,isError:!0}}})}searchQuery(de){this._isMounted&&this.searchQueryObjects([{query:de}])}searchQueryObjects(de){if((0,n.A)(de))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:V,queryId:H}=de[0];this.searchPromise=this.runSingleSearch({query:V,queryId:H}).then(X=>{let{options:Y}=X;this.setSelectState(()=>({options:Y})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(de).then(V=>{let H=V;this.props.useBulkSearch&&(H=this.generateBulkSearchResultsArray(H)),this.processSearchResults(H);const X=H.map(Y=>{let{queryId:q}=Y;return q});this.setState(Y=>({pendingQueries:Y.pendingQueries.filter(fe=>{let{queryId:ce}=fe;return!X.includes(ce)}),isLoading:!1}))});const re=J.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:de.length});this.updateAriaTextThrottled(re)}updateAriaText(de){this.setState(re=>re.ariaText===de?null:{ariaText:de})}updateDisabled(de){this.setState(re=>re.isDisabled===de?null:{isDisabled:de})}generateBulkSearchResultsArray(de){var re;if(!(!(de==null||(re=de.options)===null||re===void 0)&&re.length))return de.splice(0);const{options:V,searcher:H}=de,{pasted:X,query:Y,results:q}=H;return Y.map(ce=>({options:V.filter(Ee=>Ee.key===ce.queryId),queryId:ce.queryId,searcher:{pasted:X,query:ce.query,results:q.filter(Ee=>Ee.queryId===ce.queryId)}}))}render(){return t.createElement(t.Fragment,null,t.createElement(ie,j({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),t.createElement(P.A,{message:this.state.ariaText}))}constructor(de){super(de),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:re,searchOnPaste:V}=de,H=(0,u.A)(re,Y=>(0,N.iC)(Y));let X=[];V&&(X=(0,i.A)((0,E.A)(H,Y=>!Y.label||!Y.queryId?null:{query:Y.label,queryId:Y.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:de.isExpanded,selectId:de.selectId,selectedOptions:de.selectedOptions||[],selectedOption:de.selectedOption||null,isRequired:de.isRequired,isLoading:!1,isDisabled:de.isDisabled,isInvalid:de.isInvalid,pendingQueries:X||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!de.showConfirmDialog||de.shouldRefocusInputAfterSelection,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:de.restrictedSelectedTokenIndexes||[],disabledSelectedTokenIndexes:de.disabledSelectedTokenIndexes||[],invalidSelectedTokenIndexes:de.invalidSelectedTokenIndexes||[]},this.searchQuery=(0,v.A)(this.searchQuery,de.debounceWaitPeriod),this.updateAriaTextThrottled=(0,g.A)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=de.inputRef||t.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");Z.displayName="SearcherSelectWrapper",Z.propTypes=ee,Z.defaultProps=ne;const te=h(ue=>({clogger:(0,k.e)({state:ue}),teamId:(0,K.JY)(ue),useSearcherSessions:(0,W.nK)(ue)}),"mapStateToProps"),he={search:function(){for(var ue=arguments.length,de=new Array(ue),re=0;re<ue;re++)de[re]=arguments[re];return(0,_.$P)(...de)}};return(0,w.N)(te,he)(Z)}h(z,"withSearcher")},5578503096:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>s,Y$:()=>n,Z0:()=>o,d1:()=>l,iC:()=>i,kW:()=>a,nB:()=>c});var t=e(205540855);function s(r){return(0,t._Z)(r,"tableau_unfurls")==="on"}h(s,"isTableauUnfurlsEnabled");function o(r){return(0,t._Z)(r,"tableau_work_object_unfurls")==="on"}h(o,"isTableauWorkObjectUnfurlsEnabled");function n(r){return(0,t._Z)(r,"tableau_unfurls_embed")==="on"}h(n,"isTableauUnfurlsEmbedEnabled");function c(r){return(0,t._Z)(r,"tableau_unfurls_embed_caching")==="on"}h(c,"isTableauUnfurlsEmbedCachingEnabled");function l(r){return(0,t._Z)(r,"tableau_sdk_with_lo")==="on"}h(l,"isTableauSdkWithLoEnabled");function i(r){return(0,t._Z)(r,"tableau_256_release")==="on"}h(i,"isTableau256ReleaseEnabled");function a(r){return(0,t._Z)(r,"tableau_dashboard_preview")==="on"}h(a,"isTableauDashboardPreviewEnabled")},5284118616:(B,A,e)=>{"use strict";e.d(A,{U:()=>s});var t=e(205540855);function s(o){return(0,t._Z)(o,"polls")==="on"}h(s,"isPollsEnabled")},5185154246:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9062511843),c=e(9323019934),l=e(5190921192),i=e(280840163),a=e(873516440),r=e(5879986643),d=e.n(r);function m(u){let{iconClassName:E,file:v,isFilled:g=!0}=u;const T=(0,n.A)(),p=(0,i.d4)(a.to);return v&&!(0,c.Y8)(v)?(T.error(`[PollIcon] Expected Poll file, got ${(0,c.ti)(v)}`),null):t.createElement("div",{className:o()(E,d().pollIcon,{[d().pollIconDark]:p==="dark"})},t.createElement(l.A,{name:g?"form-filled":"form",size:"20"}))}h(m,"PollIcon"),m.displayName="PollIcon";const f=t.memo(m)},526179332:(B,A,e)=>{"use strict";e.d(A,{D:()=>m,Y:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3776304241),c=e(5181078482),l=e(5190921192),i=e(704879594),a=e.n(i);function r(){return r=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},r.apply(this,arguments)}h(r,"_extends");function d(){return t.createElement(l.A,{name:"caret-right",size:"16"})}h(d,"Separator"),d.displayName="Separator";function m(u){let{crumb:E}=u;const{label:v,onClick:g,className:T,iconProps:p}=E;return t.createElement("div",{className:o()(a().record_breadcrumb,T)},p&&t.createElement(l.A,r({},p,{inline:!0})),!g&&t.createElement("span",{className:a().record_breadcrumb_label},v),g&&t.createElement(c.jV,{className:a().record_breadcrumb_label,onClick:g},v))}h(m,"RecordBreadcrumb"),m.displayName="RecordBreadcrumb";function f(u){let{className:E,crumbs:v,isLoading:g}=u;return!v.length&&!g?null:t.createElement("div",{className:o()(a().record_breadcrumbs,E)},g&&t.createElement(n.A,{dataQa:"record-breadcrumbs-missing-text",size:"large"}),!g&&v.map((T,p)=>t.createElement(t.Fragment,{key:T.label},t.createElement(m,{crumb:T}),!T.noSeparator&&p!==v.length-1&&t.createElement(d,null))))}h(f,"RecordBreadcrumbsLayout"),f.displayName="RecordBreadcrumbsLayout"},7656345157:(B,A,e)=>{"use strict";e.d(A,{r:()=>C});var t=e(3134334389),s=e(6122756707),o=e(362134992),n=e(1360127216),c=e(605568209),l=e(2947229296),i=e(526179332),a=e(7328833020),r=e(5076607117),d=e(3964099078),m=e(9542351517),f=e(280840163),u=e(3351247794),E=e(3198335914),v=e(4223303601),g=e(6951540153);const T=new l.Ay("recordchannels");function p(I){let{className:M,recordId:_}=I;const P=(0,s.wA)(),b=(0,f.d4)(N=>(0,v.PQ)(N,_)),S=(0,t.useMemo)(()=>{if(!(0,E._s)(b))return c.Ml;const{org:N,parent:L}=b,D=(0,r.C)(L==null?void 0:L.object_api_name),k=(0,r.C)("Org");return(0,o.A)([L&&{label:L.name,iconProps:D,onClick:()=>P((0,a.c)({recordId:L.id}))},N&&{label:N.name,iconProps:k}])},[P,b]);return t.createElement(i.Y,{className:M,crumbs:S,isLoading:(0,E.Eh)(b)})}h(p,"BaseRecordBreadcrumbs"),p.displayName="BaseRecordBreadcrumbs";function O(I){let{className:M,channelId:_,includePrefix:P}=I;const b=(0,s.wA)(),S=(0,f.d4)(F=>(0,u.OL)(F,_)),N=(0,d.iJ)(S),L=(0,d.dM)(S),D=(0,d.jT)(S),k=(0,f.d4)(F=>(0,v.PQ)(F,N)),x=k.parent,R=(0,f.d4)(F=>(0,g.kO)(F,(0,m.D)(N||"").salesforceOrgId)),U=(0,t.useMemo)(()=>{const F=(0,r.C)(L),W=(0,r.C)(x==null?void 0:x.object_api_name),w=(0,r.C)("Org");return(0,o.A)([P&&{label:T.t("{recordLabel} in",{recordLabel:D,recordType:D}),className:"margin_right_25",iconProps:F,noSeparator:!0},(x==null?void 0:x.name)&&{label:x.name,iconProps:W,onClick:()=>{x.id&&b((0,a.c)({recordId:x.id}))}},(0,n.uz)(R)&&{label:R.name,iconProps:w}])},[b,P,R,x,L,D]);return t.createElement(i.Y,{className:M,crumbs:U,isLoading:(0,n.mX)(R)||(0,n.mX)(S)||(0,E.Eh)(k)})}h(O,"BaseRecordChannelBreadcrumbs"),O.displayName="BaseRecordChannelBreadcrumbs";const y=null,C=t.memo(O)},7328833020:(B,A,e)=>{"use strict";e.d(A,{B:()=>m,c:()=>f});var t=e(7499216588),s=e(7819259683),o=e(6563296078),n=e(4458861846),c=e(8859166048),l=e(6251135763),i=e(4894634110),a=e(7874250141),r=e(3351247794),d=e(3198335914);function m(u){return(u==null?void 0:u.type)==="messageUnfurl"}h(m,"isMessageUnfurlReferrer");const f=(0,i.Ay)("Navigate to a Record in the Flexpane",async(u,E,v,g)=>{let{listViewId:T,recordId:p,shouldPersistOnRecordChannel:O=!0,referrer:y}=v;const C=E(),I=(0,a.ZT)(C);I&&(0,d.D1)(I,[p]);let M;if(O){const{getPrimaryView:P}=g(s.U),b=P(C),S=b==null?void 0:b.id;M=S&&(b==null?void 0:b.viewType)===t.D.Channel&&(0,l.A)(S)&&(0,c.rI)((0,r.OL)(C,S,!1))?S:void 0}const _=(0,n.We)({listViewId:T,recordId:p});return u((0,o.o)({..._,params:{..._.params,parentTab:M,referrer:y}}))});f.meta={name:"createThunk",key:"createThunknavigateToRecord",description:"Navigate to a Record in the Flexpane"}},5076607117:(B,A,e)=>{"use strict";e.d(A,{C:()=>g,sc:()=>T});var t=e(3751395240),s=e(3964099078),o=e(8859166048),n=e(3046466522);const c={name:"sf-account"},l={name:"sf-case"},i={name:"sf-contact"},a={name:"sf-lead"},r={name:"sf-opportunity"},d={name:"sf-cloud"},m={name:"sf-record"},f={name:"sf-record-list"},u={name:"bolt"},E={name:"headphones-filled"},v={[n.Dj.Account]:c,[n.Dj.Case]:l,[n.Dj.Contact]:i,[n.Dj.Lead]:a,[n.Dj.Opportunity]:r,List:f,Org:d,Record:m,Bolt:u},g=h(p=>p&&v[p]||m,"getSalesforceIconPropsForType");function T(p){if(!(0,o.rI)(p))return null;const O=(0,s.LJ)(p);switch((0,s.fI)(O==null?void 0:O.record_id)){case t.B4.Huddle:return E;default:return null}}h(T,"getRecordChannelOverrideIconProps")},7217861780:(B,A,e)=>{"use strict";e.d(A,{Q:()=>s});var t=e(205540855);const s=h(o=>(0,t._Z)(o,"sidekicks")==="on","isSidekicksEnabled")},4957087144:(B,A,e)=>{"use strict";e.d(A,{b:()=>s});var t=e(1492910739);function s(){return(0,t.b3)()}h(s,"isSlackKitPlaygroundEnabled")},7786523248:(B,A,e)=>{"use strict";e.d(A,{Y:()=>i});var t=e(3134334389),s=e(9914323321),o=e(4697222354),n=e(9911704344),c=e(280840163),l=e(7418708689);function i(){var a;const{currentTabId:r}=(0,t.useContext)(o.d),d=(0,c.d4)(s.zm),{getSiblingView:m,container:f}=(0,t.useContext)(n.A),u=(0,c.d4)(E=>m(E,{container:f??l.mq.Primary}));return d?r:u==null||(a=u.params)===null||a===void 0?void 0:a.tabId}h(i,"useCurrentChannelTabId")},3256462851:(B,A,e)=>{"use strict";e.d(A,{u:()=>i});var t=e(3134334389),s=e(7786523248),o=e(3990875317),n=e(4697222354),c=e(9062511843),l=e(280840163);function i(){const a=(0,c.A)(),{channelId:r}=(0,t.useContext)(n.d),d=(0,s.Y)(),m=(0,l.d4)(f=>{if(r)return(0,o.b)(f,{channelId:r,currentTabId:d})});if(r)return m||a.error(new Error("No current channel tab selected.")),m}h(i,"useCurrentlySelectedTab")},4697222354:(B,A,e)=>{"use strict";e.d(A,{H:()=>i,d:()=>l});var t=e(3134334389),s=e(9914323321),o=e(4450607233),n=e(6597899788),c=e(280840163);const l=(0,t.createContext)({});function i(a){let{channelId:r,currentTabId:d,children:m}=a;const f=(0,c.d4)(s.zm),u=(0,t.useMemo)(()=>f?{channelId:r,currentTabId:d??n.fY.Channel}:{channelId:r,currentTabId:void 0},[r,d,f]);return r?t.createElement(l.Provider,{value:u},t.createElement(o.j.Provider,{value:u},m)):m}h(i,"TabbedChannelProvider"),i.displayName="TabbedChannelProvider"},4471878238:(B,A,e)=>{"use strict";e.d(A,{$q:()=>c,Kr:()=>i,TX:()=>r,jH:()=>o,t_:()=>a,yg:()=>n});var t=e(4378915552),s=e(8899037153);const o=h(d=>(d==null?void 0:d.type)==="entity_details_present","isEntityFromRTMEvent"),n=h(d=>{var m;return o(d)&&((m=d.ext_error)===null||m===void 0?void 0:m.status)==="user_not_authed"},"isExistingEntityAwaitingUserAuth"),c=h(d=>{var m;return o(d)&&((m=d.ext_error)===null||m===void 0?void 0:m.status)==="app_not_installed"},"isWorkObjectAppNotInstalled"),l=h(d=>{if(!(0,t.GU)(d))return o(d)?d.entity_details:d.work_object},"getWorkObjectDetails"),i=h(d=>{const m=l(d);return m?s.cV.create(m):void 0},"getWorkObjectModel"),a=h(d=>(0,t.GU)(d)?d.id:o(d)?d.entity_id:d.record_id,"getEntityId"),r=h(d=>{var m;const f="external_link"in d?d.external_link:void 0;var u;return(u=(m=l(d))===null||m===void 0?void 0:m.external_url)!==null&&u!==void 0?u:f},"getEntityUrl")},4421637954:(B,A,e)=>{"use strict";e.d(A,{n:()=>m});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(9122366353),l=e(5190921192),i=e(8742565583),a=e.n(i);function r(){return r=Object.assign||function(f){for(var u=1;u<arguments.length;u++){var E=arguments[u];for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(f[v]=E[v])}return f},r.apply(this,arguments)}h(r,"_extends");const d={item:"accordion-list-item",itemHeader:"accordion-list-item-header",itemDescription:"accordion-list-item-description",expandedIcon:"accordion-list-item-expanded-icon",imageCaret:"accordion-list-item-image-caret"};function m(f){let{accordionItems:u,className:E,showImageCaret:v,autoClogProps:g,showItemBorder:T=!0,itemClassName:p="",itemHeaderClassName:O="",itemHeaderButtonClassName:y="",itemHeaderButtonContentClassName:C="",itemDescriptionClassName:I="",expandedIconClassName:M="",collapsedIconClassName:_="",imageCaretClassName:P="",applyCustomAnimation:b=!1,expandOnHover:S=!1}=f;const[N,L]=(0,t.useState)(!1),[D,k]=(0,t.useState)(u.map((J,z)=>({...J,isExpanded:z===0}))),[x,R]=(0,t.useState)(""),U=(0,t.useRef)({}),F=(0,t.useCallback)((J,z)=>()=>{N||L(!0),!z.isExpanded&&(k(D.map((ie,ee)=>({...ie,isExpanded:ee===J}))),R(z.id),typeof z.onExpand=="function"&&z.onExpand())},[D,N]),W=(0,t.useCallback)(J=>z=>{U.current[J]=z},[]);(0,t.useEffect)(()=>{if(x&&U.current[x]){var J;(J=U.current[x])===null||J===void 0||J.focus()}},[x]);const w=h(J=>({...g,onClick:{enableClogAction:!J.isExpanded},elementValue:J.id}),"getAutoClogProps"),K=(0,t.useCallback)((J,z)=>t.createElement("h2",{className:o()(a().header,{[O]:!!O,[a().customItemTextAnimation]:b&&z&&N,[a().customItemText]:b&&z&&!N}),"data-qa":d.itemHeader},J),[b,O,N]),j=(0,t.useCallback)((J,z,ie)=>{let ee=o()({[a().defaultShowDescriptionAnimation]:z&&N,[a().defaultShowDescription]:z&&!N});return b&&(ee=o()({[a().customItemTextAnimation]:b&&z&&N,[a().customItemText]:b&&z&&!N})),t.createElement("div",{className:ee},t.createElement("div",{className:a().description},t.createElement("div",{id:`description-${ie}`,"aria-hidden":!z,"data-qa":d.itemDescription,className:o()({[I]:!!I})},J)))},[b,I,N]),Q=b?{[a().customItemTransition]:b}:{};return t.createElement("ul",{className:o()(a().accordion,E)},D.map((J,z)=>t.createElement("li",{key:J.id,"data-qa":d.item,className:o()(a().item,{[a().expanded]:J.isExpanded,[a().noBorder]:!T,...Q},p)},t.createElement(c.A,{"aria-expanded":J.isExpanded,"aria-controls":`description-${z}`,className:o()(a().itemHeader,{[y]:!!y}),onClick:F(z,J),autoClogProps:w(J),ref:W(J.id),"aria-label":typeof J.header=="string"?J.header:void 0,"aria-describedby":J.isExpanded?`description-${z}`:void 0,onMouseOver:S?F(z,J):n.A},t.createElement("div",{className:a().iconSpacer},J.isExpanded?t.createElement("span",{className:o()(a().expandedIcon,{[M]:!!M,[J.iconHighlightClassName||""]:!!J.iconHighlightClassName}),"data-qa":d.expandedIcon},J.iconProps?t.createElement(l.A,r({},J.iconProps)):t.createElement(l.A,{name:"check-filled"})):t.createElement("span",{className:o()({[_]:!!_,[J.iconHighlightClassName||""]:!!J.iconHighlightClassName})},J.collapsedIcon?t.createElement(l.A,r({},J.collapsedIcon)):t.createElement(l.A,{name:"caret-right-filled"}))),t.createElement("div",{className:o()("display_flex flex_direction_column",{[C]:!!C})},K(J.header,J.isExpanded),j(J.description,J.isExpanded,z))),v&&J.isExpanded&&t.createElement("div",{className:o()(a().imageCaret,P),"data-qa":d.imageCaret}))))}h(m,"Accordion"),m.displayName="Accordion"},4684036136:(B,A,e)=>{"use strict";e.d(A,{K8:()=>o,Q1:()=>t});const t=20,s={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},o={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},2197677765:(B,A,e)=>{"use strict";e.d(A,{g:()=>o});var t=e(3366578852),s=e(9588678965);const o=(0,s.Mz)(n=>(0,t.mr)(n));o.meta={name:"createSelector",key:"createSelectorisAgentforceNewDmViewEnabled",description:n=>(0,t.mr)(n)}},5438842433:(B,A,e)=>{"use strict";e.d(A,{ET:()=>c,EV:()=>n,HD:()=>a,Nn:()=>i,eF:()=>l,oO:()=>o});var t=e(9588678965),s=e(205540855);const o=(0,t.Mz)(r=>(0,s._Z)(r,"agentforce_agent_home")==="on");o.meta={name:"createSelector",key:"createSelectorisAgentforceAgentHomeEnabled",description:r=>(0,s._Z)(r,"agentforce_agent_home")==="on"};const n=(0,t.Mz)(r=>(0,s._Z)(r,"agentforce_feedback_buttons")==="on");n.meta={name:"createSelector",key:"createSelectorisAgentforceFeedbackButtonsEnabled",description:r=>(0,s._Z)(r,"agentforce_feedback_buttons")==="on"};const c=(0,t.Mz)(r=>(0,s._Z)(r,"fe_agentforce_show_audio_video_clip_composer_buttons")==="on");c.meta={name:"createSelector",key:"createSelectorisAgentforceShowAudioAndVideoClipComposerButtonsEnabled",description:r=>(0,s._Z)(r,"fe_agentforce_show_audio_video_clip_composer_buttons")==="on"};const l=(0,t.Mz)(r=>(0,s._Z)(r,"agentforce_consistent_agent_home")==="on");l.meta={name:"createSelector",key:"createSelectorisAgentforceAgentConsistentHomeEnabled",description:r=>(0,s._Z)(r,"agentforce_consistent_agent_home")==="on"};const i=(0,t.Mz)(r=>(0,s._Z)(r,"agentforce_mention_single_agent")==="on");i.meta={name:"createSelector",key:"createSelectorisAgentforceMentionSingleAgentEnabled",description:r=>(0,s._Z)(r,"agentforce_mention_single_agent")==="on"};const a=(0,t.Mz)(r=>(0,s._Z)(r,"channel_knowledge_agent_invite")==="on");a.meta={name:"createSelector",key:"createSelectorisAgentforceChannelKnowledgeAgentInviteEnabled",description:r=>(0,s._Z)(r,"channel_knowledge_agent_invite")==="on"}},1713938770:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(280840163),o=e(2947229296),n=e(4844578989),c=e.n(n),l=e(5406890873),i=e(3366578852);function a(){return a=Object.assign||function(f){for(var u=1;u<arguments.length;u++){var E=arguments[u];for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(f[v]=E[v])}return f},a.apply(this,arguments)}h(a,"_extends");const r=new o.Ay("members");function d(f){let{className:u,inverse:E=!1,isWorkflow:v=!1,isLegacyWorkflow:g=!1,isAgent:T=!1,...p}=f;const O=(0,s.d4)(l.x$),y=(0,s.d4)(i.mr);let C=r.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"});g&&O&&(C=r.t("LEGACY WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"})),y&&T?C=r.t("AGENTFORCE",{fallbackHash:"635643b67608c4426a4ad8287a8b687415bee6b5"}):v||(C=r.t("APP"));const I=c()(u,"c-app_badge",{"c-app_badge--inverse":E});return t.createElement("span",a({},p,{className:I,"data-stringify-suffix":" "}),C)}h(d,"AppBadge"),d.displayName="AppBadge";const m=(0,t.memo)(d)},233532234:(B,A,e)=>{"use strict";e.d(A,{Y:()=>o});var t=e(9588678965),s=e(205540855);const o=(0,t.Mz)(n=>(0,s._Z)(n,"app_gallery_default_org")==="on"&&(0,s._Z)(n,"app_gallery_refresh")==="on");o.meta={name:"createSelector",key:"createSelectorisAppGalleryDefaultOrgOn",description:n=>(0,s._Z)(n,"app_gallery_default_org")==="on"&&(0,s._Z)(n,"app_gallery_refresh")==="on"}},9999571835:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(2947229296);const s=new t.Ay("audio_player");function o(c){const l=Math.floor(c/3600),i=Math.floor((c-l*3600)/60),a=Math.floor(c-l*3600-i*60);return l>0?s.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a,minutes:i,hours:l}):i>0?s.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a,minutes:i}):s.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a})}h(o,"secondsToSpokenTime");const n=o},1752414386:(B,A,e)=>{"use strict";e.d(A,{A:()=>j});var t=e(3134334389),s=e(6122756707),o=e(8289365785),n=e(362134992),c=e(2157756221),l=e(423283942),i=e(8738884775),a=e(8269992551),r=e(6860278840),d=e(3411612397),m=e(4446334436),f=e(7864452347),u=e(4119677153),E=e(5279500834),v=e(5508461664),g=e(1191648202),T=e(6026194514),p=e(8458733526),O=e(263405897),y=e(4198854083),C=e(2739879469),I=e(5710397781),M=e(5890087790),_=e(6683899106),P=e(7463233279),b=e(7862791782),S=e(3370679950),N=e(7188858884),L=e(989545501);function D(Q,J){if(!J||!Q||!(0,b.d)(Q))return"";const z=(0,N.$D)(J),ie=(0,S.O)(z);return(0,L.A)(ie)[Q]}h(D,"getUnicodeNameFromEmojiString");var k=e(5022130513),x=e(6761585902),R=e(7874250141),U=e(638638155),F=e(280840163),W=e(293248343);const w=h(Q=>{let{richTextBlock:J,do24hrTime:z,emojiSize:ie,truncateLength:ee,teamOrEnterpriseId:ne,withFormattingStyles:Z,withHighlights:te,withSlackLinks:he,withHyperlinks:ue}=Q;var de;const re=(0,s.wA)(),V=(0,F.d4)(le=>(0,W.ty)(le,"suppress_link_warning")),H=(0,t.useCallback)(le=>{if(!V){const{href:oe,innerText:me}=le.target;re((0,U.A)({text:me,url:oe})),le.preventDefault()}},[re,V]);if(!(!(J==null||(de=J.elements)===null||de===void 0)&&de.length))return null;let X=0;const Y=h(()=>(X+=1,X),"makeKey");let q=(0,o.A)((0,f.M)(J.elements)),fe;if((0,I.C)(q)&&(q!=null&&q.style&&q.style===d.L1.ORDERED?fe=t.createElement(t.Fragment,null,"1. "):fe=t.createElement(t.Fragment,null,"\u2022 "),q=(0,o.A)(q.elements)),!q||!q.elements||!q.elements.length)return null;let ce=!1,Ee=0;const Ae=q.elements.map(le=>{if(ce)return null;let oe=null;if((0,y.E)(le)){Ee+=1;const me=le.name,pe=le.skin_tone,Te=le.display_team_id,Me=le.display_alias,Ue=le==null?void 0:le.unicode,xe=Me??me,Ne=(0,k.A)(xe,ne);let be=pe?`:${xe}::skin-tone-${pe}:`:`:${xe}:`;if(Ne&&Ue){const Ke=D(Ue,ne??"");Ke&&(be=`:${Ke}:`)}const ke=le.display_url;oe=t.createElement(E.Ay,{key:Y(),text:be,emojiSize:ie||E.lw.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:Te,url:ke})}if((0,T.P)(le)&&(le!=null&&le.channel_id)&&(Ee+=le.channel_id.length,oe=t.createElement(a.A,{key:Y(),id:le.channel_id,noLinking:!he})),(0,_.H)(le)&&(le!=null&&le.user_id)&&(Ee+=le.user_id.length,oe=t.createElement(c.A,{key:Y(),id:le.user_id,noLinking:!he,noHighlights:!te})),(0,P.G)(le)&&(le!=null&&le.usergroup_id)&&(Ee+=le.usergroup_id.length,oe=t.createElement(r.Ay,{key:Y(),id:le.usergroup_id,noLinking:!he,noHighlights:!te})),(0,g.V)(le)&&(le!=null&&le.range)&&(Ee+=le.range.length,oe=t.createElement(i.A,{key:Y(),type:le.range,noLinking:!he,noHighlights:!te})),(0,O.i)(le)){const{timestamp:me,format:pe,fallback:Te}=le;if(!me||!pe)return null;Ee+=Te?Te.length:0,oe=t.createElement(l.A,{key:Y(),ts:me.toString(),format:pe,fallback:Te,do24hrTime:z,noLinking:!he})}if((0,C._)(le)){Ee+=(le.text||le.url||"").length;let me;if(ue){const pe=le.url||"",Te=le.text||le.url||"";(0,m.A)(Te,pe)?me=t.createElement(v.A,{key:Y(),href:pe,onClick:H},Te):me=t.createElement(v.A,{key:Y(),href:pe},Te)}else me=t.createElement(t.Fragment,{key:Y()},le.text||le.url||"");oe=me}if((0,p.f)(le)&&(le!=null&&le.value)&&(Ee+=le.value.length,oe=t.createElement(t.Fragment,{key:Y()},le.value||"")),(0,M.P)(le)&&le.text){const me=le.text.split(/\n/);let pe=(0,o.A)(me);const Te=ee?ee-Ee:Ee;Ee=pe?Ee+pe.length:Ee,me.length>1&&(ce=!0),pe&&ee&&pe.length>Te&&(ce=!0,pe=pe.substr(0,Te)),oe=t.createElement(t.Fragment,{key:Y()},pe||"")}return Z&&(oe=t.createElement(u.A,{key:Y(),style:le.style},oe)),oe||(ee&&!ce&&Ee>ee&&(ce=!0),null)});return t.createElement(t.Fragment,null,fe,(0,n.A)(Ae),ce&&t.createElement(t.Fragment,null,"\u2026"))},"RichTextPreamble");w.displayName="RichTextPreamble";const K=h(Q=>({do24hrTime:(0,W.ty)(Q,"time24"),teamOrEnterpriseId:(0,R.JY)(Q)||""}),"mapStateToProps"),j=(0,x.N)(K)(w)},7864452347:(B,A,e)=>{"use strict";e.d(A,{M:()=>o});var t=e(498506970),s=e(772484052);function o(n){return(0,s.A)(n,c=>{const l=c&&c.elements;if(!(l!=null&&l.length))return c;const i=[],a=h(d=>d&&d.style&&d.style.code,"isCode");let r=null;return l.forEach(d=>{const m=a(d)?(0,t.A)(d):d;r&&(r!=null&&r.style)&&(m!=null&&m.style)&&a(r)&&a(m)&&(r.style.noRightCap=!0,m.style.noLeftCap=!0),i.push(m),r=m}),{...c,elements:i}})}h(o,"decorateInlineCode")},4119677153:(B,A,e)=>{"use strict";e.d(A,{A:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(714409569),c=e(6122756707),l=e(3152270006),i=e(1401466188),a=e(8823986650),r=e(9006442414),d=e(3299124106),m=e(280840163),f=e(3546488528),u=e(5876603232);const E=h(O=>{const y=new Date(O),C=y.getMinutes(),I=C%15;return I<8?y.setMinutes(C-I):y.setMinutes(C+(15-I)),y.setSeconds(0),y.setMilliseconds(0),y.getTime()/1e3},"roundToNearest15Minutes");function v(O){let{children:y}=O;const C=(0,t.useContext)(i.A),I=(0,m.d4)(b=>C.ts?(0,f.S)(b,C.ts):void 0),M=(0,c.wA)(),_=(0,t.useCallback)(()=>{M((0,u.q)({element:(0,d.Qo)({channelId:C==null?void 0:C.channelId,appType:"gcal",threadTs:C==null?void 0:C.threadTs,isProfileAppView:!1})}))},[M,C==null?void 0:C.channelId,C==null?void 0:C.threadTs]),P=(0,t.useCallback)(()=>{if(I!=null&&I.contextType)switch(I==null?void 0:I.contextType){case"create_event":if(!(I!=null&&I.createEventPayload)){_();break}if(!(I!=null&&I.createEventPayload.start_date)){_();break}if(!(I!=null&&I.createEventPayload.title)){_();break}M((0,u.q)({element:(0,d.Qo)({channelId:C==null?void 0:C.channelId,appType:"gcal",threadTs:C==null?void 0:C.threadTs,presetDate:new Date(I==null?void 0:I.createEventPayload.start_date).toISOString().split("T")[0],presetStartTime:E(I==null?void 0:I.createEventPayload.start_date),presetTitle:I==null?void 0:I.createEventPayload.title,isProfileAppView:!1})}));break;case"view_schedule":if(!(I!=null&&I.viewSchedulePayload)||!(I!=null&&I.viewSchedulePayload.start_time)||!(I!=null&&I.viewSchedulePayload.date)){_();break}M((0,u.q)({element:(0,d.Qo)({channelId:C==null?void 0:C.channelId,appType:"gcal",threadTs:C==null?void 0:C.threadTs,presetDate:new Date(I==null?void 0:I.viewSchedulePayload.date).toISOString().split("T")[0],presetStartTime:E(I==null?void 0:I.viewSchedulePayload.start_time),isProfileAppView:!1})}));break;case"find_a_time":if(!(I!=null&&I.findATimePayload)){_();break}if(!(I!=null&&I.findATimePayload.duration)){_();break}break;case"describe_knowledgebase":break;default:(0,l.Kh)(I==null?void 0:I.contextType)}},[I,M,C==null?void 0:C.channelId,C==null?void 0:C.threadTs,_]);return t.createElement(r.Ay,{tip:I==null?void 0:I.debugPayload},t.createElement(a.A,{className:"p-assistant_thread_ambient_suggestion","data-qa":"assistant-thread-ambient-suggestion",onClick:P},y))}h(v,"AssistantThreadAmbientSuggestion"),v.displayName="AssistantThreadAmbientSuggestion";const g=t.memo(v),T=h(O=>{let{children:y,style:C}=O;if(!y)return null;const{bold:I,italic:M,strike:_,code:P,clientHighlight:b,subjectLine:S,noLeftCap:N,noRightCap:L}=C||{},{slackAssistantAmbientSuggestion:D,slackAssistantAmbientSuggestionKey:k}=C||{};let x=y;if(_&&(x=t.createElement("s",{"data-stringify-type":"strike"},x)),M&&(x=t.createElement("i",{"data-stringify-type":"italic"},x)),I&&!S&&(x=t.createElement("b",{"data-stringify-type":"bold"},x)),b&&(x=t.createElement("span",{className:"c-mrkdwn__highlight"},x)),D&&(x=t.createElement(g,{suggestion:k},x)),P){const R=o()("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":N,"c-mrkdwn__code--no_right_cap":L});x=t.createElement(n.i,{blockType:"code"},t.createElement(n.m,null,t.createElement("code",{"data-stringify-type":"code",className:R},x)))}return t.createElement(t.Fragment,null,x)},"WithFormattingStyles");T.displayName="WithFormattingStyles";const p=T},665140504:(B,A,e)=>{"use strict";e.d(A,{n:()=>s});var t=e(3411612397);const s=h(o=>!o||o.length===0?!1:o[0].type===t.Lv.RICH_TEXT,"isFirstBlockRichText")},2859360324:(B,A,e)=>{"use strict";e.d(A,{A:()=>g});var t=e(3134334389),s=e(3297051565),o=e.n(s),n=e(6761585902),c=e(9238137835),l=e(353071615),i=e(1713938770),a=e(4797202944),r=e(7197636798),d=e(2947229296);const m=new d.Ay("bot-name"),f={isWorkflow:o().bool.isRequired,className:o().string,name:o().string,badge:o().bool,isChannelFiles:o().bool,"data-qa":o().string},u={className:void 0,name:void 0,badge:!0,isChannelFiles:!1,"data-qa":void 0},E=h(T=>{let{className:p,name:O,badge:y,isWorkflow:C,isChannelFiles:I,"data-qa":M}=T;const _=I&&O?m.t("Shared by {name}",{name:O}):O;return t.createElement("span",{className:p,"data-qa":M},_||t.createElement(a.A,null)," ",y&&!I&&t.createElement(i.A,{isWorkflow:C}))},"BotName");E.displayName="BotName",E.propTypes=f,E.defaultProps=u;const v=h((T,p)=>{let{id:O}=p;const y=(0,c.AF)(T,O);return{name:(0,r.Hg)(y),isWorkflow:(0,l.v3)(y)}},"mapStateToProps"),g=(0,n.N)(v)(E)},807728953:(B,A,e)=>{"use strict";e.d(A,{N:()=>n,u:()=>o});var t=e(3134334389),s=e(2183213466);const o=(0,s.Ay)("Embedded UI Provider",null),n=t.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},5703352334:(B,A,e)=>{"use strict";e.d(A,{jY:()=>d,s3:()=>u,Wg:()=>m,I1:()=>f,N2:()=>E,o8:()=>P,v_:()=>b,nH:()=>M,h$:()=>O,pg:()=>T,RO:()=>N,zd:()=>_,Jn:()=>y,OD:()=>S});var t=e(3262078016),s=e(2947229296),o=e(9176700866),n=e(2269589032),c=e(7011720980),l;(function(L){L.CALLOUT="callout",L.FLEXBOX="flexbox",L.TABLE="table"})(l||(l={}));const i=new Map([[t.DocLayoutStyle.CALLOUT,l.CALLOUT],[t.DocLayoutStyle.FLEXBOX,l.FLEXBOX],[t.DocLayoutStyle.TABLE,l.TABLE]]);function a(L){return i.get(L)}h(a,"layoutStyleToFormat");const r=new s.Ay("slack_docs");var d;(function(L){L.START_THREAD="start-thread",L.OPEN_THREAD="open-thread",L.START_ASSISTANT_THREAD="start-assistant-thread",L.INSERT_VARIABLE="insert-variable",L.MAX_VARIABLE_LIMIT_REACHED="variable-limit-reached",L.SHARE="share",L.OPEN_IN_DETACHED_WINDOW="open-in-detached-window",L.VIEW_FULL_SCREEN="view-full-screen",L.VIEW_IN_SLACK="view-in-slack",L.OPEN_IN_NEW_WINDOW="open-in-new-window",L.SHARE_CHANNEL_CANVAS="channel-canvas-share",L.ADD_REACTION="add-reaction",L.OPEN_REACTION="open-reaction",L.AI_REFINE="refine",L.OVERFLOW="overflow",L.CALLOUT="callout"})(d||(d={}));const m="option-list-divider",f="quick-edits-header",u="content-based-header";var E;(function(L){L.SUGGEST_EDITS="canvas-suggest-edits",L.REWRITE="canvas-rewrite",L.CHAT="canvas-chat",L.EXPLAIN="canvas-explain",L.PROOFREAD="canvas-proofread",L.SIMPLIFY="canvas-simplify",L.ELABORATE="canvas-elaborate",L.CHANGE_TONE="canvas-change-tone",L.CHANGE_FORMATTING="canvas-change-formatting",L.TRANSLATE="canvas-translate",L.SUMMARIZE="canvas-summarize",L.ADD_ACTION_ITEMS="canvas-add-action-items",L.CONVERT_TO_TABLE="canvas-convert-to-table"})(E||(E={}));var v;(function(L){L.ENGLISH="en",L.SPANISH="es",L.GERMAN="de",L.FRENCH="fr",L.PORTUGUESE="pt",L.ITALIAN="it",L.JAPANESE="ja",L.KOREAN="ko",L.CHINESE_SIMPLIFIED="zh-CN",L.CHINESE_TRADITIONAL="zh-TW",L.PROFESSIONAL="professional",L.WITTY="witty",L.EMPATHETIC="empathetic",L.DIRECT="direct"})(v||(v={}));const g=[E.SUGGEST_EDITS,E.CHAT,E.EXPLAIN,E.CHANGE_FORMATTING],T=h((L,D)=>{if(!D)return"";switch(L){case v.PROFESSIONAL:return r.t("Professional",{fallbackHash:"6f719fb045c0b6fc89e44e33177ba6d4c3e21055",fallbackHashNs:"composer"});case v.WITTY:return r.t("Witty",{fallbackHash:"89d3e5e4e9788f9e7c9f15d5ba5d02ab6c4f6757",fallbackHashNs:"composer"});case v.EMPATHETIC:return r.t("Empathetic",{fallbackHash:"f8b682c6e9202623d369bea1073ed20ea4969fce",fallbackHashNs:"composer"});case v.DIRECT:return r.t("Direct",{fallbackHash:"bc81524a554d8a0ff1c122ddd69f8eeebdf76f02",fallbackHashNs:"composer"});case v.ENGLISH:return r.t("English");case v.SPANISH:return r.t("Spanish");case v.GERMAN:return r.t("German");case v.FRENCH:return r.t("French");case v.PORTUGUESE:return r.t("Portuguese");case v.ITALIAN:return r.t("Italian");case v.JAPANESE:return r.t("Japanese");case v.KOREAN:return r.t("Korean");case v.CHINESE_SIMPLIFIED:return r.t("Chinese");case v.CHINESE_TRADITIONAL:return r.t("Chinese (Traditional)");default:return""}},"getCanvasAiSubmenuItemLabel"),p=new Map([[E.CHANGE_TONE,[v.PROFESSIONAL,v.WITTY,v.EMPATHETIC,v.DIRECT]],[E.TRANSLATE,[v.ENGLISH,v.SPANISH,v.GERMAN,v.FRENCH,v.PORTUGUESE,v.ITALIAN,v.JAPANESE,v.KOREAN,v.CHINESE_SIMPLIFIED,v.CHINESE_TRADITIONAL]],[E.CHANGE_FORMATTING,[]]]),O=h(L=>p.get(L),"getCanvasAiSubmenuContent"),y=h(L=>!g.includes(L),"isCanvasAiSelectAndRefineActionSupported"),C=[E.PROOFREAD,E.SIMPLIFY,E.ELABORATE,E.CHANGE_TONE,E.CHANGE_FORMATTING,E.TRANSLATE],I=[E.SUMMARIZE,E.ADD_ACTION_ITEMS,E.CONVERT_TO_TABLE];function M(L){if(C.includes(L)||I.includes(L))return null;switch(L){case E.SUGGEST_EDITS:return{name:"glasses"};case E.REWRITE:return{name:"compose"};case E.CHAT:return{name:"direct-messages"};case E.EXPLAIN:return{name:"help"};default:return{name:"magic-wand"}}}h(M,"getCanvasAiIcons");const _=h((L,D)=>{if(!D)return;const k=L.actionId,x=L.contextId;switch(k){case E.PROOFREAD:return r.t("Proofread");case E.ELABORATE:return r.t("Make longer");case E.SIMPLIFY:return r.t("Make shorter");case E.REWRITE:return r.t("Describe your edit");case E.CHANGE_TONE:{if(x){const R=T(x,D).toLowerCase();return r.t("Change the content tone to sound {tone}.",{tone:R})}break}case E.TRANSLATE:{if(x){const R=T(x,D);return r.t("Translate the content to the following language: {language}.",{language:R})}break}case E.SUMMARIZE:return r.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"});case E.ADD_ACTION_ITEMS:return r.t("Add action items",{fallbackHashNs:"assistant",fallbackHash:"1363e6593c6d58b63d976fd1607b3a26c84046e1"});case E.CONVERT_TO_TABLE:return r.t("Convert to table",{fallbackHashNs:"slack_docs",fallbackHash:"c0794c144895e84308d76814fd04b93125d0f8b9"});default:return}},"getSelectionPresetPromptText"),P={...n.zF,...c.L},b={...P,...d,...E};function S(L,D){return Object.values(D).some(k=>k===L)}h(S,"isToolbarAction");const N=h(function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.DocBlockStyle.PLAIN,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=arguments.length>2?arguments[2]:void 0;const x=D.map(R=>(0,c.B)(R)).filter(o.b);if(L&&x.push((0,n.Zq)(L)||n.zF.PARAGRAPH),k){const R=a(k);R&&x.push(R)}return x},"getFormats")},2269589032:(B,A,e)=>{"use strict";e.d(A,{Zq:()=>l,zF:()=>s,zf:()=>i});var t=e(3262078016),s;(function(a){a.PARAGRAPH="paragraph",a.H1="h1",a.H2="h2",a.H3="h3",a.CHECK_LIST="check-list",a.CHECK_LIST_TOGGLE="check-list-toggle",a.ORDERED_LIST="ordered-list",a.BULLET_LIST="bullet-list",a.BLOCKQUOTE="blockquote",a.CODE_BLOCK="code-block"})(s||(s={}));const o=[[t.DocBlockStyle.PLAIN,s.PARAGRAPH],[t.DocBlockStyle.H1,s.H1],[t.DocBlockStyle.H2,s.H2],[t.DocBlockStyle.H3,s.H3],[t.DocBlockStyle.LIST_CHECKLIST,s.CHECK_LIST],[t.DocBlockStyle.LIST_NUMBERED,s.ORDERED_LIST],[t.DocBlockStyle.LIST_BULLET,s.BULLET_LIST],[t.DocBlockStyle.BLOCKQUOTE,s.BLOCKQUOTE],[t.DocBlockStyle.CODE,s.CODE_BLOCK]],n=new Map(o),c=new Map(o.map(a=>[a[1],a[0]]));function l(a){return n.get(a)}h(l,"blockStyleToFormat");function i(a){return c.get(a)}h(i,"formatToBlockStyle")},8455940947:(B,A,e)=>{"use strict";e.d(A,{P:()=>o});var t=e(3322552522),s=e(7011720980);const o=h(n=>{switch(n){case t.r.FILE:return{name:"attachment"};case t.r.IMAGE:return{name:"image"};case t.r.CHECK_LIST:return{name:"checkbox"};case t.r.CHECK_LIST_TOGGLE:return{name:"checkbox"};case t.r.BULLET_LIST:return{name:"bulleted-list"};case t.r.ORDERED_LIST:return{name:"numbered-list"};case t.r.VIDEO_CLIP:return{name:"video"};case t.r.AUDIO_CLIP:return{name:"microphone"};case t.r.DIVIDER:return{name:"divider"};case t.r.TABLE:return{name:"spreadsheet"};case t.r.LAYOUT_2_COLUMNS:return{name:"column-two"};case t.r.LAYOUT_3_COLUMNS:return{name:"column-three"};case t.r.PINS:return{name:"pin"};case t.r.SMART_SUMMARY:case t.r.RECENT_FILES:case t.r.ACTIVE_DISCUSSIONS:case t.r.CHANNEL_HUDDLES:return{name:"magic-wand"};case t.r.BLOCKQUOTE:return{name:"quote"};case t.r.CODE_BLOCK:return{name:"code-block"};case s.L.CODE:return{name:"code"};case t.r.PARAGRAPH:return{name:"paragraph"};case t.r.H1:return{name:"heading-1"};case t.r.H2:return{name:"heading-2"};case t.r.H3:return{name:"heading-3"};case t.r.CANVAS:return{name:"canvas"};case t.r.WORKFLOW:return{name:"play"};case t.r.LIST:return{name:"lists"};case t.r.WIDGET:return{name:"blocks"};case t.r.SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.USER_PROFILE_UNFURL:return{name:"user"};case t.r.PLACEHOLDER_CARD_SUBMENU:return{name:"add-placeholder"};case t.r.PLACEHOLDER_CARD_VIDEO:return{name:"video"};case t.r.PLACEHOLDER_CARD_PROFILE:return{name:"user"};case t.r.PLACEHOLDER_CARD_AUDIO:return{name:"microphone"};case t.r.PLACEHOLDER_CARD_WORKFLOW:return{name:"play"};case t.r.PLACEHOLDER_CARD_IMAGE:return{name:"image"};case t.r.PLACEHOLDER_CARD_CANVAS:return{name:"canvas"};case t.r.PLACEHOLDER_CARD_FILE:return{name:"attachment"};case t.r.PLACEHOLDER_CARD_LINK:return{name:"link"};case t.r.PLACEHOLDER_CARD_LIST:return{name:"lists"};case t.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.DATE_MENTION:return{name:"calendar"};case t.r.AI_ASSISTANT:return{name:"ai-sparkle"};case t.r.AI_ASSISTANT_CANVAS_SUMMARY:return{name:"ai-summary"};case t.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return{name:"ai-check"};case t.r.CALLOUT:return{name:"callout"};case t.r.SALESFORCE_DATA_MENTION:return{name:"sf-cloud"};default:return{name:"help"}}},"getQuipButtonIcon")},8631406144:(B,A,e)=>{"use strict";e.d(A,{O:()=>c});var t=e(2947229296),s=e(3322552522),o=e(7011720980);const n=new t.Ay("slack_docs"),c=h(function(l){let{experimentCanvasSmartCardsGroupOn:i,experimentWidgetsGroupOn:a,experimentCanvasLiveDataMentionsGroupOn:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(l){case s.r.FILE:return n.t("File");case s.r.IMAGE:return n.t("Image");case s.r.CHECK_LIST:return n.t("Check list");case s.r.CHECK_LIST_TOGGLE:return n.t("Check list");case s.r.BULLET_LIST:return n.t("Bulleted list");case s.r.ORDERED_LIST:return n.t("Ordered list");case s.r.VIDEO_CLIP:return n.t("Record video clip");case s.r.AUDIO_CLIP:return n.t("Record audio clip");case s.r.DIVIDER:return n.t("Divider");case s.r.PINS:return n.t("Pins");case s.r.SMART_SUMMARY:return i?n.t("AI Channel Summary"):"";case s.r.RECENT_FILES:return i?n.t("Recent Files"):"";case s.r.ACTIVE_DISCUSSIONS:return i?n.t("Active Discussions"):"";case s.r.CHANNEL_HUDDLES:return i?n.t("Huddles"):"";case s.r.BLOCKQUOTE:return n.t("Blockquote");case s.r.CODE_BLOCK:return n.t("Code block");case s.r.PARAGRAPH:return n.t("Paragraph");case s.r.H1:return n.t("Big heading");case s.r.H2:return n.t("Medium heading");case s.r.H3:return n.t("Small heading");case s.r.CANVAS:return n.t("Canvas");case s.r.WORKFLOW:return n.t("Workflow");case o.L.CODE:return n.t("Code");case s.r.TABLE:return n.t("Table");case s.r.LAYOUT_2_COLUMNS:return n.t("2 columns",{fallbackHash:"8d8f0f25822179c33b917613ec2d022ef593c340",fallbackHashNs:"quip_shortcut_handlers"});case s.r.LAYOUT_3_COLUMNS:return n.t("3 columns",{fallbackHash:"b505f5f09f70ff9d216f1c3cbb5c1a8a4e82179b",fallbackHashNs:"quip_shortcut_handlers"});case s.r.LIST:return n.t("List");case s.r.WIDGET:return a?n.t("Widget"):"Widget";case s.r.USER_PROFILE_UNFURL:return n.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case s.r.SALESFORCE_RECORD:return n.t("Salesforce record");case s.r.PLACEHOLDER_CARD_VIDEO:return n.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"slack_kit_video"});case s.r.PLACEHOLDER_CARD_PROFILE:return n.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case s.r.PLACEHOLDER_CARD_AUDIO:return n.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"});case s.r.PLACEHOLDER_CARD_WORKFLOW:return n.t("Workflow",{fallbackHash:"d7a484140f5f9f7f5427e1f2c44dbfc1d3ad9eea",fallbackHashNs:"slack_docs"});case s.r.PLACEHOLDER_CARD_IMAGE:return n.t("Image");case s.r.PLACEHOLDER_CARD_CANVAS:return n.t("Canvas");case s.r.PLACEHOLDER_CARD_FILE:return n.t("File");case s.r.PLACEHOLDER_CARD_LINK:return n.t("Link");case s.r.PLACEHOLDER_CARD_LIST:return n.t("List");case s.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return n.t("Salesforce record");case s.r.DATE_MENTION:return n.t("Date",{fallbackHash:"eb9a4bc1c0c153e4e4b042a79113b815b7e3021d",fallbackHashNs:"calendar"});case s.r.CALLOUT:return n.t("Callout",{fallbackHash:"f3e792e7d41d161d609362af9fd451593481fd5d"});case s.r.AI_ASSISTANT:return n.t("Write with AI",{fallbackHash:"5a98372d1f7b397565f7cb33560b8abe99f7acdc"});case s.r.AI_ASSISTANT_CANVAS_SUMMARY:return n.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"});case s.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return n.t("Add action items",{fallbackHash:"955d21424ac706b11f1425f1189ba754d1cc93de"});case s.r.SALESFORCE_DATA_MENTION:return r?n.t("Salesforce data field"):"";default:return l}},"getQuipButtonLabel")},5313367493:(B,A,e)=>{"use strict";e.d(A,{d:()=>c});var t=e(6928237551),s=e(5322812987),o=e(3134986613),n=e(3351247794);const c=h(l=>{const a=(0,o.b5)(l,5);let r;for(let f=0;f<(a==null?void 0:a.length);f++){var d;const u=(0,n.OL)(l,(d=a[f])===null||d===void 0?void 0:d.id);if(u&&((0,s.V)(u)&&(r=(0,t.SB)(l,u)),r))break}return`${r}`},"getRecentChannelForCurrentMember")},7011720980:(B,A,e)=>{"use strict";e.d(A,{B:()=>n,L:()=>s});var t=e(3262078016),s;(function(c){c.BOLD="bold",c.STRIKE="strike",c.ITALIC="italic",c.CODE="code",c.LINK="link",c.UNDERLINE="underline"})(s||(s={}));const o=new Map([[t.DocInlineStyle.BOLD,s.BOLD],[t.DocInlineStyle.STRIKETHROUGH,s.STRIKE],[t.DocInlineStyle.ITALIC,s.ITALIC],[t.DocInlineStyle.CODE,s.CODE],[t.DocInlineStyle.LINK,s.LINK]]);function n(c){return o.get(c)}h(n,"inlineStyleToFormat")},3322552522:(B,A,e)=>{"use strict";e.d(A,{r:()=>o});var t=e(2269589032),s;(function(n){n.UNKNOWN="unknown",n.TITLE="title",n.FILE="file",n.IMAGE="image",n.VIDEO_CLIP="video-clip",n.AUDIO_CLIP="audio-clip",n.DIVIDER="divider",n.TABLE="table",n.SHORTCUT="shortcut",n.MENU_SEPARATOR="menu-separator",n.PINS="pins",n.BOOKMARKS="bookmarks",n.USER_UNFURL="user-unfurl",n.CANVAS_UNFURL="canvas-unfurl",n.MESSAGE_UNFURL="message-unfurl",n.PUBLIC_LINK_UNFURL="public-link-unfurl",n.SHORTCUT_UNFURL="shortcut-unfurl",n.USER_PROFILE_UNFURL="user-profile-unfurl",n.UNFURL="unfurl",n.CANVAS="canvas",n.GENERIC="generic",n.WORKFLOW="workflow",n.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",n.SMART_SUMMARY="smart-summary",n.RECENT_FILES="recent-files",n.ACTIVE_DISCUSSIONS="active-discussions",n.CHANNEL_HUDDLES="channel-huddles",n.LIST="list",n.WIDGET="widget",n.LAYOUT_2_COLUMNS="layout-2-columns",n.LAYOUT_3_COLUMNS="layout-3-columns",n.PLACEHOLDER_CARD_SUBMENU="placeholder-card-submenu",n.PLACEHOLDER_CARD_VIDEO="placeholder-card-video",n.PLACEHOLDER_CARD_PROFILE="placeholder-card-profile",n.PLACEHOLDER_CARD_AUDIO="placeholder-card-audio",n.PLACEHOLDER_CARD_WORKFLOW="placeholder-card-workflow",n.PLACEHOLDER_CARD_IMAGE="placeholder-card-image",n.PLACEHOLDER_CARD_CANVAS="placeholder-card-canvas",n.PLACEHOLDER_CARD_FILE="placeholder-card-file",n.PLACEHOLDER_CARD_LINK="placeholder-card-link",n.PLACEHOLDER_CARD_LIST="placeholder-card-list",n.PLACEHOLDER_CARD_SALESFORCE_RECORD="placeholder-card-salesforce-record",n.SALESFORCE_RECORD="salesforce-record",n.DATE_MENTION="date-mention",n.CALLOUT="callout",n.AI_ASSISTANT="ai-assistant",n.AI_ASSISTANT_CANVAS_SUMMARY="ai-assistant-canvas-summary",n.AI_ASSISTANT_CANVAS_ACTION_ITEMS="ai-assistant-canvas-action-items",n.SALESFORCE_DATA_MENTION="salesforce-data-mention"})(s||(s={}));const o={...t.zF,...s}},7792131998:(B,A,e)=>{"use strict";e.d(A,{D:()=>t});var t;(function(s){s.SpecificMembers="add-specific-members",s.AllMembers="add-all-members"})(t||(t={}))},3019061726:(B,A,e)=>{"use strict";e.d(A,{v:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(1121493173),c=e(6369345880),l=e(5190921192),i=e(3905882879);const a=h(r=>{let{type:d,spacing:m="medium"}=r;const f=o()("three_fourths_opacity",{margin_right_0:m==="none",margin_right_25:m==="small",margin_right_50:m==="medium"});return d===i.VZ.Channels||d===i.VZ.OrgChannels?t.createElement(c.A,{type:"channel",size:"inherit",className:f}):(0,n.m)(d)?t.createElement(c.A,{type:"dm",size:"inherit",className:f}):d===i.VZ.RecentApps?t.createElement(c.A,{type:"gn-menu",size:"inherit",className:f}):d===i.VZ.SlackConnect||d===i.VZ.SharedChannels?t.createElement(c.A,{type:"shared-channels-outline",size:"inherit",className:f}):d===i.VZ.Stars?t.createElement(c.A,{type:"star-o",size:"inherit",className:f}):d===i.VZ.UserGroup?t.createElement("div",{className:o()("c-icon","c-icon--inherit",f)},t.createElement(l.A,{name:"user-groups-filled"})):t.createElement(c.A,{type:"star-o",size:"inherit",className:f})},"InlineChannelSectionFallbackIcon");a.displayName="InlineChannelSectionFallbackIcon"},9228839553:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(3019061726),l=e(5279500834),i=e(4518771352),a=e(3905882879);function r(m){let{channelSection:f,className:u,spacing:E="medium",showIcon:v=!0}=m;const T=(0,s.wA)()((0,i.i1)({channelSection:f})),p=T&&T.split(" "),O=p&&p[0],y=p&&(p.length>1?` ${p.slice(1).join(" ")}`:null),C=h(()=>{if(!v)return null;if(f.type===a.VZ.UserGroup)return t.createElement(c.v,{type:f.type,spacing:E});const I=n()({margin_right_0:E==="none",margin_right_25:E==="small",margin_right_50:E==="medium"});return f.emoji?t.createElement(l.Ay,{className:I,shouldFallbackOnLoadError:!0,text:f.emoji,stopAnimations:!0,emojiSize:l.lw.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):t.createElement(c.v,{type:f.type,spacing:E})},"getIcon");return C.displayName="getIcon",t.createElement("span",{className:n()("p-inline_channel_section",u)},t.createElement("span",{className:"p-inline_channel_section__lockup"},C(),O),y)}h(r,"InlineChannelSection"),r.displayName="InlineChannelSection";const d=r},898756733:(B,A,e)=>{"use strict";e.d(A,{AV:()=>a,Cu:()=>f,Gu:()=>i,g4:()=>d,qn:()=>r});var t=e(3677587543),s=e(2878883205),o=e(2691514942);let n=1,c=1;const l=(0,o.Wo)({label:"HISTORY-NAVIGATION"}),i=h(()=>{c!==n&&(l.info("Incrementing the users current position in the history stack"),c+=1)},"onNavigateForward"),a=h(()=>{c!==1&&(l.info("Decrementing the users current position in the history stack"),c-=1)},"onNavigateBack"),r=h(()=>c===1,"isBackDisabled"),d=h(()=>c===n,"isForwardDisabled");function m(){l.info("Adding route to the history stack"),c+=1,n=c}h(m,"incrementHistoryLength");function f(E){let{shouldReplaceState:v,reason:g}=E;v||g!==s.GB&&m()}h(f,"maybeIncrementHistoryLength"),(0,t.ul)("history",{getHistoryLength:()=>n,getHistoryIndex:()=>c});const u={maybeIncrementHistoryLength:f}},9234668555:(B,A,e)=>{"use strict";e.d(A,{Hu:()=>u,OJ:()=>_,q8:()=>I,vU:()=>M,wZ:()=>P});var t=e(6249041335),s=e(2947229296),o=e(4950864742),n=e(9866181557),c=e(2172170811),l=e(5595864336),i=e(7032209627),a=e(9513040995),r=e(3666777625),d=e(4357385957),m=e(9176700866),f=e(7691907057);const u={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},E=new s.Ay("huddles"),v=h((b,S)=>({video:[...b&&b.video?b.video:[]],audio:[...!S&&b&&b.audio?b.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),g=h(b=>{const S=b.reduce((L,D)=>(Object.entries(D).forEach(k=>{let[x,R]=k;(x==="video"||x==="audio")&&(L[x]=L[x]?[...L[x],...R]:[...R])}),L),{}),N={video:[],audio:[]};return Object.entries(S).forEach(L=>{let[D,k]=L;(D==="video"||D==="audio")&&(N[D]=k.filter((x,R,U)=>R===U.findIndex(F=>F.id===x.id&&F.id!==void 0)))}),N},"combineCallApps"),T=h(b=>{const N=(0,r.FR)(b).map(D=>(0,n.xp)(b,"calls_apps",D.id)).filter(m.b);return g(N)},"retrieveCallsAppsForUnifiedOrg"),p=h(b=>(0,a.ss)(b)?T(b):(0,n.xp)(b,"calls_apps"),"retrieveCallsAppsFromPrefs"),O=h((b,S)=>{const N=p(b);if(S){var L;const D=N==null||(L=N.video)===null||L===void 0?void 0:L.findIndex(k=>k.id===c.rq);D>=0&&N.video.splice(D,1)}return N},"filterCallsAppsFromTeamPref"),y=(0,o.ik)((b,S)=>O(b,S),b=>v(b,!1)),C=(0,o.ik)((b,S)=>O(b,S),b=>v(b,!0)),I=h(function(b){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?C(b,!0):y(b,!0)},"getCallsAppsFromTeamPref"),M=(0,f.F)(I,d.pt,(b,S)=>{const N={},L=b&&b.video?b.video:[],D=b&&b.audio?b.audio:[],k=E.t("Start a huddle"),x=S?[{id:"A01",name:k,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...L,...D,...x].forEach(R=>{let U;R.id===c.rq?U={id:R.id,name:R.name,image:R.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(F=>R.id===F)!==-1?U={id:R.id,name:R.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:U=R,N[U.id]=U}),N}),_=h(b=>{let{callsApp:S,memberPhoneNumber:N,hideVideoApps:L=!1}=b;const D=[];return S&&(!L&&S.video&&D.push(...S.video.map(k=>({...k,type:i.JG.Video}))),S.audio&&(0,l.A)((0,t.A)(N))&&D.push(...S.audio.map(k=>({...k,type:i.JG.Audio})))),D},"getCallAppList"),P=h(b=>{const S=O(b,!0),N=S&&S.video?S.video:[],L=S&&S.audio?S.audio:[];return[...N,...L]},"getFlattenTeamPrefCallsApps")},6154618221:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(4103274853),o=e(7715417323),n=e(1137236691),c=e(1236500105),l=e(6216408461),i=e(9006442414),a=e(7272874344),r=e(788726566);function d(){return d=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},d.apply(this,arguments)}h(d,"_extends");let m=h(class extends t.Component{onDesktopContextMenu(E){const{getTemplate:v,overrideDefaultMenu:g}=this.props,T=h(C=>({...C,id:(0,c.A)(),submenu:C.submenu&&C.submenu.map(T)}),"addIdsToItem"),p=v?v().map(T):[];if(!p.length)return;const{x:O,y}=(0,s.A)(this.getCoordinatesForContextMenu(E),C=>(0,n.xhB)()*C);(0,n.O0f)(p,{x:O,y,overrideDefaultMenu:g}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(E){if(!this.props.hasKeyboardFocus||!E)return{};const{left:v,top:g,width:T,height:p}=E.currentTarget.getBoundingClientRect(),O=v+T/2,y=g+p/2;return{x:O,y}}renderMenuFromTemplate(E){const{getTemplate:v,width:g,showSlackKitContextMenuOnDesktop:T,menuAriaLabel:p}=this.props;function O(C){return C.replace(/&([\w&])/g,(I,M)=>M)}h(O,"removeKeyboardAccelerators");const y=v?v().map(C=>!C.label||T?C:{...C,label:O(C.label)}):[];return y.length?t.createElement(l.a,d({"aria-label":p,width:g},E,{template:y,isContextMenu:!0,stripTerminalSeparators:!0})):null}onContextMenuOpen(){var E,v;(0,i.Ws)(),(v=(E=this.props).onContextMenuOpen)===null||v===void 0||v.call(E)}render(){if((0,n.g9M)()&&!this.props.showSlackKitContextMenuOnDesktop)return(0,r.A)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:E,onClick:v,onClose:g,isDisabled:T,renderMenu:p,preventScroll:O,suppressDragRegionsWhenOpen:y}=this.props;return this.props.desktopAppOnly?(0,r.A)(this.props.children):t.createElement(l.cQ,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:E,shouldFade:!1,renderMenu:p||this.renderMenuFromTemplate,onClick:v,onClose:g,isDisabled:T,preventScroll:O,onPopoverOpen:this.onContextMenuOpen,suppressDragRegionsWhenOpen:y},this.props.children)}constructor(E){super(E),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this),this.onContextMenuOpen=this.onContextMenuOpen.bind(this)}},"ContextMenuTrigger");m.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:o.A,onClose:o.A,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1,suppressDragRegionsWhenOpen:!1},m.displayName="ContextMenuTrigger";const f=(0,a.A)(m)},8661260709:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(6122756707),o=e(788726566),n=e(6154618221),c=e(3299124106),l=e(280840163),i=e(1242487384);const a=h(d=>{let{id:m,children:f,forceOpen:u=!1,onClick:E,onClose:v,menuAriaLabel:g,sidebar:T,header:p,channelSection:O,onEnterEditModeClick:y,transitionFocusTo:C}=d;const I=(0,l.d4)(i.TZ),M=(0,s.wA)(),_=(0,t.useCallback)(()=>M((0,c.QO)({id:m,sidebar:T,header:p,channelSection:O,onEnterEditModeClick:y,transitionFocusTo:C})),[M,m,T,p,O,y,C]);return!I||!m?(0,o.A)(f):t.createElement(n.A,{menuAriaLabel:g,getTemplate:_,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:u,onClick:E,onClose:v,width:"auto"},f)},"ChannelContextMenu");a.displayName="ChannelContextMenu";const r=a},7214849769:(B,A,e)=>{"use strict";e.d(A,{AB:()=>D,Jv:()=>k,TX:()=>M,WF:()=>N,n1:()=>P,s5:()=>S,s9:()=>_});var t=e(6122756707),s=e(7715417323),o=e(3385422400),n=e(2947229296),c=e(353071615),l=e(5630795175),i=e(9819891010),a=e(5478938623),r=e(4144342945),d=e(321010523),m=e(7397682160),f=e(2042516736),u=e(4894634110),E=e(7874250141),v=e(280840163),g=e(4629886364),T=e(5340972829),p=e(6259376722),O=e(6766178921),y=e(3666777625);const C=new n.Ay("member_profile"),I=(0,o.Mz)((x,R)=>{let{memberId:U}=R;return(0,O.nv)(x,U)},(x,R)=>{let{memberId:U}=R;return(0,p.a)(x,U)},(x,R)=>{const U=(0,l.Gt)(x),F=(0,c.oy)(x),W=R?C.t("Copy display name"):C.t("Copy display name: @{displayName}",{displayName:U,__react:!0});return!F&&U?{key:"copy_display_name",dataQa:"copy_display_name",label:W,click:()=>{(0,r.x3)(U)},show:!0,disabled:(0,c.Zx)(x)}:null}),M=h(x=>{let{memberId:R}=x;return(0,v.d4)(U=>R?I(U,{memberId:R}):void 0)},"useGetMenuTemplateCopyDisplayName"),_=(0,u.Ay)("Gets the template for copy display name menu item",(x,R,U)=>I(R(),U));_.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const P=(0,u.Ay)("Clog member context item click",(x,R,U)=>{(0,m.e)({getState:R}).track(d.EventId.CONTEXT_MENU_ACTION,{label:U,is_iap1:!0})});P.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const b=(0,u.Ay)("Gets the template for copy display name menu item",(x,R,U)=>{const{memberId:F,label:W}=U,w=(0,i.sE)(R(),(0,O.nv)(R(),F));return{label:C.t("Copy name"),click:()=>{x(P(W));try{(0,r.LJ)({"text/plain":w,"text/html":`<span data-stringify-id="${F}" data-stringify-label="${w}">${w}</span>`})}catch{(0,r.x3)(w)}}}});b.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const S=(0,u.Ay)("Gets the template for copy name menu item",(x,R,U)=>x(b(U)));S.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const N=(0,u.Ay)("Copies link to member to clipboard",(x,R,U)=>{x(P(U.label));const F=R(),W=(0,y._J)(F,(0,E.ZT)(F)||"");(0,r.x3)((0,a.Zl)(W,`/team/${U.memberId}`))});N.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const L=(0,o.Mz)(x=>x,(x,R,U)=>{let{onClickCallback:F=s.A}=U;return F},(x,R,U)=>{let{isCanvasContext:F}=U;return F},(x,R,U)=>{let{memberId:F}=U;return(0,O.nv)(R,F)},(x,R,U)=>{let{memberId:F}=U;return(0,i.sE)(R,(0,O.nv)(R,F))},(x,R,U)=>{let{memberId:F}=U;return(0,g.zP)(R,F||"")},(x,R,U,F,W,w)=>{const K=(0,c.oy)(F);let j=C.rt("Message {memberName}",{memberName:W})||"";return U&&(K?j=C.t("View message history"):j=C.t("Message")),!w||(0,c.po)(F)||U&&(0,c.fy)(F)?null:{key:"message",dataQa:"message",label:j,click:Q=>{x((0,T.Z)({memberId:F.id,shouldOpenInTile:(0,f.Cz)(Q),reason:"member-context-menu"})).then(()=>R())},show:!!F,disabled:(0,c.Zx)(F)}}),D=h(x=>{let{memberId:R,isCanvasContext:U,onClickCallback:F}=x;const W=(0,t.wA)();return(0,v.d4)(w=>R?L(W,w,{memberId:R,isCanvasContext:U,onClickCallback:F}):void 0)},"useGetMenuTemplateMessage"),k=(0,u.Ay)("Gets the template for message menu item",(x,R,U)=>L(x,R(),U));k.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},2311924061:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(7715417323),o=e(788726566),n=e(6154618221),c=e(4329556421),l=e(6761585902),i=e(1242487384);let a=h(class extends t.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id})}render(){const{id:u,isClient:E}=this.props;return E?u?t.createElement(n.A,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):(0,o.A)(this.props.children):(0,o.A)(this.props.children)}constructor(u){super(u),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");a.defaultProps={id:void 0,onClick:s.A},a.displayName="MemberContextMenu";function r(f){return{isClient:(0,i.TZ)(f)}}h(r,"mapStateToProps");const d=h(f=>({getMemberContextMenuTemplate:u=>f((0,c.nz)(u))}),"mapDispatchToProps"),m=(0,l.N)(r,d)(a)},4329556421:(B,A,e)=>{"use strict";e.d(A,{i8:()=>O,nz:()=>y});var t=e(2947229296),s=e(4566917391),o=e(7214849769),n=e(4071973151),c=e(6563296078),l=e(4458861846),i=e(9819891010),a=e(1639431176),r=e(1755876516),d=e(8606055730),m=e(7857154957),f=e(4894634110),u=e(6671230854),E=e(6766178921);const v=new t.Ay("menu"),g={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link",ADD_PRIORITY_USER:"add_priority_user",REMOVE_PRIORITY_USER:"remove_priority_user"},T=(0,f.Ay)("get the context menu item for actions",(C,I,M)=>{let{id:_}=M;const P=[];if((0,n.A)(I()))return P;const b=C((0,o.Jv)({memberId:_,onClickCallback:()=>(0,o.n1)(g.MESSAGE_MEMBER)}));return b&&P.push(b),P.length&&P.push({type:r.A.separator}),P});T.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const p=(0,f.Ay)("get the context menu item for sharing a contact",(C,I,M)=>{let{id:_}=M;const P=I();return(0,a.VX)(P,_||"")&&!(0,n.A)(P)?[{label:v.t("Share contact"),click:()=>C((0,u.A)({contactUserId:_}))},{type:r.A.separator}]:[]});p.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const O=(0,f.Ay)("get the context menu item for adding to or removing from VIP",(C,I,M)=>{let{id:_,includeSeparator:P}=M;const b=I(),S=(0,E.nv)(b,_),N=(0,s.GL)(b,S);if(!_)return[];if(!N)return[];const L=(0,d.mF)(b,_),D=(0,i.sE)(b,(0,E.nv)(b,_)),k=[{label:L?v.rt("Remove from VIP",{memberName:D}):v.rt("Add to VIP",{memberName:D}),click:()=>{const x=L?g.REMOVE_PRIORITY_USER:g.ADD_PRIORITY_USER;C((0,o.n1)(x)),C((0,m.C)(_))},autoClogProps:{label:L?g.REMOVE_PRIORITY_USER:g.ADD_PRIORITY_USER}}];return P&&k.push({type:r.A.separator}),k});O.meta={name:"createThunk",key:"createThunkgetToggleVipActionMaybe",description:"get the context menu item for adding to or removing from VIP"};const y=(0,f.Ay)("get the context menu template when user clicks on a member",(C,I,M)=>{let{id:_}=M;return[{label:v.t("View profile"),click:()=>{C((0,o.n1)(g.VIEW_PROFILE)),C((0,c.o)((0,l.Fo)({memberId:_||""})))}},{type:r.A.separator},...C(T({id:_})),...C(O({id:_,includeSeparator:!0})),...C(p({id:_})),C((0,o.s5)({memberId:_,label:g.COPY_MEMBER_NAME})),C((0,o.s9)({memberId:_})),{label:v.t("Copy link"),click:()=>{C((0,o.WF)({memberId:_,label:g.COPY_MEMBER_LINK}))}}].filter(P=>!!P)});y.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"}},1905218661:(B,A,e)=>{"use strict";e.d(A,{$g:()=>C,Mo:()=>T,rp:()=>y});var t=e(6217320234),s=e(7823346015),o=e(3385422400),n=e(7919365230),c=e(2947229296),l=e(5375489720),i=e(5478938623),a=e(5421660490),r=e(6182787245),d=e(6766178921),m=e(3666777625),f=e(7874250141),u=e(1255650744),E=e(3623444386),v=e(5689133621);const g=new c.Ay("create_channel_modal"),T=(0,n.Ay)(I=>{const M=(0,d.cA)(I),_=(0,r.HI)(M),P=(0,m.H7)(I);if(!P)return[];const b=(0,f.VO)(I)||[],S=[P.id,..._,...b],N=[...new Set(S)].filter(L=>!(0,l.JV)(L)).map(L=>(0,m._J)(I,L)).filter(L=>!!L&&!(0,i.Zx)(L));return(0,t.A)(N,L=>(0,i.F1)(L))});T.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:I=>{const M=(0,d.cA)(I),_=(0,r.HI)(M),P=(0,m.H7)(I);if(!P)return[];const b=(0,f.VO)(I)||[],S=[P.id,..._,...b],N=[...new Set(S)].filter(L=>!(0,l.JV)(L)).map(L=>(0,m._J)(I,L)).filter(L=>!!L&&!(0,i.Zx)(L));return(0,t.A)(N,L=>(0,i.F1)(L))}};const p=h((I,M)=>{const _=M==null?void 0:M.map(P=>P.id);return I.map(P=>{var b,S;return{label:(0,i.F1)(P),value:P,optgroup:P.enterprise_name,key:P.id,isDisabled:!!(_!==void 0&&_.includes(P.id)),displayReason:(S=(b=M==null?void 0:M.find(N=>N.id===P.id))===null||b===void 0?void 0:b.displayReason)!==null&&S!==void 0?S:""}})},"mapWorkspacesToSelectOptionItems"),O=h((I,M)=>{let{ineligibleWorkspaces:_,excludeExternalWorkspaces:P}=M;const[b,S]=(0,s.A)(I,L=>(0,a.N)(L)),N={value:void 0,label:"",type:"divider"};return[...p(S,_),...!P&&b.length>0?[N,...p(b,_)]:[]]},"mapInvitableWorkspacesToSelectOptions"),y=(0,n.Ay)(I=>{const M=(0,v.g)(I),_=(0,u.y5)(I),P=(0,E.S)(I),b=T(I),S=b.filter(N=>!_.includes(N.id)&&!P.includes(N.id)).map(N=>({id:N.id,displayReason:M?"":g.t("You don\u2019t have access to this")}));return O(b,{ineligibleWorkspaces:S})});y.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:I=>{const M=(0,v.g)(I),_=(0,u.y5)(I),P=(0,E.S)(I),b=T(I),S=b.filter(N=>!_.includes(N.id)&&!P.includes(N.id)).map(N=>({id:N.id,displayReason:M?"":g.t("You don\u2019t have access to this")}));return O(b,{ineligibleWorkspaces:S})}};const C=(0,o.Mz)(T,I=>I.length>1)},3258187649:(B,A,e)=>{"use strict";e.d(A,{D:()=>Bt,A:()=>Mt});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(2947229296),l=e(2003990933),i=e(7715417323),a=e(9268023148),r=e(1739415438),d=e(3889339349),m=e(1182212603),f=e(5279500834),u=e(9746734072),E=e(7156798807),v=e(9204569428),g=e(321010523),T=e(7397682160),p=e(3320534337),O=e(8709134018),y=e(7919365230);const C=(0,y.Ay)(Ye=>!Ye||!Ye.customizeEmoji||!Ye.customizeEmoji.customEmojiData||!Ye.customizeEmoji.customEmojiData.length?[]:Ye.customizeEmoji.customEmojiData);C.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:Ye=>!Ye||!Ye.customizeEmoji||!Ye.customizeEmoji.customEmojiData||!Ye.customizeEmoji.customEmojiData.length?[]:Ye.customizeEmoji.customEmojiData};const I=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.customEmojiTotalCount?Ye.customizeEmoji.customEmojiTotalCount:0);I.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.customEmojiTotalCount?Ye.customizeEmoji.customEmojiTotalCount:0};const M=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.currentPage?Ye.customizeEmoji.currentPage:0);M.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.currentPage?Ye.customizeEmoji.currentPage:0};const _=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.totalPages?Ye.customizeEmoji.totalPages:0);_.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.totalPages?Ye.customizeEmoji.totalPages:0};const P=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.isLoadingNewPage?Ye.customizeEmoji.isLoadingNewPage:!1);P.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.isLoadingNewPage?Ye.customizeEmoji.isLoadingNewPage:!1};const b=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.isLoadingNewSearchQuery?Ye.customizeEmoji.isLoadingNewSearchQuery:!1);b.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.isLoadingNewSearchQuery?Ye.customizeEmoji.isLoadingNewSearchQuery:!1};const S=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.deletedEmojiList?Ye.customizeEmoji.deletedEmojiList:[]);S.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.deletedEmojiList?Ye.customizeEmoji.deletedEmojiList:[]};const N=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.disabledEmoji?Ye.customizeEmoji.disabledEmoji:{});N.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.disabledEmoji?Ye.customizeEmoji.disabledEmoji:{}};const L=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.sortDir?Ye.customizeEmoji.sortDir:"asc");L.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.sortDir?Ye.customizeEmoji.sortDir:"asc"};const D=(0,y.Ay)(Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.sortBy?Ye.customizeEmoji.sortBy:"name");D.meta={name:"createSelector",key:"createSelectorgetSortBy",description:Ye=>Ye&&Ye.customizeEmoji&&Ye.customizeEmoji.sortBy?Ye.customizeEmoji.sortBy:"name"};const k=(0,p.A)("Load the next page of custom emoji data",function(Ye,ot){let{count:ht=100,queries:tt,userIds:ct,reason:rn="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ln=ot();Ye((0,O.en)(!0));const G={page:M(ln)+1,count:ht,sort_by:D(ln),sort_dir:L(ln)};return tt&&(G.queries=JSON.stringify(tt)),ct&&(G.user_ids=JSON.stringify(ct)),Ye((0,v.apiCall)({method:"emoji.adminList",reason:rn,args:G})).then(De=>{var We,it;Ye((0,O.en)(!1));const Nt=(0,u.A)(De.disabled_emoji)?(0,E.A)(De.disabled_emoji,"name"):De.disabled_emoji;Ye((0,O.X8)({newCustomEmojiData:De.emoji,disabledEmoji:Nt,customEmojiTotalCount:De.custom_emoji_total_count,currentPage:(We=De.paging)===null||We===void 0?void 0:We.page,totalPages:(it=De.paging)===null||it===void 0?void 0:it.pages}))}).catch(De=>{throw De})});k.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"};const x=(0,p.A)("Load custom emoji data with a new search query",function(Ye,ot){let{queries:ht,page:tt=1,count:ct=100,sortBy:rn,sortDir:ln,userIds:on,reason:G="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ye((0,O.d$)(!0));const De={page:tt,count:ct};return ht&&(De.queries=JSON.stringify(ht)),on&&(De.user_ids=JSON.stringify(on)),rn&&ln&&(De.sort_by=rn,De.sort_dir=ln),Ye((0,v.apiCall)({method:"emoji.adminList",reason:G,args:De})).then(We=>{var it,Nt;Ye((0,O.d$)(!1));const sn=(0,u.A)(We.disabled_emoji)?(0,E.A)(We.disabled_emoji,"name"):We.disabled_emoji;Ye((0,O.Ot)({newCustomEmojiData:We.emoji,disabledEmoji:sn,customEmojiTotalCount:We.custom_emoji_total_count,currentPage:(it=We.paging)===null||it===void 0?void 0:it.page,totalPages:(Nt=We.paging)===null||Nt===void 0?void 0:Nt.pages,sortBy:rn,sortDir:ln}))}).catch(We=>{throw We})});x.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"};const R=(0,p.A)("Deletes the given custom emoji",(Ye,ot,ht)=>{let{emojiName:tt,isPrimaryEmoji:ct=!1,synonyms:rn=[],reason:ln="customize-emoji-remove"}=ht;return Ye((0,O.gx)({emojiName:tt,isPrimaryEmoji:ct,synonyms:rn})),Ye((0,v.apiCall)({method:"emoji.remove",reason:ln,args:{name:tt}})).then(on=>on).then(()=>{(0,T.e)({state:ot()}).track(g.EventId.PAGE_CUSTOMIZE_EMOJI,{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(on=>{throw(0,T.e)({state:ot()}).track(g.EventId.PAGE_CUSTOMIZE_EMOJI,{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),on})});R.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"};const U=(0,p.A)("Creates a new custom emoji or alias",(Ye,ot,ht)=>{let{mode:tt,name:ct,aliasFor:rn,image:ln,searchArgs:on={},reason:G="customize-emoji-add"}=ht;return Ye((0,v.apiCall)({method:"emoji.add",reason:G,args:{mode:tt,name:ct,alias_for:rn,image:ln}})).then(De=>De).then(()=>{Ye(x(on))}).catch(De=>{throw De})});U.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"};const F=(0,p.A)("Gets the emoji data for a given emoji",(Ye,ot,ht)=>{let{name:tt,reason:ct="customize-emoji-get-info"}=ht;return Ye((0,v.apiCall)({method:"emoji.getInfo",reason:ct,args:{name:tt}})).then(rn=>rn).catch(rn=>{throw rn})});F.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"};const W=(0,p.A)("Renames the custom emoji with the new name",(Ye,ot,ht)=>{let{oldName:tt,newName:ct,reason:rn="customize-emoji-rename"}=ht;return Ye((0,v.apiCall)({method:"emoji.rename",reason:rn,args:{name:tt,new_name:ct}})).then(ln=>ln).then(()=>{Ye(x()),Ye((0,O.S9)(tt))}).catch(ln=>{throw ln})});W.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"};var w=e(8545309420);function K(Ye){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(Ye)}h(K,"isValidEmojiName");var j=e(1959543078),Q=e(5181078482),J=e(140938156),z=e(6369345880),ie=e(3451857649),ee=e(7264057664),ne=e(9006442414),Z=e(3370679950),te=e(6761585902),he=e(1242487384),ue=e(2069063006),de=e(3698879540);const re=new c.Ay("custom_emoji_list"),V={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let H=h(class extends t.PureComponent{componentDidMount(){const{clogger:ot}=this.props;ot.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:ot,uploadedImage:ht,nameErrorText:tt}=this.state,{emojiUrl:ct}=this.props,rn=ot.length>100;return!ot||rn||!!tt||!ct&&!ht}onDragOver(ot){ot.preventDefault(),ot.dataTransfer.dropEffect="copy"}onDrop(ot){ot.preventDefault();const ht=ot.dataTransfer.files[0];if(ht){const tt=ht.name,ct=URL.createObjectURL(ht);this.updateAfterUpload({uploadedImage:ht,fileName:tt,previewImageUrl:ct})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(ot){const{standardEmojiData:ht}=this.props;let tt="";this.setState(()=>({newEmojiName:ot})),/[A-Z]/.test(ot)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(ot)?tt=re.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):ot in ht?tt=re.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):K(ot)?this.checkIfEmojiNameAlreadyExists(ot):tt=re.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:tt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(ot){ot&&ot.preventDefault();const{newEmojiName:ht,uploadedImage:tt}=this.state,{emojiUrl:ct}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const ln={...{reason:"add-custom-emoji-dialog-content",name:ht},...ct?{mode:"url",url:ct}:{mode:"data",searchArgs:this.props.searchArgs,...tt?{image:tt}:{}}};this.props.addCustomEmoji(ln).then(()=>{this.props.closeModal();const on=this.renderToastMessage();this.props.enqueueToast({element:on}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:ct?"import_custom_emoji":"add_custom_emoji",action:ct?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(on=>{let G;const De=(0,l.A)(on,"data.error");(De===w.W.NoUrlProvided||De===w.W.NoUrlImage)&&(G=re.t("Something happened that prevented the image from being imported. Try again?")),De==="error_bad_upload"?G=re.t("Something happened that prevented your file from being uploaded. Try again?"):De==="error_bad_format"?G=re.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):De==="resized_but_still_too_large"||De==="too_many_frames"?G=re.t("This image is a bit too big, even after resizing. A smaller file might help?"):De==="error_too_big"?G=re.t("Please choose an image smaller than 64KB."):De==="error_name_taken_i18n"?G=re.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:ht}):De==="error_name_taken"?G=re.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:ht}):(De==="error_bad_name"||De==="error_bad_name_i18n")&&(G=re.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:G,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var ot,ht;const tt=!((ot=this.fileInput)===null||ot===void 0||(ht=ot.current)===null||ht===void 0)&&ht.files?this.fileInput.current.files[0]:null;if(tt){const ct=tt.name,rn=URL.createObjectURL(tt);this.updateAfterUpload({uploadedImage:tt,fileName:ct,previewImageUrl:rn})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:ot}=this.props;ot&&this.setState(()=>({previewImageUrl:ot,imagePreviewError:!1}))}convertFileNameToEmojiName(ot){if(!ot)return null;const ht=ot.lastIndexOf("."),tt=ht>0?ot.substring(0,ht):ot;return tt?tt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(ot){let{uploadedImage:ht,fileName:tt,previewImageUrl:ct}=ot;const{newEmojiName:rn,fileName:ln}=this.state;let on=rn;(!rn||rn===this.convertFileNameToEmojiName(ln))&&(on=this.convertFileNameToEmojiName(tt)||on),this.setState(()=>({uploadedImage:ht,fileName:tt,previewImageUrl:ct,imagePreviewError:!1}),()=>this.onEmojiNameChange(on))}fileUpload(){var ot;const ht=(ot=this.props.windowRef.deref())===null||ot===void 0?void 0:ot.document.getElementById("emojiimg");ht==null||ht.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:ot,nameErrorText:ht}=this.state;return t.createElement("ol",{className:"black margin_bottom_0",start:2},t.createElement("li",{className:"margin_bottom_0"},t.createElement("div",null," ",re.t("Give it a name")," "),t.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},re.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.createElement(J.A,{id:"emojiname",name:"name",value:ot,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:ht,"data-qa":V.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:ot,nameErrorText:ht}=this.state,tt=re.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return ht===tt?t.createElement("div",{className:"inline_flex full_width","data-qa":V.ADD_DIALOG_DUPLICATE_PREVIEW},t.createElement(f.Ay,{text:ot,alt:ot,emojiSize:"larger",className:"flex_shrink_none"}),t.createElement("div",{className:"padding_left_50 overflow_hidden"},t.createElement("strong",null,re.t("Existing emoji")),t.createElement("span",{className:"block normal overflow_ellipsis"},":",ot,":"))):null}renderDialogMessage(){const{orgName:ot}=this.props;let ht;return ot?ht=re.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:ot}):ht=re.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":V.ADD_DIALOG_MESSAGE},t.createElement("div",null,ht),t.createElement("div",null,this.renderErrorMessage()),t.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:ot}=this.state;return ot?t.createElement(j.Ay,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":V.ADD_DIALOG_ERROR},t.createElement("span",null," ",ot," ")):null}renderImagePreview(){const{previewImageUrl:ot}=this.state,ht=t.createElement("img",{src:ot,alt:re.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:tt}=this.state;return tt?t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":V.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.createElement(ne.Ay,{tip:re.t("We couldn\u2019t preview your image. Make sure it\u2019s a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.createElement(z.A,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":V.ADD_DIALOG_IMAGE_PREVIEW},ht)}renderPlaceholderText(){const{placeholder:ot}=this.state;let ht;return ot?ht=re.t("avocado"):ht="",ht}renderToastMessage(){const{newEmojiName:ot,previewImageUrl:ht}=this.state,tt=t.createElement(f.Ay,{text:ot,url:ht,emojiSize:f.lw.MEDIUM}),ct=re.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:tt,newEmojiName:ot});return t.createElement(ee.Ay,{toastClasses:"p-customize_emoji_list__toast"},t.createElement("span",null,ct))}renderUploadImagePrompt(){const{emojiUrl:ot}=this.props,ht=re.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),tt=t.createElement(t.Fragment,null,t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),ct=ot?re.t("Import external emoji"):re.t("Upload an image");return t.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":V.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.createElement("li",{className:"large_bottom_margin"},t.createElement("div",null," ",ct," "),!ot&&t.createElement("div",{className:"normal sk_foreground_max"},ht),t.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},tt,!ot&&t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":V.ADD_DIALOG_FILE_INPUT}),t.createElement(Q.Ay,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":V.ADD_DIALOG_UPLOAD}," ",re.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:ot}=this.state,{emojiUrl:ht}=this.props;let tt;return ot||ht?tt=this.renderImagePreview():tt=t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":V.ADD_DIALOG_UPLOAD_PREVIEW},t.createElement(z.A,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),tt}renderUploadedFileText(){const{fileName:ot}=this.state;let ht;return ot?ht=t.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",ot," "):ht=t.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",re.t("Select an image")," "),ht}render(){const{goButtonIsPending:ot}=this.state,ht=this.shouldPreventSubmit();return t.createElement(t.Fragment,null,t.createElement(ie.$m,null,t.createElement(ie.qf,{"data-qa":`${V.ADD_DIALOG}_body`},this.renderDialogMessage())),t.createElement(ie.jl,null,t.createElement(ie.ox,null,t.createElement(ie.s_,{type:"outline","aria-label":re.t("Cancel")},re.t("Cancel")),t.createElement(Q.lV,{type:"primary",onClick:this.onSubmit,loading:ot,disabled:ht,"data-qa":`${V.ADD_DIALOG}_go`,"aria-label":re.t("Save")},re.t("Save")))))}constructor(ot){super(ot),this.fileInput=t.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=ht=>{this.props.getEmojiInfo({name:ht}).then(()=>{this.state.newEmojiName===ht&&this.setState(()=>({nameErrorText:re.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(i.A)},this.checkIfEmojiNameAlreadyExists=(0,a.A)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.createRef(),this.eventId=ot.clientApp?g.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:g.EventId.PAGE_CUSTOMIZE_EMOJI,(0,d.v)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");H.defaultProps={standardEmojiData:{},addCustomEmoji:i.A,enqueueToast:i.A,clientApp:!1,closeModal:i.A,searchArgs:{},emojiNameSuggestion:"",windowRef:(0,m.O)(window)},H.displayName="AddCustomEmojiDialogContent";const X=h(Ye=>({addCustomEmoji:ot=>Ye((0,w.l)(ot)),enqueueToast:function(){for(var ot=arguments.length,ht=new Array(ot),tt=0;tt<ot;tt++)ht[tt]=arguments[tt];return Ye((0,de.M)(...ht))},closeModal:()=>Ye((0,ue.O)()),getEmojiInfo:ot=>Ye(F(ot))}),"mapDispatchToProps"),Y=h(Ye=>({standardEmojiData:(0,Z.O)(Ye),clientApp:(0,he.TZ)(Ye),clogger:(0,T.e)({state:Ye})}),"mapStateToProps"),q=(0,te.N)(Y,X)((0,r.A)(H));var fe=e(9113979368),ce=e(2101927269),Ee=e(2141441167),Ae=e(6217320234),le=e(3783303734),oe=e(4978843660),me=e(8840779375),pe=e(3828212396),Te=e(1217308398);function Me(Ye){return Ye&&Ye.id}h(Me,"getEmojiCollectionId");var Ue=e(9122366353),xe=e(280840163),Ne=e(461348709),be=e(293248343),ke=e(2577163594);const Ke=new c.Ay("custom_emoji_list"),$="emoji_packs_clicked_collection_cta",ae=h(Ye=>{let{id:ot,name:ht,author:tt,emoji:ct,installed:rn,onClick:ln}=Ye;const on=(0,s.wA)(),G=(0,xe.d4)(On=>(0,be.ty)(On,$)),De=(0,xe.d4)(Ne.fl),We=(0,xe.d4)(Ne._J);if(!ct)return null;const Nt=Me(We)===ot&&De&&!G;function sn(){Nt&&on((0,ke.AZ)({pref:$,value:!0})),ln()}h(sn,"handleOnClick");const en=(0,me.A)(ct,(On,In)=>({name:In,url:On})),_n=(0,oe.A)(en,4),Dn=Ke.t("by {author}",{author:tt});return t.createElement(Ue.A,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:sn},t.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.createElement("div",{className:"flex_one"},t.createElement("div",{className:"p-emoji_pack_card__header"},ht,Nt&&t.createElement("span",{className:"margin_left_25"},t.createElement(pe.A,null,Ke.t("NEW")))),t.createElement("div",{className:"p-emoji_pack_card__subheader"},Dn)),rn&&!Nt&&t.createElement("div",{className:"flex_none"},t.createElement(z.A,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.createElement("div",{className:"p-emoji_pack_card_rows"},_n.map(On=>t.createElement("div",{key:On.map(In=>`${In.name}-card-`).join(),className:"p-emoji_pack_card__row"},On.map(In=>t.createElement(Te.Ay,{key:`emoji-pack-${In.name}`,showTooltip:!1,text:`:${In.name}:`,url:In.url,emojiSize:Te.lw.LARGE})),[...new Array(4-On.length)].map((In,bn)=>`emoji-pack-spacer-${bn}`).map(In=>t.createElement("div",{key:In,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");ae.displayName="EmojiPackCard";const Ge=ae,nt=new c.Ay("custom_emoji_list"),at=h(()=>{const Ye=nt.t("STAY TUNED"),ot=nt.t("More emoji packs are on the way");return t.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.createElement(pe.A,{className:"p-emoji_pack_coming_soon__pill"},Ye),t.createElement("div",{className:"p-emoji_pack_coming_soon__text"},ot),t.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("g",{clipPath:"url(#clip0)"},t.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.createElement("defs",null,t.createElement("clipPath",null,t.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");at.displayName="EmojiPackComingSoon";const Ve=at;function Se(Ye){return Ye&&Ye.author}h(Se,"getEmojiCollectionAuthor");function Pe(Ye){return Ye&&Ye.date_create}h(Pe,"getEmojiCollectionDateCreate");var Fe=e(5767388934),ge=e(6756122507),He=e(7049019840),Qe=e(8103802975);const _e=new c.Ay("custom_emoji_list");function Le(Ye){let{row:ot=[],className:ht,onPackClick:tt}=Ye;return t.createElement("div",{key:ot.map(ct=>`${Me(ct)}-row`).join(),className:ht},ot.map(ct=>{if(ct.type==="coming_soon")return t.createElement(Ve,{key:"emoji-pack-coming-soon"});if(ct.type==="spacer")return t.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const rn=(0,He.j)(ct);return t.createElement(Ge,{key:`emoji-pack-${Me(ct)}`,installed:rn,id:Me(ct)||void 0,name:(0,ge.M)(ct),author:Se(ct),emoji:(0,Fe.H)(ct),onClick:()=>tt(ct,{installed:rn})})}))}h(Le,"Row"),Le.displayName="Row";function Ie(Ye){let{orgName:ot,onPackClick:ht}=Ye;const tt=(0,s.wA)(),ct=(0,xe.d4)(Ne.uI);if((0,t.useEffect)(()=>{tt((0,Qe.H)({reason:"emojiPack:dialog"}))},[tt]),(0,fe.A)(ct))return null;const rn=(0,ce.A)(ct,De=>(0,He.j)(De)).length;let ln=(0,Ee.A)(ct);ln=(0,Ae.A)(ln,De=>-1*Pe(De)),(0,le.A)(ct)<2&&ln.push({type:"coming_soon"}),ln.length%2!==0&&ln.push({type:"spacer"});const on=(0,oe.A)(ln,2);let G;return ot?G=_e.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.createElement("b",null,ot)}):G=_e.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.createElement(ie.$m,null,t.createElement(ie.qf,null,t.createElement("div",null,rn>0&&t.createElement("div",{className:"p-emoji_pack__header"},_e.t("Added"),t.createElement("div",{className:"p-emoji_pack__pill"},rn)),t.createElement("div",{className:"p-emoji_pack__list"},on.map(De=>t.createElement(Le,{key:De.map(We=>`${Me(We)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:De,onPackClick:ht}))),t.createElement("div",{className:"p-emoji_pack__help"},G))))}h(Ie,"AddEmojiPackDialogContent"),Ie.displayName="AddEmojiPackDialogContent";const we=Ie;var ze=e(4642723549),ut=e(6799247180),_t=e(7713718206),yt=e(6109709956),Ot=e(4144342945),It=e(7576316740);const kt=new c.Ay("custom_emoji_list"),gt=h(Ye=>{let{adding:ot,name:ht}=Ye;const tt=(0,s.wA)();return t.createElement(ee.Ay,{onCloseComplete:()=>{ot&&tt((0,It.su)())}},t.createElement("span",{"data-qa":"emoji-pack-action"},ot&&kt.rt("The {name} emoji pack has been added to your workspace.",{name:t.createElement("b",null,ht)}),!ot&&kt.rt("The {name} emoji pack has been removed from your workspace.",{name:t.createElement("b",null,ht)})))},"InstallToast");gt.displayName="InstallToast";const Gt=h(Ye=>{let{name:ot,url:ht,index:tt,copyToClipboard:ct,onClose:rn}=Ye;const ln=(0,s.wA)(),on=t.createElement(Te.Ay,{showTooltip:!0,text:ot,url:ht,emojiSize:Te.lw.LARGE});function G(){(0,Ot.x3)(ot),rn&&rn(),ln((0,ue.O)()),ln((0,de.M)({element:t.createElement(ee.Ay,null,t.createElement("span",null,kt.rt("Emoji copied to clipboard",{name:ot})))}))}return h(G,"onClick"),G.displayName="onClick",ct&&(0,Ot.tD)()?t.createElement(Ue.A,{className:"p-emoji_pack_details__button","data-color-index":tt%ut.dX,onClick:G},on):on},"EmojiButton");Gt.displayName="EmojiButton";const Pt=h(Ye=>{let{collectionId:ot,name:ht,author:tt,installed:ct,emoji:rn,onCancelClick:ln,onClose:on}=Ye;const G=(0,s.wA)(),De=(0,xe.d4)(_t.h3),[We,it]=(0,t.useState)(!1),Nt=(0,t.useCallback)(()=>{ot&&(it(!0),G((0,ze._J)({collectionId:ot,reason:"emojiPack:dialog"})).then(()=>{it(!1),on&&on(),G((0,ue.O)()),G((0,de.M)({element:t.createElement(gt,{adding:!0,name:ht})}))}))},[G,ot,ht,on]),[sn,en]=(0,t.useState)(!1),_n=(0,t.useCallback)(()=>{ot&&(en(!0),G((0,ze.zx)({collectionId:ot,reason:"emojiPack:dialog"})).then(()=>{en(!1),on&&on(),G((0,ue.O)()),G((0,de.M)({element:t.createElement(gt,{adding:!1,name:ht})}))}))},[G,ot,ht,on]);if(!rn)return null;const Dn=(0,me.A)(rn,(Sn,gn)=>({name:gn,url:Sn})).map((Sn,gn)=>({...Sn,index:gn})),On=(0,oe.A)(Dn,5),In=kt.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:(0,le.A)(rn)}),bn=kt.t("by {author}",{author:tt}),Hn=t.createElement(t.Fragment,null,t.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},bn),In),vn=t.createElement(yt.A,{"aria-label":kt.t("Go back"),svgIconProps:{name:"caret-left-full"},onClick:()=>ln()});return t.createElement(t.Fragment,null,t.createElement(ie.rQ,null,t.createElement(ie.Rc,{icon:vn,title:ht,subtitle:Hn})),t.createElement(ie.$m,null,t.createElement(ie.qf,null,On.map(Sn=>t.createElement("div",{key:Sn.map(gn=>gn.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},Sn.map(gn=>t.createElement(Gt,{key:`emoji-pack-details-${gn.name}`,name:`:${gn.name}:`,url:gn.url,index:gn.index,copyToClipboard:ct,onClose:on})),[...new Array(5-Sn.length)].map((gn,Rn)=>`emoji-pack-details-spacer-${Rn}`).map(gn=>t.createElement("div",{key:gn,className:"p-emoji_pack_details__emoji_spacer"})))))),t.createElement(ie.jl,null,ct&&(0,Ot.tD)()&&t.createElement("span",{className:"p-emoji_pack_details__tip"},kt.t("Click an emoji to copy to clipboard")),t.createElement(ie.ox,null,ct&&De&&t.createElement(Q.lV,{autoFocus:!0,type:"danger",loading:sn,onClick:_n,"aria-label":kt.t("Remove pack")},kt.t("Remove pack")),!ct&&t.createElement(Q.lV,{autoFocus:!0,loading:We,onClick:Nt,"aria-label":kt.t("Add pack")},kt.t("Add pack")))))},"EmojiPackDetails");Pt.displayName="EmojiPackDetails";const jt=Pt;function Qt(Ye){return Ye&&Ye.localEmoji}h(Qt,"getEmojiCollectionLocalEmoji");var Jt=e(9929095917),Yt=e(3294279361);const Rt=new c.Ay("custom_emoji_list"),Bt={CUSTOM:"custom",PACKS:"packs"},dn=h(Ye=>{let{orgName:ot="",searchArgs:ht={},showEmojiPacks:tt,initialTab:ct=Bt.CUSTOM,emojiNameSuggestion:rn="",emojiUrl:ln,megaphoneEventOnClose:on}=Ye;const G=(0,s.wA)(),[De,We]=(0,t.useState)(ct),[it,Nt]=(0,t.useState)(!1),[sn,en]=(0,t.useState)(null),_n=ln?Rt.t("Add emoji to your organization"):void 0,Dn=tt?Rt.t("Add emoji"):Rt.t("Add custom emoji"),On=_n??Dn,In=Rt.t("Emoji packs"),bn=Rt.t("Custom emoji"),Hn=(0,t.useMemo)(()=>[{title:bn,id:Bt.CUSTOM,onClick:()=>We(Bt.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:In,id:Bt.PACKS,onClick:()=>We(Bt.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[bn,In]),vn=(0,t.useCallback)(()=>{on&&G((0,Yt.iR)({event:{type:on}}))},[G,on]),Sn=(0,t.useCallback)(()=>{vn(),G((0,ue.O)())},[G,vn]),gn=tt&&De===Bt.PACKS,Rn=tt?t.createElement(Jt.A,{tabs:Hn,currentTabId:De,className:"p-add_custom_emoji_dialog__tabs",ariaLabel:On}):null,Qn=n()("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!tt});return tt&&sn?t.createElement(ie.dW,{closeModal:Sn,isOpen:!0,className:Qn},t.createElement(jt,{collectionId:Me(sn),name:(0,ge.M)(sn),author:Se(sn),emoji:it?Qt(sn):(0,Fe.H)(sn),installed:it,onCancelClick:()=>{en(null)},onClose:vn})):t.createElement(ie.dW,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:Sn,isOpen:!0,className:Qn},t.createElement(ie.rQ,null,t.createElement(ie.Rc,{title:On,className:"no_min_height padding_bottom_50"}),Rn),gn&&t.createElement(we,{orgName:ot,onPackClick:(Yn,Jn)=>{let{installed:$n}=Jn;Nt($n),en(Yn)}}),!gn&&t.createElement(q,{orgName:ot,searchArgs:ht,emojiNameSuggestion:rn,emojiUrl:ln}))},"AddEmojiDialog");dn.displayName="AddEmojiDialog";const Mt=dn},5076545938:(B,A,e)=>{"use strict";e.d(A,{A:()=>S});var t=e(3134334389),s=e(6761585902),o=e(4844578989),n=e.n(o),c=e(3351247794),l=e(7874250141),i=e(3666777625),a=e(7524779262),r=e(483051253),d=e(9963560),m=e(1336112848),f=e(5248257622),u=e(8859166048),E=e(9470145503),v=e(353071615),g=e(6259376722),T=e(5478938623),p=e(6369345880),O=e(5768409048),y=e(5181078482),C=e(8661260709),I=e(2947229296);const M=new I.Ay("jumper"),_={publicChannelIncludeHashSign:!1,imIncludeAtSign:!1};let P=h(class extends t.Component{renderChannelIcon(){const{channel:L,channelType:D,mpimMemberCount:k,inline:x,memberId:R,showPresence:U,inheritPresenceIconSize:F,showDraftIcon:W,hasDraft:w}=this.props;let K;return D==="im"?R&&U&&!x?t.createElement(O.Ay,{inheritIconSize:F,memberId:R}):null:(W&&w?K="pencil":D==="mpim"&&k?K=`multiparty-dm-${k}`:(0,m.jT)(L)?K="create-post":D==="private"?K="lock":K="channel",t.createElement(p.A,{type:K,size:"inherit","data-qa-icon-type":D}))}renderChannelName(){const{channel:L,channelId:D,isImChannelWithHiddenUser:k,inline:x}=this.props;return t.createElement(t.Fragment,null,this.renderChannelIcon(),t.createElement("span",{className:n()("p-deprecated_channel_name__text",{"p-deprecated_channel_name__text--inline":!x}),"data-qa":"deprecated_channel_name__text"},k?M.t("Name hidden"):t.createElement(r.a,{channelId:(L==null?void 0:L.id)||D||"",displayNameOptions:_}),this.renderChannelNameSuffix()),this.renderTeamIcon())}renderChannelNameSuffix(){const{previousName:L,showSuffix:D}=this.props;if(!D||!L)return null;let k;return L&&(k=M.t("(formerly #{previous_name})",{previous_name:L})),t.createElement("span",{className:"p-deprecated_channel_name__suffix"},k)}renderTeamIcon(){const{showTeamIcon:L,teamIdForChannel:D,teamName:k}=this.props;return!L||!D||!k?null:t.createElement("span",{className:"p-deprecated_channel_name__team_name p-deprecated_channel_name__team_name--xws"},"\xA0",t.createElement("span",{className:"p-deprecated_channel_name__team_name_child"},k))}renderButton(){const{autoClogProps:L,className:D,onClick:k}=this.props;return t.createElement(y.Nm,{className:n()("p-deprecated_channel_name p-deprecated_channel_name--clickable",D),onClick:k,htmlType:"button",autoClogProps:L},this.renderChannelName())}render(){const{onClick:L,className:D,channel:k,channelId:x}=this.props,R=!!L;return R?t.createElement(C.A,{id:(k==null?void 0:k.id)||x||""},this.renderButton()):R?this.renderButton():t.createElement("span",{className:n()("p-deprecated_channel_name",D),"data-qa":"channel_name_header"},this.renderChannelName())}},"DeprecatedChannelName");P.displayName="DeprecatedChannelName",P.defaultProps={channelId:"",channelType:"channel",className:void 0,hasDraft:void 0,inheritPresenceIconSize:!1,inline:!1,isImChannelWithHiddenUser:!1,memberId:void 0,mpimMemberCount:void 0,onClick:void 0,previousName:void 0,showDraftIcon:!1,showPresence:!0,showSuffix:!0,showTeamIcon:!1,showTeamIconForLocalChannels:!1,showTeamIconForXwsChannels:!1,teamIdForChannel:"",teamName:""},P.displayName="DeprecatedChannelName";const b=h((N,L)=>{const{channel:D,channelId:k,showTeamIconForXwsChannels:x=!1,showTeamIconForLocalChannels:R=!1}=L;let U=D||(0,c.OL)(N,k);const F=(0,u.yz)(U)?U&&(0,d.N4)(U):null;D&&(0,v.NB)(D)&&(U=(0,c.Pu)(N,D.id));const W=(0,u.LI)(U)?(0,f.e)(U):null,w=!!W&&(0,g.a)(N,W),K=(0,u.mz)(U),j=(0,l.JY)(N),Q=!!D&&((0,d.lo)(D)||(0,d.uA)(N,D)),J=x&&(K==="channel"||K==="private")&&!(0,a.S)(U)&&(R||Q);let z=J?U==null?void 0:U.team_id:void 0;J&&!z&&(Q?z=(0,E.A)({state:N,channel:D,currentTeamId:j||""})||(0,d.bK)(N,D):R&&(z=j));const ie=z?(0,i._J)(N,z):void 0,ee=z?(0,T.F1)(ie):void 0,ne=k?(0,d.yc)(N,k):void 0;return{channelType:K,mpimMemberCount:F,memberId:W,showTeamIcon:J,teamIdForChannel:z,teamName:ee,hasDraft:ne,isImChannelWithHiddenUser:w}},"mapStateToProps"),S=(0,s.N)(b)(P)},6375290407:(B,A,e)=>{"use strict";e.d(A,{CF:()=>o,Ww:()=>l,aT:()=>s,oO:()=>t});const t="2025-11-17",s="has_seen_unsupported_browser_warning_july_2025";var o;(function(i){i.Systems="systems_deprecation_2025_november",i.SystemsPhaseOne="systems_deprecation_2025_november_phase_one",i.SystemsPhaseTwo="systems_deprecation_2025_november_phase_two",i.SystemsPhaseThree="systems_deprecation_2025_november_phase_three",i.SystemsBlockingModals="systems_deprecation_blocking_modals",i.SystemsWindows="systems_deprecation_windows",i.SystemsLinux="systems_deprecation_linux",i.SystemsWoAUpgrade="systems_deprecation_woa_upgrade",i.SystemsRosettaUpgrade="systems_deprecation_rosetta_upgrade"})(o||(o={}));const l={current:{chrome:"123.0",firefox:"124.0",edge:"123.0",safari:"18.0",slack:"4.37.0",mac:"11.0.0",darwin:"20.0.0",redHat:"9.0",ubuntu:"20.04",windowsWorkstation:"10.0.19045",windowsServer:"10.0.20348",windowsServerLongTermVersions:["10.0.14393","10.0.17763","10.0.20348"]},next:{chrome:"130.0",firefox:"131.0",edge:"129.0",safari:"18.0",slack:"4.41.0",mac:"11.0.0",darwin:"20.0.0",redHat:"9.0",ubuntu:"20.04",windowsWorkstation:"10.0.19045",windowsServer:"10.0.20348",windowsServerLongTermVersions:["10.0.14393","10.0.17763","10.0.20348"]}}},3299945751:(B,A,e)=>{"use strict";e.d(A,{H8:()=>t});const t={false:"false",nonBlocking:"non-blocking",blocking:"blocking"},s=null,o=null},1217308398:(B,A,e)=>{"use strict";e.d(A,{lw:()=>D,Ay:()=>F});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3909477874),c=e(8333768732),l=e(2691514942),i=e(8439982067),a=e.n(i);function r(){return r=Object.assign||function(W){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var j in K)Object.prototype.hasOwnProperty.call(K,j)&&(W[j]=K[j])}return W},r.apply(this,arguments)}h(r,"_extends");function d(W){return class extends t.PureComponent{componentDidCatch(w,K){this.setState(()=>({hasError:!0})),(0,l.Wo)().error({label:"Error rendering emoji component",error:w,message:K})}render(){return this.state.hasError?t.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},t.createElement("img",{src:a()})):t.createElement(W,r({},this.props))}constructor(w){super(w),this.state={hasError:!1}}}}h(d,"withEmojiErrorBoundary"),d.displayName="withEmojiErrorBoundary";const m=d;var f=e(5757319274),u=e(7862791782),E=e(5955725533),v=e(6369345880),g=e(9006442414),T=e(4425335611),p=e(3164011383),O=e(5441654283),y=e(9615730202),C=e(1831694456),I=e(7897607563),M=e(7831811348),_=e(6761585902),P=e(7874250141),b=e(280840163),S=e(3542943043),N=e(293248343);function L(){return L=Object.assign||function(W){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var j in K)Object.prototype.hasOwnProperty.call(K,j)&&(W[j]=K[j])}return W},L.apply(this,arguments)}h(L,"emoji_extends");const D={XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},k=h(W=>{const w=(0,b.d4)(K=>{if(!W.isStandard)return W.url;var j;const Q=(j=W.sourceTeamId)!==null&&j!==void 0?j:(0,P.ZT)(K);return W.isStandard?(0,S.Ez)(K,{text:W.text||"",teamId:Q,emojiMode:(0,f.w)(K,{forceDisplay:!!W.forceDisplay}),emojiSize:D.XLARGE}):W.url});return t.createElement(x,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:D.LARGER,text:W.text,displayText:W.displayText,url:w||"",sourceTeamId:W.sourceTeamId,ariaLabel:W.ariaLabel,alt:W.alt,unicode:W.unicode,emojiNameFromText:W.emojiNameFromText,dispatch:W.dispatch,stopAnimations:W.stopAnimations,fallbackUrl:W.fallbackUrl,isStandard:W.isStandard})},"EmojiTooltipEmoji");k.displayName="EmojiTooltipEmoji";let x=h(class extends t.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return t.createElement(v.A,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:w}=this.state,{isImportAllowed:K,isStandard:j}=this.props;return K&&!j&&!w}renderEmojiElement(){const{text:w,displayText:K,url:j,emojiSize:Q,isEmojiInlineWithText:J,className:z,shouldFallbackOnLoadError:ie,fallbackUrl:ee,ariaLabel:ne,alt:Z}=this.props,{isLoadError:te}=this.state,he=o()("c-emoji",`c-emoji__${Q}`,z,{"c-emoji--inline":J}),ue=ne??(K&&(0,O.A)(K)),de={"data-stringify-type":"emoji","data-stringify-emoji":w},re=this.isImportable()?this.handleEmojiImport:void 0;return J?t.createElement("span",{className:he,"data-qa":(te||!j)&&ie?"emoji-fallback":"emoji"},t.createElement("img",L({src:(te||!j)&&ie?ee:j,onError:this.onLoadError,onContextMenu:re,"aria-label":ue,alt:K},de))):t.createElement("img",L({src:(te||!j)&&ie?ee:j,onError:this.onLoadError,"aria-label":ue,alt:Z??K,className:he,onContextMenu:re,"data-qa":(te||!j)&&ie?"emoji-fallback":"emoji"},de))}renderUnicodeAsEmoji(w){if(w&&(0,u.d)(w)){const{emojiSize:K}=this.props,j=(0,I.z)({codePointLikeString:w});return t.createElement("span",{className:o()("c-emoji__unicode",{"c-emoji__unicode--large":K===D.LARGE})},j)}}renderTooltip(){const{renderAsText:w,displayText:K,text:j,isStandard:Q,url:J,unicode:z,sourceTeamId:ie,ariaLabel:ee,alt:ne,emojiNameFromText:Z,stopAnimations:te,fallbackUrl:he,forceDisplay:ue}=this.props;if(w)return K;const de=Q?void 0:J;return t.createElement(t.Fragment,null,t.createElement("div",{className:"c-emoji__emoji-tooltip"},t.createElement(k,{text:j,displayText:K,url:de,sourceTeamId:ie,ariaLabel:ee,alt:ne,unicode:z,emojiNameFromText:Z,dispatch:this.props.dispatch,stopAnimations:te,fallbackUrl:he,isStandard:Q,forceDisplay:ue})),K,this.isImportable()&&t.createElement(c.K,{emojiName:K,emojiUrl:J}))}render(){const{displayText:w,url:K,renderAsText:j,showTooltip:Q,iconInTextMode:J,renderEmojiFallback:z,unicode:ie,emojiNameFromText:ee}=this.props;if(!K&&!w&&!ie)return null;if((j||!K)&&!z&&!ie)return J?this.renderIconFallback():w;if(ie&&!ee){var ne;return(ne=this.renderUnicodeAsEmoji(ie))!==null&&ne!==void 0?ne:w}return Q?t.createElement(g.Ay,{tip:this.renderTooltip,delay:g.PK,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(w){super(w),this.handleEmojiImport=K=>{if(K!=null&&K.altKey)return;const{url:j,dispatch:Q,displayText:J}=this.props;Q((0,n.a)({emojiName:J,emojiUrl:j,event:K}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");x.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:D.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0},x.displayName="Emoji";const R=h((W,w)=>{const{stopAnimations:K,forceDisplay:j,emojiSize:Q=D.MEDIUM,url:J,unicode:z}=w;let{text:ie}=w,ee=(0,S.qJ)(W,z??"");ee&&ee.charAt(ee.length-1)!==":"&&ee.charAt(0)!==":"&&(ee=`:${ee}:`),ie=ee||ie||"";let ne=J;const Z=(0,P.JY)(W)||"",te=!(0,N.ty)(W,"a11y_animations"),he=K||te,ue=(0,M.Yp)({teamOrEnterpriseId:Z,recalc:!1}),de=(0,T.bR)({state:W,locale:ue,name:ie}),re=!j&&(0,E.P)(W),V=(0,y.A)(ie),H=(0,p.R)(W,V);if(!re&&!ne){const q=(0,f.w)(W,{forceDisplay:!!j});var X;const fe=(X=w.sourceTeamId)!==null&&X!==void 0?X:Z;let ce=Q;Q===D.LARGER?ce=D.XLARGE:Q===D.XSMALL&&(ce=D.SMALL),ne=(0,S.Ez)(W,{text:ie,parsedEmoji:V,teamId:fe,emojiMode:q,emojiSize:ce})||void 0}if(he&&!H){var Y;ne=(Y=(0,C.Ay)(W,{url:ne,stopAnimations:he,isEmoji:!0}))!==null&&Y!==void 0?Y:void 0}return{text:ie,url:ne,renderAsText:re,emojiSize:Q,displayText:de||"",stopAnimations:he,fallbackUrl:a(),isStandard:H,emojiNameFromText:ee}},"mapStateToProps"),U={mapStateToProps:R},F=m((0,_.N)(R)(x))},5279500834:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>s,lw:()=>t.lw});var t=e(1217308398);const s=t.Ay},3284283207:(B,A,e)=>{"use strict";e.d(A,{A:()=>_});var t=e(3134334389),s=e(6761585902),o=e(4844578989),n=e.n(o),c=e(5254810421),l=e(5801849507),i=e(1492910739),a=e(2947229296),r=e(5181078482),d=e(8823986650),m=e(2691514942),f=e(7485328956),u=e(7411813784),E=e(480439070),v=e(1724126842);const T=h(P=>!!(0,v.w)(P).isWorkspace,"looksLikeWorkspaceState");var p=e(9774890871),O=e(3954165373),y=e(3030000605);const C=new a.Ay("error_boundary"),I="REB";let M=h(class extends t.Component{componentDidUpdate(b){this.state.hasError&&b.id!==this.props.id&&this.resetHasError()}componentDidCatch(b,S){let N=null;try{N=`${I}${(0,c.B)((0,O.A)(b.message)).substr(0,9).toUpperCase()}`}catch{}if(this.setState(()=>({hasError:!0,errCode:N}),()=>{var D,k;return(k=(D=this.props).onError)===null||k===void 0?void 0:k.call(D,b)}),!(0,i.Cu)()){var L;const D=S==null||(L=S.componentStack)===null||L===void 0?void 0:L.split(`
`).slice(0,Error.stackTraceLimit).join(`
`);this.props.logger.error("ERROR-BOUNDARY",b,N,D,{subtype:this.props.subtype||"component_error_boundary"})}}onClickReloadButton(b){b.preventDefault();let S=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),(0,l.A)()?(S=(0,f.M6)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${S} after hitting ErrorBoundary`),(0,y.Lz)().finally(()=>{window.location.href=S})):(this.props.logger.info("LEGACY",`Reloading at ${S} after hitting ErrorBoundary`),window.location.href=S)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const b=h(S=>{let{text:N,key:L}=S;return t.createElement(d.A,{href:`https://${(0,E.qF)()}/help/contact`,rel:"noopener noreferrer",key:L},N)},"renderLink");return this.state.errCode==="REBD7A8C1099"?C.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{},b):C.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,b)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const b=n()("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.createElement("div",{className:b},t.createElement("div",{className:"p-error_boundary__content"},t.createElement("div",{className:"p-error_boundary__message"},t.createElement("h1",{className:"p-error_boundary__heading"},t.createElement("span",null,C.t("Something went wrong")),t.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":C.t("Something went wrong")},"\u{1F422}")),t.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.createElement(p.A,{errCode:this.state.errCode}),t.createElement(r.Ay,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},C.t("Reload"))))}return this.props.children}constructor(b){super(b),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");M.displayName="ErrorBoundary";const _=(0,s.N)(P=>({logger:T(P)?(0,m.Ay)({state:P}):(0,m.Wo)(),telemeter:T(P)?(0,u.Cy)({state:P}):(0,u.rh)()}))(M)},9774890871:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(2947229296);const o=new s.Ay("error_boundary");function n(c){let{errCode:l}=c;return t.createElement("p",{className:"p-error_boundary__error_code_container"},t.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},o.t("Error: "),l))}h(n,"ErrorCode")},8814654205:(B,A,e)=>{"use strict";e.d(A,{H:()=>l,A:()=>i});var t=e(3284283207),s=e(3134334389);function o(){return o=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(a[m]=d[m])}return a},o.apply(this,arguments)}h(o,"_extends");const n=h(()=>null,"renderError"),l=h(a=>s.createElement(t.A,o({renderError:n},a)),"QuietErrorBoundary"),i=t.A},3954165373:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});const t=/\bA[A-Z0-9]{8,}\b/g,s=/\bB[A-Z0-9]{8,}\b/g,o=/\b(C|G|D)[A-Z0-9]{8,}\b/g,n=/\bF[A-Z0-9]{8,}\b/g,c=/\b(U|W)[A-Z0-9]{8,}\b/g,l=/\b[\d]{10}\.[\d]{6}\b/g,i=/\bS[A-Z0-9]{8,}\b/g,a=/\bT[A-Z0-9]{8,}\b/g;function r(d){return String(d).replace(t,"[APP_ID]").replace(s,"[BOT_ID]").replace(o,"[CHANNEL_ID]").replace(n,"[FILE_ID]").replace(c,"[MEMBER_ID]").replace(l,"[MESSAGE_TS]").replace(i,"[USER_GROUP_ID]").replace(a,"[TEAM_ID]")}h(r,"normalizeError")},8021418369:(B,A,e)=>{"use strict";e.d(A,{c:()=>o,w:()=>s});var t=e(205540855);function s(n){return(0,t._Z)(n,"a11y_explorer_results_labels_i18n")==="on"}h(s,"isA11yExplorerResultsLabelsEnabled");const o=h(n=>(0,t._Z)(n,"browse_3p_files")==="on","isBrowse3PFilesEnabled")},7790913431:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3134334389),s=e(5876603232),o=e(4894634110),n=e(6122756707),c=e(2069063006),l=e(3451857649),i=e(2947229296);const a=new i.Ay("request_access_done"),r=h(()=>{const u=(0,n.wA)(),E=(0,t.useCallback)(()=>{u((0,c.O)())},[u]),v=a.t("Request sent"),g=a.t("You\u2019ll be notified once it\u2019s been shared with you"),T=a.t("Done");return t.createElement(l.dW,{closeModal:E,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(l.rQ,null,t.createElement(l.Rc,null,t.createElement("h2",null,v))),t.createElement(l.$m,null,t.createElement(l.qf,null,g)),t.createElement(l.jl,null,t.createElement(l.ox,null,t.createElement(l.s_,{type:"primary",onClick:E,"aria-label":T},T))))},"RequestAccessDoneModal");r.displayName="RequestAccessDoneModal";const d=r,m=(0,o.Ay)("Opens the Request Access Done confirmation modal in client",(u,E)=>{u((0,s.q)({element:t.createElement(d,null)}))});m.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};const f=m},9473497344:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(3134334389),s=e(5876603232),o=e(4894634110),n=e(6122756707),c=e(2069063006),l=e(8823986650),i=e(2947229296),a=e(480439070),r=e(3451857649);const d=new i.Ay("request_access_error"),m=h(()=>{const v=(0,n.wA)(),g=(0,t.useCallback)(()=>{v((0,c.O)())},[v]),T=d.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,p=>{let{tag:O,text:y}=p;return t.createElement(l.A,{key:O,target:"_blank",href:`https://${(0,a.qF)()}/help/requests/new`},y)});return t.createElement(r.dW,{closeModal:g,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(r.rQ,null,t.createElement(r.Rc,null,t.createElement("h2",null,d.t("Error")))),t.createElement(r.$m,null,t.createElement(r.qf,null,T)),t.createElement(r.jl,null,t.createElement(r.ox,null,t.createElement(r.s_,{type:"danger",onClick:g,"aria-label":d.t("Close")},d.t("Close")))))},"RequestAccessErrorModal");m.displayName="RequestAccessErrorModal";const f=m,u=(0,o.Ay)("Opens the Request Access Done confirmation modal in client",(v,g)=>{v((0,s.q)({element:t.createElement(f,null)}))});u.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};const E=u},9882933947:(B,A,e)=>{"use strict";e.d(A,{A:()=>S});var t=e(4894634110),s=e(3744975169),o=e(3587464655),n=e(3134334389),c=e(5876603232),l=e(6122756707),i=e(2069063006),a=e(280840163),r=e(3451857649),d=e(481313997),m=e(321010523),f=e(9323019934),u=e(3701660703),E=e(2947229296),v=e(5181078482),g=e(7790913431),T=e(9473497344);const p=new E.Ay("request_access_done"),O={uiComponentName:m.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},y={uiComponentName:m.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},C=h(N=>{let{fileId:L}=N;const[D,k]=(0,n.useState)(!1),[x,R]=(0,n.useState)(!1),U=(0,l.wA)(),F=(0,a.d4)(z=>(0,u.Lp)(z,L)),W=(0,n.useCallback)(()=>(U((0,i.O)()),!1),[U]),w=(0,n.useCallback)(()=>{R(!1),U((0,s.x)({fileId:L,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>U((0,g.A)())).catch(()=>{U((0,T.A)())}),k(!0)},[U,L]),K=p.t("You need to request access",{fallbackHash:"384d50cc961f3f5667f81c3db3ba493621488050"});let j=p.t("To get access, you can send a request to the owners of the canvas.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"});(0,f.dE)(F)||(0,f.Vc)(F)?j=p.t("To get access, you can send a request to the owners of the template.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"}):(0,f.l7)(F)&&(j=p.t("To get access, you can send a request to the owners of the list.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"}));const Q=p.t("Cancel"),J=p.t("Request access");return F?n.createElement(d.A,{eventId:m.EventId.QUIP_PERMISSIONS_REQUEST,elementType:m.ElementType.MODAL},n.createElement(r.dW,{closeModal:W,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},n.createElement(r.rQ,null,n.createElement(r.Rc,null,n.createElement("h2",null,K))),n.createElement(r.$m,null,n.createElement(r.qf,null,j)),n.createElement(r.jl,null,n.createElement(r.ox,null,n.createElement(r.s_,{type:"outline",onClick:W,"data-qa":"canvas_request_cancel_button",autoClogProps:O,"aria-label":Q},Q),n.createElement(v.lV,{type:"primary",onClick:w,loading:x,"data-qa":"canvas_request_access_button",disabled:D,autoClogProps:y,"aria-label":J},J))))):null},"CustomizedRequestAccessModal");C.displayName="CustomizedRequestAccessModal";const I=C,M=(0,t.Ay)("Opens the Request Access Done confirmation modal in client",(N,L,D)=>{let{fileId:k}=D;N((0,c.q)({element:n.createElement(I,{fileId:k})}))});M.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"};const _=M;var P=e(9128139071);const b=(0,t.Ay)('Opens the "Request Access" modal',async(N,L,D)=>{let{fileId:k,url:x,skipConfirmation:R,skipDoneDialog:U}=D,F;if(!k&&x){const W=(0,o.cR)(L(),x),w=(0,P.$q)(L(),x);W!==null&&(F=W),w!==null&&(F=w)}else k&&(F=k);F&&(R?N((0,s.x)({fileId:F,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{U||N((0,g.A)())}).catch(()=>{N((0,T.A)())}):N(_({fileId:F})))});b.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};const S=b},1287843253:(B,A,e)=>{"use strict";e.d(A,{A:()=>N});var t=e(3134334389),s=e(280840163),o=e(4844578989),n=e.n(o),c=e(722256278),l=e(3299124106),i=e(7221003904),a=e(9323019934),r=e(6829584834),d=e(5796743689),m=e(9006442414),f=e(4850505900),u=e(250694849),E=e(4734502414);const v=h(L=>{let{text:D="",inputIsEscaped:k=!1,showTooltips:x=!0}=L;const R=(0,s.d4)(u.A);return t.createElement(E.A,{text:(0,f.pV)({text:D,highlights:R,inputIsEscaped:k}),inputIsEscaped:k,showTooltips:x})},"FormatTextWithHighlightWords");v.displayName="FormatTextWithHighlightWords";const g=t.memo(v);var T=e(2947229296),p=e(9911704344),O=e(7499216588),y=e(6228897917),C=e(3776304241),I=e(3373051866),M=e(4125496918),_=e(5279500834),P=e(7073692592);const b=new T.Ay("files");function S(L){let{className:D,file:k,disableTooltip:x=!1,forcedTitle:R,shouldShowHighlight:U=!0,fromCanvasOrganization:F=!1,hasHighlightMarkers:W=!1,useLeadingEmojiAsIcon:w=!1,useLiveTitleForChannelCanvas:K=!1,hideRichTextEmojiTooltips:j=!1}=L;const Q=(0,t.useRef)(),[J,z]=(0,t.useState)(!1),[ie,ee]=(0,t.useState)(!1),{view:ne}=(0,t.useContext)(p.A),Z=(ne==null?void 0:ne.viewType)===O.D.Search,te=(0,s.d4)(I.sE),he=(0,s.d4)(re=>k?(0,P.P6)(re,k.id):"");if((0,t.useEffect)(()=>{const re=(0,c.A)(Q.current);z(re)},[ie]),!k)return null;let ue,de;if((0,a.uO)(k)||(0,a.aK)(k))de=t.createElement("span",{className:D,ref:Q},b.t("Deleted file"));else if((0,a.kn)(k)||(0,a.Bp)(k)||(0,a.Ki)(k)||(0,a.AL)(k))de=t.createElement("span",{className:D,ref:Q},b.t("Hidden file"));else if((0,a.sR)(k))de=t.createElement("span",{className:D,ref:Q},b.t("Access denied"));else if(!(0,a.ZG)(k)&&!(0,a.Sp)(k)&&!(0,a.AY)(k))de=t.createElement("span",{className:D,ref:Q},b.t("File not found"));else if((0,d.A)(k)){let re="";(0,r.A)(k)?re=b.t("Audio clip"):re=b.t("Video clip"),de=t.createElement("span",{className:D,ref:Q},re)}else if((0,a.DQ)(k)&&k.title_blocks)de=t.createElement("span",{"data-qa":"file_name",className:D,ref:Q},(0,l.GU)({id:k.id,fileId:k.id,truncate:!1,useLeadingEmojiAsIcon:w,stopAnimations:K,hideRichTextEmojiTooltips:j,preferTitleBlocksFromFileObject:Z||F}));else if((0,a.l7)(k)){if(ue=he,w&&ue){const V=ue.trim();if(V.search((0,y.A)())===0){const H=V.match((0,y.A)());if(H&&H[0]){const X=H[0];ue=V.substring(X.length).trim()}}}let re;U?W?re=t.createElement(E.A,{text:ue||"",inputIsEscaped:!0,showTooltips:!j}):re=t.createElement(g,{text:ue||"",inputIsEscaped:!0,showTooltips:!j}):re=t.createElement(M.A,{text:ue,emojiSize:_.lw.MEDIUM,showTooltips:!j}),de=t.createElement("span",{ref:Q,"data-qa":"file_name",className:D,onMouseEnter:()=>ee(!0),onMouseLeave:()=>ee(!1)},re)}else if(R||k.title){ue=R??k.title,w&&(ue==null?void 0:ue.trim().search((0,y.A)()))===0&&(ue=ue.trim().replace((0,y.A)(),""));let re;U?W?re=t.createElement(E.A,{text:ue||"",inputIsEscaped:!0}):re=t.createElement(g,{text:ue||"",inputIsEscaped:!0}):re=ue,de=t.createElement(t.Fragment,null,t.createElement("span",{ref:Q,"data-qa":"file_name",className:n()("c-file_name",D),onMouseEnter:()=>ee(!0),onMouseLeave:()=>ee(!1)},re),te&&(0,a.mb)(k)?t.createElement(t.Fragment,null,t.createElement("span",null," "),t.createElement(i.o,{type:"sparkles",size:"16",inline:!0,useFilledIcon:!0})):null)}else ue=k.name,ue?de=t.createElement("span",{className:D,"data-qa":"file_name",ref:Q},ue):de=t.createElement(C.A,{size:"random"});return J&&!x?t.createElement(m.Ay,{tip:ue},de):de}h(S,"Name"),S.displayName="Name";const N=(0,t.memo)(S)},758425580:(B,A,e)=>{"use strict";e.d(A,{O:()=>n});var t=e(2947229296),s=e(2562626421);const o=new t.Ay("files");function n(c,l){const i=(0,s.Vs)(c);var a;const r=(a=l.canvas_readtime)!==null&&a!==void 0?a:0;return r&&i?o.t("{readtimeString} min read",{readtimeString:Math.ceil(r).toString()}):""}h(n,"getCanvasReadtime")},2774332202:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(2947229296);const s=new t.Ay("files");function o(n){if(!n.is_external)return null;let c="File";switch(n.external_type){case"gdrive":switch(n.filetype){case"gsheet":c=s.t("Google Sheet");break;case"gdoc":c=s.t("Google Doc");break;case"gpres":c=s.t("Google Slide");break;case"gdraw":c=s.t("Google Drawing");break;default:c=s.t("Google {fileType}",{fileType:n.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":c=s.t("{fileType}",{fileType:n.pretty_type});break;default:c=s.t("File")}return c}h(o,"getExternalFiletypeDescription")},5554174976:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(9323019934),s=e(2947229296),o=e(2207269998),n=e(2774332202),c=e(5284118616),l=e(758425580),i=e(205540855),a=e(2562626421);const r=new s.Ay("files");function d(m,f){const u=(0,c.U)(m),E=(0,a.Vs)(m),v=(0,i._Z)(m,"omni_polish")==="on";if((0,t.dE)(f))return r.t("Template");if((0,t.DQ)(f)){if(v)return r.t("Canvas");const T=(0,l.O)(m,f);return T?E?r.t("Canvas | {readtimeString}",{readtimeString:T}):"Canvas":r.t("Canvas")}if((0,t.Y8)(f)&&u)return u?r.t("Poll"):"Poll";const g=(0,t.ge)(f)||(0,t.Vx)(f)?(0,n.A)(f):f.pretty_type;switch(g){case"Arugula":return r.t("Post");case o.Hk:return r.t("Slack Clip");default:return g}}h(d,"getFileTypeDescription")},5595864336:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s){return!!(s&&s!=="-")}h(t,"isValidFieldValue")},4125496918:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3134334389),s=e(5734673180),o=e(6228897917),n=e(5279500834),c=e(2236744111);function l(a){let{text:r="",inputIsEscaped:d=!1,emojiSize:m=n.lw.SMALL,showTooltips:f=!0,stopAnimations:u=!1,emojiDisplayInfo:E={}}=a;const v=[];let g=0;const T=d?(0,s.A)(r??""):r??"";if(T.replace((0,o.A)(),(p,O,y)=>{if(y>g){const M=T.slice(g,y);v.push(t.createElement(t.Fragment,{key:`${y}-${M}`},M))}const{name:C=p,url:I=void 0}=(0,c.H)(p,E);return v.push(t.createElement(n.Ay,{text:C,emojiSize:m,key:`${y}-${C}`,showTooltip:f,stopAnimations:u,isEmojiInlineWithText:!0,url:I})),g=y+p.length,""}),!v.length)return t.createElement(t.Fragment,null,T);if(g<T.length){const p=T.substr(g);v.push(t.createElement(t.Fragment,{key:`last-${p}`},p))}return t.createElement(t.Fragment,null,v)}h(l,"FormatTextWithEmoji"),l.displayName="FormatTextWithEmoji";const i=t.memo(l)},4734502414:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(5734673180),o=e(4125496918);const n=/\ue000([^\ue001]*)\ue001/g;function c(i){let{text:a="",inputIsEscaped:r=!1,showTooltips:d=!0,stopAnimations:m=!1}=i;const f=[];let u=0;const E=r?(0,s.A)(a??""):a??"";if(E.replace(n,(v,g,T)=>{if(T>u){const p=E.slice(u,T);f.push(t.createElement(o.A,{key:`${T}-${p}`,text:p,showTooltips:d,inputIsEscaped:r,stopAnimations:m}))}f.push(t.createElement("span",{className:"c-mrkdwn__highlight",key:`${T}-${g}`},t.createElement(o.A,{text:g,showTooltips:d,inputIsEscaped:r,stopAnimations:m}))),u=T+v.length}),!f.length&&a)return t.createElement(t.Fragment,null,t.createElement(o.A,{text:a,showTooltips:d,inputIsEscaped:r,stopAnimations:m}));if(a&&u<a.length){const v=E.substr(u);f.push(t.createElement(o.A,{key:`last-${v}`,text:v,showTooltips:d,inputIsEscaped:r,stopAnimations:m}))}return t.createElement(t.Fragment,null,f)}h(c,"FormatTextWithHighlightMarkers"),c.displayName="FormatTextWithHighlightMarkers";const l=t.memo(c)},6147622023:(B,A,e)=>{"use strict";e.d(A,{E:()=>c});var t=e(3134334389),s=e(7862159281),o=e(280840163),n=e(293248343);const c=h(l=>{let{className:i,isAnimating:a,getAnimationImport:r,imagePath:d,style:m}=l;const f=(0,o.d4)(u=>(0,n.ty)(u,"a11y_animations"));return t.createElement("div",{style:{position:"relative",width:"100%"}},t.createElement("img",{className:i,src:d,alt:"",style:{width:"100%",display:"block",opacity:!f||!a||!r?1:0,transition:"opacity 0.2s ease",...m}}),f&&r&&t.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,opacity:a?1:0,transition:"opacity 0.2s ease"}},t.createElement(s.e,{key:d,getAnimationImport:r,autoplay:!0,loop:!0})))},"AnimatedImageTransition");c.displayName="AnimatedImageTransition"},6232693093:(B,A,e)=>{"use strict";e.d(A,{F:()=>O});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(338698394),c=e(2947229296),l=e(6147622023),i=e(5451313991),a=e(5284295908),r=e(9122366353),d=e(5190921192),m=e(280840163),f=e(293248343),u=e(6313929022),E=e.n(u);function v(){return v=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(y[M]=I[M])}return y},v.apply(this,arguments)}h(v,"_extends");const g=new c.Ay("promotions"),T={left:"flex-start",right:"flex-end"},p={ANIMATION_TIMEOUT:400,FADE_OUT_TIMEOUT_MULTIPLIER:.2,FADE_IN_TIMEOUT_MULTIPLIER:.8,CARD_OVERLAP_PX:6,FIRST_CARD_SCALE:1,SECOND_CARD_SCALE:.64,THIRD_CARD_SCALE:.58,REMAINING_CARDS_SCALE:.55,TRANSITION_SCALE:1.1},O=h(y=>{let{cards:C,className:I,position:M="left",cardOffsetWidth:_=280,containerHeight:P=333}=y;const{windowRef:b}=(0,t.useContext)(n._0),S=(0,m.d4)(Y=>(0,f.ty)(Y,"a11y_animations")),N=(0,t.useMemo)(()=>S?p.ANIMATION_TIMEOUT:0,[S]),L=(0,t.useRef)(null),D=(0,t.useRef)(null),k=(0,t.useRef)(null),[x,R]=(0,t.useState)(0),[U,F]=(0,t.useState)(!1),[W,w]=(0,t.useState)(0),[K,j]=(0,t.useState)(null),[Q,J]=(0,t.useState)(!1),z=g.t("{currentCard} of {totalCards}",{currentCard:W+1,totalCards:C.length}),ie=(0,t.useCallback)((Y,q)=>()=>{S&&q&&j(q==="backward"?W:W-1>=0?W-1:C.length-1),w(Y)},[W,C.length,S]),ee=(0,t.useCallback)(Y=>{const q=M==="right",fe=(Y==="right"?1:-1)*(q?-1:1),ce=(W+fe+C.length)%C.length;let Ee;q?Ee=Y==="left"?"backward":"forward":Ee=Y==="left"?"forward":"backward",ie(ce,Ee)()},[W,ie,C.length,M]),ne=(0,t.useCallback)(()=>ee("left"),[ee]),Z=(0,t.useCallback)(()=>ee("right"),[ee]),te=(0,t.useCallback)(Y=>()=>{if(S){if(Y===W||x>0)return;const q=(Y-W+C.length)%C.length;q>0&&R(q)}else ie(Y)()},[W,x,S,C.length,ie]);(0,t.useEffect)(()=>{x>0&&!U&&(M==="right"?ne():M==="left"&&Z(),F(!0),L.current=setTimeout(()=>{R(Y=>Y-1),F(!1)},N))},[x,U,Z,ne,M,N]),(0,t.useEffect)(()=>{var Y;const q=h(ce=>{ce.key==="ArrowRight"?Z():ce.key==="ArrowLeft"&&ne()},"handleKeyDown"),fe=b.deref();return fe==null||(Y=fe.document)===null||Y===void 0||Y.addEventListener("keydown",q),()=>{var ce;fe==null||(ce=fe.document)===null||ce===void 0||ce.removeEventListener("keydown",q)}},[Z,ne,b]);const he=(0,t.useCallback)(()=>{D.current&&(clearTimeout(D.current),D.current=null),k.current&&(clearTimeout(k.current),k.current=null),L.current&&(clearTimeout(L.current),L.current=null)},[]);(0,t.useEffect)(()=>{K!==null&&(x===0&&he(),J(!0),D.current=setTimeout(()=>{j(null),k.current=setTimeout(()=>{J(!1)},N*p.FADE_IN_TIMEOUT_MULTIPLIER)},N*p.FADE_OUT_TIMEOUT_MULTIPLIER))},[K,N,he,x]),(0,t.useEffect)(()=>()=>{he()},[he]);const ue=(0,t.useCallback)(Y=>(Y-W+C.length)%C.length,[W,C.length]),de=(0,t.useCallback)(Y=>Y===K||Q&&(Y===W-1||W===0&&Y===C.length-1),[K,Q,W,C.length]),re=(0,t.useCallback)(Y=>Y===0?p.FIRST_CARD_SCALE:Y===1?p.SECOND_CARD_SCALE:Y===2?p.THIRD_CARD_SCALE:p.REMAINING_CARDS_SCALE,[]),V=(0,t.useCallback)(Y=>{const q={position:"absolute",transition:`all ${N}ms ease-in-out, box-shadow ${N}ms ease-in-out`,willChange:"transform, left, right, z-index, opacity, box-shadow, filter",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)",transform:"translateZ(0)",backfaceVisibility:"hidden",height:`${P}px`},fe=C.length,ce=ue(Y),Ee=Math.abs(ce),Ae=de(Y),le=Array(Ee).fill(0).reduce((Te,Me,Ue)=>{const xe=re(Ue),Ne=re(Ue+1),be=_*xe,ke=_*Ne,Ke=(be+ke)/2;return Te+Ke-p.CARD_OVERLAP_PX},0);let oe=`scale(${re(Ee)})`,me=`${le}px`,pe=fe-Ee;return Ae&&(oe=`scale(${Y===K?p.TRANSITION_SCALE:re(C.length-1)})`,me=Y===K?`${-_}px`:`${le+_}px`,Y===K&&(pe=fe+1)),{...q,transform:oe,opacity:Ae?0:1,zIndex:pe,[M]:me,...Y<W&&!Ae&&{filter:"grayscale(100%)",opacity:.5}}},[W,K,M,N,C.length,ue,re,de,_,P]),H=(0,t.useCallback)((Y,q)=>{let fe=2;return q==="title"&&!Y.subtitle&&(fe=3),{WebkitLineClamp:fe,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden",margin:0}},[]),X=(0,t.useMemo)(()=>C.map((Y,q)=>V(q)),[C,V]);return t.createElement(a.A,{className:I,flexDirection:"column",justifyContent:"center",alignItems:"center",gap:28},t.createElement("div",null),t.createElement("div",{className:E().cardsContainer,style:{height:`${P}px`}},C.map((Y,q)=>{var fe,ce,Ee,Ae,le,oe;return t.createElement(r.A,{key:Y.key,className:o()(E().cardContainer),style:X[q],onClick:te(q)},t.createElement("div",{className:o()(E().cardContainerImg,Y.theme&&E()[Y.theme]),style:{...(Ae=Y==null||(fe=Y.imgStyle)===null||fe===void 0?void 0:fe.container)!==null&&Ae!==void 0?Ae:{}}},Y.lottieSrc?t.createElement(l.E,{className:o()(E().cardImg),isAnimating:q===W,getAnimationImport:Y.lottieSrc,imagePath:Y.imgSrc,style:{...(le=Y==null||(ce=Y.imgStyle)===null||ce===void 0?void 0:ce.img)!==null&&le!==void 0?le:{}}}):t.createElement("img",{className:o()(E().cardImg),style:{...(oe=Y==null||(Ee=Y.imgStyle)===null||Ee===void 0?void 0:Ee.img)!==null&&oe!==void 0?oe:{}},src:Y.imgSrc,alt:""})),t.createElement(a.A,{alignItems:"baseline",gap:8,className:E().cardContent},Y.svgIconProps&&t.createElement(d.A,v({size:"20"},Y.svgIconProps)),t.createElement(a.A,{flexDirection:"column",className:"margin_left_050 margin_right_050 margin_top_200",gap:8},t.createElement("span",{style:H(Y,"title")},t.createElement(i.DZ,{level:"2",weight:"black",size:"title"},Y.title)),Y.subtitle&&t.createElement("span",{style:H(Y,"subtitle")},t.createElement(i.EY,{weight:"base",color:"Core/Content/Secondary"},Y.subtitle)))))})),t.createElement(a.A,{alignSelf:T[M],gap:12,className:o()(E().arrows,E()[M])},t.createElement(r.A,{onClick:ne},t.createElement(d.A,{size:"16",name:"caret-left"})),z,t.createElement(r.A,{onClick:Z},t.createElement(d.A,{size:"16",name:"caret-right"}))))},"Carousel");O.displayName="Carousel"},5555669685:(B,A,e)=>{"use strict";e.d(A,{W:()=>m,v:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8989308993),c=e(5190921192),l=e(280840163),i=e(873516440),a=e(2607883914),r=e.n(a);function d(){return d=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},d.apply(this,arguments)}h(d,"_extends");const m={Lagoon:n.Q.PalettesLagoon70,Aubergine:n.Q.PalettesAubergine70,Cilantro:n.Q.PalettesCilantro70,Campfire:n.Q.PalettesCampfire70,AiGradient:"aiGradient"},f=h(u=>{let{theme:E,chipSize:v="medium",...g}=u;const p=(0,l.d4)(i.to)==="dark";return t.createElement("div",{className:o()(r().chip,r()[v],{[r().darkMode]:p,[r().colorPalettesLagoon70]:E===n.Q.PalettesLagoon70,[r().colorPalettesAubergine70]:E===n.Q.PalettesAubergine70,[r().colorPalettesCilantro70]:E===n.Q.PalettesCilantro70,[r().colorPalettesCampfire70]:E===n.Q.PalettesCampfire70,[r().aiGradient]:E==="aiGradient"})},t.createElement(c.A,d({size:"inherit"},g)))},"Chip");f.displayName="Chip"},5709324800:(B,A,e)=>{"use strict";e.d(A,{N:()=>u});var t=e(3134334389),s=e(6122756707),o=e(8121829996),n=e(5478938623),c=e(7831811348),l=e(3362542648),i=e(280840163),a=e(9872055788),r=e(2449324469),d=e(542703974),m=e(2756865292),f=e(3666777625);const u=h(()=>{const E=(0,s.wA)(),v=(0,i.d4)(a.Pr);(0,t.useEffect)(()=>{v||(E((0,r.A)()),E((0,m.A)({reason:"compare_plans_modal"})))},[v,E]);const g=(0,i.d4)(f.H7),T=(0,n.lk)(g),O=(0,i.d4)(a.nc)||"USD",y=(0,i.d4)(d.iH),C=(0,i.d4)(K=>(0,a.MO)(K,l.i6.standard.name,l.ck.monthly)),I=(0,i.d4)(K=>(0,a.C8)(K,l.i6.standard.name,l.ck.monthly)),M=(0,i.d4)(K=>(0,a.h$)(K,l.i6.standard.name,l.ck.monthly)),_=(0,i.d4)(K=>(0,a.cX)(K,l.i6.standard.name,l.ck.monthly)),P=(0,i.d4)(K=>(0,a.MO)(K,l.i6.standard.name,l.ck.yearly)),b=(0,i.d4)(K=>(0,a.C8)(K,l.i6.standard.name,l.ck.monthly)),S=(0,i.d4)(K=>(0,a.h$)(K,l.i6.standard.name,l.ck.yearly)),N=(0,i.d4)(K=>(0,a.cX)(K,l.i6.standard.name,l.ck.yearly)),L=(0,i.d4)(K=>(0,a.MO)(K,l.i6.plus.name,l.ck.monthly)),D=(0,i.d4)(K=>(0,a.C8)(K,l.i6.plus.name,l.ck.monthly)),k=(0,i.d4)(K=>(0,a.h$)(K,l.i6.plus.name,l.ck.monthly)),x=(0,i.d4)(K=>(0,a.cX)(K,l.i6.standard.name,l.ck.monthly)),R=(0,i.d4)(K=>(0,a.MO)(K,l.i6.plus.name,l.ck.yearly)),U=(0,i.d4)(K=>(0,a.C8)(K,l.i6.plus.name,l.ck.yearly)),F=(0,i.d4)(K=>(0,a.h$)(K,l.i6.plus.name,l.ck.yearly)),W=(0,i.d4)(K=>(0,a.cX)(K,l.i6.standard.name,l.ck.yearly));return(0,t.useMemo)(()=>v?{currentPlanLevel:T,isInTrial:y,pro:{billedMonthly:{undiscountedPrice:{unformatted:C,formatted:(0,o.ZV)(C,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||""},discountedPrice:I?{unformatted:I,formatted:(0,o.ZV)(I,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||"",discountPercentage:M,discountName:_}:null},billedYearly:{undiscountedPrice:{unformatted:P,formatted:(0,o.ZV)(P,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||""},discountedPrice:b?{unformatted:b,formatted:(0,o.ZV)(b,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||"",discountPercentage:S,discountName:N}:null}},plus:{billedMonthly:{undiscountedPrice:{unformatted:L,formatted:(0,o.ZV)(L,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||""},discountedPrice:D?{unformatted:D,formatted:(0,o.ZV)(D,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||"",discountPercentage:k,discountName:x}:null},billedYearly:{undiscountedPrice:{unformatted:R,formatted:(0,o.ZV)(R,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||""},discountedPrice:U?{unformatted:U,formatted:(0,o.ZV)(U,(0,c.Yp)(),{style:"currency",currency:O,currencyDisplay:"symbol"})||"",discountPercentage:F,discountName:W}:null}}}:{currentPlanLevel:l.F2.FREE,isInTrial:!1,pro:null,plus:null},[v,T,y,C,O,I,M,_,P,b,S,N,L,D,k,x,R,U,F,W])},"usePlanPrices")},1686081911:(B,A,e)=>{"use strict";e.d(A,{h:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(5451313991),l=e(7702266431),i=e(5284295908),a=e(5181078482),r=e(8823986650),d=e(5190921192),m=e(3223990792),f=e(4988270609),u=e.n(f);const E=new n.Ay("promotions"),v=h(O=>{let{feature:y}=O;return t.createElement(i.A,{flexDirection:"column",flexGrow:1},t.createElement(c.EY,{weight:"bold"},t.createElement(m.A,{lines:1,withTooltip:!0,customTooltipText:y.cta.title},y.cta.title)),t.createElement(c.EY,{color:"Core/Content/Tertiary",size:"caption"},t.createElement(m.A,{lines:1,withTooltip:!0},y.cta.subtitle)))},"FeatureContent"),g=h(O=>{let{feature:y,afterFeatureClick:C,featureActionLookup:I}=O;const{url:M,onClick:_}=I(y),P=(0,l.T)({articleId:y.helpArticle.id,hash:y.helpArticle.hash}),b=(0,t.useCallback)(()=>{_?_():P(),C&&C()},[_,C,P]),S=(0,t.useMemo)(()=>({elementName:"feature_action",elementValue:y.key,onClick:{enableClogAction:!0}}),[y.key]),N=t.createElement(i.A,{gap:12,alignItems:"center"},t.createElement("div",{className:u().clickableIcon},t.createElement(d.A,{name:y.icon.name,width:32,height:40})),t.createElement(v,{feature:y}),t.createElement("div",{className:u().iconButton},t.createElement(d.A,{"aria-label":E.t("Go to feature"),name:"arrow-right",height:10,width:8})));return M?t.createElement(r.A,{href:M,autoClogProps:S,className:o()(u().urlLink,u().feature)},N):t.createElement(a.Nm,{onClick:b,className:u().feature,autoClogProps:S},N)},"ClickableFeature");g.displayName="ClickableFeature";const T=h(O=>{let{feature:y}=O;return t.createElement(i.A,{gap:12,alignItems:"center",className:u().feature},t.createElement(i.A,{alignItems:"center",justifyContent:"center",className:u().nonClickableIcon},t.createElement(d.A,{name:y.icon.name,size:"20"})),t.createElement(v,{feature:y}))},"NonClickableFeature");T.displayName="NonClickableFeature";const p=h(O=>{let{features:y,onFeatureHover:C,clickable:I,featureActionLookup:M,afterFeatureClick:_}=O;const P=(0,t.useCallback)(b=>C&&C(b),[C]);return t.createElement(i.A,{flexDirection:"column"},y.map((b,S)=>{const N=S<y.length-1;return t.createElement(i.A,{key:b.key,flexDirection:"column",justifyContent:"center",flexGrow:1,className:o()({[u().clickableFeatureContainer]:I,[u().divider]:I&&N})},t.createElement("div",{onMouseEnter:()=>P(b)},I?t.createElement(g,{feature:b,afterFeatureClick:_,featureActionLookup:M}):t.createElement(T,{feature:b})))}))},"FeatureList");p.displayName="FeatureList"},7304344557:(B,A,e)=>{"use strict";e.d(A,{a:()=>L,w:()=>N});var t=e(3134334389),s=e(2947229296),o=e(9958296285),n=e.n(o),c=e(6390433387),l=e.n(c),i=e(3037284580),a=e.n(i),r=e(2011154255),d=e.n(r),m=e(110246818),f=e.n(m),u=e(1053914519),E=e.n(u),v=e(3854153221),g=e.n(v),T=e(6375347660),p=e.n(T),O=e(8939560678),y=e.n(O),C=e(6020100399),I=e.n(C),M=e(7296005610),_=e.n(M),P=e(9843444410),b=e.n(P);const S=new s.Ay("promotions"),N=h(()=>({key:"huddles_notes",category:"ai",name:S.t("Huddles notes"),shortDescription:S.t("Focus on the conversation and let Slack do the note taking for you.",{fallbackHash:"d00edd223edcf872c7193e824d23b600f4836173"}),longDescription:S.t("Get a comprehensive summary of your meetings, complete with a transcript, key takeaways and action items."),cta:{title:S.t("Group meetings with AI notes"),subtitle:S.t("Use huddles in channels to get the whole team aligned")},icon:{name:"ai-huddle-summary"},assets:{backgroundColor:"Palettes/Aubergine/10","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-de-DE.json").then(e.t.bind(e,387771442,23))},"en-GB":{png:l(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-en-GB.json").then(e.t.bind(e,6081942680,23))},"en-US":{png:a(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-en-US.json").then(e.t.bind(e,1910811717,23))},"es-ES":{png:d(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-es-ES.json").then(e.t.bind(e,907296360,23))},"es-LA":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-es-LA.json").then(e.t.bind(e,8146755499,23))},"fr-FR":{png:E(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-fr-FR.json").then(e.t.bind(e,706628968,23))},"ja-JP":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-ja-JP.json").then(e.t.bind(e,2141367261,23))},"pt-BR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-pt-BR.json").then(e.t.bind(e,2747495880,23))},"ko-KR":{png:y(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-ko-KR.json").then(e.t.bind(e,5896553299,23))},"it-IT":{png:g(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-it-IT.json").then(e.t.bind(e,4539150266,23))},"zh-CN":{png:_(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-zh-CN.json").then(e.t.bind(e,2471077179,23))},"zh-TW":{png:b(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-zh-TW.json").then(e.t.bind(e,5599348295,23))}},helpArticle:{id:31377193680019},availabilityByPlanLevel:{free:{isAvailable:!1,limitation:null},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),L=h(()=>(0,t.useMemo)(()=>N(),[]),"useHuddlesNotes")},829941451:(B,A,e)=>{"use strict";e.d(A,{D:()=>i,w:()=>l});var t=e(3134334389),s=e(2947229296),o=e(5401735834),n=e.n(o);const c=new s.Ay("promotions"),l=h(()=>({key:"integrations_with_other_apps",category:"automation",name:c.t("Integrations with other apps"),shortDescription:c.t("Connect the tools and services you use every day right into Slack"),longDescription:c.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2014 from Salesforce, Jira, Google Drive, ChatGPT, and more."),cta:{title:c.t("Unlimited app integrations"),subtitle:c.t("Make every integration seamless with apps")},icon:{name:"apps"},helpArticle:{id:360001537467},assets:{backgroundColor:"Palettes/Paprika/50","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"en-GB":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"en-US":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"es-ES":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"es-LA":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"fr-FR":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"ja-JP":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"pt-BR":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"ko-KR":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"it-IT":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"zh-CN":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"zh-TW":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))}},availabilityByPlanLevel:{free:{isAvailable:!0,limitation:{label:c.t("10"),description:null}},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),i=h(()=>(0,t.useMemo)(()=>l(),[]),"useIntegrationsWithOtherApps")},2634567209:(B,A,e)=>{"use strict";e.d(A,{s:()=>L,w:()=>N});var t=e(3134334389),s=e(2947229296),o=e(9601922307),n=e.n(o),c=e(5149272933),l=e.n(c),i=e(1815645106),a=e.n(i),r=e(818243605),d=e.n(r),m=e(5819376148),f=e.n(m),u=e(891942869),E=e.n(u),v=e(8192684827),g=e.n(v),T=e(383098202),p=e.n(T),O=e(9632739020),y=e.n(O),C=e(3352815253),I=e.n(C),M=e(2623318596),_=e.n(M),P=e(2264960312),b=e.n(P);const S=new s.Ay("promotions"),N=h(()=>({key:"slack_connect",category:"productivity",name:S.t("Slack Connect"),shortDescription:S.t("Collaborate with outside partners and clients as easily as with in-house teams."),longDescription:S.t("Collaborate seamlessly and securely with vendors, customers, and other organizations using Slack Connect."),cta:{title:S.t("Work securely with external organizations"),subtitle:S.t("Work in channels with external people")},icon:{name:"buildings"},helpArticle:{id:360035092414},assets:{backgroundColor:"Palettes/Jade/70","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-de-DE.json").then(e.t.bind(e,4657123492,23))},"en-GB":{png:l(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-en-GB.json").then(e.t.bind(e,5710905158,23))},"en-US":{png:a(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-en-US.json").then(e.t.bind(e,8825457063,23))},"es-ES":{png:d(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-es-ES.json").then(e.t.bind(e,4126465322,23))},"es-LA":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-es-LA.json").then(e.t.bind(e,9718468121,23))},"fr-FR":{png:E(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-fr-FR.json").then(e.t.bind(e,248722738,23))},"ja-JP":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-ja-JP.json").then(e.t.bind(e,1175194519,23))},"pt-BR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-pt-BR.json").then(e.t.bind(e,5359837234,23))},"ko-KR":{png:y(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-ko-KR.json").then(e.t.bind(e,1326023725,23))},"it-IT":{png:g(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-it-IT.json").then(e.t.bind(e,7180790508,23))},"zh-CN":{png:_(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-zh-CN.json").then(e.t.bind(e,7855186137,23))},"zh-TW":{png:b(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-zh-TW.json").then(e.t.bind(e,6392096305,23))}},availabilityByPlanLevel:{free:{isAvailable:!0,limitation:{label:S.t("1:1 only"),description:null}},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),L=h(()=>(0,t.useMemo)(()=>N(),[]),"useSlackConnect")},6185607869:(B,A,e)=>{"use strict";e.d(A,{d:()=>L,w:()=>N});var t=e(3134334389),s=e(2947229296),o=e(5301801459),n=e.n(o),c=e(1732913365),l=e.n(c),i=e(2742747234),a=e.n(i),r=e(2467818309),d=e.n(r),m=e(2760033700),f=e.n(m),u=e(5638107077),E=e.n(u),v=e(6334119563),g=e.n(v),T=e(5183876586),p=e.n(T),O=e(6890085404),y=e.n(O),C=e(2104997669),I=e.n(C),M=e(8439269140),_=e.n(M),P=e(1129358920),b=e.n(P);const S=new s.Ay("promotions"),N=h(()=>({key:"thread_and_channel_summaries",category:"ai",name:S.t("Thread and channel summaries"),shortDescription:S.t("Easily catch up on channels and threads in one click."),longDescription:S.t("Catch up on channels and threads in one click."),cta:{title:S.t("AI conversation summaries"),subtitle:S.t("Get up to speed in any channel or thread with one click")},icon:{name:"ai-summary"},helpArticle:{id:25076892548883,hash:"h_01HEKHNMD5YFNCVB9B2S0BSC1T"},assets:{backgroundColor:"Palettes/Aubergine/40","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-de-DE.json").then(e.t.bind(e,9764938808,23))},"en-GB":{png:l(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-en-GB.json").then(e.t.bind(e,6536852562,23))},"en-US":{png:a(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-en-US.json").then(e.t.bind(e,8685059971,23))},"es-ES":{png:d(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-es-ES.json").then(e.t.bind(e,863127406,23))},"es-LA":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-es-LA.json").then(e.t.bind(e,2553170845,23))},"fr-FR":{png:E(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-fr-FR.json").then(e.t.bind(e,6767920742,23))},"ja-JP":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-ja-JP.json").then(e.t.bind(e,4787834955,23))},"pt-BR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-pt-BR.json").then(e.t.bind(e,4927276174,23))},"ko-KR":{png:y(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-ko-KR.json").then(e.t.bind(e,1659694137,23))},"it-IT":{png:g(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-it-IT.json").then(e.t.bind(e,895017776,23))},"zh-CN":{png:_(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-zh-CN.json").then(e.t.bind(e,7672849621,23))},"zh-TW":{png:b(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-zh-TW.json").then(e.t.bind(e,8027931509,23))}},availabilityByPlanLevel:{free:{isAvailable:!1,limitation:null},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),L=h(()=>(0,t.useMemo)(()=>N(),[]),"useThreadAndChannelSummaries")},6906413301:(B,A,e)=>{"use strict";e.d(A,{m:()=>v});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6232693093),c=e(5555669685),l=e(1686081911),i=e(586658535),a=e(5451313991),r=e(5284295908),d=e(5181078482),m=e(8823986650),f=e(3451857649),u=e(9360442314),E=e.n(u);const v=h(g=>{let{title:T,subtitle:p,loading:O,secondaryCTA:y,primaryCTA:C,carouselFeatures:I,listFeatures:M,autoClogProps:_,secondaryCTAAutoClogProps:P,primaryCTAAutoClogProps:b,chipIcons:S=[{name:"slack-logo-color"}],renderCustomHeaderIcon:N,disclaimer:L,carouselContainerHeight:D,onClose:k,UNSAFE_parentSelector:x}=g;S.length===2&&S.splice(1,0,{name:"slack-logo-color"});const R=S.length===3;return t.createElement(f.aF,{className:E().modalContainer,maxWidth:870,autoClogProps:_,onClose:k,UNSAFE_parentSelector:x},t.createElement(i.A,{horizontal:!0,horizontalOffset:M?"farLeft":"slightLeft"},t.createElement("div",{className:E().container},t.createElement(r.A,{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",className:E().leftContainer},t.createElement("div",{className:o()("margin_bottom_150",{[E().multiChipContainer]:R})},!N&&S.map((U,F)=>t.createElement(c.v,{key:U.name,name:U.name,chipSize:R&&F%2===0?"medium":"extraLarge",theme:U.theme,style:U.style})),!!N&&N()),t.createElement(a.DZ,{level:"1",weight:"black",size:"headline"},T),t.createElement("div",{className:E().subtitle},t.createElement(a.EY,{color:"Core/Content/Secondary"},p)),t.createElement("div",{className:E().outerButtonContainer},t.createElement("div",{className:E().innerButtonContainer},C&&t.createElement(d.lV,{className:C==null?void 0:C.className,onClick:C.onClick,href:C.url,autoClogProps:b,loading:O},C.text),y&&t.createElement(m.A,{onClick:y.onClick,href:y.url,autoClogProps:P},y.text)))),t.createElement(r.A,{alignItems:M?"center":"flex-start",justifyContent:"center",flexDirection:"column",gap:16},I&&t.createElement(n.F,{containerHeight:D,cards:I,position:"left"}),M&&t.createElement(l.h,{features:M,clickable:!1}),L&&t.createElement(a.EY,{color:"Core/Content/Tertiary",weight:"base"},L)))))},"EntryPointModal");v.displayName="EntryPointModal"},4636651741:(B,A,e)=>{"use strict";e.d(A,{y:()=>l});var t=e(3134334389),s=e(2947229296),o=e(6758393411);const n=new s.Ay("trials"),c={name:"slack-logo",size:"inherit"},l=h(i=>{let{ariaHidden:a,size:r=o.vj.Small}=i;return t.createElement(o.rg,{ariaLabel:n.t("Business Plus feature"),badgeText:n.t("Plus"),className:"p-plus_badge","data-qa":"plus-badge",icon:c,size:r,ariaHidden:a})},"PlusBadge")},586658535:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(280840163),c=e(873516440),l=e(3836315940),i=e.n(l);const a=h(r=>{let{children:d,horizontal:m=!1,horizontalOffset:f="slightLeft"}=r;const E=(0,n.d4)(c.to)==="dark";return t.createElement("div",{className:o()({[i().containerVertical]:!m,[i().containerVerticalDarkMode]:!m&&E,[i().containerHorizontal]:m,[i().farLeft]:f==="farLeft"})},t.createElement("div",{className:i().childrenContainer},d))},"ScoopContainer");a.displayName="ScoopContainer"},5451313991:(B,A,e)=>{"use strict";e.d(A,{DZ:()=>v,EY:()=>f,LE:()=>r,Xm:()=>m,_g:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8989308993),c=e(4623947952),l=e.n(c);const i=["headline","title","subtitle","base","caption","micro"],a=["base","semibold","bold","black"],r=Object.values(n.Q),d=h(g=>{let{children:T,as:p="span",size:O="base",weight:y="base",color:C=n.Q.CoreContentPrimary,isItalic:I}=g;return t.createElement(p,{className:o()(l().text,{[l().fontSizeMicro]:O==="micro",[l().fontSizeCaption]:O==="caption",[l().fontSizeBase]:O==="base",[l().fontSizeSubtitle]:O==="subtitle",[l().fontSizeTitle]:O==="title",[l().fontSizeHeadline]:O==="headline",[l().fontWeightBase]:y==="base",[l().fontWeightSemibold]:y==="semibold",[l().fontWeightBold]:y==="bold",[l().fontWeightBlack]:y==="black",[l().colorPrimary]:C===n.Q.CoreContentPrimary,[l().colorSecondary]:C===n.Q.CoreContentSecondary,[l().colorTertiary]:C===n.Q.CoreContentTertiary,[l().colorThemeInversePrimary]:C===n.Q.ThemeContentInversePrimary,[l().colorCoreContentHighlight1]:C===n.Q.CoreContentHighlight1,[l().colorCoreContentHighlight2]:C===n.Q.CoreContentHighlight2,[l().colorCoreContentHighlight3]:C===n.Q.CoreContentHighlight3,[l().colorCoreContentImportant]:C===n.Q.CoreContentImportant,[l().colorPalettesSunflower60]:C===n.Q.PalettesSunflower60,[l().colorPalettesLagoon70]:C===n.Q.PalettesLagoon70,[l().colorPalettesAubergine70]:C===n.Q.PalettesAubergine70,[l().colorPalettesCilantro70]:C===n.Q.PalettesCilantro70,[l().colorPalettesCampfire70]:C===n.Q.PalettesCampfire70,[l().inherit]:C===n.Q.Inherit,italic:I})},T)},"TextBase");d.displayName="TextBase";const m=["micro","caption","base","subtitle"].filter(g=>i.includes(g)),f=h(g=>{let{children:T,as:p,size:O,weight:y,color:C,isItalic:I}=g;return t.createElement(d,{as:p,size:O,weight:y,color:C,isItalic:I},T)},"Text");f.displayName="Text";const u=["headline","title","subtitle"].filter(g=>i.includes(g)),E={1:"h1",2:"h2",3:"h3"},v=h(g=>{let{level:T,size:p,weight:O="black",children:y}=g;return t.createElement(d,{size:p,as:E[T],color:"Core/Content/Primary",weight:O},y)},"Heading");v.displayName="Heading"},8989308993:(B,A,e)=>{"use strict";e.d(A,{D:()=>t,Q:()=>s});const t={CoreSurfacePrimary:"Core/Surface/Primary",PalettesAquarium5:"Palettes/Aquarium/5",PalettesAubergine0:"Palettes/Aubergine/0",PalettesAubergine5:"Palettes/Aubergine/5",PalettesAubergine10:"Palettes/Aubergine/10",PalettesAubergine30:"Palettes/Aubergine/30",PalettesAubergine40:"Palettes/Aubergine/40",PalettesAubergine50:"Palettes/Aubergine/50",PalettesCampfire5:"Palettes/Campfire/5",PalettesCilantro30:"Palettes/Cilantro/30",PalettesHoneycomb30:"Palettes/Honeycomb/30",PalettesIndigo20:"Palettes/Indigo/20",PalettesIndigo50:"Palettes/Indigo/50",PalettesJade70:"Palettes/Jade/70",PalettesLagoon30:"Palettes/Lagoon/30",PalettesLagoon40:"Palettes/Lagoon/40",PalettesMojito5:"Palettes/Mojito/5",PalettesOcean20:"Palettes/Ocean/20",PalettesPaprika50:"Palettes/Paprika/50",PalettesSangria5:"Palettes/Sangria/5",PalettesSunflower20:"Palettes/Sunflower/20",PalettesSunflower40:"Palettes/Sunflower/40",PalettesTangerine40:"Palettes/Tangerine/40"},s={CoreContentHighlight1:"Core/Content/Highlight 1",CoreContentHighlight2:"Core/Content/Highlight 2",CoreContentHighlight3:"Core/Content/Highlight 3",CoreContentImportant:"Core/Content/Important",CoreContentPrimary:"Core/Content/Primary",CoreContentSecondary:"Core/Content/Secondary",CoreContentTertiary:"Core/Content/Tertiary",Inherit:"inherit",PalettesAubergine70:"Palettes/Aubergine/70",PalettesCampfire70:"Palettes/Campfire/70",PalettesCilantro70:"Palettes/Cilantro/70",PalettesLagoon70:"Palettes/Lagoon/70",PalettesSunflower60:"Palettes/Sunflower/60",ThemeContentInversePrimary:"Theme/Content/Inverse primary"}},5395353422:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(8484142890);const s=t.A},4565338063:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(1483755157),s=e.n(t),o=e(862210999),n=e(1398359918),c=e(2691514942);const l=s().prototype.stopCallback;s().prototype.stopCallback=()=>!1;const i=h(f=>l(f,f.target),"filterInput"),a=h((f,u)=>function(){for(var E=arguments.length,v=new Array(E),g=0;g<E;g++)v[g]=arguments[g];const T=v[0];u(T)||f(...v)},"makeFilteredHandler"),r=h((f,u)=>{const E=u[0];return E?r(a(f,E),u.slice(1)):f},"applyFilters"),d=h(f=>[f.ignoreInputs&&i,f.filter].filter(o.A),"getFiltersForCommand");let m=h(class{bindAll(u){u.forEach(E=>{const v=d(E);E.handler=r(E.handler,v),this.mousetrap.bind(E.keys,E.handler,E.action)})}reset(){this.mousetrap.destroy()}unbindAll(u){this.mousetrap.unbind((0,n.A)(u,"keys"))}trigger(u,E){this.mousetrap.trigger(u,E)}constructor(u){var E,v,g,T,p,O,y,C;let I=u;I&&!(I instanceof HTMLElement||I instanceof Document||((E=I)===null||E===void 0||(v=E.constructor)===null||v===void 0?void 0:v.name)==="HTMLDocument"||((g=I)===null||g===void 0||(T=g.constructor)===null||T===void 0?void 0:T.name)==="HTMLDivElement"||((p=I)===null||p===void 0||(O=p.constructor)===null||O===void 0?void 0:O.name)==="HTMLElement"||((y=I)===null||y===void 0||(C=y.constructor)===null||C===void 0?void 0:C.name)==="HTMLInputElement")&&((0,c.Wo)().error("Invalid element passed to KeyCommands"),I=void 0),s().addKeycodes({188:"comma"}),s().addKeycodes({173:"-"}),this.mousetrap=new(s())(I)}},"KeyCommands")},4611206758:(B,A,e)=>{"use strict";e.d(A,{o:()=>s});var t=e(3134334389);const s=t.createContext({closeCard:()=>{}})},641615021:(B,A,e)=>{"use strict";e.d(A,{d:()=>f});var t=e(3134334389),s=e(7715417323),o=e(1083781105),n=e(1998042365),c=e(4611206758),l=e(338698394),i=e(9880974855),a=e(7717665856);function r(){return r=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},r.apply(this,arguments)}h(r,"_extends");const d=350,m=250,f=h(u=>{let{children:E,className:v,position:g="top",renderCard:T,...p}=u;const{windowRef:O}=(0,l.ox)(),y=(0,t.useRef)(null),[C,I]=(0,t.useState)(),[M,_]=(0,t.useState)(!1),P=(0,t.useCallback)(()=>{_(!1)},[]),b=(0,t.useCallback)(()=>{y.current&&I(y.current.getBoundingClientRect()),_(!0)},[]),[S,N]=(0,o.i)(P),[L,D]=(0,o.i)(b);(0,a.M)("keydown",U=>{U.key===i.D.ESCAPE&&P()},{element:O,isEnabled:M});function k(){D(),M?S(m):N()}h(k,"handleLeave");function x(){N(),M?D():L(d)}h(x,"handleEnter");const R=(0,t.useMemo)(()=>({closeCard:P}),[P]);return t.createElement(c.o.Provider,{value:R},t.createElement("span",r({className:v,onClick:P,onFocus:s.A,onMouseLeave:k,onMouseOver:x,ref:y,role:"presentation"},p),E,t.createElement(n.Ay,{isContentInteractive:!0,isOpen:M,isOverlayInteractive:!1,offsetY:-12,position:g,shouldFade:!0,shouldFocusAfterRender:!1,targetBounds:C,tryOppositePosition:!0},T())))},"HoverCardTrigger");f.displayName="HoverCardTrigger"},7921707988:(B,A,e)=>{"use strict";e.d(A,{i:()=>b});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(1367007952),c=e(7175825412);const l=t.memo(S=>{let{id:N}=S;return t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:N,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))});var i=e(4213820040),a=e(4054311754),r=e(8859166048),d=e(4357385957),m=e(768761048),f=e(5190921192),u=e(9006442414),E=e(2691514942),v=e(7874250141),g=e(280840163),T=e(7188858884),p=e(3351247794),O=e(3015119762),y=e(6277503403),C=e(6820361397);function I(){return I=Object.assign||function(S){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var D in L)Object.prototype.hasOwnProperty.call(L,D)&&(S[D]=L[D])}return S},I.apply(this,arguments)}h(I,"_extends");const M=2;function _(S){let{channelId:N,withTooltip:L,className:D,excludeIcon:k,excludeMemberOverflowCount:x,maxMembers:R=M,avatarSize:U=c.RG.verySmall,includeChannelNameInTooltip:F=!1,excludeSelf:W=!1}=S;const w=(0,t.useMemo)(()=>`huddles-mask-${(0,m.r9)()}`,[]),K=(0,t.useMemo)(()=>({"--huddles-mask":`url(#${w})`,"--huddles-avatar-size":`${U}px`}),[w,U]),j=(0,g.d4)(X=>(0,d.pt)(X)||(0,C.s)(X)),Q=(0,g.d4)(X=>(0,p.OL)(X,N)),J=(0,a.cw)(O.hc),z=(0,a.cw)(O.vO),ee=J===N&&(0,d.pZ)(z),ne=(0,g.Z2)(X=>(0,y.A7)(X,N,W)),Z=ne.length,te=Z>R,he=te?Z-2:0,ue=te?ne.slice(0,R):ne,de=(0,t.useMemo)(()=>{const X=F&&!(0,r.cb)(Q),Y=t.createElement(i.A,{channelId:N,includeChannelName:X});return Y||(0,E.Wo)().info("HUDDLE-FACEPILE",`channelId: ${N}, includeChannelName: ${X}`),Y},[N,F,Q]),re=(0,t.useCallback)(()=>null,[]);if(!j||!Z)return null;const V=t.createElement("div",{className:o()("p-huddle_avatar_stack",D),"data-qa":"huddle_avatar_stack__avatars_container",style:K},t.createElement(l,{id:w}),!k&&t.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.createElement(f.A,{name:"headphones",size:"18"})),ue.map((X,Y)=>t.createElement(c.Ay,{key:X,"data-qa":"huddle_avatar_stack__member",className:o()("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":Y===0}),userId:X,size:U,renderCustomBadge:re,isInteractive:!1})),!x&&te&&t.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${he}`)),H=L&&de?t.createElement(u.Ay,{tip:de},V):V;return ee?null:H}h(_,"HuddleAvatarStackContent"),_.displayName="HuddleAvatarStackContent";const P=t.memo(_),b=t.memo(S=>{const{channelId:N}=S,L=(0,g.d4)(R=>(0,y.LY)(R,N)),D=(0,a.cw)(O.l4),k=(0,a.cw)(O.hc),x=(0,g.d4)(v.ZT);if(!L)return null;if(k===N){const R=(0,T.oK)(D||x);return t.createElement(n.Kq,{store:R},t.createElement(P,I({},S)))}return t.createElement(P,I({},S))})},3766693770:(B,A,e)=>{"use strict";e.d(A,{A:()=>I});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(651151430),l=e(313470212),i=e(9866542341),a=e(4054311754),r=e(9122366353),d=e(6369345880),m=e(9006442414),f=e(7281000332),u=e(280840163),E=e(5233827933),v=e(1874256115),g=e(3015119762);const T=new n.Ay("huddles"),p=65,O=80,y=100,C=h(M=>{let{updatePreview:_,onEffectSelected:P,isSmallLayout:b=!1}=M;const S=(0,i.A)(),N=(0,a.cw)(g.E9),L=(0,u.d4)(Q=>(0,E.pj)(Q,{huddleId:N})),D=(0,l.i)(),k=S.find(Q=>Q.key===D.backgroundEffectBgKey);var x;const[R,U]=(0,t.useState)((x=D.backgroundEffectBgKey)!==null&&x!==void 0?x:"NONE"),F=(0,t.useCallback)(Q=>()=>{Q==="NONE"?((0,f.dispatchForClientStore)((0,v.Rb)({effect:void 0,effectBgKey:void 0})),P==null||P({backgroundType:void 0,effectBgKey:void 0})):Q==="BLUR"?((0,f.dispatchForClientStore)((0,v.Rb)({effect:c.t.Blur})),P==null||P({backgroundType:c.t.Blur,backgroundKey:void 0})):((0,f.dispatchForClientStore)((0,v.Rb)({effect:c.t.Background,effectBgKey:Q})),P==null||P({backgroundType:c.t.Background,backgroundKey:Q})),_!==void 0&&_(),U(Q)},[P,_]);(0,t.useEffect)(()=>{D.blurEffectIsEnabled?U("BLUR"):D.backgroundEffectBgKey===void 0?U("NONE"):k===void 0&&(U("NONE"),F("NONE")())},[U,k,F,D.backgroundEffectBgKey,D.blurEffectIsEnabled]);const{imgHeight:W,imgWidth:w}=(0,t.useMemo)(()=>b?{imgHeight:p,imgWidth:p}:L?{imgHeight:O,imgWidth:O}:{imgHeight:y,imgWidth:y},[L,b]),j=(0,t.useCallback)(()=>{const Q=S.map(J=>{const z=R===J.key,ie=h(()=>t.createElement(t.Fragment,null,J.name,J.description?t.createElement("div",{className:"c-tooltip__subtitle normal"},J.description):null),"tooltipGetLabel");return ie.displayName="tooltipGetLabel",t.createElement(m.Ay,{tip:ie(),position:"top",key:J.key},t.createElement(r.A,{key:J.key,onClick:F(J.key)},t.createElement("div",{className:"p-huddle_video_background_menu__image_and_checkbox_container"},z&&J.key!=="NONE"&&t.createElement(t.Fragment,null,t.createElement(d.A,{className:"p-huddle_video_background_menu__checkbox_icon p-huddle_video_background_menu__checkbox_icon_background",type:"real-checkbox-checked-o"}),t.createElement(d.A,{className:"p-huddle_video_background_menu__checkbox_icon",type:"real-checkbox-checked"})),J.key==="NONE"&&t.createElement("div",{style:{height:W,width:w},className:o()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_none",{"p-huddle_video_background_menu__category_preview_image_none--selected":z,"p-huddle_video_background_menu__category_preview_image--selected":z,"p-huddle_video_background_menu__category_preview_image--compact_mode":L})},T.rt("<strong>None</strong>",{fallbackHash:"0dfae2820b8c3e724ad95bfde6a9b4539a58d6fb",fallbackHashNs:"canvas"})),J.key==="BLUR"&&t.createElement("div",{style:{height:W,width:w},className:o()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_blur",{"p-huddle_video_background_menu__category_preview_image_blur--selected":z,"p-huddle_video_background_menu__category_preview_image--selected":z,"p-huddle_video_background_menu__category_preview_image--compact_mode":L})},J.key==="BLUR"&&T.rt("<strong>Blur</strong>",{fallbackHash:"7d5c2a9cc6a1684caefb5c90e47bcfd22356902e",fallbackHashNs:"canvas"})),J.key!=="NONE"&&J.key!=="BLUR"&&t.createElement("img",{className:o()("p-huddle_video_background_menu__category_preview_image",{"p-huddle_video_background_menu__category_preview_image--selected":z,"p-huddle_video_background_menu__category_preview_image--compact_mode":L}),alt:J.name,src:J.preview,height:W,width:w}))))});return t.createElement("div",{className:o()("p-huddle_video_background_menu__category_previews","p-huddle_video_background_menu__category_previews--has_video_preview",{"p-huddle_video_background_menu__category_previews--compact_mode":L,"p-huddle_video_background_menu__category_previews--small_layout":b})},Q)},[S,L,b,R,F,W,w])();return t.createElement(t.Fragment,null,j)},"HuddleVideoBackgroundMenu");C.displayName="HuddleVideoBackgroundMenu";const I=t.memo(C)},9866542341:(B,A,e)=>{"use strict";e.d(A,{A:()=>W,g:()=>U});var t=e(3134334389),s=e(2947229296),o=e(5215434212),n=e.n(o),c=e(1148759471),l=e.n(c),i=e(119789524),a=e.n(i),r=e(6324296991),d=e.n(r),m=e(8926973888),f=e.n(m),u=e(1217093651),E=e.n(u),v=e(3556769086),g=e.n(v),T=e(3715147237),p=e.n(T),O=e(7460231934),y=e.n(O),C=e(1797999369),I=e.n(C),M=e(7969550970),_=e.n(M),P=e(2183727167),b=e.n(P),S=e(419667452),N=e.n(S),L=e(365724097),D=e.n(L),k=e(9241054226),x=e.n(k);const R=new s.Ay("huddles"),U=[{key:"NONE",preview:y()},{key:"BLUR",preview:y()},{key:"LIVING_ROOM",url:p(),preview:g()},{key:"REMOTE_WORK",url:N(),preview:b()},{key:"TOKYO_SIGHT",url:x(),preview:D()},{key:"GYM",url:d(),preview:a()},{key:"HOME",url:E(),preview:f()},{key:"OFFICE",url:_(),preview:I()},{key:"BEACH",url:l(),preview:n()}],W=h(()=>(0,t.useMemo)(()=>U.map(K=>{let j,Q;switch(K.key){case"NONE":j=R.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":j=R.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":j=R.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),Q=R.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":j=R.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),Q=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":j=R.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),Q=R.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":j=R.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),Q=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":j=R.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":j=R.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":j=R.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:j="NO_NAME",Q="NO_DESCRIPTION"}return{...K,name:j,description:Q}}),[]),"useGetVideoBackgrounds")},4747441446:(B,A,e)=>{"use strict";e.d(A,{Mz:()=>o,NY:()=>n,VW:()=>s,_q:()=>t,aI:()=>l,xX:()=>c});const t="huddles_play_music_when_last",s="huddles_play_music_timeout",o="huddles_music_player_song_key",n="calendar_huddles_default_access_policy",c="calendar_huddles_default_auto_start_summary",l="huddles_show_join_preview"},8376599787:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(5279500834),o=e(4125496918);const n=h(l=>{let{text:i,emojiSize:a=s.lw.SMALL}=l;return t.createElement(t.Fragment,null,t.createElement(o.A,{text:i,emojiSize:a}))},"FormattedHuddleTopic");n.displayName="FormattedHuddleTopic";const c=n},3785371303:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>m,Hi:()=>r,uV:()=>d});var t=e(3134334389),s=e(6122756707),o=e(4054311754),n=e(4357385957),c=e(280840163),l=e(2893389814),i=e(5233827933),a=e(3015119762),r;(function(f){f.CANVAS_OPEN="canvas_open",f.CANVAS_JOIN="canvas_join",f.CANVAS_LEAVE="canvas_leave",f.CANVAS_TOOLBAR="canvas_toolbar",f.EMOJI_PICKER_OPEN="emoji_picker_open",f.EMOJI_SENT="emoji_sent",f.LINK_OPEN="link_open",f.FOCUS_OPEN="focus_open",f.FOCUS_CLOSE="focus_close",f.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",f.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",f.MINI_PLAYER_VIEW_START="mini_player_view_start",f.MINI_PLAYER_VIEW_END="mini_player_view_end",f.SCREENSHARE_START="screenshare_start",f.SCREENSHARE_END="screenshare_end",f.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",f.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",f.THREAD_WINDOW_VIEW_START="thread_window_view_start",f.THREAD_WINDOW_VIEW_END="thread_window_view_end",f.THREAD_OPEN="thread_open",f.THREAD_CLOSE="thread_close",f.SELF_VIDEO="self_video",f.WINDOW_COMPACT_VIEW_START="window_compact_view_start",f.WINDOW_COMPACT_VIEW_END="window_compact_view_end",f.WINDOW_FULL_VIEW_START="window_full_view_start",f.WINDOW_FULL_VIEW_END="window_full_view_end",f.WINDOW_RESIZE_BUTTON="window_resize_button",f.BACKGROUND_CHANGED="background_changed",f.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",f.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",f.CAPTIONS_START="huddles_captions_start",f.CAPTIONS_STOP="huddles_captions_stop",f.INVITATION_SENT="invitation_sent",f.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",f.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",f.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",f.NOTES_OPEN="notes_open",f.NOTES_CLOSE="notes_close",f.CHANNEL_SPACE_OPEN="channel_space_open",f.CHANNEL_SPACE_CLOSE="channel_space_close",f.CHANNEL_SPACE_AUTO_OPEN="channel_space_auto_open"})(r||(r={}));var d;(function(f){f.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",f.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",f.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",f.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",f.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",f.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",f.CANVAS_WINDOW="canvas_window",f.LEAVE_CALL="leave_call",f.CLOSE_MODAL="close_modal",f.EMOJI_PICKER="emoji_picker",f.JUKEBOX_MENU="jukebox_menu",f.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",f.REACTION_BUBBLE="reaction_bubble",f.CHANGE_BACKGROUND_DIALOG="change_background_dialog",f.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",f.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",f.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(d||(d={}));function m(){const f=(0,o.cw)(a.E9),u=(0,c.Z2)(O=>(0,n.$t)(O,{huddleId:f})),E=(0,o.cw)(n.kn,s.bN),v=(0,o.cw)(n.UE,s.bN),g=(0,c.d4)(O=>(0,i.Ec)(O,{huddleId:f})),T=(0,c.d4)(l.Tk);return(0,t.useMemo)(()=>({canvasThreadChannelId:u.canvas_thread_channel_id,canvasThreadId:u.canvas_thread_id,canvasHuddleSessionId:E.canvas_huddle_session_id,callsRoomId:v.room_id,callsChannelId:v.channel_id,uiPage:g?g.toString():null,fileId:T}),[u.canvas_thread_channel_id,u.canvas_thread_id,E.canvas_huddle_session_id,v.room_id,v.channel_id,g,T])}h(m,"useHuddleClogContext")},9782733248:(B,A,e)=>{"use strict";e.d(A,{A:()=>c,H:()=>n});var t=e(3134334389),s=e(4357385957),o=e(280840163),n;(function(l){l.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",l.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",l.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(n||(n={}));function c(l){const i=(0,o.Z2)(a=>l?(0,s.w1)(a,l):{});return(0,t.useMemo)(()=>({callsChannelId:i.channel_id,callsChannelType:i.channel_type,callsNumParticipants:i.num_participants,callsRoomId:i.room_id}),[i.channel_id,i.channel_type,i.num_participants,i.room_id])}h(c,"useHuddlesClogContext")},7456868597:(B,A,e)=>{"use strict";e.d(A,{k:()=>a});var t=e(2947229296),s=e(7516783851),o=e(4743850398),n=e(280840163),c=e(6372862721),l=e(9383537253);const i=new t.Ay("huddles"),a=h(()=>{const r=(0,n.d4)(l.ZI),d=(0,n.d4)(g=>!!(0,o.WQ)(g,"isMicrophoneEnabled")),m=(0,n.Z2)(g=>(0,c.ql)(g,s.lW.Microphone)),f=d?i.t("Mute mic"):i.t("Unmute mic"),u=d?i.t("Mute microphone"):i.t("Unmute microphone");let E=m==null?void 0:m.label;if(!r&&(m==null?void 0:m.id)!=="default"){var v;E=(m==null||(v=m.label)===null||v===void 0?void 0:v.replace(/ *?\([^)]*?\) *?/g,""))||void 0}return{microphoneLabel:f,isMicrophoneEnabled:d,deviceLabel:E,ariaLabel:u}},"useMicrophoneOnOff")},8063766962:(B,A,e)=>{"use strict";e.d(A,{z:()=>r});var t=e(2947229296),s=e(1483928852),o=e(7516783851),n=e(4743850398),c=e(280840163),l=e(6372862721),i=e(9383537253);const a=new t.Ay("huddles"),r=h(()=>{const d=(0,c.d4)(i.ZI),m=(0,c.d4)(O=>!!(0,n.WQ)(O,"isHidingSelf")),f=!!(0,c.d4)(O=>(0,n.WQ)(O,"isCameraEnabled"))||!1,u=(0,c.Z2)(O=>(0,l.ql)(O,o.lW.Camera));let E;d||u!=null&&u.label&&(E=(0,s.On)(u.label));const v=a.t("Turn on video"),g=a.t("Turn off video"),T=f?g:v,p=f?a.t("Turn off camera"):a.t("Turn on camera");return{videoLabel:T,isCameraEnabled:f,isHidingSelf:m,deviceLabel:E,ariaLabel:p}},"useVideoOnOff")},8374407501:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(5950652755),o=e(1367007952);const n=h(l=>{let{store:i,children:a}=l;const r=(0,t.useMemo)(()=>({...i,subscribe:d=>i.subscribeImmediate((0,s.A)(d,16))}),[i]);return t.createElement(o.Kq,{store:r}," ",a," ")},"BackgroundableProvider");n.displayName="BackgroundableProvider";const c=n},7143431146:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s);const n=h(a=>{let{className:r,wasCameraEverEnabled:d}=a;return t.createElement("div",{className:o()("p-huddle_camera_icon","p-huddle_camera_icon__container",r),"data-qa":"huddle_video_icon_camera_off"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.6694 6.44613L13.0988 8.21302C13.1635 8.32628 13.2578 8.42265 13.3746 8.4902C13.6064 8.62424 13.8922 8.62449 14.1242 8.49088L17.5 6.54725V13.4528L14.1242 11.5091C13.8922 11.3755 13.6064 11.3758 13.3746 11.5098C13.1428 11.6438 13 11.8913 13 12.1591V14.75C13 15.1642 12.6642 15.5 12.25 15.5H6.62151L5.28818 17H12.25C13.4926 17 14.5 15.9926 14.5 14.75V13.4563L17.1263 14.9684C17.9596 15.4482 19 14.8468 19 13.8852V6.11483C19 5.15324 17.9596 4.55176 17.1263 5.03155L14.6694 6.44613ZM1.5 14.4883V5.25C1.5 4.00736 2.50736 3 3.75 3H11.7118L10.3785 4.5H3.75C3.33579 4.5 3 4.83579 3 5.25V12.8008L1.5 14.4883Z",fill:"currentColor"}),t.createElement("path",{className:o()({"p-huddle_camera_icon--slash_animated":d}),d:"M2 17.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))},"renderCameraOff");n.displayName="renderCameraOff";const c=h(a=>{let{className:r}=a;return t.createElement("div",{className:o()("p-huddle_camera_icon","p-huddle_camera_icon__container",r),"data-qa":"huddle_video_icon_camera_on"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3.75 3.75C2.92157 3.75 2.25 4.42157 2.25 5.25V14.75C2.25 15.5784 2.92157 16.25 3.75 16.25H12.25C13.0784 16.25 13.75 15.5784 13.75 14.75V12.1591L17.5005 14.3185C17.8339 14.5104 18.25 14.2698 18.25 13.8852V6.11483C18.25 5.7302 17.8338 5.4896 17.5005 5.68152L13.75 7.84091V5.25C13.75 4.42157 13.0784 3.75 12.25 3.75H3.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),t.createElement("circle",{className:"p-huddle_camera_icon--dot",cx:"8",cy:"10",r:"2.5",fill:"currentColor"})))},"renderCameraOn");c.displayName="renderCameraOn";const l=h(a=>{let{isCameraEnabled:r,className:d}=a;const[m,f]=(0,t.useState)(r);return(0,t.useEffect)(()=>{r&&f(!0)},[r]),r?c({className:d}):n({className:d,wasCameraEverEnabled:m})},"HuddleCameraIcon"),i=t.memo(l)},4213820040:(B,A,e)=>{"use strict";e.d(A,{A:()=>I,z:()=>C});var t=e(3134334389),s=e(2947229296),o=e(5566149298),n=e(1205314734),c=e(7175825412),l=e(8376599787),i=e(9963560),a=e(6928237551),r=e(4357385957),d=e(9819891010),m=e(2691514942),f=e(280840163),u=e(1242487384),E=e(3351247794),v=e(6277503403),g=e(8282259428),T=e(6820361397);const p=new s.Ay("huddles"),O=5,y=8,C=h(M=>{let{channelId:_}=M;const P=(0,f.Z2)(L=>(0,v.A7)(L,_,!1)),b=P.length,S=b>O,N=S?P.slice(0,O):P;return b===0?null:t.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},N.map((L,D)=>{const k=D===N.length-1;return t.createElement("div",{key:L,className:"p-huddle_channel_tooltip__avatar_container",style:{width:k?"auto":c.RG.medium-y}},t.createElement(c.Ay,{className:"p-huddle_channel_tooltip__avatar",userId:L,size:c.RG.medium,renderCustomBadge:n.Q,isInteractive:!1,additionalOverlay:S&&k?b-N.length+1:void 0}))}))},"HuddleTooltipAvatarStack");C.displayName="HuddleTooltipAvatarStack";function I(M){let{channelId:_,includeChannelName:P=!1}=M;const b=(0,f.d4)(J=>(0,E.OL)(J,_)),S=(0,i.bU)(b),L=(0,f.d4)(J=>{const z=(0,r.Bn)(J,b),ie=(0,T.s)(J),ee=z||ie;return ee||(0,m.Wo)().info("HUDDLE-FACEPILE",`isHuddlesEnabled: ${ee}, doesChannelSupportHuddles: ${z}, isHuddlesEnabledForSponsoredTeam: ${ie}`),ee})||S,D=(0,f.d4)(u.WR),k=(0,f.Z2)(J=>(0,v.ft)(J,_)),x=(0,f.d4)(r.df),R=(0,a.Mn)(b),U=k.length,W=U>O?k.slice(0,O):k,w=(0,f.Z2)(J=>W.map(z=>({id:z.id,name:z.id===D?p.t("you"):(0,d.sE)(J,z)})).sort((z,ie)=>z.id===D?1:ie.id===D?-1:(0,o.Ay)(z.name,ie.name)).map(z=>{let{name:ie}=z;return ie})),K=(0,f.d4)(J=>(0,g.o)(J,_)),j=(0,t.useMemo)(()=>P?w.length===1?k[0].id===D?p.rt("Just you in the huddle #{channelName}",{channelName:R}):p.rt("{name} is in the huddle #{channelName}",{name:w[0],channelName:R}):p.rt("{memberCount} people in the huddle #{channelName}",{memberCount:U,channelName:R}):w.length===1?k[0].id===D?p.rt("Just you in the huddle"):p.rt("{name} is in the huddle",{name:w[0]}):p.rt("{memberCount} people in the huddle",{memberCount:U}),[P,w,U,R,k,D]);let Q=K!=null&&K.trim()?t.createElement(l.A,{text:K}):null;return k.length>=x&&(Q=p.t("Only {maxParticipants} people can join a huddle",{maxParticipants:x})),L?t.createElement("div",{className:"p-huddle_channel_tooltip"},t.createElement(C,{channelId:_}),t.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},Q),t.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},j)):null}h(I,"HuddleChannelTooltip")},3608383992:(B,A,e)=>{"use strict";e.d(A,{A:()=>r,g:()=>a});var t=e(3134334389),s=e(6122756707),o=e(6690187588),n=e(8814654205),c=e(147459106),l=e(6854947164);const i=(0,o.tZ)("HUDDLE-ERROR");var a;(function(d){d.Huddles="huddles",d.Sidebar="huddles_pro_max-sidebar",d.Flexpane="huddles_pro_max-flexpane",d.CompactWindow="huddles_pro_max-compact_window",d.LargeWindow="huddles_pro_max-large_window",d.WindowFooter="huddles_pro_max-window_footer",d.AlertBanner="huddles_pro_max-alert_banner",d.InviteWindow="huddles_invite_window",d.ControlStripButton="huddles_control_strip_button",d.ChannelHeader="huddles_channel_header",d.Composer="huddles_composer",d.HuddleSpecialReactions="huddle_special_reactions"})(a||(a={}));function r(d){let{children:m,onError:f,isQuiet:u=!0,shouldStopHuddle:E=!1,subtype:v=a.Huddles}=d;const g=(0,s.wA)(),T=(0,t.useCallback)(()=>{E&&g((0,c.A)({terminalState:l.M6.ClientUIError}))},[g,E]),p=(0,t.useCallback)(y=>{i.error(`${v} ${y}`),f?f():T()},[T,f,v]),O=u?n.H:n.A;return t.createElement(O,{subtype:v,onError:p},m)}h(r,"HuddleErrorBoundary")},9151352365:(B,A,e)=>{"use strict";e.d(A,{A:()=>x});var t=e(3134334389),s=e(6122756707),o=e(2947229296),n=e(6893150838),c=e(5445535244),l=e(300722e3),i=e(3362542648),a=e(7874250141),r=e(280840163);const d=new o.Ay("huddles");function m(R){let{closeModal:U}=R;const F=i.zG.Vhq,W=(0,c.Ay)({promoSubtype:F}),w=(0,r.d4)(a.ZT)||"",K=(0,t.useMemo)(()=>(0,n.e)(W,F,w),[W,F,w]),j=(0,t.useCallback)(()=>{K==null||K.onClick(),U==null||U()},[K,U]);return!K||W!==c.MX.TrialEligible&&W!==c.MX.TrialIneligible&&W!==c.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement(l.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:U,onCancel:U,onSubmit:j,showCancelButton:!0,cancelButtonText:d.t("Dismiss"),showSubmitButton:!0,title:d.t("Your huddle has ended"),submitButtonText:K.text},d.t("On the free version of Slack, your huddles are limited to {min} minutes. You may restart the huddle if you\u2019d like.",{min:30}))}h(m,"HuddleTimeLimitReachedModal"),m.displayName="HuddleTimeLimitReachedModal";var f=e(4054311754),u=e(4378915552),E=e(6928237551),v=e(9994173668),g=e(4357385957),T=e(5478938623),p=e(8823986650),O=e(2172170811),y=e(3766524426),C=e(3351247794),I=e(7657476646),M=e(3015119762),_=e(9383537253),P=e(6854947164),b=e(3666777625);const S=new o.Ay("huddles");function N(R){let{errorCode:U,isJoinError:F,closeModal:W}=R;var w;const K=(0,s.wA)(),j=(w=(0,f.cw)(M.Qn))===null||w===void 0?void 0:w.channelId,Q=(0,r.d4)(_.TM),J=(0,r.d4)(X=>(0,C.OL)(X,j)),z=(0,r.d4)(X=>(0,u.uz)(J)?(0,E.SB)(X,J,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),ie=(0,r.d4)(g.df),ee=S.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{maxAmount:ie}),ne=(0,t.useCallback)(()=>{K((0,I.RX)())},[K]),Z=(0,t.useCallback)(()=>{K((0,I.e$)())},[K]),te=(0,v.V)(J),he=(0,r.d4)(b.H7),ue=h(X=>t.createElement(p.A,{target:"_blank",href:`${(0,T.Zl)(he)}help/requests/new`},X),"renderContactUsLink");if(!(0,r.d4)(g.pl)&&!Q)return null;if(U===P.M6.FreemiumMaxParticipants)return ne(),null;const re=(()=>{switch(U){case P.M6.MaxParticipants:return ee;case P.M6.AudioJoinedFromAnotherDevice:return S.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.");case P.M6.ChimeMeetingEnded:return F?S.rt("The Huddle has ended."):te?S.rt("We ended the huddle since you were the only one there for a bit."):S.rt("We ended your huddle since you were the only one there for a bit.");case P.M6.PermissionDenied:return Q?S.rt("You are unable to join the Huddle as you do not have permission to join Huddles."):null;case O.uZ.CallEnded:return S.rt("The Huddle has ended.");case P.M6.DeviceLocked:return S.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,X=>{let{text:Y,tag:q}=X;return q==="a"?t.createElement(p.A,{onClick:Z},Y):null});case P.M6.FailedStartingRecording:case P.M6.FailedResumingRecording:return S.rt("We\u2019re not sure what went wrong, but try giving it another go in a few minutes.");case P.M6.FailedStartingRecordingUser:case P.M6.FailedResumingRecordingUser:return S.rt("It looks like not everyone on this huddle has access to this feature just yet.");case P.M6.FailedPausingRecording:return S.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try deleting the notes, or <a>contact us</a> for support.",null,X=>{let{text:Y,tag:q}=X;return q==="a"?ue(Y):null});case P.M6.FailedDeletingRecording:return S.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try ending the huddle and deleting the canvas once it\u2019s ready, or <a>contact us</a> for support.",null,X=>{let{text:Y,tag:q}=X;return q==="a"?ue(Y):null});case P.M6.GenericSomethingWentWrong:return S.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, <a>contact us</a> for support.",{},X=>{let{text:Y,tag:q}=X;return q==="a"?ue(Y):null});default:return S.rt("You\u2019ll have to go back and give it another try.")}})(),V=(()=>F?S.t("Can\u2019t join the huddle"):U===P.M6.AudioJoinedFromAnotherDevice?S.t("You\u2019ve joined the huddle on a different device"):U===P.M6.ChimeMeetingEnded&&!F?te?S.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:z}):S.t("You\u2019re no longer in a huddle"):U===P.M6.DeviceLocked?S.t("You\u2019re no longer in a huddle"):U===P.M6.FailedStartingRecording||U===P.M6.FailedStartingRecordingUser?S.rt("Couldn\u2019t start AI notes"):U===P.M6.FailedResumingRecording||U===P.M6.FailedResumingRecordingUser?S.rt("Couldn\u2019t resume AI notes"):U===P.M6.FailedPausingRecording?S.rt("Couldn\u2019t stop AI notes"):U===P.M6.FailedDeletingRecording?S.rt("Couldn\u2019t delete AI notes"):S.t("Something went wrong with your huddle"))(),H=(()=>U===P.M6.AudioInputStreamEnded||U===P.M6.MaxParticipants||U===P.M6.ChimeMeetingEnded&&!F?S.t("Got It"):S.t("OK"))();return t.createElement(l.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:W,onSubmit:W,showCancelButton:!1,showSubmitButton:!0,title:V,submitButtonText:H},re)}h(N,"HuddleErrorModal"),N.displayName="HuddleErrorModal";const L={HuddleErrorModal:N},D="huddle_error_modal";function k(R){switch(R.errorCode){case P.M6.ChimeMeetingEndedFromTimeLimit:return m(R);default:return N(R)}}h(k,"HuddleErrorModalManager");const x=(0,y.A)(k,{modalName:D,allowMultiple:!1,isStackable:!0})},3422865900:(B,A,e)=>{"use strict";e.d(A,{Wx:()=>U,YM:()=>L});var t=e(3134334389),s=e(6122756707),o=e(481313997),n=e(2947229296),c=e(414222479),l=e(2436862725),i=e(8859166048),a=e(1209276352),r=e(5478938623),d=e(300722e3),m=e(321010523),f=e(3766524426),u=e(280840163),E=e(3351247794),v=e(9905839656),g=e(4412949501),T=e(5965044477),p=e(5609235691),O=e(5793557592),y=e(7695964394),C=e(542703974),I=e(3666777625),M=e(2821633263),_=e.n(M);function P(){return P=Object.assign||function(F){for(var W=1;W<arguments.length;W++){var w=arguments[W];for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&(F[K]=w[K])}return F},P.apply(this,arguments)}h(P,"_extends");const b=new n.Ay("huddles"),S={elementName:"cancel",onClick:{enableClogAction:!0}},N={elementName:"start-huddle",onClick:{enableClogAction:!0}},L=h(F=>{let{channelId:W,channelType:w,channelMembersCount:K,isTeamOnTrial:j,isFreeTeam:Q,trialExpirationTS:J,handleOnSubmit:z,closeModal:ie,UNSAFE_parentSelector:ee,isCurrentTeamSponsoredInSlackConnectChannel:ne=!1}=F;const Z=(0,u.d4)(y.g),te=b.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),he=t.createElement(c.A,{channelId:W});let ue,de;switch(j&&!ne?de=m.UiComponentVariant.TRIAL_TEAM:Q&&!ne?de=m.UiComponentVariant.FREE_TEAM:de=m.UiComponentVariant.PAID_TEAM,w){case i.Cu.mpim:{const re=h(()=>b.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:K}),"genericCopy");Z?ue=re():j?ue=b.rt("Use this message as a jumping off point for a huddle with anyone in this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:(0,p.Pd)(J),fallbackHash:"2955534d96227983f0f85447fb8f3f044131c94f"}):Q?ue=b.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."):ue=re();break}case i.Cu.im:ue=b.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:{const re=h(()=>b.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:K,channelName:he}),"genericCopy");Z||ne?ue=re():j?ue=b.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:he,trialEndDate:(0,p.Pd)(J)}):Q?ue=b.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:he}):ue=re()}}return t.createElement(o.A,{uiComponentName:m.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:m.EventId.CANVAS_EVENT,uiComponentVariant:de},t.createElement(d.A,{onClose:ie,"data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:b.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}),title:te,onSubmit:z,submitAutoClogProps:N,onCancel:ie,cancelAutoClogProps:S,headerImageSrc:_(),className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:b.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:ee},t.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},ue)))},"BaseHuddleInThreadSpeedBumpModalBase");L.displayName="BaseHuddleInThreadSpeedBumpModalBase";const D=h(F=>{let{channelId:W,onConfirm:w,closeModal:K}=F;const j=(0,s.wA)(),Q=(0,u.d4)(ue=>(0,E.OL)(ue,W)),J=(0,i.mz)(Q),z=(0,u.d4)(ue=>(0,O.q8)(ue,W)),ie=(z==null?void 0:z.counts.member_count)||0,ee=(0,r.tc)((0,u.d4)(I.H7)),ne=(0,u.d4)(C.iH),Z=(0,u.d4)(C.Sk),te=(0,u.d4)(ue=>(0,a.u)(ue,Q));(0,t.useEffect)(()=>(j((0,g.A)({notificationName:T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:T.hw.IMPRESSION})),()=>{j((0,v.Ay)({spaceName:T.xu.LAUNCH_MODAL,action:T.hw.DISMISS}))}),[j]);const he=(0,t.useCallback)(()=>{w(),K==null||K()},[K,w]);return t.createElement(L,{channelType:J,channelMembersCount:ie,isFreeTeam:ee,isTeamOnTrial:ne,trialExpirationTS:Z,handleOnSubmit:he,channelId:W,onConfirm:w,closeModal:K,isCurrentTeamSponsoredInSlackConnectChannel:te})},"HuddleInThreadSpeedBumpModalBase");D.displayName="HuddleInThreadSpeedBumpModalBase";const k={spaceName:T.xu.LAUNCH_MODAL,notifications:{[T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:D}}},x=h(F=>{let{channelId:W,onConfirm:w,closeModal:K}=F;return t.createElement(l.Ay,P({},k,{channelId:W,onConfirm:w,closeModal:K}))},"HuddleInThreadSpeedBumpModal");x.displayName="HuddleInThreadSpeedBumpModal";var R=null;const U=(0,f.A)(x)},382506915:(B,A,e)=>{"use strict";e.d(A,{D7:()=>m,Lk:()=>E,Vp:()=>v,g6:()=>u});var t=e(3134334389),s=e(6122756707),o=e(3677587543),n=e(4894634110),c=e(280840163),l=e(7188858884),i=e(1224515515),a=e(6479016870),r=e(5133949941);let d=1;const m=h((g,T)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:p=!1,component:O=i.G7.HuddleCallNudgesBanner}=T;if(!p||!(0,a.kI)(g,O,i.X8.Click)&&!(0,a.kI)(g,O,i.X8.Dismiss))return!1;var y;const C=(y=(0,a.ky)(g,O,i.X8.Click))!==null&&y!==void 0?y:0;var I;const M=(I=(0,a.ky)(g,O,i.X8.Dismiss))!==null&&I!==void 0?I:0;return!(C>=d||M>=d)},"shouldShowHuddleDiscoveryBanner"),f=h(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:g=!1,component:T=UiComponent.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:UiComponent.HuddleCallNudgesBanner};const p=useDispatch();useEffect(()=>{g&&p(loadUserInteractions({interactions:[{component:T,type:InteractionType.Click},{component:T,type:InteractionType.Dismiss}],useCache:!0,cacheFilter:hasLoadedInteraction,reason:"huddle-discovery-calls"}))},[p,g,T])},"useHuddleDiscoveryCallsUserInteractions"),u=(0,n.Ay)("Send interaction to dismiss nudge",(g,T,p)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:O,interactionType:y}=p;if(!O)return;const C=T();(0,a.ky)(C,i.G7.HuddleCallNudgesBanner,y)>d||g((0,r.z)({component:i.G7.HuddleCallNudgesBanner,type:y,reason:"huddle-discovery-calls"}))});u.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const E=h(g=>{let{component:T,type:p}=g;const O=(0,s.wA)();return(0,t.useEffect)(()=>{O((0,r.b)({interactions:[{component:T,type:p}],reason:T}))},[O,T,p]),(0,c.d4)(y=>(0,a.kI)(y,T,p)?(0,a.PU)(y,T):null)},"useTrialProBannerInteraction"),v=(0,n.Ay)("Record trial pro banner interaction",(g,T,p)=>{let{component:O,type:y}=p;return g((0,r.z)({component:O,type:y,reason:O}))});v.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},(0,o.ul)("huddleInteractionUtils",{addOneMoreThanClickCount:g=>{const T=(0,l.$D)(g);d=(0,a.ky)(T,i.G7.HuddleCallNudgesBanner,i.X8.Click)+1},addOneMoreThanDismissCount:g=>{const T=(0,l.$D)(g);d=(0,a.ky)(T,i.G7.HuddleCallNudgesBanner,i.X8.Dismiss)+1}})},511274957:(B,A,e)=>{"use strict";e.d(A,{G$:()=>S,Oe:()=>k,Y6:()=>L});var t=e(3134334389),s=e(6122756707),o=e(481313997),n=e(2947229296),c=e(5150875261),l=e(414222479),i=e(4378915552),a=e(9963560),r=e(8859166048),d=e(5248257622),m=e(4527069385),f=e(3460720520),u=e(9866037031),E=e(2869254699),v=e(321010523),g=e(3766524426),T=e(280840163),p=e(1242487384),O=e(3351247794),y=e(5793557592),C=e(293248343),I=e(2577163594);function M(){return M=Object.assign||function(x){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&(x[F]=U[F])}return x},M.apply(this,arguments)}h(M,"_extends");const _=new n.Ay("huddles"),P={elementName:"huddles_confirmation_dialog_ok",eventId:v.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},b={elementName:"huddles_confirmation_dialog_cancel",eventId:v.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},S=h(x=>{let{children:R,closeModal:U,onConfirm:F,uiComponentName:W,...w}=x;const K=(0,t.useCallback)(()=>{F(),U==null||U()},[U,F]);return t.createElement(o.A,{uiComponentName:W,eventId:v.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.createElement(f.A,M({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:U,onClose:U,onSubmit:K,submitButtonText:_.t("OK"),submitAutoClogProps:P,cancelAutoClogProps:b},w),R))},"HuddleJoinModal");S.displayName="HuddleJoinModal";const N=h(x=>{let{prevChannelId:R,nextChannelId:U,onConfirm:F,closeModal:W}=x;const w=(0,T.d4)(ie=>(0,O.OL)(ie,R)),K=(0,T.Z2)(ie=>{if(!w)return[];let ee=[];if((0,r.LI)(w))ee=[(0,d.e)(w)];else if((0,r.yz)(w)){const ne=(0,a.Ug)(w);if(ne&&ne.length){const Z=(0,p.WR)(ie);ee=ne.filter(te=>te!==Z)}}return ee.map(ne=>(0,m.I)(ie,ne))}),j=(0,T.d4)(ie=>(0,O.OL)(ie,U)),Q=(0,T.Z2)(ie=>{if(!j)return[];let ee=[];if((0,r.LI)(j))ee=[(0,d.e)(j)];else if((0,r.yz)(j)){const ne=(0,a.Ug)(j);if(ne&&ne.length){const Z=(0,p.WR)(ie);ee=ne.filter(te=>te!==Z)}}return ee.map(ne=>(0,m.I)(ie,ne))});let J=_.rt("You\u2019re already in a huddle.");K.length?J=_.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:(0,c.A)(K).join("")}):w&&(0,i.uz)(w)&&(J=_.rt("You\u2019re already in a huddle in {channel}.",{channel:t.createElement(l.A,{channel:w,channelId:R})}));let z=_.rt("Would you like to leave it and join this one instead?");return Q.length?z=_.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.createElement("strong",null,(0,c.A)(Q).join(""))}):j&&(0,i.uz)(j)&&(z=_.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.createElement("strong",null,t.createElement(l.A,{channel:j,channelId:U}))})),t.createElement(S,{uiComponentName:v.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:_.t("Switch to this huddle?"),onConfirm:F,closeModal:W},t.createElement("p",null,J," ",z))},"HuddleSwitchModal");N.displayName="HuddleSwitchModal";const L=(0,g.A)(N),D=h(x=>{let{channelId:R,onConfirm:U,closeModal:F}=x;const W=(0,T.d4)(ne=>(0,O.OL)(ne,R)),w=(0,T.d4)(ne=>{const Z=(0,y.q8)(ne,R);return(Z==null?void 0:Z.counts.member_count)||0}),K=(0,T.d4)(ne=>(0,C.ty)(ne,"huddles_show_shouty_rooster")),[j,Q]=(0,t.useState)(K),J=(0,s.wA)(),z=W&&(0,i.uz)(W)&&t.createElement("strong",null,t.createElement(l.A,{channelId:R,channel:W})),ie=w>1?_.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.createElement("strong",null,w),channel:z}):_.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:z}),ee=(0,t.useCallback)(()=>{const ne=!j;Q(ne),J((0,I.AZ)({pref:"huddles_show_shouty_rooster",value:ne}))},[j,J]);return t.createElement(S,{uiComponentName:v.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:_.t("Start a huddle in this channel?"),onConfirm:U,closeModal:F},t.createElement("p",null,ie),t.createElement(E.A,{text:_.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.createElement(u.A,{name:"ns",checked:!j,onChange:ee,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");D.displayName="HuddleShoutyRoosterModal";const k=(0,g.A)(D)},7723440492:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(280840163),c=e(293248343),l=e(4859829937),i=e.n(l);const a=t.memo(f=>{let{className:u,iconClassName:E,allowMuteAnimation:v,wasMicEverEnabled:g,isMicStrikethroughRed:T}=f;return t.createElement("div",{className:o()("p-huddle_mic_icon p-huddle_mic_icon__container",u),"data-qa":"huddle_mic_icon_unmute"},t.createElement("svg",{className:E,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.createElement("path",{className:o()({"p-huddle_mic_icon__microphone--slash_animated":v&&g,"p-huddle_mic_icon__microphone--slash":T}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),r=t.memo(f=>{let{volumeLevel:u=0,className:E,iconClassName:v,allowUnmutedAnimation:g}=f;const[T,p]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(u!=="auto"){p(Math.min(1,u||0));return}const C=setInterval(()=>{const I=(Math.floor(Math.random()*100)+1)/100;p(I)},100);return()=>{clearInterval(C)}},[u]);const O=(0,n.d4)(C=>!(0,c.ty)(C,"a11y_animations")),y=(0,t.useMemo)(()=>g?O?t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3 8.9V11M5.8 6.1V13.8M8.6 4V16.6M11.4 7.5V12.4M14.2 5.4V14.5M17 8.9V11",stroke:"#178F65",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})):t.createElement("img",{className:"p-huddle_mic_icon__img",src:i(),alt:""}):t.createElement("svg",{className:v,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${T})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),[g,v,T,O]);return t.createElement("div",{className:o()("p-huddle_mic_icon p-huddle_mic_icon__container",E),"data-qa":"huddle_mic_icon_mute"},y)}),d=h(f=>{let{type:u,volumeLevel:E,className:v,iconClassName:g,allowMuteAnimation:T=!1,isMicStrikethroughRed:p=!1,allowUnmutedAnimation:O=!1}=f;const[y,C]=(0,t.useState)(u==="unmuted");return(0,t.useEffect)(()=>{u==="unmuted"&&C(!0)},[u]),u==="unmuted"?t.createElement(r,{className:v,iconClassName:g,volumeLevel:E,allowUnmutedAnimation:O}):t.createElement(a,{className:v,iconClassName:g,allowMuteAnimation:T,wasMicEverEnabled:y,isMicStrikethroughRed:p})},"HuddleMicIcon");d.displayName="HuddleMicIcon";const m=t.memo(d)},8740944669:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(7715417323),o=e(5128108788),n=e(7723440492),c=e(8168760232);function l(i){let{peerId:a,isMicrophoneEnabled:r,className:d,allowMuteIconAnimation:m=!1,isMicStrikethroughRed:f=!1}=i;const[u,E]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(!r)return s.A;const v=h(g=>{const T=(0,o.Ft)(g);E(T)},"onLevelUpdated");return c.A.subscribe(a,v),()=>{c.A.unsubscribe(a,v)}},[a,r]),t.createElement(n.A,{type:r?"unmuted":"muted",volumeLevel:u,className:d||"",allowMuteAnimation:m,isMicStrikethroughRed:f})}h(l,"HuddleMicVolumeIndicator")},2326510484:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(9227142567);function o(c){let{slackId:l,displayName:i}=c;return!l&&!i?null:l?t.createElement(s.A,{isBold:!1,id:l}):t.createElement("span",null,i)}h(o,"HuddleMsgTextUser"),o.displayName="HuddleMsgTextUser";const n=o},9029751022:(B,A,e)=>{"use strict";e.d(A,{V:()=>T});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(9962682172),l=e(5445535244),i=e(4385745391),a=e(6758393411),r=e(4190096030),d=e(3362542648),m=e(280840163),f=e(6277503403),u=e(7695964394),E=e(1623362425),v=e.n(E);const g=new n.Ay("huddles");function T(p){let{showProBadge:O,className:y}=p;const C=(0,m.d4)(f.qr),I=(0,m.d4)(u.g),M=d.zG.Vhq,_=(0,l.Ay)({promoSubtype:M}),P=(0,t.useMemo)(()=>t.createElement(c.A,{useLink:!0,variant:_,promoSubtype:d.zG.Vhq,ctaClassName:v().cta}),[_]);return!C||!I||_!==l.MX.TrialEligible&&_!==l.MX.TrialIneligible&&_!==l.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement("div",{className:o()(v().container,y)},t.createElement(r.A,null,t.createElement("div",{className:v().alertBanner},O&&t.createElement(i.a,{featurePlan:"std",size:a.vj.Medium,className:v().proBadge}),t.createElement("span",null,g.t("On the free version of Slack, your huddles are limited to {min} minutes.",{min:30}),"\xA0",P))))}h(T,"HuddleTimeLimitUpgradeAlert"),T.displayName="HuddleTimeLimitUpgradeAlert"},9778063004:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(2947229296);const o=new s.Ay("huddles");function n(l){let{actionLabel:i,deviceLabel:a,audioOnlyModeEnabledWarning:r}=l;if(r){const d=o.t("Audio only mode will be disabled if you turn on your camera",{fallbackHash:"27892acc411157e52b1022f480b10c11e51b2350"});return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},d))}return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},i),a&&t.createElement("div",{className:"p-huddle_tooltip_device_label"},a))}h(n,"HuddlesToolTipDeviceContent"),n.displayName="HuddlesToolTipDeviceContent";const c=n},1106085704:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>re,e3:()=>te,lc:()=>he});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(481313997),l=e(2947229296),i=e(5150875261),a=e(7175825412),r=e(414222479),d=e(8376599787),m=e(9782733248),f=e(491515040),u=e(9911704344),E=e(4054311754),v=e(6157971158),g=e(4378915552),T=e(9963560),p=e(8859166048),O=e(5248257622),y=e(4357385957),C=e(5291811316),I=e(5117478290),M=e(7318064140),_=e(4921096872),P=e(1538129653),b=e(5190921192),S=e(4317455038),N=e(321010523),L=e(2398473551),D=e(6619783004),k=e(280840163),x=e(1242487384),R=e(3351247794),U=e(5233827933),F=e(3015119762),W=e(9383537253),w=e(6381329795),K=e(6854947164),j=e(8282259428),Q=e(7418708689),J=e(3228638226);function z(){return z=Object.assign||function(V){for(var H=1;H<arguments.length;H++){var X=arguments[H];for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(V[Y]=X[Y])}return V},z.apply(this,arguments)}h(z,"_extends");const ie=new l.Ay("huddles"),ee={elementName:"huddles_invite_decline",eventId:N.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ne={elementName:"huddles_invite_joining_soon",eventId:N.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Z={elementName:"huddles_invite_join",eventId:N.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},te=h(V=>{let{topic:H,formattedTopic:X,channel:Y,channelName:q,otherMemberNamesString:fe,imMemberName:ce,experimentHuddlesLaterGroupOn:Ee}=V;if(!Ee)return t.createElement(t.Fragment,null);let Ae=H?ie.rt("Join the scheduled huddle about {topic}",{topic:X}):ie.rt("Join the scheduled huddle");return(0,p.LI)(Y)&&ce?Ae=H?ie.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:X,imMemberName:ce}):ie.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:ce}):(0,p.yz)(Y)?Ae=H?ie.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:X,otherMemberNamesString:fe}):ie.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:fe}):(0,g.uz)(Y)&&!(0,p.LI)(Y)&&(Ae=H?ie.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:X,channelName:q}):ie.rt("Join the scheduled huddle in {channelName}",{channelName:q})),Ae},"getScheduledHuddleInviteCopy");function he(V){let{channelId:H,senderUserId:X,callId:Y,teamId:q,isInviter:fe}=V;const ce=(0,s.wA)(),{activeTab:Ee}=(0,t.useContext)(u.A),Ae=(0,k.d4)(W.MJ),le=(0,k.d4)(x.WR),oe=(0,k.d4)(we=>(0,C.A)(we,X)),me=(0,k.d4)(we=>(0,R.OL)(we,H)),pe=(0,k.d4)(we=>{if(!me||!Ae||!(0,p.LI)(me))return;const ze=(0,O.e)(me);if(ze)return(0,C.A)(we,ze)}),Te=(0,k.Z2)(we=>(0,p.yz)(me)?((0,T.Ug)(me)||[]).filter(ut=>ut!==X&&ut!==le).map(ut=>(0,C.A)(we,ut)).filter(ut=>ut):[]),Me=(0,E.cw)(F.vO),Ue=(0,y.eu)(Me),Ne=(0,k.d4)(we=>(0,D.Ck)(we,Y,le))==="joining_soon",be=(0,k.d4)(we=>(0,D.H6)(we,Y));var ke;const Ke=(ke=be==null?void 0:be.isScheduled)!==null&&ke!==void 0?ke:!1,$=(0,k.d4)(we=>{var ze;return(ze=(0,J.F8)(we,{tab:Ee,container:Q.mq.Primary}))===null||ze===void 0?void 0:ze.id}),ae=(0,E.cw)(L.getFocusedWorkspace),Ge=H===$&&ae&&q&&ae===q,nt=(0,t.useCallback)(()=>{ce((0,f.A)({callId:Y,channelId:H,inviteResponse:f.J.DECLINE}))},[Y,H,ce]),[at,Ve]=(0,t.useState)(!1),[Se,Pe]=(0,t.useState)(!1),Fe=(0,t.useCallback)(()=>{h(async()=>{Pe(!0),Ve(!1);const ze=ce((0,f.A)({callId:Y,channelId:H,inviteResponse:f.J.JOINING_SOON}));if(ze)try{await ze}catch{Ve(!0)}finally{Pe(!1)}else Pe(!1)},"respondToInvite")()},[Y,H,ce]),ge=(0,t.useCallback)(()=>{ce((0,w.A)({channelId:H,callId:Y,entryPoint:K.su.SIDEBAR_HUDDLE_INVITE}))},[H,Y,ce]),He=(0,k.d4)(we=>H&&(0,j.o)(we,H))||"",Qe=He?t.createElement("span",{className:"p-huddle_invite__topic"},t.createElement(d.A,{text:He})):null,_e=t.createElement("span",{className:"p-huddle_invite__sender_name"},oe);let Le;if(Ke){const we=t.createElement(r.A,{channelId:H,boldIcon:!0});Le=te({topic:He,formattedTopic:Qe,channel:me,channelName:we,experimentHuddlesLaterGroupOn:!0})}else if((0,p.LI)(me))fe?Le=te({topic:He,formattedTopic:Qe,channel:me,imMemberName:pe,experimentHuddlesLaterGroupOn:Ae}):Le=ie.rt("Join huddle with {senderName}",{senderName:_e});else if((0,p.yz)(me)){const we=(0,i.A)(Te,{react:!0}).join("");if(fe)Le=te({topic:He,formattedTopic:Qe,channel:me,otherMemberNamesString:we,experimentHuddlesLaterGroupOn:Ae});else{const ze=(0,i.A)([oe].concat(Te),{react:!0}).join(""),ut=t.createElement("span",{className:"p-huddle_invite__all_member_names"},ze);Le=ie.rt("Join huddle with {allMemberNames}",{allMemberNames:ut})}}else{const we=t.createElement(r.A,{channelId:H,boldIcon:!0});fe?Le=te({topic:He,formattedTopic:Qe,channel:me,channelName:we,experimentHuddlesLaterGroupOn:Ae}):Ge?Le=ie.rt("{senderName} is inviting you to a huddle in this channel",{senderName:_e}):Le=ie.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:_e,channelName:we})}return{avatarOverflowBadgeCount:(0,p.yz)(me)?Te.length+1:0,didRespondingToInviteFail:at,formattedTopic:Qe,handleDecline:nt,handleJoiningSoon:Fe,handleJoin:ge,inviteText:Le,isCurrentUserJoiningSoon:Ne,isJoiningSoonResponsePending:Se,isLoading:Ue}}h(he,"useHuddleInviteProps"),he.displayName="useHuddleInviteProps";const ue={name:"warning"},de=h(V=>{let{channelId:H,senderUserId:X,callId:Y,teamId:q}=V;const fe=(0,k.d4)(W.MJ),ce=(0,k.d4)(x.WR),Ee=fe&&ce===X,Ae=(0,m.A)(H),{avatarOverflowBadgeCount:le,didRespondingToInviteFail:oe,formattedTopic:me,handleDecline:pe,handleJoiningSoon:Te,handleJoin:Me,inviteText:Ue,isCurrentUserJoiningSoon:xe,isJoiningSoonResponsePending:Ne,isLoading:be}=he({channelId:H,senderUserId:X,callId:Y,teamId:q,isInviter:Ee}),ke=(0,t.useRef)(null),Ke=(0,t.useCallback)(()=>{var ge;(ge=ke.current)===null||ge===void 0||ge.focus()},[]);(0,v.A)(M.Ay.HUDDLE_INVITE_JOIN,Ke);const $="huddle-invite-text",ae=t.createElement(_.Ay,{type:"outline",className:"p-huddle_invite__button",onClick:pe,"data-qa":"huddle_invite_declined",disabled:be,autoClogProps:ee},t.createElement("span",{className:"p-huddle_invite__label"},ie.t("Decline"))),Ge=t.createElement(P.A,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Ne,onClick:Te,disabled:be,autoClogProps:ne,"aria-label":ie.t("Be there soon")},t.createElement("span",{className:"p-huddle_invite__label"},ie.t("Be there soon"))),[nt,at]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let ge=0;return xe&&(at(!0),ge=window.setTimeout(()=>{at(!1)},6e3)),()=>{ge&&clearTimeout(ge)}},[xe]);const Ve=nt?t.createElement("div",{className:"p-huddle_invite__header_notif"},t.createElement("div",{className:"p-huddle_invite__header_notif_content"},t.createElement(b.A,{name:"clock",size:"20"}),t.createElement("span",{className:"margin_left_50"},ie.t("Join when you\u2019re ready!")))):null,Se=t.createElement(P.A,{ref:ke,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:be,onClick:Me,"data-qa":"huddle_invite_join",autoClogProps:Z,"aria-label":ie.t("Join")},t.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},ie.t("Join"))),Pe=(0,k.d4)(U.jI),Fe=Pe?{width:Pe}:null;return t.createElement(c.A,z({eventId:N.EventId.CANVAS_EVENT,uiComponentName:N.UiComponentName.HUDDLES_INVITE,clogImpression:!0},Ae),t.createElement("div",z({className:n()("p-huddle_invite",{"p-huddle_invite--with_header":!!me})},Fe&&{style:Fe}),t.createElement("div",{className:"p-huddle_invite__content"},Ve,me&&t.createElement("div",{className:"p-huddle_invite__message_header"},me),t.createElement("div",{className:"p-huddle_invite__message"},!Ee&&t.createElement("div",{className:n()("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!le})},t.createElement(a.Ay,{key:X,className:"p-huddle_invite__avatar",size:le?14:20,userId:X,isInteractive:!1}),!!le&&t.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},le)),t.createElement(I.z,null,t.createElement("div",{className:"p-huddle_invite__text",id:$},Ue,t.createElement("span",{className:"offscreen"},ie.rt("Press {key} to join",{key:(0,y.$z)()}))))),t.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":$},Se,!xe&&Ge,ae)),oe&&t.createElement(S.A,{svgIconProps:ue},ie.t("Something went wrong responding to the invite."))))},"HuddleInvite");de.displayName="HuddleInvite";const re=de},491515040:(B,A,e)=>{"use strict";e.d(A,{A:()=>r,J:()=>i});var t=e(6112135410),s=e(4894634110),o=e(7281000332),n=e(1874256115),c=e(3661753604),l=e(2954506804),i;(function(d){d.ACCEPT="accept",d.DECLINE="decline",d.JOINING_SOON="joining_soon"})(i||(i={}));const a=(0,s.Ay)("Respond to an invitation to a huddle",(d,m,f)=>{let{channelId:u,inviteResponse:E,callId:v}=f;d((0,l.z)());let g;return E!==i.ACCEPT&&(g=d((0,t.Q)({response:E,channelId:u,roomId:v,reason:"respond-to-huddle-invite"}))),E===i.DECLINE&&((0,o.dispatchForClientStore)((0,n.u8)(u)),d((0,c.V3)(u))),g});a.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"};const r=a},9354166172:(B,A,e)=>{"use strict";e.d(A,{x:()=>i});var t=e(1985486637),s=e(4894634110),o=e(609275055),n=e(3661753604),c=e(8492660032),l=e(6854947164);const i=(0,s.Ay)("Creates a new huddle in mpim where all huddle participants are channel members",(a,r,d)=>{let{channelId:m,memberIds:f}=d;return a((0,o.r)({memberIds:f})).then(u=>{a((0,n.Ay)(m)),a((0,c.A)({channelId:u.id,entryPoint:l.su.CREATE_NEW_MPIM}))}).catch(u=>t.S.reject(u))});i.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},9008610252:(B,A,e)=>{"use strict";e.d(A,{A:()=>D});var t=e(3134334389),s=e(6122756707),o=e(2947229296),n=e(414222479),c=e(2681072893),l=e(4199861322),i=e(4054311754),a=e(7951031243),r=e(102523945),d=e(7874250141),m=e(280840163),f=e(3351247794),u=e(205540855),E=e(3015119762);const v=new o.Ay("huddles"),g=h(k=>{let{numOfExternalMembers:x,members:R}=k;const U=(0,m.d4)(d.Kc),F=(0,i.cw)(E.hc)||"",W=(0,m.d4)(H=>(0,f.OL)(H,F)),w=(0,m.d4)(H=>(0,u._Z)(H,"invite_to_channel_permission")==="on"),K=(0,m.d4)(H=>(0,r.Q)(H,W)),j=(0,m.d4)(H=>(0,a.q)(H,W)),Q=x===R.length,J=x>0,z=!x,ie=R.length-x>0,ee=!(R.length-x),ne=v.rt("They can join the huddle, but since you are not allowed to invite external people to this channel, they won\u2019t be able to see messages or reply to the thread."),Z=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(l.A,{id:U}),channelName:t.createElement(n.A,{className:"bold",channel:W})})),t.createElement("p",null,v.t("You don\u2019t have permission to add external people to this channel."))),te=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(l.A,{id:U}),channelName:t.createElement(n.A,{className:"bold",channel:W})}))),he=v.rt("They can join the huddle, but since you are not allowed to invite people from {org} to this channel, they won\u2019t be able to see messages or reply to the thread.",{org:t.createElement(l.A,{id:U})}),ue=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(l.A,{id:U}),channelName:t.createElement(n.A,{className:"bold",channel:W})})),t.createElement("p",null,v.t("You don\u2019t have permission to add internal people to this channel."))),de=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(l.A,{id:U}),channelName:t.createElement(n.A,{className:"bold",channel:W})}))),re=v.rt("They can join the huddle, but since you are not allowed to invite people to this channel, they won\u2019t be able to see messages or reply to the thread."),V=v.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:t.createElement(n.A,{className:"bold",channel:W})});switch(!0){case(!w&&!j&&Q):return ne;case(!w&&!j&&J):return Z;case(!w&&!j&&z):return te;case(!w&&j):return V;case(w&&K&&!j&&Q):return ne;case(w&&K&&!j&&J):return Z;case(w&&K&&!j&&z):return te;case(w&&!K&&j&&z):return he;case(w&&!K&&j&&ie):return ue;case(w&&!K&&j&&ee):return de;case(w&&!K&&!j):return re;default:return V}},"DisallowedHuddleInviteSubtitle");g.displayName="DisallowedHuddleInviteSubtitle";const T=g;var p=e(6915886995),O=e(2215959437),y=e(7240202072),C=e(1959543078),I=e(5181078482),M=e(3451857649),_=e(3766524426),P=e(5013046143),b=e(2069063006);const S=new o.Ay("huddles");function N(k){let{members:x}=k;const R=(0,s.wA)(),[U,F]=(0,t.useState)(null),[W,w]=(0,t.useState)([]),[K,j]=(0,t.useState)(!1),Q=(0,i.cw)(E.hc)||"",J=(0,m.d4)(le=>(0,f.OL)(le,Q)),z=(0,t.useCallback)(()=>R((0,b.O)()),[R]),ie=(0,t.useCallback)(()=>R((0,b.O)({closeAll:!0})),[R]),ee=(0,t.useCallback)(le=>{F(le),R((0,p.Cw)({channelId:Q,users:le})).then(()=>{W.push(le),w(W),F(null)}).catch(()=>{F(null),j(!0)})},[Q,R,W]),ne=(0,m.d4)(le=>(0,u._Z)(le,"invite_to_channel_permission")==="on"),Z=(0,m.d4)(le=>(0,u._Z)(le,"shared_channel_invite_requested_event_ga")==="on"),te=(0,m.d4)(le=>(0,P.Q)(le,"shared_channel_invite_requested",J.id)&&Z),he=(0,m.d4)(le=>(0,O.Z)(le,x)),ue=(0,t.useMemo)(()=>({addedToChannel:S.t("Added to channel"),notInChannel:S.t("Not in channel"),inviteRequestPending:Z?S.t("Invitation request pending approval"):"",added:S.t("Added"),pending:Z?S.t("Pending"):"",inviteToChannel:S.t("Invite to channel"),cantBeInvitedToChannel:S.t("Can\u2019t be invited to channel")}),[Z]),de=(0,m.d4)(le=>(0,r.Q)(le,J)),re=(0,m.d4)(le=>(0,a.q)(le,J)),V=(0,m.Z2)(le=>x.filter(oe=>(0,y.i)(le,oe))),H=V.length,X=!ne&&!re,Y=ne&&de&&!re,q=H===x.length,fe=!H,ce=(0,t.useMemo)(()=>S.rt("{count, plural, =1 {This person is not a member} other {These people are not members}} of {channelName}",{count:x.length,channelName:t.createElement(n.A,{channel:J})}),[J,x]),Ee=(0,t.useCallback)(le=>le&&te?ue.inviteRequestPending:le?ue.addedToChannel:ue.notInChannel,[te,ue.addedToChannel,ue.inviteRequestPending,ue.notInChannel]),Ae=(0,t.useCallback)((le,oe)=>{let me;switch(oe&&te?me=ue.pending:me=oe?ue.added:ue.inviteToChannel,!0){case((X||Y)&&q):return null;case((X||Y)&&V.includes(le)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ue.cantBeInvitedToChannel);case(ne&&!de&&re&&fe):return null;case(ne&&!de&&re&&!V.includes(le)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ue.cantBeInvitedToChannel);case(ne&&!de&&!re):return null;default:return t.createElement(I.lV,{type:"outline",size:"small",disabled:oe,loading:U===le,onClick:()=>ee(le),"aria-label":me},me)}},[te,ue.pending,ue.added,ue.inviteToChannel,ue.cantBeInvitedToChannel,X,Y,q,V,ne,de,re,fe,U,ee]);return t.createElement(M.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:z,contentLabel:ce,shouldReturnFocusAfterClose:!0},t.createElement(M.rQ,null,t.createElement(M.Rc,{title:ce}),t.createElement("div",{className:"p-huddle_invite_add_to_channel__subtitle"},t.createElement(T,{numOfExternalMembers:H,members:x}))),t.createElement(M.$m,null,t.createElement(M.qf,null,K&&t.createElement(C.Ay,{className:"margin_bottom_150",level:C.A_.error,type:C.QE.inline},S.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"})),he.map(le=>{const oe=W.includes(le);return t.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:le},t.createElement(c.Ay,{id:le,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:t.createElement("small",{className:"sk_dark_gray"},Ee(oe))}),Ae(le,oe))}))),t.createElement(M.jl,null,t.createElement(M.ox,null,t.createElement(I.Ay,{onClick:ie,type:"primary"},ne&&!de||!re?S.t("OK"):S.t("Done")))))}h(N,"HuddleInviteAddToChannel"),N.displayName="HuddleInviteAddToChannel";const L={HuddleInviteAddToChannel:N},D=(0,_.A)(N,{isStackable:!0})},7499734780:(B,A,e)=>{"use strict";e.d(A,{A:()=>He});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(235108050),l=e(481313997),i=e(3889517373),a=e(605568209),r=e(2947229296),d=e(5150875261),m=e(7175825412),f=e(414222479),u=e(9227142567),E=e(5395353422),v=e(7921707988),g=e(9029751022),T=e(9008610252),p=e(9016323474),O=e(961883039),y=e(9819891010),C=e(1959543078),I=e(280840163),M=e(9383537253),_=e(6766178921);const P=new r.Ay("huddles"),b=t.memo(Qe=>{let{error:_e}=Qe;const Le=(0,I.d4)(ut=>(0,_.nv)(ut,_e.invitedMemberId)),Ie=(0,I.d4)(ut=>(0,y.sE)(ut,Le));if(!(0,I.d4)(M.TM))return null;let ze=P.t("{userName} could not be invited to the Huddle.",{userName:Ie});return _e.inviteRejectionReason===O.g.RecipientHuddlesDisabled&&(ze=P.t("{userName} could not be invited as Huddles is not enabled for them.",{userName:Ie})),t.createElement(C.Ay,{level:"error"},ze)});var S=e(9530796823),N=e(2800127262),L=e(9597565788),D=e(1360127216),k=e(4797202944);function x(Qe){let{memberId:_e}=Qe;const Le=(0,I.d4)(we=>(0,_.nv)(we,_e)),Ie=(0,I.d4)(we=>(0,y.sE)(we,Le,!1,!1));return(0,D.mX)(Le)?t.createElement(k.A,{type:"unknown"}):(0,D.lv)(Le)?t.createElement(k.A,{type:"non-existent"}):t.createElement("span",null,Ie)}h(x,"DeprecatedHuddleName"),x.displayName="DeprecatedHuddleName";var R=e(4054311754),U=e(9006442414),F=e(3351247794),W=e(3015119762);const w=new r.Ay("huddles");function K(Qe){let{unknownMemberIds:_e}=Qe;const Le=(0,R.cw)(W.hc),Ie=(0,I.d4)(ut=>(0,F.OL)(ut,Le)),we=(0,t.useMemo)(()=>Le?_e:[],[Le,_e]);let ze;if(we.length===1)ze=w.rt("{name1} is not a member of {channel}.",{name1:t.createElement(x,{memberId:we[0]}),channel:t.createElement(f.A,{channel:Ie})});else if(we.length===2)ze=w.rt("{name1} and {name2} are not a member of {channel}.",{name1:t.createElement(x,{memberId:we[0]}),name2:t.createElement(x,{memberId:we[1]}),channel:t.createElement(f.A,{channel:Ie})});else if(we.length===3)ze=w.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:t.createElement(x,{memberId:we[0]}),name2:t.createElement(x,{memberId:we[1]}),name3:t.createElement(x,{memberId:we[2]}),channel:t.createElement(f.A,{channel:Ie})});else if(we.length>3){const[ut,_t,yt,...Ot]=we,It=Ot.map(kt=>t.createElement(x,{key:kt,memberId:kt}));ze=w.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:t.createElement(x,{memberId:ut}),name2:t.createElement(x,{memberId:_t}),name3:t.createElement(x,{memberId:yt}),channel:t.createElement(f.A,{channel:Ie}),numOthers:we.length-3},kt=>{let{text:gt}=kt;return t.createElement(U.Ay,{tip:(0,d.A)(It,{noEscape:!0})},t.createElement("span",null,gt))})}return t.createElement("small",null,ze)}h(K,"HuddleInviteNotAMember"),K.displayName="HuddleInviteNotAMember";const j=K;var Q=e(7839986218),J=e(9744931820),z=e(539692672),ie=e(503109336),ee=e(1240477450),ne=e(353071615),Z=e(1263278196),te=e(9929095917),he=e(398824776),ue=e(6251135763),de=e(3134986613),re=e(1242487384);const V=10,H=new r.Ay("huddles");var X;(function(Qe){Qe.CHANNEL="channel",Qe.PEOPLE="people"})(X||(X={}));const Y=h(Qe=>{let{isFreeTeam:_e,onSuggestedChannelSelected:Le,onSuggestedUserSelected:Ie,selectedChannelId:we,selectedMemberIds:ze}=Qe;const ut=(0,I.d4)(re.WR),_t=(0,I.wz)(de.b5),yt=(0,I.wz)(Ye=>(0,de.Fl)(Ye,V)),Ot=(0,I.wz)(Ye=>{if(!_t)return[];if(ze.length)return[];const ot=[];return _t.forEach(ht=>{if(ht.id===we)return;const tt=(0,F.OL)(Ye,ht.id);(0,ee.F)(tt)||ot.push(ht)}),ot}),It=(0,t.useMemo)(()=>Ot.map(Ye=>Ye.id),[Ot]),kt=(0,I.wz)(Ye=>{if(!yt)return[];if(we)return[];const ot=[],ht=new Set;return yt.forEach(tt=>{if(tt.id===ut||ze.includes(tt.id)||ht.has(tt.id))return;ht.add(tt.id);const ct=(0,_.nv)(Ye,tt.id);(0,Z.A)(ct)||(0,ne.oy)(ct)||ot.push(tt)}),ot}),gt=(0,t.useMemo)(()=>kt.map(Ye=>Ye.id),[kt]),Gt=(0,t.useMemo)(()=>{const ht=gt.length*60,tt=32,ct=It.length*tt;return Math.min(Math.max(ht,ct),240)},[It,gt]),Pt=(0,t.useCallback)(Ye=>{if(!Ye.id)return;(0,ue.A)(Ye.id)?Le(Ye.id):Ie(Ye.id)},[Le,Ie]),jt=(0,t.useCallback)(Ye=>{const ot=Ot[Ye];if(ot)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement(z.A,{channelId:ot.id}))},[Ot]),Qt=(0,t.useCallback)(()=>t.createElement(J.A,{disableHeight:!0},Ye=>{let{width:ot}=Ye;return t.createElement(he.A,{"aria-label":H.t("Channel"),keys:It,rowRenderer:jt,onItemClick:Pt,width:ot,height:Gt})}),[Pt,jt,It,Gt]),Jt=(0,t.useCallback)(Ye=>{const ot=kt[Ye];if(ot)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement(ie.A,{id:ot.id}))},[kt]),Yt=(0,t.useCallback)(()=>t.createElement(J.A,{disableHeight:!0},Ye=>{let{width:ot}=Ye;return t.createElement(he.A,{"aria-label":H.t("People"),keys:gt,rowRenderer:Jt,onItemClick:Pt,width:ot,height:Gt})}),[Pt,Jt,gt,Gt]),[Rt,Bt]=(0,t.useState)(X.PEOPLE),dn=(0,t.useCallback)(Ye=>{Bt(Ye)},[]);(0,t.useEffect)(()=>{Rt===X.PEOPLE&&we?Bt(X.CHANNEL):Rt===X.CHANNEL&&ze.length&&Bt(X.PEOPLE)},[Rt,we,ze]);const Mt=(0,t.useMemo)(()=>{const Ye=[];return gt.length&&Ye.push({title:H.t("People"),id:X.PEOPLE,content:Yt()}),It.length&&Ye.push({title:H.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:X.CHANNEL,content:Qt()}),Ye},[It,gt,Qt,Yt]);return _e?null:t.createElement("div",{className:"p-huddle_start_suggestion_tabs"},t.createElement(te.A,{fullHeight:!0,tabs:Mt,currentTabId:Rt,onTabChange:dn,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");Y.displayName="HuddleStartSuggestionTabs";const q=t.memo(Y);var fe=e(3857210657),ce=e(6091707401),Ee=e(9062511843),Ae=e(8859166048),le=e(4357385957),oe=e(5478938623),me=e(5181078482),pe=e(3451857649),Te=e(321010523),Me=e(609275055),Ue=e(6277503403),xe=e(418252839),Ne=e(6381329795),be=e(6854947164),ke=e(6084367285),Ke=e(5965044477),$=e(5092593511),ae=e(1641547755),Ge=e(542703974),nt=e(1631152177),at=e(3666777625);function Ve(){return Ve=Object.assign||function(Qe){for(var _e=1;_e<arguments.length;_e++){var Le=arguments[_e];for(var Ie in Le)Object.prototype.hasOwnProperty.call(Le,Ie)&&(Qe[Ie]=Le[Ie])}return Qe},Ve.apply(this,arguments)}h(Ve,"_extends");var Se;(function(Qe){Qe.COMPOSER="composer",Qe.PUBLIC_CHANNEL="public_channel",Qe.PRIVATE_CHANNEL="private_channel"})(Se||(Se={}));function Pe(Qe){let{channel:_e}=Qe;return _e?_e&&(0,Ae.Zp)(_e)?Se.PRIVATE_CHANNEL:Se.PUBLIC_CHANNEL:Se.COMPOSER}h(Pe,"getModalContext");const Fe=new r.Ay("huddles");function ge(Qe){let{closeModal:_e,callId:Le,channel:Ie,channelSuggestion:we,memberSuggestionId:ze,selectedMemberIds:ut=a.Ml}=Qe;const _t=(0,s.wA)(),yt=(0,Ee.A)(),Ot=Pe({channel:Ie}),It=Ot===Se.PRIVATE_CHANNEL&&!(0,Ae.cb)(Ie),kt=Ot===Se.COMPOSER,[gt,Gt]=(0,t.useState)(ut),[Pt,jt]=(0,t.useState)(),[Qt,Jt]=(0,t.useState)(!1),[Yt,Rt]=(0,t.useState)(!1),Bt=(0,I.d4)(M.TM),[dn,Mt]=(0,t.useState)(void 0),Ye=(0,I.d4)(re.WR),ot=(0,I.d4)(at.H7),ht=(0,oe.tc)(ot),tt=(0,I.d4)(Ge.iH),ct=(0,I.d4)(Nn=>(0,$.$)(Nn,(Ie==null?void 0:Ie.id)||"")),rn=(0,I.d4)(M.Si),ln=(0,I.d4)(Ue.qr),on=(0,I.d4)(nt.$J),De=!!(0,I.d4)(Nn=>(0,ke.Hp)(Nn,Ke.xu.HUDDLE_INVITE_MODAL)),We=(0,I.Z2)(Nn=>(0,Ue.ft)(Nn,Ie==null?void 0:Ie.id).filter(xn=>xn.id!==Ye).map(xn=>xn.id)),it=(0,I.d4)(le.pl),Nt=(0,I.Z2)(Nn=>It?gt.filter(xn=>{const Xn=Ie&&(0,ae.Sv)(Nn,Ie.id,xn);return Xn&&Xn.isKnown&&!(Xn!=null&&Xn.isMember)}):[]);(0,t.useEffect)(()=>{we&&jt({id:we.id,isCurrentSuggestedChannel:!0})},[we]),(0,t.useEffect)(()=>{ze&&Gt([ze])},[ze]);const sn=(0,t.useCallback)(Nn=>Gt(Nn),[]),en=(0,t.useCallback)(Nn=>{if(Nn===(Pt==null?void 0:Pt.id)&&(Pt!=null&&Pt.isCurrentSuggestedChannel)){jt({id:Nn,isCurrentSuggestedChannel:!0});return}jt({id:Nn,isCurrentSuggestedChannel:!1})},[Pt==null?void 0:Pt.id,Pt==null?void 0:Pt.isCurrentSuggestedChannel]),_n=(0,t.useCallback)(Nn=>{Gt(gt.concat(Nn))},[gt]),Dn=(0,t.useCallback)(()=>{jt({id:Ie==null?void 0:Ie.id,isCurrentSuggestedChannel:!0})},[Ie==null?void 0:Ie.id]),On=(0,t.useCallback)(()=>{Pt!=null&&Pt.id&&(_t((0,Ne.A)({channelId:Pt.id,entryPoint:be.su.COMPOSER_HUDDLE_START})),_e())},[Pt,_t,_e]),In=(0,t.useCallback)(async()=>{Jt(!0),await _t((0,Me.r)({memberIds:gt})).then(Nn=>{_t((0,Ne.A)({channelId:Nn.id,entryPoint:be.su.COMPOSER_HUDDLE_START})),_e(),Jt(!1),Rt(!1)}).catch(Nn=>{yt.error(Nn),Jt(!1);const{message:xn}=Nn;(xn==null?void 0:xn.indexOf(i.O3.INVALID_USER_COMBINATION))!==-1&&Rt(!0)})},[gt,_t,yt,_e]),bn=(0,t.useCallback)(async()=>{if(!Ie)return;Jt(!0);let Nn=gt;(Pt==null?void 0:Pt.id)===Ie.id&&(Pt!=null&&Pt.isCurrentSuggestedChannel)&&(Nn=(0,c.A)([...gt,...ct])),await _t((0,xe.A)({channelId:Ie.id,userIds:Nn})).then(()=>{Jt(!1),Nt&&Nt.length>0&&It?_t((0,T.A)({members:Nt})):_e()}).catch(xn=>{yt.error(xn),Jt(!1),Bt&&Mt(xn)})},[Ie,ct,_e,_t,Bt,It,yt,Pt==null?void 0:Pt.id,Pt==null?void 0:Pt.isCurrentSuggestedChannel,gt,Nt]),Hn=(0,t.useMemo)(()=>Ot===Se.COMPOSER?Pt!=null&&Pt.id?On:In:bn,[bn,In,Ot,Pt,On]),vn={[Se.COMPOSER]:{eventId:Te.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:Te.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[Se.PUBLIC_CHANNEL]:{eventId:Te.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[Se.PRIVATE_CHANNEL]:{eventId:Te.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},Sn=h(()=>De?null:ht&&!rn&&!ln?t.createElement(N.A,null):tt?t.createElement(fe.A,{v2ClassName:n()({"p-huddle_invite_modal_banner":on})}):null,"maybeRenderBanner");Sn.displayName="maybeRenderBanner";const gn=vn[Ot],Rn=(0,t.useMemo)(()=>kt?Fe.t("Start a Huddle"):gt.length>1?Fe.t("Send Invites"):Fe.t("Send Invite"),[kt,gt]);if(!it)return null;const Qn=Fe.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),Yn=h(Nn=>t.createElement(E.A,{articleId:4402059015315,ariaLabel:Fe.t("Learn more about Huddles"),forceOpenInBrowser:!0},Nn),"renderLearnMoreLink");let Jn,$n,_s,os;const fs=h(Nn=>{const xn=Nn.map(Xn=>t.createElement(u.A,{key:Xn,isBold:!1,id:Xn}));return xn&&(0,d.A)(xn)},"listifiedOverflowMembers");if(fs.displayName="listifiedOverflowMembers",ht&&rn&&!ln)$n=Fe.t("Invite someone to your huddle"),Jn=It?Fe.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:t.createElement(f.A,{channel:Ie}),"<a>":Nn=>{let{text:xn}=Nn;return Yn(xn)}}):Fe.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":Nn=>{let{text:xn}=Nn;return Yn(xn)}});else if(kt?($n=Fe.t("Start a Huddle"),_s=on?Fe.t("You can invite whomever you\u2019d like to the huddle, they\u2019ll receive a notification in Slack to join."):Fe.t("Find a person or channel to huddle with")):($n=Fe.t("Invite people to your huddle"),_s=It?Qn:Fe.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),Ie!=null&&Ie.id&&We.length){const Nn=Fe.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:We.length-1,firstParticipant:t.createElement(u.A,{isBold:!0,id:We[0]}),secondParticipant:t.createElement(u.A,{isBold:!0,id:We[1]}),"<a>":xn=>{let{text:Xn}=xn;return t.createElement(U.Ay,{zIndex:"above_fs",tip:fs(We.slice(2))},t.createElement("span",null,Xn))}});os=t.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},t.createElement(v.i,{channelId:Ie.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:m.RG.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),t.createElement("div",null,Nn))}const is=Bt&&dn!==void 0,Vn="huddle-invite-description";return t.createElement(pe.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:_e,contentLabel:$n,describedby:Vn,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},t.createElement(pe.rQ,null,t.createElement(pe.Rc,{title:$n,subtitle:_s})),t.createElement(pe.$m,null,t.createElement(pe.qf,null,os,Jn&&t.createElement("p",{id:Vn},Jn),t.createElement(L.A,{isFreeTeam:ht&&!ln,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:rn,channel:Ie,otherMembersInHuddle:We,onSelectedMembersChange:sn,onSelectedChannelChange:en,selectedMemberIds:gt,selectedChannel:Pt}),It&&Nt&&Nt.length>0&&t.createElement(j,{unknownMemberIds:Nt}),Yt&&t.createElement(C.Ay,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},Fe.t("All external people must already be in at least one channel together to send this invitation.")),is&&t.createElement(b,{error:dn}),t.createElement(ce.s,null)),Sn(),ln&&ht&&!De&&t.createElement(g.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),Le&&t.createElement(Q.A,{activeHuddleCallId:Le,channel:Ie,isFreeTeam:ht&&!ln,onSuggestedUserSelected:_n,otherMembersInHuddle:We,selectedMemberIds:gt,onChannelSelected:Dn,channelSuggestionOptionSelected:Pt==null?void 0:Pt.isCurrentSuggestedChannel}),!Le&&t.createElement(q,{isFreeTeam:ht&&!ln,onSuggestedChannelSelected:en,onSuggestedUserSelected:_n,selectedChannelId:Pt==null?void 0:Pt.id,selectedMemberIds:gt})),t.createElement(pe.jl,null,t.createElement(pe.ox,{className:"p-huddle_invite_channel_or_start_footer_actions"},t.createElement(p.A,{channelId:Ie==null?void 0:Ie.id}),t.createElement(pe.s_,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close","aria-label":Fe.t("Cancel")},Fe.t("Cancel")),t.createElement(l.A,Ve({},gn,{clogImpression:!0}),t.createElement(me.lV,{"data-qa":"send_invite_button",loading:Qt,onClick:Hn,type:"primary",disabled:!gt.length&&!(Pt!=null&&Pt.id),"aria-label":Rn},Rn)))),rn&&ht&&!ln&&!De&&t.createElement(S.A,{selectedMemberIds:gt}))}h(ge,"HuddleInviteChannelOrStart"),ge.displayName="HuddleInviteChannelOrStart";const He=ge},9016323474:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(6122756707),o=e(2947229296),n=e(5181078482),c=e(3528894348);const l=new o.Ay("huddles"),i=h(r=>{let{channelId:d}=r;const m=(0,s.wA)(),f=(0,t.useCallback)(()=>{m((0,c.r)({channelId:d}))},[m,d]);return d?t.createElement(n.Ay,{onClick:f,type:"outline",className:"p-huddle_invite_link_button__copy_link"},l.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");i.displayName="HuddleInviteLinkButton";const a=i},9530796823:(B,A,e)=>{"use strict";e.d(A,{A:()=>P});var t=e(3134334389),s=e(6122756707),o=e(9304888665),n=e(481313997),c=e(605568209),l=e(2947229296),i=e(9558760472),a=e(6267173497),r=e(7009902910),d=e(5192451774),m=e(8823986650),f=e(2348195836),u=e(321010523),E=e(3362542648),v=e(280840163),g=e(7657476646),T=e(9383537253),p=e(542703974),O=e(8717193059),y=e(4981565195);const C=new l.Ay("trials_highlight_paid_features"),I={onClick:{enableClogAction:!0},elementName:"start_trial"},M={elementName:"upgrade_link",onClick:{enableClogAction:!0}},_=h(b=>{let{selectedMemberIds:S=c.Ml}=b;const N=(0,s.wA)(),L=E.ZO.PaidFeatureTrial,D=E.zG.Vhq,k=(0,v.d4)(w=>(0,p.hq)(w,L,D)),x=(0,v.d4)(w=>(0,p.bp)(w,L,D)),R=(0,v.d4)(T.Si),U=(0,t.useCallback)(()=>{N((0,g.Ov)(S))},[N,S]),F=(0,t.useCallback)(()=>{N((0,a.A)({uiComponentVariant:u.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:U}))},[N,U]);if((0,t.useEffect)(()=>{N((0,O.A)({campaignType:L,campaignSubType:D,reason:"huddle_invite_modal",context:y.y.huddleInviteModal}))},[N,L,D]),!R||x)return null;const W=k?C.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":w=>{let{text:K}=w;return t.createElement(m.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:F,autoClogProps:I},K)}}):C.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":w=>{let{text:K}=w;return t.createElement(i.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:M,useLink:!0},K)}});return t.createElement(n.A,{eventId:u.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:u.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},t.createElement(r.A,{variant:d.G.HuddlesFreemiumDeprecated,promoType:L,promoSubtype:D,uiComponentVariant:u.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:f.m.AboveFullScreen,toolTipPosition:o.yX.Bottom}),t.createElement("span",{className:"margin_left_50"},W)))},"HuddleInviteModalFooterBanner");_.displayName="HuddleInviteModalFooterBanner";const P=_},2800127262:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(481313997),o=e(2947229296),n=e(5395353422),c=e(705513444),l=e(240471470),i=e(321010523);const a=new o.Ay("trials_highlight_paid_features"),r=h(f=>{let{text:u}=f;return t.createElement(n.A,{articleId:4402059015315,ariaLabel:a.t("Learn more about Huddles")},u)},"AlertBannerHelpLink"),m=h(()=>t.createElement(s.A,{eventId:i.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:i.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(l.A,{theme:c.B.NONE,"data-qa":"huddle_invite_modal_free_banner"},a.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":r})))),"HuddleInviteModalFreeBanner")},9597565788:(B,A,e)=>{"use strict";e.d(A,{A:()=>M});var t=e(3134334389),s=e(605568209),o=e(2947229296),n=e(539692672),c=e(900444442),l=e(2601874210),i=e(7893409143),a=e(8859166048),r=e(6251135763),d=e(907002960),m=e(6619783004),f=e(280840163),u=e(1641547755);const E=new o.Ay("huddles");var v;(function(_){_.CHANNEL="channel",_.MEMBER="member"})(v||(v={}));function g(_){let{id:P,entity:b,channel:S,huddleId:N}=_,L;(0,r.A)(P)?L=v.CHANNEL:(0,d.A)(P)&&(L=v.MEMBER);const D=(0,f.d4)(w=>S&&(0,u.Sv)(w,S.id,P)),k=D&&D.isKnown&&(D==null?void 0:D.isMember),x=S&&(0,a.JM)(S),R=(0,f.d4)(w=>(0,m.Ck)(w,N,P)),U=!!R&&R==="joining_soon";let F=null;if(R?F=U?E.t("Joining soon"):E.t("Invited"):S&&x&&!k?F=E.t("Not in conversation"):S&&!x&&!k&&(F=E.t("Not in channel")),!L)return null;let W;return L===v.CHANNEL?W=t.createElement(n.A,{channelId:P,channel:b}):L===v.MEMBER&&(W=t.createElement(c.A,{id:P,member:b,showPresence:!0,secondaryContent:F})),t.createElement("div",{className:"display_flex"},W)}h(g,"HuddleInviteMultiSelectRenderOption"),g.displayName="HuddleInviteMultiSelectRenderOption";const T=(0,t.memo)(g);var p=e(4054311754),O=e(3015119762);function y(){return y=Object.assign||function(_){for(var P=1;P<arguments.length;P++){var b=arguments[P];for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(_[S]=b[S])}return _},y.apply(this,arguments)}h(y,"_extends");const C=new o.Ay("huddles"),I=h(_=>{let{isFreeTeam:P,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:b,channel:S,otherMembersInHuddle:N,onSelectedMembersChange:L,onSelectedChannelChange:D,selectedMemberIds:k=s.Ml,selectedChannel:x}=_;const R=(0,p.cw)(O.E9),U=(0,t.useMemo)(()=>D&&!S&&!P&&!(k!=null&&k.length),[S,P,D,k]),F=(0,t.useMemo)(()=>x!=null&&x.id&&x.isCurrentSuggestedChannel?!0:!(x!=null&&x.id),[x]),W=(0,t.useMemo)(()=>({entities:{...U&&{channels:{canPost:!0,includeArchived:!1}},...F&&{members:{includeSelf:!1,includeSlackbot:!1,includeSecurityBot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:S},allowEmptyQuery:!0,filter:ie=>!N.includes(ie.id)}),[U,F,S,N]),w=(0,t.useCallback)(ie=>{D&&(0,r.A)(ie.value)?D(ie.value):L([ie.value])},[D,L]),K=(0,t.useCallback)(ie=>{const ee=[];let ne;ie.forEach(Z=>{(0,r.A)(Z.value)?(!ne||Z.value!==(x==null?void 0:x.id))&&(ne=Z.value):ee.push(Z.value)}),D==null||D(ne),L(ee)},[D,L,x]),j=(0,t.useCallback)(ie=>{let{value:ee,entity:ne}=ie;return t.createElement(T,{channel:S,id:ee,entity:ne,huddleId:R})},[S,R]),Q=(0,t.useCallback)(ie=>{let{value:ee}=ie;return(0,r.A)(ee)?t.createElement(n.A,{channelId:ee}):t.createElement(c.A,{id:ee,showAvatar:!0})},[]),J=(0,t.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:W,renderOption:j,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:P,focusOnMount:!0}),[W,j,P]),z=(0,t.useMemo)(()=>{const ie=k.map(ee=>({value:ee}));return x!=null&&x.id&&ie.push({value:x.id}),ie},[x,k]);return P&&b?t.createElement(i.u,y({},J,{onOptionSelected:w,placeholderText:C.t("Find someone to invite\u2026"),renderSelectedOption:Q,selectedOption:z[0]})):t.createElement(l.h,y({},J,{onSelectedItemsChange:K,selectedOptions:z,placeholderText:C.t("Search by name")}))},"HuddleInviteModalSelect");I.displayName="HuddleInviteModalSelect";const M=I},670498621:(B,A,e)=>{"use strict";e.d(A,{A:()=>ce});var t=e(3134334389),s=e(7715417323),o=e(605568209),n=e(7499734780),c=e(6122756707),l=e(4075246222),i=e(481313997),a=e(2947229296),r=e(5150875261),d=e(9227142567),m=e(5395353422),f=e(9029751022),u=e(9354166172),E=e(9016323474),v=e(9530796823),g=e(2800127262),T=e(9597565788),p=e(2326510484),O=e(9819891010),y=e(1959543078),C=e(8823986650),I=e(9006442414),M=e(280840163),_=e(6766178921);const P=new a.Ay("huddles");function b(Ee){let{members:Ae,createNewMpim:le}=Ee;var oe,me,pe;const Te=(0,M.Z2)(xe=>Ae.map(Ne=>(0,O.sE)(xe,(0,_.nv)(xe,Ne.slackId))));if(!Ae)return null;const Me=Te&&Te.slice(3),Ue=P.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:Ae.length,name1:t.createElement(p.A,{slackId:(oe=Ae[0])===null||oe===void 0?void 0:oe.slackId}),name2:t.createElement(p.A,{slackId:(me=Ae[1])===null||me===void 0?void 0:me.slackId}),name3:t.createElement(p.A,{slackId:(pe=Ae[2])===null||pe===void 0?void 0:pe.slackId}),numOthers:t.createElement(I.Ay,{zIndex:"above_fs",position:"top",tip:(0,r.A)(Me)},t.createElement("span",null,Ae.length-3))},xe=>{let{text:Ne,tag:be}=xe;return be==="a"?t.createElement(C.A,{onClick:le},Ne):null});return t.createElement(y.Ay,{level:y.A_.info,type:y.QE.custom},Ue)}h(b,"HuddleInviteMpimAlert"),b.displayName="HuddleInviteMpimAlert";const S=b;var N=e(7839986218),L=e(3857210657),D=e(6091707401),k=e(9062511843),x=e(9963560),R=e(4357385957),U=e(5478938623),F=e(5181078482),W=e(3451857649),w=e(321010523),K=e(1242487384),j=e(3351247794),Q=e(9383537253),J=e(6277503403),z=e(418252839),ie=e(6084367285),ee=e(5965044477),ne=e(1641547755),Z=e(542703974),te=e(1631152177),he=e(3666777625);const ue=new a.Ay("huddles"),de={elementName:"learn_more",onClick:{enableClogAction:!0}};function re(Ee){let{closeModal:Ae,callId:le,channelId:oe,selectedMemberIds:me=o.Ml}=Ee;const pe=(0,c.wA)(),Te=(0,k.A)(),Me=(0,M.d4)(K.WR),Ue=(0,M.d4)(R.pl),xe=(0,M.d4)(gt=>(0,j.OL)(gt,oe)),Ne=(0,M.d4)(J.qr),be=(0,M.d4)(Q.Si),ke=(0,M.d4)(te.$J),Ke=(0,M.Z2)(gt=>(0,J.ft)(gt,oe).filter(Gt=>Gt.id!==Me).map(Gt=>Gt.id)),$=(0,M.d4)(gt=>(0,ie.Hp)(gt,ee.xu.HUDDLE_INVITE_MODAL)),ae=!!$,[Ge,nt]=(0,t.useState)(me),[at,Ve]=(0,t.useState)(!1),Se=(0,M.Z2)(gt=>!oe||!(Ge!=null&&Ge.length)?[]:Ge.filter(Pt=>{const jt=(0,ne.Sv)(gt,oe,Pt);return jt&&jt.isKnown&&!(jt!=null&&jt.isMember)?Pt:!1})),Pe=(0,M.d4)(he.H7),Fe=(0,U.tc)(Pe),ge=(0,M.d4)(Z.iH),He=(0,t.useCallback)(gt=>{nt(gt)},[]),Qe=(0,t.useCallback)(gt=>{nt(Ge.concat(gt))},[Ge]),_e=(0,t.useMemo)(()=>{const gt=(0,x.Hd)(xe);return Array.isArray(gt)?gt:[]},[xe]),Le=_e.filter(gt=>gt!==Me),Ie=(0,t.useCallback)(async()=>{if(!oe)return;let gt=Ge.concat(Ke);return _e&&(gt=(0,l.A)(gt,_e)),pe((0,u.x)({channelId:oe,memberIds:gt})).then(()=>{Ae()}).catch(Gt=>{Te.error(Gt),Ve(!1)})},[oe,Ge,Ke,_e,pe,Ae,Te]),we=(0,t.useCallback)(async()=>{if(!oe)return;Ve(!0);const gt=Ge.concat(Ke);return pe((0,z.A)({channelId:oe,userIds:gt})).then(()=>{Ae()}).catch(Gt=>{Te.error(Gt),Ve(!1)})},[oe,Ae,pe,Te,Ke,Ge]),ze=h(()=>ae?null:Fe&&!be&&!Ne?t.createElement(g.A,null):ge&&!Ne&&!ke?t.createElement(L.A,null):null,"maybeRenderBanner");ze.displayName="maybeRenderBanner";let ut,_t,yt,Ot;const It=h(gt=>{const Gt=gt.map(Pt=>t.createElement(d.A,{key:Pt,isBold:!1,id:Pt}));return Gt&&(0,r.A)(Gt)},"listifiedOverflowMembers");It.displayName="listifiedOverflowMembers",Fe&&be&&!Ne?(ut=ue.t("Invite someone else to your huddle"),yt=ue.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(Le==null?void 0:Le.length)-1,firstParticipant:t.createElement(d.A,{isBold:!1,id:Le[0]}),secondParticipant:t.createElement(d.A,{isBold:!1,id:Le[1]}),"<a>":gt=>{let{text:Gt}=gt;return t.createElement(I.Ay,{zIndex:"above_fs",tip:It(Le==null?void 0:Le.slice(1))},t.createElement("span",null,Gt))},"<b>":gt=>{let{text:Gt}=gt;return t.createElement("b",null,Gt)}}),Ot=ue.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":gt=>{let{text:Gt}=gt;return t.createElement(m.A,{articleId:4402059015315,ariaLabel:ue.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:de},Gt)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(ut=ue.t("Invite people to your huddle"),_t=ue.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const kt=(0,t.useMemo)(()=>Ge.length>1?ue.t("Send Invites"):ue.t("Send Invite"),[Ge]);return!Ue||!oe?null:t.createElement(W.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Ae,contentLabel:ut,shouldReturnFocusAfterClose:!0},t.createElement(W.rQ,null,t.createElement(W.Rc,{title:ut,subtitle:_t})),t.createElement(W.$m,null,t.createElement(W.qf,null,(yt||Ot)&&t.createElement("p",null,yt,Ot),t.createElement(T.A,{isFreeTeam:Fe&&!Ne,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:be,channel:xe,otherMembersInHuddle:Ke,onSelectedMembersChange:He,selectedMemberIds:Ge}),(Se==null?void 0:Se.length)>0&&t.createElement(S,{members:Se.map(gt=>({slackId:gt})),createNewMpim:Ie}),$!==ee.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER&&t.createElement(D.s,null)),ze(),Ne&&Fe&&!ae&&t.createElement(f.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),t.createElement(N.A,{activeHuddleCallId:le,channel:xe,isFreeTeam:Fe&&!Ne,onSuggestedUserSelected:Qe,otherMembersInHuddle:Ke,selectedMemberIds:Ge})),t.createElement(W.jl,null,t.createElement(E.A,{channelId:oe}),t.createElement(W.ox,null,t.createElement(W.s_,{type:"outline","aria-label":ue.t("Cancel")},ue.t("Cancel")),t.createElement(i.A,{clogImpression:!0,eventId:w.EventId.HUDDLES_MPIM_INVITE},t.createElement(F.lV,{loading:at,onClick:we,type:"primary",disabled:!Ge.length,"aria-label":kt},kt)))),be&&Fe&&!Ne&&!ae&&t.createElement(v.A,{selectedMemberIds:Ge}))}h(re,"HuddleInviteMpim"),re.displayName="HuddleInviteMpim";const V=re;var H=e(4054311754),X=e(8859166048),Y=e(3766524426),q=e(3015119762);function fe(Ee){let{closeModal:Ae=s.A,selectedMemberIds:le=o.Ml}=Ee;const oe=(0,M.d4)(R.pl),me=(0,H.cw)(q.E9),pe=(0,H.cw)(q.hc),Te=(0,M.d4)(Me=>(0,j.OL)(Me,pe));return oe?(0,X.JM)(Te)?t.createElement(V,{callId:me,channelId:pe,closeModal:Ae,selectedMemberIds:le}):t.createElement(n.A,{callId:me,channel:Te,closeModal:Ae,selectedMemberIds:le}):null}h(fe,"HuddleInviteOrStartModal"),fe.displayName="HuddleInviteOrStartModal";const ce=(0,Y.A)(fe,{isStackable:!0})},7839986218:(B,A,e)=>{"use strict";e.d(A,{A:()=>j});var t=e(3134334389),s=e(7156798807),o=e(9744931820),n=e(605568209),c=e(2947229296),l=e(503109336),i=e(6027564436),a=e(5270110349),r=e(718447733),d=e(5190921192);const m=new c.Ay("huddles");var f;(function(Q){Q[Q.Channel=0]="Channel",Q[Q.Here=1]="Here"})(f||(f={}));const u=h(Q=>{let{variation:J}=Q;const z=(0,t.useMemo)(()=>{const ie=J===f.Channel?m.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):m.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),ee=J===f.Channel?m.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):m.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.createElement(d.A,{name:"mentions",size:"24"})),t.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},ie),t.createElement("span",{className:"c-base_entity__subtext"},ee)))},[J]);return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(r.A,{size:a.ny.medium,padding:a.FK.normal,primaryContent:z}))},"HuddleInviteChannelListEntity");u.displayName="HuddleInviteChannelListEntity";const E=u;var v=e(9963560),g=e(8859166048),T=e(5248257622),p=e(4357385957),O=e(353071615),y=e(1263278196),C=e(4169266603),I=e(9929095917),M=e(398824776),_=e(3134986613),P=e(6619783004),b=e(280840163),S=e(1242487384),N=e(6277503403),L=e(6766178921),D=e(5793557592),k=e(1641547755);const x=new c.Ay("huddles");var R;(function(Q){Q.SUGGESTIONS="suggestions",Q.INVITED="invited"})(R||(R={}));function U(Q,J,z,ie,ee,ne,Z){return!(!Q||J||z||Q===ie||ee.includes(Q)||ne.includes(Q)||Z.includes(Q))}h(U,"shouldSuggestMember");const F="channelEntityId",W="channelHereEntityId",w=5,K=h(Q=>{let{activeHuddleCallId:J,channel:z,isFreeTeam:ie,onSuggestedUserSelected:ee,onChannelSelected:ne,onChannelHereSelected:Z,otherMembersInHuddle:te,selectedMemberIds:he,channelSuggestionOptionSelected:ue=!1}=Q;const de=(0,b.d4)(S.WR),re=(0,b.d4)(Pe=>(0,D.q8)(Pe,z==null?void 0:z.id)),V=(0,b.d4)(p.df),H=(re==null?void 0:re.counts.member_count)||0,X=(0,g.JM)(z),Y=(0,b.d4)(N.Sx),q=(0,b.d4)(Pe=>(0,P.k9)(Pe,J)),fe=(0,b.d4)(Pe=>(0,P.I1)(Pe,J)),Ee=Y+1+q+fe,Ae=(0,b.Z2)(Pe=>(0,P.Kx)(Pe,J)),le=(0,t.useMemo)(()=>Ae?Object.keys(Ae):[],[Ae]),oe=le.length,me=25,pe=(0,b.Z2)(Pe=>(0,C.A)(Pe,(z==null?void 0:z.id)||"",me,me,!0).map(ge=>ge.id));let Te=[];if((0,g.LI)(z)){const Pe=(0,T.e)(z);Pe&&Te.push(Pe)}else if((0,g.yz)(z)){const Pe=(0,v.Ug)(z);Pe&&Pe.length&&(Te=[...Pe])}else Te=pe;const Me=(0,b.wz)(Pe=>{if(ue||!Te||!Te.length)return n.Ml;const Fe=[];return Te.forEach(ge=>{const He=(0,L.nv)(Pe,ge);U(ge,(0,y.A)(He),(0,O.oy)(He),de,te,le,he)&&Fe.push({id:ge,isMemberOfChannel:!0})}),Fe}),Ue=(0,b.wz)(Pe=>(0,_.Fl)(Pe,w)),xe=(0,b.wz)(Pe=>{if(!Ue||!Ue.length)return n.Ml;const Fe=[];return Ue.forEach(ge=>{const He=(0,L.nv)(Pe,ge.id);if(!U(ge.id,(0,y.A)(He),(0,O.oy)(He),de,te,le,he)||Te.includes(ge.id))return;const Qe=z&&(0,k.Sv)(Pe,z.id,ge.id),_e=Qe&&Qe.isKnown&&Qe.isMember;Fe.push({id:ge.id,isMemberOfChannel:_e})}),Fe}),Ne=(0,t.useMemo)(()=>!ne||(0,g.cb)(z)?!1:H<=i.XG&&Ee+H<=V&&!ue,[H,ue,Ee,V,ne,z]),be=(0,t.useMemo)(()=>Me.length>=me?Me.slice(0,me):[...Me,...xe].slice(0,me),[Me,xe]),ke=(0,t.useMemo)(()=>be.map(Pe=>Pe.id),[be]),Ke=(0,t.useMemo)(()=>(0,s.A)(be,"id"),[be]),$=(0,t.useMemo)(()=>Math.min(60*Math.max(oe,ke.length),240),[ke,oe]),ae=(0,t.useCallback)((Pe,Fe)=>{if(Fe.key===F)return t.createElement(E,{variation:f.Channel});if(Fe.key===W)return t.createElement(E,{variation:f.Here});const ge=Ke[Fe.key];if(!ge)return;let He=null;return ge.isMemberOfChannel===!1&&(X||(0,g.cb)(z)?He=x.t("Not in conversation"):He=x.t("Not in channel")),t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(l.A,{id:ge.id,secondaryContent:He}))},[X,Ke,z]),Ge=(0,t.useCallback)(Pe=>{if(Pe.id){if(Pe.id===F){ne&&ne();return}if(Pe.id===W){Z&&Z();return}ee(Pe.id)}},[Z,ne,ee]),nt=(0,t.useCallback)(()=>{let Pe=ke;return Ne&&(Pe=[F,...ke]),t.createElement(o.A,{disableHeight:!0},Fe=>{let{width:ge}=Fe;return t.createElement(M.A,{"aria-label":x.t("Suggested"),keys:Pe,rowRenderer:ae,onItemClick:Ge,width:ge,height:$})})},[Ne,ae,ke,Ge,$]),at=(0,t.useCallback)(Pe=>{const Fe=le[Pe],ge=Ae==null?void 0:Ae[Fe];if(!ge)return null;const He=ge==="joining_soon",Qe=t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.createElement(d.A,{name:He?"clock":"paper-plane",size:"20"}),t.createElement("span",null,He?x.t("Joining soon"):x.t("Invited")));return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.createElement(l.A,{id:Fe,secondaryContent:Qe}))},[le,Ae]),Ve=(0,t.useCallback)(()=>t.createElement(o.A,{disableHeight:!0},Pe=>{let{width:Fe}=Pe;return t.createElement(M.A,{"aria-label":x.t("Invited"),keys:le,rowRenderer:at,width:Fe,height:$})}),[le,at,$]),Se=(0,t.useMemo)(()=>{const Pe=[];return ke.length&&Pe.push({title:x.t("Suggested"),id:R.SUGGESTIONS,content:nt()}),Pe.push({title:x.t("Invited"),id:R.INVITED,titleCount:oe,content:Ve()}),Pe},[ke,oe,Ve,nt]);return!J||ie?null:t.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.createElement(I.A,{fullHeight:!0,tabs:Se,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");K.displayName="HuddleInviteSuggestionTabs";const j=t.memo(K)},4703206446:(B,A,e)=>{"use strict";e.d(A,{s:()=>on,_:()=>G});var t=e(3134334389),s=e(338698394),o=e(2947229296),n=e(5355117074),c=e(8010109855),l=e(2607827388),i=e(6928237551),a=e(280840163),r=e(3351247794);const d=new o.Ay("huddles");function m(De){let{channelId:We,isHost:it}=De;const Nt=(0,a.d4)(In=>(0,r.OL)(In,We)),{memberCount:sn}=(0,c.W)({channelId:We}),en=sn>0,_n=(0,l.f)(Nt),Dn=(0,a.d4)(In=>(0,i.SB)(In,Nt,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}));return(0,t.useMemo)(()=>it?_n&&!en?d.t("Ready to start {displayName}?",{displayName:(0,n.Ay)(Dn)}):!_n&&!en?d.t("Ready to start the huddle?",{displayName:Dn}):_n?d.t("Ready to join {displayName}?",{displayName:(0,n.Ay)(Dn)}):d.t("Ready to join the huddle?",{displayName:(0,n.Ay)(Dn)}):_n?d.t("Ready to join {displayName}?",{displayName:(0,n.Ay)(Dn)}):d.t("Ready to join the huddle?",{displayName:(0,n.Ay)(Dn)}),[it,_n,Dn,en])}h(m,"useGetHuddleJoinPreviewTitle");var f=e(6122756707),u=e(9148286968),E=e(481313997),v=e(7175825412),g=e(5420942935),T=e(7516783851),p=e(948175431),O=e(735855716),y=e(4484802807),C=e(6319219164),I=e(313470212),M=e(9866542341),_=e(128579576),P=e(4054311754),b=e(2172170811),S=e(7281000332),N=e(1874256115),L=e(3015119762);const D="medium",k=new C.k("HUDDLE-JOIN-PREVIEW"),x=h(De=>{let{videoRef:We,preferredCameraId:it,startOnMount:Nt=!0,isVideoElementReady:sn=!0,handleCameraStreamError:en}=De;const _n=(0,t.useRef)(null),Dn=(0,t.useRef)(!0),[On,In]=(0,t.useState)(void 0),[bn,Hn]=(0,t.useState)(!1),[vn,Sn]=(0,t.useState)(void 0),gn=(0,P.cw)(L.aU),Rn=(0,P.cw)(L.d4),Qn=(0,M.A)();(0,u.A)(()=>{const is=(0,g.zg)(),Vn=new is(k);In(Vn);const Nn=(0,I.i)();return(0,S.dispatchForClientStore)((0,N.yW)({backgroundEffectBgKey:Nn.backgroundEffectBgKey,blurEffectIsEnabled:Nn.blurEffectIsEnabled})),()=>{On==null||On.stopVideoInput(),Vn.destroy()}},[]);const Yn=(0,t.useMemo)(()=>({backgroundEffectBgKey:gn,blurEffectIsEnabled:Rn}),[Rn,gn]),Jn=(0,t.useCallback)(()=>{We.current&&g.xc.disconnectVideoStreamFromVideoElement(We.current,!1),On==null||On.stopVideoInput(),Sn(void 0),Hn(!1)},[On,We]);(0,t.useMemo)(async()=>{if((_n==null?void 0:_n.current)===void 0||(_n==null?void 0:_n.current)===null)return;const is=_n.current,Vn=Qn.find(xn=>xn.key===Yn.backgroundEffectBgKey),Nn={backgroundBlur:{isEnabled:Yn.blurEffectIsEnabled,strength:D},backgroundReplacement:{isEnabled:Yn.backgroundEffectBgKey!==void 0,backgroundImageURL:Vn==null?void 0:Vn.url,defaultColor:void 0}};try{await is.setEffectConfig(Nn)}catch{}},[Qn,Yn.backgroundEffectBgKey,Yn.blurEffectIsEnabled]);const $n=(0,t.useCallback)(async function(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Vn=We.current,Nn=p.Ay.canAccessMediaResource(b.mT.CAMERA);if(Nn.status===T.eJ.Denied){en==null||en();return}if(Nn.status!==T.eJ.Prompt&&(!sn||!Vn||!it||bn&&!is))return;const xn=await navigator.mediaDevices.getUserMedia({video:{deviceId:it,width:_.hX,height:_.Qs,frameRate:_.LD},audio:!1});Hn(!0),Sn(it);const Xn=[];if(await g.Ws.isSupported()){const st=await g.Ws.create();st!==void 0&&Xn.push(st)}const Zn=Qn.find(st=>st.key===Yn.backgroundEffectBgKey),vs={backgroundBlur:{isEnabled:Yn.blurEffectIsEnabled,strength:D},backgroundReplacement:{isEnabled:Yn.backgroundEffectBgKey!==void 0,backgroundImageURL:Zn==null?void 0:Zn.url,defaultColor:void 0}};let cs;try{cs=await g.i3.create(k,vs)}catch{return}_n.current=cs;const Ft=new g.Ze(k,xn,[cs]);if(On===void 0)return;const Ze=await On.startVideoInput(Ft);Dn.current||Jn(),!(We.current===void 0||We.current===null)&&Ze!==void 0&&Vn!==null&&(Vn.srcObject=Ze,Vn.autoplay=!0,Vn.playsInline=!0)},[We,sn,it,bn,Yn,Qn,On,en,Jn]),_s=(0,t.useCallback)(is=>{(0,O.cT)(is,T.lW.Camera,y.S.JoinPreviewCamera),(0,S.dispatchForClientStore)((0,N.WM)({setVideoEnabled:!0}))},[]);(0,t.useEffect)(()=>{vn!==it&&it!==void 0&&vn!==void 0&&sn&&(Jn(),$n(!0))},[it,$n,Jn,sn,vn]),(0,u.A)(()=>(Nt&&$n(),()=>{Dn.current=!1,Jn()}),[]),(0,t.useEffect)(()=>{sn&&!bn&&!Nt&&$n()},[sn,bn,$n,Nt]);const os=(0,t.useCallback)(()=>{const is=We.current;is&&((0,S.dispatchForClientStore)((0,N.yi)({videoElement:is})),Jn())},[Jn,We]),fs=(0,t.useCallback)(()=>{const is=We.current;sn&&(!is||!it||$n())},[sn,it,$n,We]);return{turnOnCamera:_s,turnOffCameraPreview:os,turnOnCameraPreview:fs,previewCameraIsOn:bn}},"useJoinPreviewCamera");var R=e(824704477),U=e(1181734040),F=e(1959543078),W=e(8823986650),w=e(321010523),K=e(9383537253);const j=new o.Ay("huddles"),Q=t.memo(De=>{let{cameraPermissionDenied:We,microphonePermissionDenied:it,microphoneNoDevices:Nt,cameraNoDevices:sn}=De;const en=(0,U.A)(),_n=(0,a.d4)(K.Rk);(0,t.useEffect)(()=>{(We||it||Nt||sn)&&(We&&en.track(w.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:w.UiAction.IMPRESSION,elementType:w.ElementType.ALERT,ui_properties:{element_name:"camera_permission_denied_alert"}}}}),sn&&en.track(w.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:w.UiAction.IMPRESSION,elementType:w.ElementType.ALERT,ui_properties:{element_name:"camera_no_devices_alert"}}}}),it&&en.track(w.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:w.UiAction.IMPRESSION,elementType:w.ElementType.ALERT,ui_properties:{element_name:"microphone_permission_denied_alert"}}}}),Nt&&en.track(w.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:w.UiAction.IMPRESSION,elementType:w.ElementType.ALERT,ui_properties:{element_name:"microphone_no_devices_alert"}}}}))},[en,We,it,Nt,sn]);const Dn=(0,t.useMemo)(()=>{if(!(it||Nt))return null;const bn=_n?j.rt("Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let Hn=null;return R.mt&&(Hn=t.createElement(W.A,{href:R.mt},_n?j.t("Open system preferences"):"Open system preferences")),t.createElement(F.Ay,{type:F.QE.boxed,level:F.A_.error,icon:"info-circle",align:F.AO.left,heading:_n?j.rt("Allow microphone access"):"Allow microphone access"},bn,t.createElement("br",null),t.createElement("br",null),Hn)},[_n,it,Nt]),On=(0,t.useMemo)(()=>{if(!(We||sn))return null;const bn=_n?j.rt("Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let Hn=null;return R.Oi&&(Hn=t.createElement(W.A,{href:R.Oi},_n?j.t("Open system preferences"):"Open system preferences"," ")),t.createElement(F.Ay,{type:F.QE.boxed,level:F.A_.warning,icon:"info-circle",align:F.AO.left,heading:_n?j.rt("Slack doesn\u2019t have camera access"):"Slack doesn\u2019t have camera access"},bn,t.createElement("br",null),t.createElement("br",null),Hn)},[We,_n,sn]);return!(Dn!==null||On!==null)||!_n?null:t.createElement("div",{className:"margin_bottom_100"},Dn,t.createElement("br",null),On)});var J=e(3037982922),z=e(651151430),ie=e(3766693770),ee=e(3451857649),ne=e(2069063006),Z=e(4234174381),te=e.n(Z);const he=new o.Ay("huddles"),ue=h(()=>{const De=(0,f.wA)(),We=(0,t.useCallback)(Nt=>{let{backgroundType:sn,backgroundKey:en}=Nt;const _n=(0,J.Bh)();_n.video.effect=sn,_n.video.effectBgKey=en,(0,J.i4)(_n),(0,S.dispatchForClientStore)((0,N.yW)({backgroundEffectBgKey:en,blurEffectIsEnabled:sn===z.t.Blur}))},[]),it=(0,t.useCallback)(()=>De((0,ne.O)()),[De]);return t.createElement(ee.dW,{closeModal:it,showCloseButton:!0,shouldCloseOnOverlayClick:!0,className:te().modal,overlayClassName:te().overlay},t.createElement(ee.rQ,null,t.createElement(ee.Rc,{title:he.t("Video background")})),t.createElement(ee.$m,null,t.createElement(ee.qf,null,t.createElement(ie.A,{onEffectSelected:We,isSmallLayout:!0}))))},"HuddleJoinPreviewBackgroundModal");ue.displayName="HuddleJoinPreviewBackgroundModal";var de=e(5681517118),re=e(9006442414),V=e(5876603232),H=e(7975902148),X=e.n(H);const Y=new o.Ay("huddles"),q=t.memo(()=>{const De=(0,f.wA)(),We=(0,t.useCallback)(()=>{De((0,V.q)({element:t.createElement(ue,null),isStackable:!0}))},[De]),it=(0,t.useMemo)(()=>({name:"image"}),[]),Nt=Y.t("Video background");return t.createElement("div",{className:X().container},t.createElement(re.Ay,{tip:Nt},t.createElement(de.A,{className:X().button,onClick:We,"aria-label":Nt,svgIconProps:it})))});var fe=e(4844578989),ce=e.n(fe),Ee=e(661358823);function Ae(De){let{microphoneDeviceId:We,handleMicrophoneStreamError:it}=De;const[Nt,sn]=(0,t.useState)(!1),en=(0,t.useRef)(null),_n=(0,t.useRef)(null),[Dn,On]=(0,t.useState)(void 0),In=(0,t.useCallback)(async function(){let gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Nt&&!gn)return;const Rn=p.Ay.canAccessMediaResource(b.mT.MICROPHONE);if(Rn.status===T.eJ.Denied){it==null||it();return}if(!((!We||en.current)&&Rn.status!==T.eJ.Prompt))try{const Qn=await navigator.mediaDevices.getUserMedia({audio:{deviceId:We}});en.current=Qn,_n.current=new Ee.x,_n.current.setPreviewStream(Qn),sn(!0),On(We)}catch{it==null||it()}},[it,Nt,We]),bn=(0,t.useCallback)(()=>{_n.current&&(_n.current.cleanup(),_n.current=null),en.current&&(en.current.getTracks().forEach(gn=>gn.stop()),en.current=null),sn(!1)},[]),Hn=(0,t.useCallback)(gn=>{gn!==Dn&&(bn(),In({isMicSwitch:!0}),On(gn))},[In,Dn,bn]);(0,u.A)(()=>(In(),()=>{bn()}),[]),(0,t.useEffect)(()=>{We&&We!==Dn&&Dn!==void 0&&Hn(We)},[We,Dn,Hn]);const vn=(0,t.useCallback)(()=>{In()},[In]),Sn=(0,t.useCallback)(()=>{bn()},[bn]);return{turnOn:vn,turnOff:Sn}}h(Ae,"useGetHuddleJoinPreviewMicLevels");var le=e(6211760984),oe=e(795017197),me=e(3611467628),pe=e(4743850398),Te=e(6372862721),Me=e(9866181557),Ue=e(2019695928),xe=e.n(Ue);const Ne=t.memo(De=>{let{handleMicrophonePermissionsError:We,microphonePermissionDenied:it,cameraPermissionDenied:Nt}=De;const sn=(0,a.Z2)(Te.oG),en=(0,a.d4)(bn=>!!(0,pe.WQ)(bn,"isMicrophoneEnabled")),_n=(0,a.d4)(bn=>(0,Me.xp)(bn,"allow_huddles_video")),Dn=(0,t.useCallback)(()=>{We==null||We()},[We]),On=(0,t.useMemo)(()=>sn.microphone.filter(bn=>!!bn.id).map(bn=>({label:bn.label,value:bn.id})),[sn.microphone]),In=On==null?void 0:On[0];return Ae({microphoneDeviceId:In==null?void 0:In.value,handleMicrophoneStreamError:Dn}),t.createElement("div",{className:xe().container},t.createElement(oe.A,{className:xe().device,audioMeterLayout:oe.Y.Inline,selectSize:"medium",isEnabled:en,microphonePermissionDenied:it,widthStyle:"default"}),t.createElement(me.A,{className:ce()(xe().device,xe().speaker),selectSize:"medium",showTestSpeaker:!0,microphonePermissionDenied:it,widthStyle:"default"}),_n&&t.createElement(le.A,{className:xe().device,selectSize:"medium",cameraPermissionDenied:Nt,widthStyle:"default"}))});var be=e(6816778107),ke=e(4113649297),Ke=e.n(ke);const $=t.memo(De=>{let{channelId:We}=De;const it=(0,be.I)({channelId:We});return t.createElement("div",{className:Ke().container},it)});var ae=e(8063766962),Ge=e(7143431146),nt=e(9778063004),at=e(5248613805),Ve=e(5181078482),Se=e(5190921192),Pe=e(1932231748),Fe=e.n(Pe);const ge=new o.Ay("huddles"),He=t.memo(De=>{let{turnOffCameraHandler:We,turnOnCameraHandler:it,cameraIsOn:Nt,cameraPermissionDenied:sn,microphonePermissionDenied:en,microphoneNoDevices:_n,cameraNoDevices:Dn,scaleOffset:On=1}=De;const{videoLabel:In,deviceLabel:bn}=(0,ae.z)(),Hn=(0,a.d4)(Rn=>(0,Me.xp)(Rn,"allow_huddles_video")),vn=(0,a.d4)(Rn=>!!(0,pe.WQ)(Rn,"isMicrophoneEnabled")&&!en),Sn=(0,t.useCallback)(()=>{if(Nt){We==null||We();return}it==null||it()},[We,it,Nt]),gn=(0,t.useMemo)(()=>sn||Dn?ge.t("Camera permission denied",{fallbackHash:"3bca281bb714e2057db7a3b764b3502a1915a27a",fallbackHashNs:"huddles_audio_video_prefs"}):t.createElement(nt.A,{actionLabel:In,deviceLabel:bn,audioOnlyModeEnabledWarning:!1}),[bn,sn,In,Dn]);return t.createElement("div",{className:Fe().container,style:{transform:`scale(${On})`}},t.createElement(at.A,{className:ce()(Fe().toolbarButton,{[Fe().activeButton]:vn}),microphonePermissionDenied:en||_n,displayShortcutTooltip:!1}),Hn&&t.createElement(re.Ay,{tip:gn},t.createElement(Ve.Nm,{htmlType:"button",onClick:Sn,role:"switch","aria-label":ge.t("Video"),"aria-checked":Nt,"data-qa":"huddle_camera_huddle_toolbar",className:ce()(Fe().toolbarButton,{[Fe().cameraDisabled]:sn||Dn,[Fe().activeButton]:Nt}),"aria-disabled":sn||Dn},t.createElement(Ge.A,{isCameraEnabled:Nt,className:"p-huddle_toolbar__video_button"}),(sn||Dn)&&t.createElement("div",{className:Fe().warningBadgeContainer},t.createElement("div",{className:Fe().warningBadge},t.createElement(Se.A,{name:"warning-filled"}))))))});var Qe=e(7133487920),_e=e(7089278202),Le=e(1242487384),Ie=e(5888893001),we=e(5233827933),ze=e(1231671841),ut=e(293248343),_t=e(2969807192),yt=e.n(_t);const Ot=320,It=600,kt=500,gt=.6,Gt=50,Pt=t.memo(De=>{let{channelId:We}=De;var it,Nt;const sn=(0,f.wA)(),{windowRef:en}=(0,t.useContext)(s._0),_n=(0,t.useRef)(null),Dn=(0,a.d4)(tn=>(0,we.gW)(tn,{channelId:We})),On=(0,a.d4)(tn=>(0,we.zK)(tn,{channelId:We})),In=(0,a.d4)(tn=>(0,ut.ty)(tn,"huddles_mute_by_default")),bn=(0,Qe.A)(),Hn=(0,a.Z2)(Te.oG),vn=(0,a.d4)(Le.WR),Sn=(0,a.d4)(tn=>!!(0,pe.WQ)(tn,"isMicrophoneEnabled")),gn=(0,t.useMemo)(()=>Hn.camera.filter(tn=>!!tn.id).map(tn=>({label:tn.label,value:tn.id})),[Hn.camera]),Rn=(0,t.useMemo)(()=>Hn.microphone.filter(tn=>!!tn.id).map(tn=>({label:tn.label,value:tn.id})),[Hn.microphone]),[Qn,Yn]=(0,t.useState)({width:(it=en.deref())===null||it===void 0?void 0:it.innerWidth,height:(Nt=en.deref())===null||Nt===void 0?void 0:Nt.innerHeight}),[Jn,$n]=(0,t.useState)(0),[_s,os]=(0,t.useState)(1),[fs,is]=(0,t.useState)(!1),[Vn,Nn]=(0,t.useState)(!1),[xn,Xn]=(0,t.useState)(!1),[Zn,vs]=(0,t.useState)(gn!=null&&gn.length?gn[0]:void 0),[cs,Ft]=(0,t.useState)(Rn!=null&&Rn.length?Rn[0]:void 0),[Ze,st]=(0,t.useState)(!1),[vt,At]=(0,t.useState)(!1),[Tt,Vt]=(0,t.useState)(!0),an=gn.length===0,qe=Rn.length===0,se=(0,t.useCallback)(()=>{st(!0)},[]),Ce=(0,t.useCallback)(()=>{At(!0)},[]),{turnOffCameraPreview:Oe,previewCameraIsOn:Be}=x({videoRef:_n,preferredCameraId:Zn==null?void 0:Zn.value,isVideoElementReady:Vn,startOnMount:!1,handleCameraStreamError:se});(0,t.useEffect)(()=>()=>{Oe()},[Oe]),(0,t.useEffect)(()=>{!Be&&!Tt&&Vt(!0)},[Be,Tt]);const Je=(0,t.useCallback)(()=>{Oe(),xn&&(Nn(!1),Xn(!1))},[xn,Oe]),rt=(0,t.useCallback)(()=>{xn||(Nn(!1),Xn(!0))},[xn]),Dt=(0,t.useCallback)(()=>{var tn,Fn;Yn({width:(tn=en.deref())===null||tn===void 0?void 0:tn.innerWidth,height:(Fn=en.deref())===null||Fn===void 0?void 0:Fn.innerHeight})},[en]);(0,t.useEffect)(()=>{var tn;return(tn=en.deref())===null||tn===void 0||tn.addEventListener("resize",Dt),h(function(){var jn;(jn=en.deref())===null||jn===void 0||jn.removeEventListener("resize",Dt)},"cleanup")},[Dt,en]);const Kt=(0,t.useCallback)(tn=>{if((tn==null?void 0:tn.value)===(Zn==null?void 0:Zn.value))return;const Fn=xn;Je(),vs(tn),Fn&&(Xn(!0),rt())},[Zn==null?void 0:Zn.value,xn,Je,rt]);(0,t.useEffect)(()=>{if(gn.length>0){const tn=gn[0];(tn==null?void 0:tn.value)!==(Zn==null?void 0:Zn.value)&&Kt(tn)}},[gn,Zn,Kt]),(0,t.useEffect)(()=>{if(Rn.length>0){const tn=Rn[0];(tn==null?void 0:tn.value)!==(cs==null?void 0:cs.value)&&Ft(tn)}},[gn,Rn,Zn,cs==null?void 0:cs.value,Kt]);const mn=(0,t.useCallback)(tn=>{tn!=null&&tn.value&&vs(tn)},[vs]);(0,t.useEffect)(()=>{gn.length!==0&&fs&&(mn(gn[0]),is(!1))},[gn,fs,mn]);const Xt=(0,t.useCallback)(tn=>{_n.current!==tn&&(!tn&&Vn&&_n!==void 0&&Be&&Oe(),!(!tn&&!Vn)&&(_n.current=tn,Nn(!0)))},[Vn,Oe,Be]),$t=(0,t.useCallback)(()=>{Vt(!1)},[]),En=(0,t.useMemo)(()=>(Be||xn)&&!Ze?t.createElement(t.Fragment,null,Tt&&t.createElement("div",{className:yt().loading},t.createElement(_e.A,{color:"blue",size:"jumbo"})),t.createElement("video",{className:yt().videoPreview,ref:Xt,onCanPlay:$t}),t.createElement(q,null)):t.createElement(v.Ay,{size:Ot,userId:vn,isInteractive:!1,className:yt().videoAvatar}),[Be,xn,Ze,vn,Tt,Xt,$t]);(0,u.A)(()=>{Je(),In&&(sn((0,Ie.fP)({channelId:We,cameraEnabled:Be,microphoneEnabled:!1})),sn((0,ze.A)(!1)))},[]),(0,t.useEffect)(()=>{if(Qn.height===void 0)return;const tn=It*bn,Fn=kt*bn;if(Qn.height>tn&&_s!==1){os(1),$n(0);return}if(Qn.height<=tn&&Qn.height>=Fn){const jn=1-(tn-Qn.height)/100*(1-gt);os(jn);const rs=-((tn-Qn.height)/100)*Gt;$n(rs);return}Qn.height<Fn&&_s!==gt&&(os(gt),$n(-Gt))},[_s,Qn.height,bn]),(0,t.useEffect)(()=>{(Be!==Dn||On!==Sn)&&sn((0,Ie.fP)({channelId:We,cameraEnabled:Be,microphoneEnabled:Sn}))},[sn,Be,We,Sn,Dn,On]);const Tn=1+(1-_s);return t.createElement(E.A,{eventId:w.EventId.HUDDLES_JOIN_PREVIEW,elementType:w.ElementType.MODAL,uiComponentName:w.UiComponentName.HUDDLES_JOIN_PREVIEW_MODAL},t.createElement("div",null,t.createElement(Q,{cameraPermissionDenied:Ze,microphonePermissionDenied:vt,microphoneNoDevices:qe,cameraNoDevices:an}),t.createElement($,{channelId:We}),t.createElement("div",{className:yt().videoAndDevicesContainer},t.createElement("div",{className:yt().videoContainer,style:{transform:`scale(${_s}) translateY(${Jn}px)`}},t.createElement("div",{className:yt().videoInnerContainer},En),t.createElement(He,{turnOffCameraHandler:Je,turnOnCameraHandler:rt,cameraIsOn:Be,microphonePermissionDenied:vt,cameraPermissionDenied:Ze,scaleOffset:Tn,microphoneNoDevices:qe,cameraNoDevices:an})),t.createElement(Ne,{handleMicrophonePermissionsError:Ce,microphonePermissionDenied:vt,cameraPermissionDenied:Ze}))))});var jt=e(4747441446),Qt=e(9866037031),Jt=e(2869254699),Yt=e(2577163594);const Rt=new o.Ay("huddles"),Bt=t.memo(()=>{const De=(0,f.wA)(),We=(0,a.d4)(K.Rk),it=!(0,a.d4)(sn=>(0,ut.ty)(sn,jt.aI)||!1),Nt=(0,t.useCallback)(()=>{De((0,Yt.AZ)({pref:jt.aI,value:it}))},[De,it]);return We?t.createElement("div",null,t.createElement(Jt.A,{text:Rt.t("Don\u2019t show this preview again"),type:"inline",cursor:"pointer"},t.createElement(Qt.A,{name:"agc",checked:it,onChange:Nt}))):null});var dn=e(6060782303),Mt=e(9963560),Ye=e(8859166048),ot=e(300722e3),ht=e(3766524426),tt=e(4353583794),ct=e.n(tt);const rn=new o.Ay("huddles"),ln={eventId:w.EventId.HUDDLES_JOIN_PREVIEW,elementName:"join-button",onClick:{enableClogAction:!0},isPrimaryCTA:!0},on=t.memo(De=>{let{channelId:We,closeModal:it,handleJoin:Nt}=De;const sn=(0,a.d4)(Le.WR),en=(0,a.d4)(os=>(0,r.OL)(os,We)),_n=(0,Ye.cb)(en),Dn=(0,a.d4)(os=>(0,we.Ln)(os,{channelId:We})),On=(0,a.d4)(K.Rk),{memberCount:In}=(0,c.W)({channelId:We}),bn=_n||Dn,Hn=(0,dn.q)(We),{windowId:vn,windowRef:Sn}=(0,t.useContext)(s._0),gn=Hn===vn;let Rn=!0;bn&&(Rn=(0,Mt.Wb)(en)===sn);const Qn=m({isHost:Rn,channelId:We}),Yn=(0,t.useCallback)(()=>{if(it==null||it(),gn){var os;(os=Sn.deref())===null||os===void 0||os.close()}},[it,Sn,gn]),Jn=(0,t.useCallback)(()=>{it==null||it()},[it]),$n=(0,t.useCallback)(()=>{(0,S.dispatchForClientStore)((0,N._o)({channelId:We})),Nt==null||Nt(),it==null||it()},[it,Nt,We]),_s=(0,t.useMemo)(()=>In===0?rn.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}):rn.t("Join Huddle",{fallbackHash:"2e0db25a478224617c1054b21c2931f1cdbc6141"}),[In]);return On?t.createElement(ot.A,{onClose:Jn,title:Qn,onSubmit:$n,onCancel:Yn,showCancelButton:!0,submitButtonText:_s,className:ct().modal,footerText:t.createElement(Bt,null),overlayClassName:ct().overlay,submitAutoClogProps:ln},t.createElement(Pt,{channelId:We})):null}),G=(0,ht.A)(on)},7396246880:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>g,Gr:()=>v,Lv:()=>r,jc:()=>u,z2:()=>E});var t=e(2947229296),s=e(735855716),o=e(4747441446),n=e(5884898564),c=e(6405523064),l=e(3096333992),i=e(293248343);const a=new t.Ay("huddles"),r="LOUNGE_MUSIC_PLAYER",d=[n.N3,n._4,n.j1,n._V,n.PM,n.tn,n.uu,n.jc];var m;(function(T){T.WaitingRoom="waiting",T.Subway="subway",T.Whistle="whistle",T.Jazz="jazz",T.Focus="focus",T.DiscoParty="disco",T.Zen="zen",T.Nature="nature"})(m||(m={}));const f=m.Jazz,u=h(T=>T?!!Object.values(m).includes(T):!1,"isValidSongKey"),E=h(T=>(0,i.ty)(T,o.Mz)||f,"getSongKeyFromUserPref"),v=h(()=>({[m.WaitingRoom]:{key:m.WaitingRoom,urlName:"waitingRoom",url:n.tn,displayName:a.t("Waiting Room")},[m.Subway]:{key:m.Subway,urlName:"subwayMusic",url:n.PM,displayName:a.t("Subway Music")},[m.Whistle]:{key:m.Whistle,urlName:"whistleTune",url:n.jc,displayName:a.t("Whistle Tune")},[m.Jazz]:{key:m.Jazz,urlName:"waitingMuzak",url:n.uu,displayName:a.t("Smooth Jazz")},[m.Focus]:{key:m.Focus,urlName:"focusBeats",url:n._4,displayName:a.t("Focus Beats")},[m.DiscoParty]:{key:m.DiscoParty,urlName:"discoParty",url:n.N3,displayName:a.t("Happy Bass")},[m.Zen]:{key:m.Zen,urlName:"momentOfZen",url:n.j1,displayName:a.t("Sound Bath")},[m.Nature]:{key:m.Nature,urlName:"natureMeditation",url:n._V,displayName:a.t("Nature Meditation")}}),"getSongsMetadata");let g=h(class da{static getInstance(){return da.instance||(da.instance=new da),da.instance}constructor(){var p=this;this.getCurrentTrackDisplayName=()=>{const O=d[this.activeTrackIndex],y=v(),C=Object.values(y).find(I=>I.url===O);return C==null?void 0:C.displayName},this.playMusic=async function(){let{songKey:O,registerOnEndedCallback:y,logger:C,fromFirstTrack:I,loopSong:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};I&&(p.activeTrackIndex=0),y&&d.forEach(N=>{(0,c.TQ)(N,{ended:p.playNextTrack})});let _=d[p.activeTrackIndex];const P=(0,c.Dd)(_);if(O){var b;P&&(0,c.ds)(_);const L=(b=v()[O])===null||b===void 0?void 0:b.url,D=L?d.findIndex(k=>k===L):-1;D>-1&&(_=L,p.activeTrackIndex=D)}const S=(0,s._o)();if(S&&P)try{await P.setSinkId(S),C==null||C.info(l.o7,`setSinkId success for lounge music on deviceID: ${S}`)}catch{C==null||C.info(l.o7,`setSinkId failed for lounge music on deviceID: ${S}`)}(0,c.ZH)(_,{loop:!!M,useSlackPreferredSink:!0})},this.stopMusic=O=>{let{clearOnEndedCallback:y,logger:C,logContext:I}=O;y&&d.forEach(M=>{(0,c.Rj)(M,"ended",this.playNextTrack)}),(0,c.ds)(d[this.activeTrackIndex],{logFailure:!1}),C.info(l.o7,`stopped lounge music [${I}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<d.length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{(0,c.ds)(d[this.activeTrackIndex]),this.incrementActiveTrackIndex(),(0,c.ZH)(d[this.activeTrackIndex],{loop:!1,useSlackPreferredSink:!0})},this.activeTrackIndex=0}},"HuddleLoungeMusicManager")},6816778107:(B,A,e)=>{"use strict";e.d(A,{I:()=>c});var t=e(3134334389),s=e(2947229296),o=e(8010109855);const n=new s.Ay("huddles");function c(l){let{channelId:i}=l;const{firstMemberName:a,secondMemberName:r,memberCount:d}=(0,o.W)({channelId:i});return(0,t.useMemo)(()=>d===0?n.t("No one is in the huddle yet.",{fallbackHash:"84a5772a945fb7be09c48235d3fbb096591da4c6"}):d===1?n.rt("{firstMemberName} is currently in the huddle.",{firstMemberName:a}):d===2?n.rt("{firstMemberName} and {secondMemberName} are currently in the huddle.",{firstMemberName:a,secondMemberName:r}):n.rt("{firstMemberName}, {secondMemberName}, and {memberCount, plural, =0 {} =1 {1 other} other {# others}} are currently in the huddle.",{fallbackHash:"e851e92374eb17ce86e7497a3ce9a691b8515b61",firstMemberName:a,secondMemberName:r,memberCount:d-2}),[a,r,d])}h(c,"useGetCopyForMembersInHuddle")},8010109855:(B,A,e)=>{"use strict";e.d(A,{W:()=>n});var t=e(9819891010),s=e(280840163),o=e(6277503403);function n(c){let{channelId:l}=c;const i=(0,s.d4)(m=>(0,o.ft)(m,l)),a=i?i.length:0,r=(0,s.d4)(m=>!i||i.length<1?null:(0,t.sE)(m,i[0])),d=(0,s.d4)(m=>!i||i.length<2?null:(0,t.sE)(m,i[1]));return{firstMemberName:r,secondMemberName:d,memberCount:a}}h(n,"useGetMembersInHuddle")},2607827388:(B,A,e)=>{"use strict";e.d(A,{f:()=>s});var t=e(9963560);function s(o){const n=(0,t.cU)(o);return n!==""&&n!==void 0}h(s,"huddleChannelHasTopic")},5248613805:(B,A,e)=>{"use strict";e.d(A,{A:()=>b});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(3659369705),l=e(2947229296),i=e(3785371303),a=e(7456868597),r=e(8740944669),d=e(9778063004),m=e(5181078482),f=e(8656155806),u=e(4477499279),E=e(5190921192),v=e(9006442414),g=e(321010523),T=e(4743850398),p=e(280840163),O=e(5233827933),y=e(1231671841),C=e(8678400707),I=e.n(C);const M=new l.Ay("huddles"),_=[f.tc.CmdOrCtrl,"Shift"],P=h(S=>{let{className:N,microphonePermissionDenied:L=!1,displayShortcutTooltip:D=!0}=S;const k=(0,s.wA)(),x=(0,p.d4)(ee=>!!(0,T.WQ)(ee,"isMicrophoneEnabled")&&!L),R=(0,i.Ay)(),U=(0,p.d4)(ee=>(0,O.U7)(ee,{key:i.Hi.CANVAS_OPEN})),{microphoneLabel:F,deviceLabel:W,ariaLabel:w}=(0,a.k)(),K=(0,t.useCallback)(()=>{L||k((0,y.A)(!x))},[k,x,L]),j=(0,t.useMemo)(()=>({elementName:i.Hi.CANVAS_TOOLBAR,eventId:x?g.EventId.HUDDLES_MUTE:g.EventId.HUDDLES_UNMUTE,onClick:{enableClogAction:!0},interactionId:U,...R}),[R,U,x]),Q=(0,c.cX)()?"Meta":"Control",J=t.createElement(m.Nm,{className:n()("c-icon_button","c-icon_button--size_medium",I().button,N,{[I().buttonToggledOn]:x,[I().micDisabled]:L}),htmlType:"button",onClick:K,autoClogProps:j,"aria-label":w,"aria-describedby":"microphone-info","aria-keyshortcuts":`Space+${Q}+Shift`,"data-qa":"huddle_video_modal_footer",tabIndex:-1,"aria-disabled":L},t.createElement(r.A,{className:I().micVolumeIndicator,peerId:"self",isMicrophoneEnabled:x,allowMuteIconAnimation:!0}),L&&t.createElement("div",{className:I().micAlertContainer},t.createElement("div",{className:I().micAlert},t.createElement(E.A,{name:"warning-filled"}))),t.createElement("div",{hidden:!0,id:"microphone-info"},W)),z=(0,t.useMemo)(()=>{if(L)return M.t("Microphone permission denied");const ee=t.createElement(d.A,{actionLabel:F,deviceLabel:W});return D?t.createElement(u.A,{title:ee,mainKey:"Space",modifiers:_}):ee},[W,F,L,D]);return t.createElement(v.Ay,{tip:z},J)},"HuddleToolbarMuteButton");P.displayName="HuddleToolbarMuteButton";const b=t.memo(P)},1026552647:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(2947229296),o=e(7516783851),n=e(735855716),c=e(4484802807),l=e(2230899950),i=e(280840163),a=e(6372862721);const r=new s.Ay("huddles"),d=390,m=278,f=h(E=>{let{deviceType:v,isBlocked:g,widthStyle:T,size:p}=E;const O=(0,t.useMemo)(()=>({[o.lW.Microphone]:r.t("Microphone devices"),[o.lW.Camera]:r.t("Camera devices"),[o.Q4]:r.t("Audio output devices")}),[]),C=(0,i.d4)(a.oG)[v],I=(0,t.useMemo)(()=>g?[{label:r.t("Permission not yet granted"),value:"no_access",type:v}]:C.map(S=>({label:g||!S.label?r.t("Permission not yet granted"):S.label,value:S.id,type:v})),[C,v,g]),M=(0,t.useCallback)(S=>{(0,n.cT)(S.value,v,c.S.TroubleshootingPanelDeviceSelector)},[v]);if(!O)return null;const _=I[0],P=O[v];let b;switch(T){case"inline":b=`${d}px`;break;case"default":b=`${m}px`;break;case"stretch":b="100%";break;default:throw new Error(`unhandled type ${T}`)}return t.createElement(l.Ay,{isDisabled:g,ariaLabel:P,selectId:v,options:I,selectedOption:_,width:b,onOptionSelected:M,className:"p-huddle_troubleshooting_panel__device-selector",size:p})},"DeviceSelector");f.displayName="DeviceSelector";const u=f},6211760984:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(2947229296),o=e(7516783851),n=e(1026552647),c=e(280840163),l=e(117152908);const i=new s.Ay("huddles"),a=h(d=>{let{className:m,selectSize:f="small",cameraPermissionDenied:u=!1,widthStyle:E="stretch"}=d;const{isCameraBlocked:v}=(0,c.Z2)(l.FP)||{};return t.createElement("div",{className:m},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},i.t("Camera"))),t.createElement(n.A,{deviceType:o.lW.Camera,isBlocked:v||u,widthStyle:E,size:f}))},"Camera");a.displayName="Camera";const r=a},795017197:(B,A,e)=>{"use strict";e.d(A,{A:()=>v,Y:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(5128108788),l=e(7516783851),i=e(1026552647),a=e(280840163),r=e(117152908),d=e(7795407072),m=e.n(d);const f=new n.Ay("huddles");var u;(function(g){g[g.Default=0]="Default",g[g.Inline=1]="Inline",g[g.Hidden=2]="Hidden"})(u||(u={}));const E=h(g=>{let{className:T,audioMeterLayout:p=u.Default,selectSize:O="small",isEnabled:y=!0,microphonePermissionDenied:C=!1,widthStyle:I="stretch"}=g;const{isMicrophoneBluetooth:M}=(0,a.Z2)(r.h)||{},{isMicrophoneBlocked:_}=(0,a.Z2)(r.FP)||{},P=p===u.Default||p===u.Inline;return t.createElement("div",{className:T},t.createElement("div",{className:o()("audio-section",{[m().inlineAudioMeterContainer]:p===u.Inline})},t.createElement("span",{className:"p-device-label"},f.t("Microphone")),P&&t.createElement(c.Ay,{initNumBubbles:9,containerClassName:o()("p-audio-levels-container",{[m().inlineAudioMeter]:p===u.Inline}),bubbleClassname:"p-audio-bubble",ariaLabel:f.t("Input Level"),isEnabled:y})),t.createElement(i.A,{deviceType:l.lW.Microphone,isBlocked:_||C,widthStyle:I,size:O}),M&&t.createElement("div",{className:"bluetooth-warning"},f.t("Bluetooth can degrade audio quality")))},"Microphone");E.displayName="Microphone";const v=E},3611467628:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(3659369705),o=e(2947229296),n=e(7516783851),c=e(735855716),l=e(1026552647),i=e(8823986650),a=e(5884898564),r=e(280840163),d=e(117152908);const m=new o.Ay("huddles"),f=h(E=>{let{className:v,selectSize:g="small",showTestSpeaker:T=!1,microphonePermissionDenied:p=!1,widthStyle:O="stretch"}=E;const{isSpeakerBluetooth:y}=(0,r.Z2)(d.h)||{},C=(0,t.useRef)(null),I=(0,t.useCallback)(async()=>{if(C.current){const _=(0,c._o)();await C.current.setSinkId(_),C.current.play()}},[]);(0,t.useEffect)(()=>(C.current=new Audio(a.pW),()=>{C.current&&(C.current=null)}),[]);const M=p&&!(0,s.y3)();return t.createElement("div",{className:v},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},m.t("Speakers")),T&&t.createElement(i.A,{onClick:I},m.t("Test Speaker",{fallbackHash:"d890e6d8efa58744e75a0a5e0017242b538d3aa2",fallbackHashNs:"huddles_audio_video_prefs"}))),t.createElement(l.A,{deviceType:n.Q4,widthStyle:O,size:g,isBlocked:M}),y&&t.createElement("div",{className:"bluetooth-warning"},m.t("Bluetooth can degrade audio quality")))},"Speaker");f.displayName="Speaker";const u=f},7630843594:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(6848867497),o=e.n(s),n=e(8456137888),c=e.n(n),l=e(7480151797),i=e.n(l),a=e(5298060777);const r=h(m=>{let{headerInfo:f,isUnlinked:u=!1}=m;const E=(0,a.A)(f,56);return t.createElement("div",{className:"p-identity_transfer_modal__logo"},t.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:o()})),t.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.createElement("img",{alt:"",src:u?i():c()})),t.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:E})))},"IdentityTransferModalLogo");r.displayName="IdentityTransferModalLogo";const d=r},3909044024:(B,A,e)=>{"use strict";e.d(A,{A:()=>Ue});var t=e(3134334389),s=e(6122756707),o=e(280840163),n=e(4844578989),c=e.n(n),l=e(481313997),i=e(9204569428),a=e(8309078519),r=e(3320534337),d=e(6888290087);const m=(0,r.A)("Get SIWS interstital blocks",(xe,Ne,be)=>{let{appId:ke,url:Ke,channelId:$}=be;return xe((0,i.apiCall)({args:{app_id:ke,uri:Ke,channel_id:$},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(ae=>({...(0,a.t)(ae,1)})).catch(ae=>{var Ge;throw((Ge=ae.data)===null||Ge===void 0?void 0:Ge.error)==="invalid_client_cache"&&xe((0,d._)()),ae})});m.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};const f=m;var u=e(4491782939),E=e(9062511843),v=e(5103828537),g=e(2069063006),T=e(4894634110),p=e(2577163594),O=e(2691514942),y=e(2828368145),C=e(3212370162);const I=(0,T.Ay)("Set completed transfer pref of identity links prefs",(xe,Ne,be)=>{let{appId:ke,completedTransfer:Ke}=be;const $=(0,y.IC)(Ne());let ae="{}";try{ae=JSON.stringify({...$,[ke]:{completed_transfer:Ke,date_completed_transfer:Number(Date.now())}})}catch(Ge){(0,O.Ay)({getState:Ne}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",Ge)}return xe((0,p.AZ)({pref:C.V,value:ae}))});I.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var M=e(7616658183),_=e(3451857649),P=e(321010523),b=e(7992134375),S=e(7080753947),N=e(4921096872),L=e(1538129653),D=e(2869254699),k=e(2947229296),x=e(7831811348),R=e(5870137507),U=e(7630843594);const F=new k.Ay("app-config"),W=h(xe=>{let{url:Ne}=xe;return Ne?t.createElement("div",{className:"p-identity_transfer_modal__redirect"},t.createElement("span",{className:"overflow_ellipsis"},F.t("Link to: "),Ne)):null},"IdentityTransferModalLink");W.displayName="IdentityTransferModalLink";const w=W;var K=e(477544047),j=e(3066574952);const Q=new k.Ay("app-config"),J=h(xe=>{let{appId:Ne,domain:be,email:ke,headerInfo:Ke,logger:$,setIdentityTransferStep:ae,setLinkClickedPrefs:Ge,url:nt,hideLink:at=!1,reverifyEmail:Ve=!1,autoClogProps:Se}=xe;const Pe=(0,s.wA)(),Fe=(0,v.A)(),ge=(0,R.A)(),[He,Qe]=(0,t.useState)(b.lS.Empty),[_e,Le]=(0,t.useState)(!1),[Ie,we]=(0,t.useState)(!1),ze=(0,t.useCallback)(async()=>{try{await Pe((0,j.i)({reason:"identity-transfer-modal",confirmationType:"code",email:ke,intent:"identity_links",locale:(0,x.Yp)()}))}catch(Gt){$.error("error in sending confirm email",Gt)}},[Pe,ke,$]);(0,t.useEffect)(()=>{Fe.current&&ze()},[Fe,ze]);const ut=(0,t.useCallback)(()=>{ae(Ve?"reverifyEmail":"permissions")},[Ve,ae]),_t=(0,t.useCallback)(()=>{Qe(b.lS.Empty),we(!1)},[]),yt=(0,t.useCallback)(()=>{ze()},[ze]),Ot=(0,t.useCallback)(async Gt=>{try{Qe(b.lS.Processing),Le(!0),await Pe((0,K.b)({reason:"identity-transfer-modal-email-verification",code:Gt,email:ke,intent:"identity_links"})),await Ge(!0),Fe.current&&(Qe(b.lS.Success),Le(!1),we(!1))}catch(Pt){if(Fe.current){switch(Pt.name){case"expired":Qe(b.lS.Expired),we(!1),ze();break;case"failed":Qe(b.lS.Error),we(!1);break;case"ratelimited":Qe(b.lS.Ratelimited),we(!1);break;default:Qe(b.lS.Unknown),we(!0);break}Le(!1)}}},[Pe,ke,Fe,ze,Ge]),It=(0,t.useCallback)(Gt=>{Gt.preventDefault()},[]),kt=(0,t.useMemo)(()=>({eventId:P.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:Ne,idlDomain:be,idlEventId:P.EventId[P.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...Se}),[Ne,Se,be]),gt=He===b.lS.Expired||He===b.lS.Error||He===b.lS.Unknown;return t.createElement(t.Fragment,null,t.createElement(_.$m,null,t.createElement(U.A,{headerInfo:Ke}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},Q.t("Please verify your email address")),t.createElement(_.qf,null,t.createElement("p",null,Q.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:ke})),t.createElement("div",{className:"margin_bottom_50"},t.createElement("strong",null,Q.t("Enter the code below:"))),t.createElement("form",{onSubmit:It},t.createElement("fieldset",{className:"no_margin no_padding no_border"},t.createElement("legend",{className:"offscreen"},Q.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:be,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),t.createElement(S.A,{isCheckError:!1,isNumbersOnly:!1,onChange:_t,onFillCode:Ot,isInvalid:gt,ariaDescribedBy:ge}))),t.createElement(b.UU,{status:He,id:ge}),Ie&&t.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},t.createElement(D.A,{htmlFor:"resend_verification_email",text:Q.t("Get a new verification code.")}),t.createElement(N.Ay,{id:"resend_verification_email",onClick:yt},Q.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),t.createElement(_.jl,null,!at&&t.createElement(w,{url:nt}),t.createElement(_.ox,null,t.createElement(L.A,{"aria-label":Q.t("Back"),autoClogProps:kt,"data-qa":"siws_email_verification_back",loading:_e,onClick:ut,type:"outline"},Q.t("Back")))))},"IdentityTransferModalEmailVerification");J.displayName="IdentityTransferModalEmailVerification";const z=J;var ie=e(7175825412),ee=e(6369345880),ne=e(5181078482);const Z=new k.Ay("app-config"),te=h(xe=>{let{email:Ne,name:be,userId:ke,workspaceDomain:Ke}=xe;const $=(0,R.A)(),[ae,Ge]=(0,t.useState)(!1);return t.createElement("div",{className:"p-identity_transfer_modal__member_card"},t.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:$},t.createElement(ie.Ay,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:ke}),t.createElement("div",null,t.createElement("p",{className:"bold"},be),t.createElement("p",null,Ne),t.createElement(ne.Nm,{"data-qa":"expand_to_see_user_details","aria-controls":$,"aria-expanded":ae,"aria-label":ae?Z.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):Z.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>Ge(!ae)},t.createElement(ee.A,{type:ae?"chevron-large-up":"chevron-large-down"})),ae&&t.createElement(t.Fragment,null,t.createElement("p",null,Z.t("Workspace ID: {workspaceDomain}",{workspaceDomain:Ke})),t.createElement("p",null,Z.t("User ID: { userId }",{userId:ke}))))))},"IdentityTransferModalMemberCard");te.displayName="IdentityTransferModalMemberCard";const he=te,ue=new k.Ay("app-config"),de=h(xe=>{let{icon:Ne,text:be}=xe;return t.createElement("div",{className:"p-identity_transfer_modal__description_item"},t.createElement(ee.A,{"aria-label":ue.t("{icon} icon",{icon:Ne}),className:"p-identity_transfer_modal__description_icon",type:Ne}),t.createElement("p",null,be))},"IdentityTransferModalDescriptionItem");de.displayName="IdentityTransferModalDescriptionItem";const re=de;var V=e(8823986650),H=e(3893134238);const X=new k.Ay("app-config"),Y=h(xe=>{let{appName:Ne,privacyPolicyUrl:be,tosUrl:ke}=xe;return t.createElement("div",{className:"p-identity_transfer_modal__legal"},X.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:Ne,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},Ke=>{let{tag:$,text:ae}=Ke;switch($){case"a1":return t.createElement(V.A,{href:ke},ae);case"a2":return t.createElement(V.A,{href:be},ae);case"a3":return t.createElement(V.A,{href:(0,H.v)("/privacy-policy")},ae);default:return null}}))},"IdentityTransferModalLegal");Y.displayName="IdentityTransferModalLegal";const q=Y,fe=new k.Ay("app-config"),ce=h(xe=>{let{appId:Ne,domain:be,isUnskippable:ke=!1,hideLink:Ke=!1,headerInfo:$,isLoading:ae,legalInfo:Ge,setIdentityTransferStep:nt,setLinkClickedPrefs:at,url:Ve,userInfo:Se,autoClogProps:Pe}=xe;const Fe=(0,v.A)(),[ge,He]=(0,t.useState)(!0),[Qe,_e]=(0,t.useState)(!1),[Le,Ie]=(0,t.useState)(!0),[we,ze]=(0,t.useState)(!1);(0,t.useEffect)(()=>{He(ae),Ie(ae)},[ae]);const ut=h(async kt=>{kt?(_e(!0),Ie(!0)):(He(!0),ze(!0)),await at(kt),Fe.current&&(kt?(_e(!1),Ie(!1)):(He(!1),ze(!1)))},"setLoadingAndLinkClickedPrefs"),_t=h(()=>{Se.isEmailVerified?ut(!0):nt("emailVerification")},"handleAcceptClicked"),yt=h(()=>{ut(!1)},"handleSkipClicked"),Ot=h(()=>{ut(!1)},"handleCancelClicked"),{appName:It}=$;return t.createElement(t.Fragment,null,t.createElement(_.$m,null,t.createElement(U.A,{headerInfo:$}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},ke?fe.t("Connect {appName} with Slack",{appName:It}):fe.t("Continue to {appName} with Slack",{appName:It})),t.createElement(_.qf,{className:"p-identity_transfer_modal__member_section"},t.createElement(he,{email:Se.email,name:Se.name,userId:Se.userId,workspaceDomain:Se.workspaceDomain})),t.createElement(_.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,fe.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),t.createElement(re,{icon:"plug",text:fe.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:It})}),t.createElement(re,{icon:"user",text:fe.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:It})}),t.createElement(re,{icon:"sparkles",text:fe.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:It})})),t.createElement(q,{appName:It,privacyPolicyUrl:Ge.privacyPolicyUrl,tosUrl:Ge.tosUrl}))),t.createElement(_.jl,null,!Ke&&t.createElement(w,{url:Ve}),t.createElement(_.ox,null,!ke&&t.createElement(L.A,{autoClogProps:{eventId:P.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:Ne,idlDomain:be,idlEventId:P.EventId[P.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:Le,loading:we,onClick:yt,type:"outline","aria-label":fe.t("Skip")},fe.t("Skip")),ke&&t.createElement(N.Ay,{type:"outline",onClick:Ot,autoClogProps:{eventId:P.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:Ne,idlDomain:be,idlEventId:P.EventId[P.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...Pe}},fe.t("Cancel")),t.createElement(L.A,{autoClogProps:{eventId:P.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:Ne,idlDomain:be,idlEventId:P.EventId[P.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...Pe},"data-qa":"siws_auth_modal_accept",disabled:ge,loading:Qe,onClick:_t,type:"primary","aria-label":fe.t("Accept")},fe.t("Accept")))))},"SiwsIdentityTransfer");ce.displayName="SiwsIdentityTransfer";const Ee=ce,Ae=new k.Ay("app-config"),le=h(xe=>{let{appId:Ne,domain:be,headerInfo:ke,url:Ke,setIdentityTransferStep:$}=xe;const ae=(0,s.wA)(),Ge=(0,o.d4)(Ve=>(0,y.LG)(Ve,Ne)),nt=h(()=>{$("permissions")},"handleBackClicked"),at=h(()=>{ae((0,M.J)({appId:Ne,dateOptedOut:Date.now(),numSkipped:Ge+1})),window.open(Ke,"_blank","noopener,noreferrer"),ae((0,g.O)())},"handleProceedClicked");return t.createElement(t.Fragment,null,t.createElement(_.$m,null,t.createElement(U.A,{headerInfo:ke}),t.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},Ae.t("You\u2019ve skipped a few times and we hear you")),t.createElement(_.qf,null,t.createElement("div",null,Ae.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:ke.appName,link:t.createElement(V.A,{href:Ke},Ke)})))),t.createElement(_.jl,null,t.createElement(_.ox,null,t.createElement(ne.Ay,{"aria-label":Ae.t("Back"),autoClogProps:{idlAppId:Ne,idlDomain:be,eventId:P.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:nt,type:"outline"},Ae.t("Back")),t.createElement(ne.Ay,{"aria-label":Ae.t("Proceed"),autoClogProps:{idlAppId:Ne,idlDomain:be,eventId:P.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:at},Ae.t("Proceed")))))},"IdentityTransferModalSkip");le.displayName="IdentityTransferModalSkip";const oe=le,me=new k.Ay("app-config"),pe=h(xe=>{let{email:Ne,headerInfo:be,setIdentityTransferStep:ke}=xe;const Ke=(0,s.wA)(),$=h(()=>{ke("emailVerification")},"handleVerifyClicked"),ae=(0,t.useCallback)(()=>{Ke((0,g.O)())},[Ke]);return t.createElement(t.Fragment,null,t.createElement(_.$m,null,t.createElement(U.A,{headerInfo:be}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},me.t("Verify your account to continue with {appName}",{appName:be==null?void 0:be.appName})),t.createElement(_.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,me.t("Verification Required"))),t.createElement("ul",null,t.createElement("li",null,me.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:be==null?void 0:be.appName})),t.createElement("li",null,me.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:t.createElement("b",null,t.createElement("span",null,Ne))}))),t.createElement("p",null,me.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),t.createElement(_.jl,null,t.createElement(_.ox,null,t.createElement(N.Ay,{type:"outline",onClick:ae},me.t("Cancel")),t.createElement(N.Ay,{onClick:$},me.t("Verify")))))},"IdentityTransferReverificationModal");pe.displayName="IdentityTransferReverificationModal";const Te=pe,Me=h(xe=>{let{appId:Ne,domain:be,clientMsgId:ke,isUnfurl:Ke=!1,isUserPrefs:$=!1,url:ae,channelId:Ge,reverifyEmail:nt=!1}=xe;const at=(0,s.wA)(),Ve=(0,E.A)(),Se=(0,v.A)(),[Pe,Fe]=(0,t.useState)(null),[ge,He]=(0,t.useState)({appName:"",icons:{}}),[Qe,_e]=(0,t.useState)({tosUrl:"",privacyPolicyUrl:""}),[Le,Ie]=(0,t.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[we,ze]=(0,t.useState)(!0),[ut,_t]=(0,t.useState)(nt?"reverifyEmail":"permissions"),yt=(0,o.d4)(Pt=>Ke?0:(0,y.LG)(Pt,Ne));(0,t.useEffect)(()=>{h(async()=>{try{const{header:jt,legal:Qt,user:Jt}=await at(f({appId:Ne,url:ae,channelId:!$&&!Ke?Ge:void 0}));Se.current&&(He(jt),_e(Qt),Ie(Jt),ze(!1))}catch(jt){!Ke&&!$&&window.open(ae,"_blank","noopener,noreferrer"),at((0,g.O)()),Ve.error(`app-id - ${Ne}`,"error in getting interstitial blocks for link with given appid",jt)}},"getAuthModalData")()},[Ne,at,Ve,Se,ae,Ke,$,Ge]);const Ot=(0,t.useCallback)(async Pt=>{try{Pt?(!$&&ae&&await at((0,u.Ap)({appId:Ne,url:ae,clientMsgId:ke,domain:be,shouldCloseWindowOnCompletion:Ke})),at(I({appId:Ne,completedTransfer:!0})),at((0,g.O)())):!Ke&&!$&&yt<2?(at((0,M.J)({appId:Ne,dateLastSkipped:Date.now(),numSkipped:yt+1})),at((0,g.O)()),window.open(ae,"_blank","noopener,noreferrer")):!Ke&&!$&&yt===2?_t("skip"):(at((0,g.O)()),!Ke&&!$&&window.open(ae,"_blank","noopener,noreferrer"))}catch(jt){Ve.error(`app-id - ${Ne}`,"error in setting prefs with given appid",jt)}},[Ne,at,be,ke,Ve,yt,ae,Ke,$]),It=(0,t.useCallback)(()=>{const Pt={permissions:P.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:P.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:P.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:P.EventId.IDL_EMAIL_VERIFICATION_CLOSED},jt=Pt==null?void 0:Pt[ut];if(Pe==null||Pe.track({eventId:jt,entryPoint:"USER_PREFS",idlAppId:Ne,idlDomain:be,idlEventId:P.EventId[jt].toLowerCase()}),Ke||$||nt){at((0,g.O)());return}ut==="skip"?(at((0,M.J)({appId:Ne,dateOptedOut:Date.now(),numSkipped:yt+1})),window.open(ae,"_blank","noopener,noreferrer")):yt<2?(at((0,M.J)({appId:Ne,dateLastSkipped:Date.now(),numSkipped:yt+1})),window.open(ae,"_blank","noopener,noreferrer")):yt===2&&_t("skip"),ut!=="skip"&&yt===2||at((0,g.O)())},[Ne,Pe,at,be,ut,yt,ae,Ke,$,nt]);let kt;const gt={entryPoint:$?"USER_PREFS":void 0};switch(ut){case"reverifyEmail":kt=t.createElement(Te,{email:Le.email,headerInfo:ge,setIdentityTransferStep:_t});break;case"emailVerification":kt=t.createElement(z,{hideLink:$||Ke,appId:Ne,domain:be,email:Le.email,headerInfo:ge,logger:Ve,setIdentityTransferStep:_t,setLinkClickedPrefs:Ot,url:ae,reverifyEmail:nt,autoClogProps:gt});break;case"skip":kt=t.createElement(oe,{appId:Ne,domain:be,headerInfo:ge,setIdentityTransferStep:_t,url:ae});break;default:kt=t.createElement(Ee,{isUnskippable:Ke||$,hideLink:Ke||$,appId:Ne,domain:be,headerInfo:ge,isLoading:we,legalInfo:Qe,setIdentityTransferStep:_t,setLinkClickedPrefs:Ot,userInfo:Le,url:ae,autoClogProps:gt})}const Gt=c()("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":ut==="skip"});return t.createElement(l.A,{trackClogRef:Pt=>{Fe({track:Pt})}},t.createElement(_.dW,{className:Gt,closeModal:It,shouldCloseOnOverlayClick:!1},kt))},"IdentityTransferModal");Me.displayName="IdentityTransferModal";const Ue=Me},4193831941:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(6122756707),o=e(280840163),n=e(1401466188),c=e(321010523),l=e(8493446852),i=e(7822104609),a=e(481313997),r=e(2828368145);const d=h(f=>{let{children:u,url:E}=f;const v=(0,s.wA)(),g=(0,t.useContext)(n.A).channelId,T=(0,o.d4)(I=>(0,i.ND)(I,E)),p=(0,o.d4)(I=>(0,i.pF)(I,E)),O=(0,o.d4)(I=>(0,r.Xe)(I,T??"")!==null),y=(0,t.useCallback)(I=>{I.shiftKey||I.metaKey||I.ctrlKey||(I.preventDefault(),v((0,l.C)({url:E,channelId:g})))},[v,E,g]),C=(0,t.useMemo)(()=>({onClick:{enableClogAction:!O}}),[O]);return t.createElement(a.A,{eventId:c.EventId.IDL_CLICKED,idlAppId:T,idlDomain:p,idlEventId:c.EventId[c.EventId.IDL_CLICKED].toLowerCase()},typeof u=="function"?u(y,C):u)},"IdentityTransferTrigger");d.displayName="IdentityTransferTrigger";const m=d},974173134:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(6761585902),o=e(6711107392),n=e(5464688500),c=e(9476265383),l=e(7089278202),i=e(2069063006);function a(d){return t.createElement(o.A,{className:d.className,closeModal:d.closeModal},t.createElement(n.A,null,t.createElement(c.A,null,t.createElement("div",{className:"c-lazy_modal"},t.createElement(l.A,null)))))}h(a,"LoadingModal"),a.displayName="LoadingModal";const r=(0,s.N)(null,d=>({closeModal:()=>d((0,i.O)())}))(a)},2479670139:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9062511843),c=e(9323019934),l=e(5190921192),i=e(280840163),a=e(873516440);function r(m){let{iconClassName:f,file:u,isFilled:E=!0,isMicro:v=!1,size:g="20"}=m;const T=(0,n.A)(),p=(0,i.d4)(a.to);return u&&!(0,c.l7)(u)?(T.error(`[ListIcon] Expected List file, got ${(0,c.ti)(u)}`),null):t.createElement("div",{className:o()(f,"p-list_icon",`p-list_icon--${p}`,{"p-list_icon--micro":v})},t.createElement(l.A,{name:E?"lists-filled":"lists",size:v?"inherit":g}))}h(r,"ListIcon"),r.displayName="ListIcon";const d=t.memo(r)},7862159281:(B,A,e)=>{"use strict";e.d(A,{e:()=>a});var t=e(3134334389),s=e(280840163),o=e(4844578989),n=e.n(o),c=e(1985486637);const l=t.memo(t.forwardRef((r,d)=>{let{getAnimationImport:m,className:f,minHeight:u,svgClassName:E,loadingClassName:v,errorClassName:g,description:T,loop:p=!1,autoplay:O=!1,renderLoading:y,renderError:C,preserveAspectRatio:I}=r;const[M,_]=(0,t.useState)(!0),[P,b]=(0,t.useState)(!1),S=(0,t.useRef)(null),N=(0,t.useRef)(null),L=(0,t.useRef)(null);L.current||(L.current=c.S.all([e.e("gantry-v2-async-lottie-web").then(e.t.bind(e,221124150,23)),m()]).then(k=>{let[x,R]=k;if(!S.current)throw new Error("Lottie animation missing container");return _(!1),N.current=x.loadAnimation({container:S.current,renderer:"svg",loop:p,autoplay:O,animationData:R,rendererSettings:{className:n()("p-lottie__svg",E),description:T,preserveAspectRatio:I}}),c.S.resolve(N.current)}).catch(k=>(b(!0),c.S.reject(k)))),(0,t.useEffect)(()=>()=>{L.current&&L.current.cancel(),N.current&&N.current.destroy()},[L,N]),(0,t.useImperativeHandle)(d,()=>L.current,[L]);const D=(0,t.useMemo)(()=>M&&y?y():P&&C?C():null,[y,C,M,P]);return t.createElement("div",{ref:S,style:u!==void 0?{minHeight:u}:void 0,className:n()("p-lottie",f,M&&v,P&&g)},D)}));var i=e(293248343);const a=t.memo(t.forwardRef((r,d)=>{let{getAnimationImport:m,className:f,minHeight:u,svgClassName:E,loadingClassName:v,errorClassName:g,description:T,loop:p=!1,autoplay:O=!1,renderLoading:y,renderError:C,preserveAspectRatio:I}=r;const M=(0,s.d4)(_=>(0,i.ty)(_,"a11y_animations"));return t.createElement(l,{getAnimationImport:m,className:f,minHeight:u,svgClassName:E,loadingClassName:v,errorClassName:g,description:T,loop:p,autoplay:!!(M&&O),renderLoading:y,renderError:C,preserveAspectRatio:I,ref:d})}))},2759708258:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(7715417323),o=e(4978843660),n=e(166097325),c=e(6696292586),l=e(6650208157);const i=4;function a(d){let{children:m,fallbackWidth:f=void 0,onResize:u=s.A}=d;const[E,v]=(0,t.useState)({width:0,height:0}),[g,T]=(0,t.useState)(!1),p=(0,t.useRef)([]);function O(C){let{width:I}=C;if(p.current.unshift(I),p.current.length<i)return!1;p.current.length>i&&(p.current.length=i);const M=(0,o.A)(p.current,2);return M.slice(1).every(_=>(0,n.A)(_,M[0]))}h(O,"looksLikeResizeLoop");const y=(0,t.useCallback)(C=>{u(C),v(C.bounds),(0,c.A)(f)&&!g&&T(O(C.bounds))},[f,u,g]);return t.createElement(l.A,{bounds:!0,onResize:y},C=>{let{measureRef:I}=C;return m({...E,width:g&&f?f:E.width,measureRef:I})})}h(a,"Measure"),a.displayName="Measure";const r=a},8710211278:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3134334389),s=e(3262078016),o=e(338698394),n=e(2688958968),c=e(807728953);const i=h(a=>{let{value:r,max:d,tick:m,jump:f,onChange:u,renderContainer:E,renderTrack:v,renderInner:g,onMouseDown:T,onMouseUp:p,"aria-label":O,"aria-valuetext":y,vertical:C,autoFocus:I}=a;const M=(0,t.useRef)(null),{embeddedUiData:_}=(0,t.useContext)(c.N),{windowRef:P}=(0,t.useContext)(o._0),b=(0,t.useCallback)(F=>{let{pageX:W,pageY:w}=F;const K=M.current;if(!K)return;const j=K.getBoundingClientRect(),Q=C?j.y:j.x,J=Math.max(0,(C?w:W)-Q),z=C?j.height:j.width,ee=(C?1-Math.min(1,J/z):Math.min(1,J/z))*d;u(ee)},[d,u,C]),S=(0,t.useCallback)(F=>{b(F)},[b]),N=(0,t.useCallback)(F=>{var W,w;(W=P.deref())===null||W===void 0||W.document.removeEventListener("mousemove",S),(w=P.deref())===null||w===void 0||w.document.removeEventListener("mouseup",N),p==null||p(F)},[S,p,P]),L=(0,t.useCallback)(F=>{var W,w;F.button!==0||F.ctrlKey||(b(F),F.preventDefault(),(W=P.deref())===null||W===void 0||W.document.addEventListener("mousemove",S),(w=P.deref())===null||w===void 0||w.document.addEventListener("mouseup",N),T==null||T(F))},[S,N,b,T,P]),D=(0,t.useCallback)(F=>{switch(F.which){case n.LE:case n.i7:u(r+(m??1));break;case n.UQ:case n.n6:u(r-(m??1));break;case n.w_:u(r+(f??d*.1));break;case n.dB:u(r-(f??d*.1));break;case n.yZ:u(0);break;case n.Kp:u(d);break;default:return}F.preventDefault()},[r,d,m,f,u]);(0,t.useEffect)(()=>{var F;return M==null||(F=M.current)===null||F===void 0||F.toggleAttribute(s.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!_),()=>{var W,w;(W=P.deref())===null||W===void 0||W.document.removeEventListener("mousemove",S),(w=P.deref())===null||w===void 0||w.document.removeEventListener("mouseup",N)}},[_,S,N,P]),(0,t.useEffect)(()=>{I&&M.current&&M.current.focus()},[I]);const k=`${((d>0?r/d:0)*100).toFixed(2)}%`,x=g({style:C?{height:k}:{width:k}}),R=v({children:x,tabIndex:0,role:"slider","aria-label":O,"aria-valuemin":0,"aria-valuemax":d,"aria-valuenow":Math.floor(r),"aria-valuetext":y,onKeyDown:D,ref:M});return E({children:R,onMouseDown:L})},"CustomizableSlider")},9917685424:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(2947229296),o=e(807728953),n=e(6109709956),c=e(9006442414),l=e(321010523);const i=new s.Ay("stories_av"),a={eventId:l.EventId.BK_USER_INTERACTION,interactionElement:l.InteractionElement.VIDEO,onClick:{enableClogAction:!0,interaction:l.Interaction.EXPAND}};function r(m){let{onClick:f,size:u,classPrefix:E}=m;const{embeddedUiData:v}=(0,t.useContext)(o.N),T=!!v?i.t("View full screen",{fallbackHash:"de8414755b5ff3c3e9f07661b8a127f5e5f57865",fallbackHashNs:"file"}):i.t("Expand",{fallbackHash:"5de840011e47d74fc17266744fc23d99a5f90716"});return t.createElement(c.Ay,{tip:T,position:"top"},t.createElement(n.A,{className:`${E}__controls_overlay_fullscreen`,onClick:f,"aria-label":T,backgroundStyle:"dark",size:u,autoClogProps:a,svgIconProps:{name:"expand-diagonal"}}))}h(r,"FullscreenButton"),r.displayName="FullscreenButton";const d=r},6271429516:(B,A,e)=>{"use strict";e.d(A,{A:()=>T});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(2947229296),l=e(1236500105),i=e(807728953),a=e(2207269998),r=e(8090731885),d=e(768761048),m=e(6881088998),f=e(280840163),u=e(293248343),E=e(2577163594);const v=new c.Ay("stories_av"),g=h(p=>{let{onSpeedChange:O,isInlinePlayer:y,onMouseEnter:C,onMouseLeave:I,className:M}=p;const _=(0,s.wA)(),[P]=(0,t.useState)({}),b=(0,f.d4)(U=>(0,u.ty)(U,"media_playback_speed")),[S,N]=(0,t.useState)(b||1),{embeddedUiData:L}=(0,t.useContext)(i.N),D=(0,r.d)(()=>`playback-speed-${(0,d.r9)()}`);(0,t.useEffect)(()=>{b&&Object.keys(P).length===0&&b!==S&&N(b)},[P,b,S]);const k=(0,t.useCallback)(U=>{const F=U.value,W=S;N(F);const w=(0,l.A)();P[w]=!0,_((0,E.AZ)({pref:"media_playback_speed",value:F})).finally(()=>{delete P[w]}),O==null||O(F,W)},[_,P,S,O]),x=(0,t.useMemo)(()=>[{label:v.t("Playback speed"),options:a.Cv.map(U=>({label:v.t("{speed}x",{speed:U,fallbackHash:"399e68d4ef7e131fd1ddd396dfb6bcf815269ef4"}),value:U}))}],[]),R=(0,t.useMemo)(()=>{var U;if(!((U=x[0])===null||U===void 0)&&U.options){for(const F of x[0].options)if(F.value===S)return F}return null},[S,x]);return t.createElement(m.A,{options:x,className:n()("p-media_controls__control--playback-speed",M,{"p-video_controls_overlay__controls__speed":y}),size:"small",minOptionsListWidth:140,selectedOption:R,onOptionSelected:k,ariaLabel:v.t("Set playback speed: currently {mediaPlaybackSpeed}\xD7",{mediaPlaybackSpeed:S}),onMouseEnter:C,onMouseLeave:I,selectId:D,preventScroll:!!L})},"MediaPlaybackSpeedControl");g.displayName="MediaPlaybackSpeedControl";const T=g},7850441626:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(2947229296),o=e(6271429516),n=e(1181734040),c=e(9006442414),l=e(321010523),i=e(280840163),a=e(293248343);const r=new s.Ay("stories_av");function d(f){let{isInlinePlayer:u,videoRef:E,sharedClogProps:v={},className:g}=f;const T=(0,n.A)(),p=(0,i.d4)(y=>(0,a.ty)(y,"media_playback_speed"));(0,t.useEffect)(()=>{var y;E==null||(y=E.current)===null||y===void 0||y.setPlaybackRate(p)},[p,E]);const O=(0,t.useCallback)((y,C)=>{T.track(l.EventId.MEDIA_PLAYER,{...v,contexts:{...v.contexts,ui_context:{ui_step:u?"embedded":"fullscreen",action:"click",ui_properties:{element_type:"button",element_name:"playback_speed"}}},from:`${C??1}x`,to:`${y??1}x`})},[T,v,u]);return t.createElement(c.Ay,{tip:r.t("Playback speed"),position:"top",delay:c.n1},t.createElement(o.A,{onSpeedChange:O,isInlinePlayer:u,className:g}))}h(d,"PlaybackSpeedButton"),d.displayName="PlaybackSpeedButton";const m=d},3432655345:(B,A,e)=>{"use strict";e.d(A,{A:()=>M});var t=e(3134334389),s=e(6122756707),o=e(2947229296),n=e(4844578989),c=e.n(n),l=e(3254286694),i=e(8710211278);function a(){return a=Object.assign||function(_){for(var P=1;P<arguments.length;P++){var b=arguments[P];for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(_[S]=b[S])}return _},a.apply(this,arguments)}h(a,"_extends");const r=new o.Ay("stories_av");var d;(function(_){_.Normal="normal",_.Popover="popover",_.Vertical="vertical"})(d||(d={}));const m=h(_=>{let{children:P,volume:b,onChange:S,onMouseDown:N,onMouseUp:L,mode:D=d.Normal,setIsVerticalVolumeActive:k}=_;const x=(0,t.useContext)(l.A),R=(0,t.useCallback)(J=>{S(Math.round(J)/100)},[S]),U=(0,t.useCallback)(()=>{k==null||k(!0)},[k]),F=(0,t.useCallback)(()=>{k==null||k(!1)},[k]),W=Math.floor(b*100),w=(0,t.useCallback)(J=>t.createElement("div",a({className:"p-media_volume_slider__slider"},J)),[]),K=(0,t.useCallback)(J=>t.createElement("div",a({className:"p-media_volume_slider__track"},J)),[]),j=(0,t.useCallback)(J=>t.createElement("div",a({className:"p-media_volume_slider__fill"},J)),[]),Q=t.createElement(i.A,{value:W,max:100,onChange:R,renderContainer:w,renderTrack:K,renderInner:j,onMouseDown:N,onMouseUp:L,"aria-label":r.t("Volume"),"aria-valuetext":`${W}%`,vertical:D===d.Vertical});return t.createElement("div",{className:c()("p-media_volume_slider",{"p-media_volume_slider--keyboard_focus":x,[`p-media_volume_slider--${D}`]:D}),onMouseEnter:D===d.Vertical?U:void 0,onMouseLeave:D===d.Vertical?F:void 0,onFocus:D===d.Vertical?U:void 0,onBlur:D===d.Vertical?F:void 0},t.createElement("div",{className:"p-media_volume_slider__children"},P),t.createElement("div",{className:"p-media_volume_slider__slider_container"},Q))},"MediaVolumeSlider");m.displayName="MediaVolumeSlider";const f=m;var u=e(9122366353),E=e(5681517118),v=e(4477499279),g=e(5190921192),T=e(9006442414),p=e(280840163),O=e(293248343),y=e(2577163594);const C=new o.Ay("stories_av");function I(_){let{isInlinePlayer:P,useVerticalVolume:b,videoRef:S,className:N,backgroundStyle:L,setIsVerticalVolumeActive:D}=_;const k=(0,s.wA)(),x=(0,p.d4)(ue=>(0,O.ty)(ue,"media_muted"));var R;const U=(R=(0,p.d4)(ue=>(0,O.ty)(ue,"media_volume")))!==null&&R!==void 0?R:1,[F,W]=(0,t.useState)(U),w=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var ue;S==null||(ue=S.current)===null||ue===void 0||ue.setMuted(x)},[x,S]),(0,t.useEffect)(()=>{var ue;S==null||(ue=S.current)===null||ue===void 0||ue.setVolume(F)},[S,F]);const K=(0,t.useCallback)(()=>{k((0,y.AZ)({pref:"media_muted",value:!x})),x&&W(U)},[k,x,U]),j=(0,t.useCallback)(function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F;ue===0?x||k((0,y.AZ)({pref:"media_muted",value:!0})):(x&&k((0,y.AZ)({pref:"media_muted",value:!1})),!w.current&&ue!==U&&k((0,y.AZ)({pref:"media_volume",value:ue})))},[k,F,x,U]),Q=(0,t.useRef)(j);Q.current=j;const J=(0,t.useCallback)(ue=>{W(ue),Q.current(ue)},[]),z=(0,t.useCallback)(()=>{w.current=!0},[]),ie=(0,t.useCallback)(()=>{w.current=!1,Q.current()},[]);(0,t.useEffect)(()=>{w.current||W(U)},[U]);const ee=x?C.t("Unmute"):C.t("Mute"),ne=C.t("Mute"),Z=(0,t.useMemo)(()=>x?{name:"sound-off"}:F>=.6?{name:"sound-up"}:F>=.3?{name:"sound-medium"}:{name:"sound-down"},[x,F]),te=(0,t.useMemo)(()=>t.createElement(v.A,{title:ee,mainKey:C.t("M")}),[ee]);if(P){const ue=t.createElement(T.Ay,{tip:ee,position:b?"bottom":"top",delay:T.n1,hideFromScreenReader:!0},t.createElement(u.A,{className:"p-video_controls_overlay__controls__button p-video_controls_overlay__controls__button--mute","aria-label":ne,"aria-pressed":x,onClick:K},t.createElement(g.A,{name:Z.name,size:"inherit"})));return t.createElement(f,{volume:x?0:F,onChange:J,onMouseDown:z,onMouseUp:ie,setIsVerticalVolumeActive:D,mode:b?d.Vertical:d.Popover},ue)}const he=t.createElement(T.Ay,{tip:te,position:"top",delay:T.PK,hideFromScreenReader:!0},t.createElement(E.A,{onClick:K,"aria-label":ne,"aria-pressed":x,svgIconProps:Z,size:"medium",className:N,backgroundStyle:L||"light"}));return t.createElement(f,{volume:x?0:F,onChange:J,onMouseDown:z,onMouseUp:ie},he)}h(I,"ToggleMute"),I.displayName="ToggleMute";const M=I},2548388602:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(2947229296),o=e(1985486637),n=e(9062511843);const c="MEDIA-PLAYER";function l(m){const f=(0,n.A)(),[u,E]=(0,t.useState)(!0),[v,g]=(0,t.useState)(),[T,p]=(0,t.useState)();return(0,t.useEffect)(()=>{if(g(void 0),p(void 0),!m){E(!1);return}E(!0);let O;const y=new o.S((C,I,M)=>{const _=new XMLHttpRequest;let P=!1;_.addEventListener("load",()=>{f.info(c,"vtt loaded"),E(!1);const b=_.response;O=URL.createObjectURL(b),g(O),C(_.response),b.text().then(S=>{P||p(S)})}),_.addEventListener("error",()=>{f.warn(c,"error fetching vtt"),E(!1),I(new Error(`VTT load request failed with status ${_.status}`))}),M&&M(()=>{_.abort(),P=!0}),_.responseType="blob",_.withCredentials=!0,_.open("GET",m),_.send(),f.info(c,"fetching vtt")});return()=>{y.isPending()&&y.cancel(),O&&URL.revokeObjectURL(O)}},[f,m]),{vttLoading:u,vttSrc:v,vttText:T}}h(l,"useVtt");const i=l,a=new s.Ay("stories_av");function r(m){let{vtt:f,enableMediaCaptions:u}=m;const{vttSrc:E}=i(f);return!f||!E?null:t.createElement("track",{label:a.t("Captions"),kind:"captions",src:E,default:u})}h(r,"TextTrack"),r.displayName="TextTrack";const d=r},685249320:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(155282313);function o(){const[c,l]=(0,t.useState)(!1),i=(0,t.useRef)(),a=(0,t.useRef)(!1),r=(0,t.useRef)(!1),d=(0,t.useCallback)(()=>{clearTimeout(i.current),i.current=setTimeout(()=>{a.current||l(!1)},1300)},[]),m=(0,t.useCallback)(()=>{l(!1),r.current=!1},[]),f=(0,t.useCallback)(()=>{l(!0),r.current=!0,d()},[d]),u=(0,t.useCallback)(()=>{r.current&&(l(!0),d())},[d]),E=(0,t.useCallback)(v=>{const g=(0,s.A)(v.target,T=>(T==null?void 0:T.dataset.preventFade)==="true");a.current=g},[]);return(0,t.useEffect)(()=>()=>clearTimeout(i.current),[]),{mouseIsOverElement:c,onMouseLeave:m,onMouseEnter:f,onMouseMove:u,onMouseOver:E}}h(o,"useDetectMouseOverElement");const n=o},6185374948:(B,A,e)=>{"use strict";e.d(A,{e:()=>C});var t=e(3134334389),s=e(6122756707),o=e(481313997),n=e(1959543078),c=e(4921096872),l=e(2926344925),i=e(3633325154),a=e(6636205252),r=e(9950231676),d=e(8823986650),m=e(321010523),f=e(2591180720),u=e(280840163),E=e(3493336852),v=e(6084367285),g=e(5965044477),T=e(6874403995),p=e.n(T);const O={elementName:"dispatch",onClick:{enableClogAction:!0}},y={notificationName:"",notificationData:""},C=h(M=>{let{initialValues:_=y,validate:P,onCloseModal:b,megaphoneSpaceName:S,notificationList:N,channelScopedId:L}=M;const[D,k]=(0,t.useState)(!1),[x,R]=(0,t.useState)(!1),U=(0,u.d4)(z=>(0,v.k6)(z,S)),W=U&&!_.notificationName&&!_.notificationData?U:_,w=(0,s.wA)(),K=(0,t.useCallback)((z,ie)=>{let{setSubmitting:ee}=ie;k(!1),R(!1);const{notificationName:ne,notificationData:Z}=z;if(!ne){ee(!1),k(!0);return}let te={};if(Z.length)try{te=JSON.parse(Z)}catch{ee(!1),R(!0);return}b==null||b(),w((0,E.G0)({spaceName:S,notificationName:ne,notificationData:te,channelId:L})),w((0,E.it)({spaceName:S,notificationName:ne,notificationData:Z})),S===g.xu.LAUNCH_MODAL&&w((0,f.A)())},[b,w,S,L]),j=(0,t.useMemo)(()=>t.createElement("div",{className:p().notificationName},"Notification Name"),[]),Q=(0,t.useCallback)((z,ie)=>W.notificationName?W.notificationName===z:ie===0,[W.notificationName]),J=(0,t.useCallback)(z=>z.notificationName||z.notificationData,[]);return t.createElement(o.A,{eventId:m.EventId.ANALYTICS_EVENT,uiComponentName:m.UiComponentName.MEGAPHONE_DISPATCHER,megaphoneSpaceName:S,clogImpression:!0},t.createElement(r.A,{initialValues:W,validate:P,onSubmit:K},z=>{let{isSubmitting:ie,values:ee,setValues:ne}=z;return t.createElement(t.Fragment,null,t.createElement("h2",null,"Megaphone Dispatcher"),"Click the Dispatch button below to instantly render Megaphone Notifications on the UI.",t.createElement("div",{className:p().spaceNameContainer},"Space Name",t.createElement("div",{className:p().spaceName},S)),t.createElement(l.A,{legendText:j,isRequired:!0},t.createElement("div",{className:p().notificationList},Object.keys(N).sort().map((Z,te)=>t.createElement(i.i,{key:Z,labelText:Z,id:`field-radio-${te}`,name:"notificationName",value:Z,checked:ee.notificationName===Z,focusOnMount:Q(Z,te)})))),t.createElement(a.A,{labelText:"Notification Data",optional:!0,name:"notificationData",id:"notificationData",placeholder:'Ex: { "Field Name": "<String Value>", "Field Name": <Numeric Value> }',className:p().textArea}),t.createElement("div",{className:p().alert},t.createElement(n.Ay,{type:"boxed",level:"warning",icon:"warning",align:"left"},t.createElement("span",{className:p().alertText},t.createElement("b",null,"Some Megaphone notifications may not be dispatched due to various reasons, such as but not limited to:"),t.createElement("li",null," Missing notification data "),t.createElement("li",null,"The notification being part of an experiment "),"For questions or further assistance, reach out to us at"," ",t.createElement("b",null,t.createElement(d.A,{href:"https://app.slack.com/client/E12KS1G65/C0765PUTPDL",target:"_blank"},"#proj-megaphone-dispatcher")),"."))),D&&t.createElement("div",{className:p().formError},"Please select a notification."),x&&t.createElement("div",{className:p().formError},"There was an error parsing Notification Data, please try again."),t.createElement("div",null,t.createElement(c.Ay,{autoClogProps:O,disabled:ie,htmlType:"submit"},"Dispatch"),J(ee)&&t.createElement(I,{megaphoneSpaceName:S,isSubmitting:ie,setFormValues:ne})))}))},"DispatcherForm");C.displayName="DispatcherForm";function I(M){let{setFormValues:_,megaphoneSpaceName:P,isSubmitting:b}=M;const S=(0,s.wA)(),N=(0,t.useCallback)(()=>{S((0,E.M5)(P)),_({notificationName:"",notificationData:""},!1)},[S,P,_]);return t.createElement(c.Ay,{className:"margin_left_50",onClick:N,disabled:b,type:"outline"},"Reset")}h(I,"ResetButton"),I.displayName="ResetButton"},7942954994:(B,A,e)=>{"use strict";e.d(A,{R:()=>i,h:()=>a});var t=e(3134334389),s=e(6122756707),o=e(1492910739),n=e(280840163),c=e(3493336852),l=e(6084367285);const i=h(()=>{const r=!(0,o.KV)()||(0,o.b3)(),d=(0,s.wA)(),m=(0,n.d4)(l.y$);return(0,t.useEffect)(()=>{const f=h(u=>{r&&u.ctrlKey&&u.shiftKey&&u.key==="M"&&d((0,c.cv)(!m))},"handleKeydown");return window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}},[r,d,m]),{shouldShowDispatcherViewer:m}},"useDispatcherToggleShortcut"),a=h(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[d,m]=(0,t.useState)(r),f=(0,t.useCallback)(u=>{m(u)},[]);return{isModalOpen:d,toggleModal:f}},"useModal")},3304973797:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});const t={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",border:0,padding:0,background:"transparent"},overlay:{backgroundColor:"rgba(208, 208, 208, 0.4)",zIndex:1e4}}},2436862725:(B,A,e)=>{"use strict";e.d(A,{$W:()=>x,sl:()=>U,Ay:()=>F});var t=e(3134334389),s=e(6122756707),o=e(481313997),n=e(2084938045),c=e(1739415438),l=e(7942954994),i=e(6185374948),a=e(3304973797),r=e(4830642108),d=e(9006442414),m=e(163635467),f=e.n(m);const u=h(W=>{let{megaphoneSpaceName:w,notificationList:K,channelScopedId:j}=W;const{isModalOpen:Q,toggleModal:J}=(0,l.h)(!1);return t.createElement("div",{className:f().container},t.createElement(d.Ay,{tip:w,position:"top",zIndex:"menu_above_fs"},t.createElement("span",{className:f().dispatcherViewerIcon,role:"button",tabIndex:0,"aria-label":"Open Viewer Modal",onClick:()=>J(!0)})),t.createElement(r.A,{isOpen:Q,onRequestClose:()=>J(!1),style:a.A},t.createElement("div",{className:f().dispatcherViewerDetails},t.createElement(i.e,{megaphoneSpaceName:w,notificationList:K,onCloseModal:()=>J(!1),channelScopedId:j}))))},"DispatcherViewer");u.displayName="DispatcherViewer";const E=(0,c.A)(u),v=h(W=>{let{children:w,megaphoneSpaceName:K,notificationList:j,channelScopedId:Q}=W;const{shouldShowDispatcherViewer:J}=(0,l.R)();return t.createElement(t.Fragment,null,J&&t.createElement("div",{className:f().dispatcherViewer},t.createElement(E,{megaphoneSpaceName:K,notificationList:j,channelScopedId:Q})),w)},"DispatcherToggle");v.displayName="DispatcherToggle";const g=(0,c.A)(v);var T=e(4384701014),p=e(4952406787),O=e(6136846422),y=e(280840163),C=e(205540855),I=e(3493336852),M=e(6084367285),_=e(3294279361),P=e(9905839656),b=e(4412949501),S=e(5965044477),N=e(6504978273),L=e(76949914);const D={isInMegaphoneContainerContext:!0},k={isInMegaphoneContainerContext:!1},x=(0,t.createContext)(k),R=h(W=>{let{fetchDataOnMount:w,notifications:K,spaceName:j,children:Q,shouldAlwaysRenderChildren:J,shouldPassPropsToChildren:z,channelScopedId:ie,componentClassName:ee,...ne}=W;var Z;const te=(0,s.wA)(),he=(0,T.x)(),ue=(0,y.d4)(L.oY),de=(0,y.d4)(M.up),re=(0,y.d4)(me=>(0,C._Z)(me,"megaphone_coachmark_suppression")==="on"),V=(0,y.d4)(me=>(0,C._Z)(me,"megaphone_eligible_notifications")==="on"),{isInsideModal:H}=(0,O.k)(),X=(0,y.d4)(me=>(0,M.Hp)(me,j,ie)),Y=(0,y.d4)(me=>(0,M.OL)(me,j,ie)),q=(0,t.useMemo)(()=>{if(!V)return;const{eligibleNotifications:me}=Y;if(me!=null&&me.length)return me},[V,Y]),fe=(0,t.useCallback)(()=>{te((0,b.A)({notificationName:X,action:S.hw.IMPRESSION}))},[te,X]),ce=(0,t.useCallback)(()=>te((0,P.Ay)({spaceName:j,action:S.hw.DISMISS})),[te,j]),Ee=(0,t.useCallback)(()=>{te((0,_.iR)({event:{type:S.jo.REQUEST_SPACES,spaces:[j]}}))},[te,j]),Ae=h(()=>J?z&&t.isValidElement(Q)?t.cloneElement(Q,{...ne}):t.createElement(g,{channelScopedId:ie,megaphoneSpaceName:j,notificationList:K},Q):t.createElement(g,{channelScopedId:ie,megaphoneSpaceName:j,notificationList:K},null),"maybeRenderChildren");Ae.displayName="maybeRenderChildren",(0,t.useEffect)(()=>{j&&w&&Ee()},[w,j,Ee]);const le=K==null||(Z=K[X])===null||Z===void 0?void 0:Z.component,oe=re&&le&&!H&&ue&&j===S.xu.IN_PRODUCT_COACHMARK;if(oe&&!de){te((0,I.co)(!0));const me=he.createMetricsTrace({label:"megaphone",samplingOptions:{sampleType:n.tS.SESSION,sampleRate:.1}}),pe=me.count({name:"megaphone_coachmark_suppress"});pe.addTags({notification:X}),pe.close(),he.reportTrace(me)}return!j||!X||re&&j===S.xu.IN_PRODUCT_COACHMARK&&de||oe?Ae():le?t.createElement(o.A,{megaphoneSpaceName:j,megaphoneNotificationName:X,megaphoneEligibleNotifications:q},t.createElement(x.Provider,{value:D},t.createElement(g,{megaphoneSpaceName:j,notificationList:K,channelScopedId:ie},null),t.createElement(t.Suspense,{fallback:J?Q:null},t.createElement(le,{...Y,recordNotificationEventImpression:fe,dismissAndClearNotification:ce,notificationName:X,className:ee,channelScopedId:ie,...ne},Q)))):(K||(0,N.h)({spaceName:j,notificationName:X}),Ae())},"MegaphoneContainer");R.displayName="MegaphoneContainer";const U=(0,p.Ay)(R),F=R},7406619770:(B,A,e)=>{"use strict";e.d(A,{C:()=>t});const t={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},1401466188:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3134334389);const s=t.createContext({});s.displayName="MessageContext";const o=s},8320547579:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(9819891010),s=e(9238137835);function o(n){let{userId:c,botId:l,username:i,botProfile:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:r,bot:d}=(0,s.Od)(n,{userId:c,botId:l,botProfile:a});return r?(0,t.sE)(n,r):l&&i?i:d?d.name||"":!l&&!d&&i?i:""}h(o,"getMessageSenderNameFromState")},1357872363:(B,A,e)=>{"use strict";e.d(A,{s:()=>g});var t=e(4894634110),s=e(7499216588),o=e(3299124106),n=e(8042480195),c=e(7418708689),l=e(5416212177),i=e(8370946575),a=e(6206412117),r=e(6601094772),d=e(2691514942),m=e(2042516736),f=e(9915778310),u=e(3002128342),E=e(3875417628),v=e(7819259683);const g=(0,t.Ay)("Opens a view in a new child window",async(T,p,O,y)=>{let{viewId:C,params:I,clogParams:M}=O;if(!(0,m.M2)())return;const _=p(),{isMainWindow:P}=y(v.U);if((0,f.yZ)(_)&&P&&(0,u.Xy)(C)){T((0,E.$)({viewId:C,params:I}));return}let b=!1;if((0,a.A)(_,C)){let S,N={[c.mq.Primary]:{id:C,params:I,viewType:(0,l.A)(C)}};N=T((0,n.VO)({viewSet:N,windowId:c.N2}));const L=(0,r.w)(C),D=L;if(C==="thread"&&(I!=null&&I.threadId)){const k=(0,i.Sb)(I==null?void 0:I.threadId).channelId;b=!0,N={[c.mq.Primary]:{id:k||(I==null?void 0:I.entityId),params:void 0,viewType:s.D.Channel},[c.mq.Secondary]:{id:C,params:I,viewType:s.D.Thread}},S=c.mq.Secondary}C==="channel_canvas"&&(N={[c.mq.Primary]:{id:I==null?void 0:I.channelId,params:void 0,viewType:s.D.Channel},[c.mq.Secondary]:{id:"channel_canvas",params:I,viewType:s.D.ChannelCanvas}}),T((0,o.Bb)({viewSet:N,shouldNavigateInContext:L,shouldShowSearch:D,...S&&{containerOrigin:S},clogParams:M??{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:b}))}else(0,d.Ay)({getState:p}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",C)});g.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},23487312:(B,A,e)=>{"use strict";e.d(A,{n:()=>n});var t=e(4894634110),s=e(2601053726),o=e(6563296078);const n=(0,t.Ay)("Opens a view in a different surface or falls back to opening in a regular surface",async(c,l,i)=>{const{e:a,navProps:r,clogParams:d}=i;await c((0,s.d)({e:a,navProps:r,clogParams:d}))||c((0,o.o)(r))});n.meta={name:"createThunk",key:"createThunkmaybeOpenInSurfaceOrNavigate",description:"Opens a view in a different surface or falls back to opening in a regular surface"}},2601053726:(B,A,e)=>{"use strict";e.d(A,{d:()=>l});var t=e(8019437408),s=e(2436131933),o=e(1357872363),n=e(2042516736),c=e(4894634110);const l=(0,c.Ay)("Opens a view in a different surface",(i,a,r)=>{const{e:d,navProps:m,clogParams:f}=r,u=a();return(0,s.t)(u,{e:d})?(i((0,t.p)({navProps:m,...f&&{clogParams:{entryPoint:f.entryPoint}}})),!0):(0,n.Cz)(d)?(i((0,o.s)({viewId:m.id,params:m.params,...f&&{clogParams:{uiComponentName:f.uiComponentName,entryPoint:f.entryPoint}}})),!0):!1});l.meta={name:"createThunk",key:"createThunkmaybeOpenInSurface",description:"Opens a view in a different surface"}},6499512541:(B,A,e)=>{"use strict";e.d(A,{C_:()=>d,MH:()=>f,Zj:()=>E,ik:()=>v,kh:()=>l,tl:()=>r,tw:()=>m,vu:()=>u,xu:()=>g});var t=e(2947229296),s=e(4850421456),o=e(414484285);const n=new t.Ay("prefs"),c=h(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,o.JK)();return s.nW[T]},"getLocaleSpecificDefaults"),l=h(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,o.JK)();return{default:!0,fontFamily:c(T),label:s.qH,value:"lato"}},"getDefaultFontOption"),i=h(()=>{const T=n.t("{font} (Default)",{font:"Lato"}),p=n.t("{font} (System)",{font:s.qL}),O=s.qL?{label:p,value:"system-font",fontFamily:s.fd}:void 0,y=[{...l(),label:T},s.xw,s.ew,s.Ig,s.k7,s.zZ,s.Z2,s.qS];return O?y.concat([O]):y},"getSupportedFontOptions"),a=h(()=>({default:!1,label:n.t("Custom Font",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"}),value:"custom-font"}),"getCustomFontDefault"),r=h(T=>{let{includeCustomFont:p}=T;const O=i();return p?O.concat([a()]):O},"getAllFontOptions"),d=h(T=>{let{customFont:p,locale:O}=T;const y=O||(0,o.JK)(),C=c(y);return{...a(),fontFamily:`${p} , ${C}`}},"getCustomFontOption"),m=h(T=>T.slice().sort((p,O)=>{var y,C;return((y=p==null?void 0:p.label)!==null&&y!==void 0?y:"")<((C=O==null?void 0:O.label)!==null&&C!==void 0?C:"")?-1:1}),"sortFonts"),f=h(T=>Object.values(s.xo).some(p=>p.includes(T.toLowerCase())),"isSupportedFont"),u=h(T=>T.default===!0,"isDefaultFont"),E=h(T=>Object.keys(s.xo).find(p=>s.xo[p].includes(T.toLowerCase())),"getSupportedFontValue"),v=h(T=>{let{fontValue:p,includeCustomFont:O}=T;var y;return(y=r({includeCustomFont:O}).find(C=>C.value===p))!==null&&y!==void 0?y:void 0},"getFontOptionForFontValue"),g=h(T=>!s.hb.includes(T),"isCustomTypefaceSupportedLocale")},2211405675:(B,A,e)=>{"use strict";e.d(A,{A:()=>j});var t=e(3134334389),s=e(3297051565),o=e.n(s),n=e(6761585902),c=e(6216408461),l=e(6122756707),i=e(788726566),a=e(2947229296),r=e(9035338428),d=e(6154618221),m=e(5945936072),f=e(4144342945),u=e(321010523),E=e(706350562),v=e(8173917350),g=e(5400751332),T=e(280840163),p=e(7566379697),O=e(440724602),y=e(7091481521),C=e(1242487384),I=e(9238137835),M=e(5340972829),_=e(6766178921),P;(function(Q){Q.GO_TO_APP="go_to_app",Q.VIEW_DIRECTORY="view_directory",Q.COPY_APP_NAME="copy_app_name",Q.COPY_APP_LINK="copy_app_link",Q.REMOVE_FROM_CHANNEL="remove_from_channel",Q.VIEW_PROFILE="view_profile"})(P||(P={}));const b=new a.Ay("menu"),S=h(Q=>{var J;const{memberId:z,serviceId:ie,homeWorkspaceId:ee,children:ne,appId:Z,includeRemoveFromChannelAction:te,channelId:he}=Q,ue=(0,T.d4)(O.T),de=(0,T.d4)($=>(0,I.AF)($,ie)),re=(0,T.d4)($=>(0,_.nv)($,z)),V=(0,r.u)(re),H=de?de.app_id:void 0,X=(0,T.d4)($=>ue?(0,y.sO)($,{appId:Z||H,memberId:z,serviceId:ie}):(0,p.G2)($,{appId:Z||H,serviceId:ie,homeWorkspaceId:ee,memberId:z})),Y=z||(X==null||(J=X.app_user)===null||J===void 0?void 0:J.id),q=(0,l.wA)(),fe=(0,m.fj)(X),ce=(0,T.d4)($=>(0,m.vu)($,X)),Ee=(0,T.d4)($=>(0,m.FN)($,X)),Ae=(0,T.d4)($=>(0,m.i1)($,X)),le=ce&&Ee||Ae,oe=(0,T.d4)($=>(0,m.iV)($,X)),me=(0,T.d4)(C.TZ),pe=(0,T.d4)(E.e),Te=(0,t.useCallback)($=>{pe.track(u.EventId.CONTEXT_MENU_ACTION,{label:$,is_iap1:!0})},[pe]),Me=(0,t.useCallback)(()=>{Te(P.VIEW_DIRECTORY)},[Te]),Ue=(0,t.useCallback)(()=>{Te(P.GO_TO_APP),(0,M.Z)({memberId:Y})},[Te,Y]),xe=(0,t.useCallback)(()=>{Te(P.COPY_APP_NAME),(0,f.x3)(fe)},[Te,fe]),Ne=(0,t.useCallback)(()=>{Te(P.COPY_APP_LINK),(0,f.x3)(le)},[Te,le]),be=(0,t.useCallback)(()=>{Te(P.REMOVE_FROM_CHANNEL),he&&q((0,g.A)({memberId:z,channelId:he}))},[he,Te,q,z]),ke=(0,t.useCallback)(()=>{Te(P.VIEW_PROFILE),q((0,v.b)({memberId:z}))},[Te,q,z]),Ke=(0,t.useCallback)(()=>{const $=[];return le&&!V&&($.push({label:b.t("View in Slack Marketplace"),href:le,click:Me,dataQa:"bot_context_menu_app_directory"}),$.push({type:"separator"})),Y&&oe&&!V&&($.push({label:b.t("Go to app"),click:Ue}),$.push({type:"separator"})),V&&$.push({label:b.t("View profile"),click:ke}),$.push({label:b.t("Copy name"),click:xe}),le&&!V&&$.push({label:b.t("Copy link"),click:Ne}),te&&he&&($.push({type:"separator"}),$.push({label:b.t("Remove from channel"),click:be,danger:!0})),$},[le,V,Y,oe,xe,te,he,Me,Ue,ke,Ne,be]);return!me||!ie?(0,i.A)(ne):t.createElement(d.A,{getTemplate:Ke,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},ne)},"BotContextMenu");S.displayName="BotContextMenu";const N=S;var L=e(2311924061),D=e(7874250141),k=e(7197636798),x=e(3299124106);function R(){return R=Object.assign||function(Q){for(var J=1;J<arguments.length;J++){var z=arguments[J];for(var ie in z)Object.prototype.hasOwnProperty.call(z,ie)&&(Q[ie]=z[ie])}return Q},R.apply(this,arguments)}h(R,"_extends");const U={children:o().oneOfType([o().element.isRequired,o().func.isRequired]).isRequired,menuProps:o().object,serviceId:o().string,memberId:o().string,homeWorkspaceId:o().string,memberIsHuman:o().bool,profileCardProps:o().object,appId:o().string,channelId:o().string},F={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,profileCardProps:void 0,appId:void 0,channelId:void 0};let W=h(class extends t.Component{render(){const{serviceId:J,memberId:z,homeWorkspaceId:ie,memberIsHuman:ee,appId:ne,channelId:Z}=this.props;return z&&ee?t.createElement(L.A,{id:z},te=>this.renderTrigger(te)):J&&!ee?t.createElement(N,{appId:ne,serviceId:J,memberId:z,homeWorkspaceId:ie,channelId:Z},te=>this.renderTrigger(te)):this.renderTrigger()}constructor(...J){var z;super(...J),z=this,this.renderProfileCard=ie=>{const{serviceId:ee,memberId:ne,homeWorkspaceId:Z,memberIsHuman:te,appId:he}=this.props;return(0,x.E9)({menuProps:ie,serviceId:ee,memberId:ne,homeWorkspaceId:Z,memberIsHuman:te,appId:he})},this.renderTrigger=function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:ee,serviceId:ne,memberId:Z,homeWorkspaceId:te,memberIsHuman:he,...ue}=z.props;return t.createElement(c.cQ,R({renderMenu:z.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},ue),de=>(0,i.A)(ee,de,ie))}}},"ProfileCardTrigger");W.displayName="ProfileCardTrigger",W.propTypes=U,W.defaultProps=F;const w=h((Q,J)=>{const{userId:z,botId:ie,botProfile:ee,serviceId:ne}=J,{member:Z,bot:te,memberIsHuman:he}=(0,I.Od)(Q,{userId:z,botId:ie||ne,botProfile:ee});let ue=null;if(!he||ne){const re=(0,D.ZT)(Q);ue=(0,k.AW)({member:Z,bot:te,botProfile:ee,currentTeamId:re})}var de;return{serviceId:te&&te.id||ne,memberId:Z&&Z.id,homeWorkspaceId:ue,memberIsHuman:he,appId:(de=J.appId)!==null&&de!==void 0?de:te==null?void 0:te.app_id}},"mapStateToProps"),j=(0,n.N)(w)(W)},8840492690:(B,A,e)=>{"use strict";e.d(A,{An:()=>n,Bp:()=>u,Ez:()=>i,MT:()=>a,Mm:()=>r,NR:()=>l,S9:()=>s,VC:()=>v,_o:()=>d,b5:()=>m,eq:()=>g,ie:()=>f,ne:()=>p,r:()=>T,wy:()=>O});var t=e(321010523);const s=h(y=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"comparePlansLink",onClick:{enableClogAction:!0},stepVariant:y}),"getStpComparePlansAutoClogProp"),o={eventId:t.EventId.NEWXP_TEAM_CREATE,action:t.UiAction.CLICK,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,onClick:{enableClogAction:!0}},n={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"pro-forward-accordion"},c={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_STRAIGHT_TO_PAID_UPGRADE_PRO_BUTTON,elementName:"sidebar_menu_straight_to_paid_upgrade_pro_button",onClick:{enableClogAction:!0}};function l(y){return{...c,stepVariant:y}}h(l,"getStraightToPaidSidebarMenuOfferButtonAutoClogProps");const i={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_PRIMARY_TIME_LIMIT,elementName:"straight_to_paid_workspace_menu_primary_time_limit",clogImpression:!0},a={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_cta",clogImpression:!0},r={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_button",onClick:{enableClogAction:!0}},d=h(y=>{let{isProVariant:C,stepVariant:I}=y;return{...o,elementName:`plans_lite_modal_start_${C?"pro":"free"}_button`,stepVariant:I}},"getModalButtonAutoClogProps"),m=h(y=>{let{isProVariant:C,stepVariant:I}=y;return{...o,elementName:C?"start_pro_button":"start_free_button",stepVariant:I}},"getStpCardsFreeOrProButtonAutoClogProps"),f=h(()=>({uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,stepVariant:"plans_lite_modal"}),"getStraightToPaidPlansLiteModalAutoclogProp"),u=h(()=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"plans_lite_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getSTPCheckoutLiteModalComparePlansAutoclogProp"),E={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"checkout_compare_plans_open_modal_link",onClick:{enableClogAction:!0}};function v(){return{contexts:{ui_context:{action:t.UiAction.COMPLETE,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"complete_checkout",element_type:t.ElementType.BUTTON}}}}}h(v,"getStraightToPaidCheckoutComplete");const g=h(y=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_HEADER_STRAIGHT_TO_PAID_OFFER,elementName:"sidebar_menu_header_straight_to_paid_offer",stepVariant:y}),"getStpSidebarMenuOfferAutoClogProp");function T(y){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.SKIP,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"ineligible_for_straight_to_paid"},...y&&{entry_point:y}}}}}h(T,"getStraightToPaidSkippedClog");function p(y,C,I){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,step_variant:y,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"plans_step"},...C&&{entry_point:C},...I&&{ui_component_variant:I}}}}}h(p,"getProForwardImpressionClog");function O(y){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,ui_properties:{element_name:"guided_trial_sidebar_peek_view_stp_cta"},step_variant:y}}}}h(O,"getStraightToPaidTrialsPeekCTAImpressionClog")},5363912984:(B,A,e)=>{"use strict";e.d(A,{C6:()=>r,Q5:()=>u,Q8:()=>f,eA:()=>E});var t=e(6717879785),s=e(3659369705),o=e(7485328956),n=e(5337290723),c=e(3139973133),l=e(7919365230),i=e(205540855),a=e(1808974675);const r={ADMIN:"admin",WORKSPACES:"workspaces",WORKSPACE_SWITCHER:"workspace_switcher",TAB_RAIL:"tab_rail",OS_MENU:"os_menu",SIGNIN_HEADER:"signin_header",SIGNIN_CREATE_WORKSPACE_ALERT:"signin_create_workspace_alert",WORKSPACE_SIGNIN:"workspace_signin",PROMO_SUCCESS:"promo_success",PROMO_FAILED:"promo_failed",FAQS:"faqs",LANDING_CHANGE_EMAIL:"landing_change_email",LANDING_SYSTEM_ERROR:"landing_system_error",LANDING_DIFFERENT_EMAIL:"landing_different_email",LANDING_WORKSPACE_NOT_FOUND:"landing_workspace_not_found",SSB_LANDING:"ssb_landing",SHARED_INVITE_LANDING:"shared_invite_landing",NO_WORKSPACE:"no_workspace",FIND_WORKSPACE:"find_workspace",HEADER:"header",SLACK_CONNECT:"slack_connect",PRIVACY:"privacy_visibility"},d={"salesforce.com":"salesforce","google.com":"google"},m=h(v=>v?decodeURIComponent(v).trim():"","sanitizeParam"),f=(0,l.Ay)(v=>{var g;if(!((0,i._Z)(v,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:p,utm_source:O,source:y}=(0,o.qN)(t.J.location.href),C=(0,c.W)(),I=(0,a.JK)(v),M=(0,n.fo)(),_=m((g=t.J.document)===null||g===void 0?void 0:g.referrer),P=m(y),b=m(p),S=m(O);var N;const L=(N=d[S])!==null&&N!==void 0?N:S;return C?"remote_promo":I||M||b||L||P||_||"unknown"});f.meta={name:"createSelector",key:"createSelectorgetEntrypointFromURL",description:v=>{var g;if(!((0,i._Z)(v,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:p,utm_source:O,source:y}=(0,o.qN)(t.J.location.href),C=(0,c.W)(),I=(0,a.JK)(v),M=(0,n.fo)(),_=m((g=t.J.document)===null||g===void 0?void 0:g.referrer),P=m(y),b=m(p),S=m(O);var N;const L=(N=d[S])!==null&&N!==void 0?N:S;return C?"remote_promo":I||M||b||L||P||_||"unknown"}};const u=(0,l.Ay)(function(v,g){let{skipExperimentCheck:T=!1,getOnlyValue:p=!1,skipUrlCheck:O=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const y=!T&&(0,i._Z)(v,"add_team_creation_flow_segmentation")==="on";if(!T&&!y)return;const{entry_point:C}=(0,o.qN)(t.J.location.href);if(!O&&C)return;let I=g;return(0,s.y3)()&&(I=`${g}_ssb`),p?I:`entry_point=${I}`});u.meta={name:"createSelector",key:"createSelectorgetEntrypointString",description:function(v,g){let{skipExperimentCheck:T=!1,getOnlyValue:p=!1,skipUrlCheck:O=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const y=!T&&(0,i._Z)(v,"add_team_creation_flow_segmentation")==="on";if(!T&&!y)return;const{entry_point:C}=(0,o.qN)(t.J.location.href);if(!O&&C)return;let I=g;return(0,s.y3)()&&(I=`${g}_ssb`),p?I:`entry_point=${I}`}};const E=h(()=>t.J.location.search?`${t.J.location.search}&`:"?","getQueryString")},3819030122:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3134334389),s=e(480439070),o=e(4199861322),n=e(5478938623),c=e(9006442414);const l=h(a=>{let{invitingTeam:r}=a;const d=r.domain&&`${(0,n.k7)(r.id,r.domain)}.${(0,s.Xk)()}`,m=t.createElement(o.A,{id:r.id,team:r,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0,bold:!0,tabIndex:d?0:void 0});return d?t.createElement(c.Ay,{tip:d},t.createElement("span",null,m)):m},"InvitingTeamName");l.displayName="InvitingTeamName";const i=l},1675806400:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(3333012541),o=e(9006442414);const n=h(l=>{let{invitingUser:i,showEmailTooltip:a=!0}=l;var r;const d=i==null||(r=i.profile)===null||r===void 0?void 0:r.email,m=a&&d,f=t.createElement(s.A,{member:i,skipPrefCompliance:!0,tabIndex:m?0:void 0});return m?t.createElement(o.Ay,{tip:d},f):f},"InvitingUserName");n.displayName="InvitingUserName";const c=n},6422632851:(B,A,e)=>{"use strict";e.d(A,{n:()=>r});var t=e(3134334389),s=e(7175825412),o=e(9081602608),n=e(7406619770),c=e(6412795092);let l=null;const a=h(()=>(l===null&&(l=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),l),"isPrimer");class r extends t.PureComponent{render(){var m,f;const{className:u,team:E,user:v,size:g,allowDefaultProfileImage:T,fallbackUserIcon:p,fallbackUserIcon2x:O,isInteractive:y,hideUserIcon:C}=this.props,I=!!(!((m=v.profile)===null||m===void 0)&&m.is_custom_image),M=!!p||!!O,_=!(!((f=E.icon)===null||f===void 0)&&f.image_default),{imageUrl:P,imageUrl2x:b}=this.getProfileImages();if((I||T||M)&&!C){const S=v.profile.real_name;return t.createElement(s.f1,{className:u,imageUrl:I||T?P:p,imageUrl2x:I||T?b:O,memberOrBotName:S,size:g,teamId:E.id,team:E,isInteractive:y&&!a()&&!!v.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:v.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...n.C}})}return _?t.createElement(o.U,{teamName:E.name,icon:E.icon,size:g,className:u}):null}constructor(m){super(m),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var g;const{team:T,user:p,size:O}=this.props,y=(0,c.Ay)({size:O,teamOrEnterpriseId:T.id,memberId:p.id,avatarHash:(g=p.profile)===null||g===void 0?void 0:g.avatar_hash}),C=(y==null?void 0:y.imageUrl)||"",I=y!=null&&y.imageUrl2x?`${y.imageUrl2x} 2x`:"";return{imageUrl:C,imageUrl2x:I}};const{team:f,allowTeamInitials:u,shouldRenderTeamBadge:E,teamIconSize:v}=m;E&&(this.renderTeamBadge=(0,s.fp)({isExternal:!0,team:f,teamId:f.id,allowTeamInitials:u,teamIconSize:v}))}}h(r,"UserIcon"),r.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1},r.displayName="UserIcon"},1391051355:(B,A,e)=>{"use strict";e.d(A,{B:()=>o});var t=e(9588678965),s=e(205540855);const o=(0,t.Mz)(n=>(0,s._Z)(n,"shortcuts_workspace_picker")==="on");o.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:n=>(0,s._Z)(n,"shortcuts_workspace_picker")==="on"}},7221003904:(B,A,e)=>{"use strict";e.d(A,{T:()=>l,o:()=>i});var t=e(3134334389),s=e(5190921192),o=e(280840163),n=e(3574480006);function c(){return c=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(a[m]=d[m])}return a},c.apply(this,arguments)}h(c,"_extends");const l=h(function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,o.d4)(d=>(0,n.e)(d,a))},"useSlackAiIconProps"),i=h(a=>{let{type:r,useFilledIcon:d,...m}=a;const f=l({type:r,useFilledIcon:d});return t.createElement(s.A,c({},m,f))},"SlackAiIcon");i.displayName="SlackAiIcon"},515517017:(B,A,e)=>{"use strict";e.d(A,{Ev:()=>l,Fp:()=>r,NE:()=>d,XV:()=>n,bg:()=>a,i2:()=>o,jA:()=>c,vH:()=>m,x:()=>i});var t=e(3373051866),s=e(205540855);const o=h(f=>(0,s._Z)(f,"slackbot_canvas_ai_fe")==="on"&&(0,t.OT)(f),"isSlackbotCanvasAiFeEnabled"),n=h(f=>(0,s._Z)(f,"slack_ai_action_items_admin_setting")==="on","isSlackAiActionItemsAdminDashboardEnabled"),c=h(f=>(0,s._Z)(f,"slack_ai_huddles_automatic_notes")==="on","isSlackAiHuddlesAutomaticNotesEnabled"),l=h(f=>(0,s._Z)(f,"slack_ai_huddles_automatic_notes")==="on","isSlackAiHuddlesAutomaticNotesAdminDashboardEnabled"),i=h(f=>(0,s._Z)(f,"ai_message_analysis")==="on"&&(0,t.OT)(f),"isAiMessageAnalysisEnabled"),a=h(f=>(0,s._Z)(f,"ai_analyze_message_action")==="on"&&(0,t.OT)(f),"isAiAnalyzeMessageActionEnabled"),r=h(f=>(0,s._Z)(f,"ai_analyze_fastmode")==="on"&&(0,t.OT)(f),"isAiFastModeEnabled"),d=h(f=>(0,s._Z)(f,"native_ai_profile_summary")==="on"&&(0,t.OT)(f),"isAiProfileSummaryEnabled"),m=h(f=>(0,s._Z)(f,"ai_profile_summaries_i18n")==="on","isAiProfileSummariesI18nEnabled")},1451419220:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(9304888665);const o=h(c=>{let{width:l=20,height:i=20,className:a="",theme:r}=c;const d=r===s.Sx.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.createElement("div",{role:"banner"},t.createElement("img",{className:a,src:d,alt:"Slack",width:l,height:i}))},"SlackLogo");o.displayName="SlackLogo";const n=o},4504410777:(B,A,e)=>{"use strict";e.d(A,{n:()=>o});var t=e(5689133621),s=e(9866181557);const o=h(n=>!(!(0,t.g)(n)||!(0,s.xp)(n,"allow_custom_solution_templates")),"isCustomSolutionsEnabledForUser")},9035832947:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(4711108074),s=e.n(t),o=e(321010523),n=e(7397682160),c=e(6181414363);function l(i,a,r){let d=0;const m=new(s()),f=(0,n.e)();return i.forEach(u=>{const E=u.globalIndex-d;if(E>0&&m.retain(E),r&&u.type==="emoji"){m.retain(u.length),d=u.globalIndex+u.length;return}if(m.delete(u.length),u.type==="emoji"){const v={slackemoji:{text:u.label}};m.insert(v,{...u.formats})}else{const v=(0,c.A)(u.id,u.label,a);u.id==="UNVERIFIED"?f.track(o.EventId.MSG_AUTO_POTENTIAL_MENTION_CREATED,{}):f.track(o.EventId.MSG_AUTO_MENTION_CREATED,{}),m.insert(u.label,{...u.formats,slackmention:v})}d=u.globalIndex+u.length}),m}h(l,"buildPotentialMentionsDelta")},4550225191:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(9636620918),s=e(2691514942);function o(n){let{globalIndex:c,results:l,matchLength:i,formats:a}=n;const r=l[0];return(0,s.Wo)().info("AUTOSLUG",`Creating emoji (${r.id})`),{id:r.id,label:`:${(0,t.Y)({name:r.name||""})}:`,globalIndex:c,length:i,formats:a,type:"emoji"}}h(o,"createPotentialEmojiObject")},6039918301:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(8086952004),s=e(8289365785),o=e(9963560),n=e(4570606691),c=e(2691514942);function l(i){let{globalIndex:a,results:r,matchLength:d,formats:m}=i;const f=(0,t.A)(r,v=>!(0,o.lo)(v)),u=(0,s.A)(r);if(!f&&!u)return null;const E=f||u;return(0,c.Wo)().info("AUTOSLUG",`Creating channel mention (${E==null?void 0:E.id})`),{id:(E==null?void 0:E.id)||"",label:`#${(0,n.j)(E)}`,globalIndex:a,length:d,formats:m,type:"mention"}}h(l,"createPotentialMentionChannelObject")},6428847671:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(8840779375),s=e(362134992),o=e(235108050),n=e(3078252698),c=e(8086952004),l=e(2297902669),i=e(2691514942),a=e(3134986613),r=e(1326631049);function d(m){let{state:f,text:u,label:E,globalIndex:v,localIndex:g,results:T,matchLength:p,formats:O}=m,y,C;const I={id:"UNVERIFIED",label:E,globalIndex:v,length:E.length,formats:O,type:"mention"};if(T.length===1&&T[0].is_broadcast_keyword)return(0,i.Wo)().info("AUTOSLUG",`Creating broadcast keyword mention (${T[0].id})`),y=(0,l.KX)(T[0]),{id:T[0].id,label:y,globalIndex:v,length:p,formats:O,type:"mention"};let M=(0,t.A)(T,_=>(0,r.Pc)((0,l.KX)(_)));M=M.concat((0,t.A)(T,_=>(0,r.Pc)((0,l.KP)(_)))),M=(0,s.A)((0,o.A)(M)),M.sort((_,P)=>((0,n.A)(P)?P.length:0)-((0,n.A)(_)?_.length:0));for(let _=0;_<M.length&&(C=M[_]||"",!(E.length>C.length));_+=1){const P=(0,r.Og)(C,u,g);if(P||T.length<=1){const b=T.filter((0,l.jE)(C));if((0,r.fN)(C,E)&&b.length===1&&(P||!b[0].is_usergroup))return(0,i.Wo)().info("AUTOSLUG",`Inserting real mention, only a single matching result (${b[0].id}). ${T.length} total results`),y=(0,l.KX)(b[0]),{id:b[0].id,label:y,globalIndex:v,length:T.length===1&&!P?I.length:C.length,formats:O,type:"mention"};if((0,r.fN)(C,E)&&b.length>1){(0,i.Wo)().info("AUTOSLUG",`${b.length} matching results, trying to break tie using frecency`);const S=f?(0,a.Zh)(f,{query:E,list:b}):[];if(S&&S.length>1&&S[0].rawFrecencyScore-S[1].rawFrecencyScore>=30){const N=(0,c.A)(b,{id:S[0].id});return y=N?(0,l.KX)(N):"",(0,i.Wo)().info("AUTOSLUG",`Inserting real mention, tie was broken using frecency (${S[0].id}=${S[0].rawFrecencyScore};${S[1].id}=${S[1].rawFrecencyScore})`),{id:(N==null?void 0:N.id)||"",label:y,globalIndex:v,length:T.length===1&&!P?I.length:C.length,formats:O,type:"mention"}}}if(P)return(0,i.Wo)().info("AUTOSLUG",`Inserting maybe-mention mention, expanded mention to cover name (${T.length} total results)`),I.label=u.substr(g,C.length),I.length=C.length,I}}return(0,i.Wo)().info("AUTOSLUG",`Fallback: Inserting maybe-mention (${T.length} total results)`),I}h(d,"createPotentialMentionObject")},6611636451:(B,A,e)=>{"use strict";e.d(A,{A:()=>T});var t=e(3078252698),s=e(6228897917),o=e(6643945651),n=e(6082968658),c=e(6761064824),l=e(9920137311),i=e(9174138365),a=e(5597511738),r=e(8079813723);const d=o.Nb.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]),m=d.filter(p=>p!==".").map(p=>`\\${p}`).join("|"),f=d.filter(p=>p!=="_").map(p=>`\\${p}`).join("|"),u=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${m}|$)`,"g"),E=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20#\uFF03].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${f}|$)`,"g"),v=new RegExp(`[\\.|\\s|${m}]+$`),g=new RegExp(`(${(0,s.A)().source})`,"g");function T(p){let{useChannelTagging:O=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!p)return[];let y=0;const C=[],I=O?E:u;return(0,n.A)(p,(M,_)=>{if((0,i.A)(_)||!(0,r.A)(M)||(0,l.A)(M)||(0,a.Ay)(M)){y+=(0,c.A)(M);return}(0,t.A)(M.insert)&&M.insert.replace(I,(b,S,N)=>{let L=N,D=S;const k=b.indexOf("@");k>0&&(L+=k);const x=b.indexOf("\uFF20");if(x>0&&(L+=x),O){const F=b.indexOf("#");F>0&&(L+=F);const W=b.indexOf("\uFF03");W>0&&(L+=W)}const R=S.length;D=S.replace(v,"");const U=O?D.replace(/^[@\uFF20#\uFF03]/,""):D.replace(/^[@\uFF20]/,"");U.length&&C.push({type:O&&["#","\uFF03"].includes(S.charAt(0))?"channel":"member",text:(0,t.A)(M.insert)?M.insert:"",matchLength:R,label:D,labelWithoutPrefix:U,localIndex:L,globalIndex:L+y})}),(0,t.A)(M.insert)&&M.insert.replace(g,(b,S,N,L)=>{let D=L;const k=b.indexOf(":");k>0&&(D+=k);const x=S.length,R=S.replace(/:/g,"");if(!R.length)return;const U=/^:[0-9]+:$/.test(b),F=(0,t.A)(M.insert)?M.insert.substring(0,L):"",W=/(^|\s)[0-9]+$/.test(F);U&&W||C.push({type:"emoji",text:(0,t.A)(M.insert)?M.insert:"",matchLength:x,label:S,labelWithoutPrefix:R,localIndex:D,globalIndex:D+y})}),y+=(0,c.A)(M)}),C}h(T,"getPotentialMentionMatches")},6641183110:(B,A,e)=>{"use strict";e.d(A,{A:()=>L});var t=e(3078252698),s=e(6217320234),o=e(4711108074),n=e.n(o),c=e(2523272975),l=e(3889517373),i=e(6228897917),a=e(9704168906),r=e(6450757945),d=e(1910115038),m=e(1856301838),f=e(9615730202),u=e(7831811348),E=e(7297267535),v=e(6082968658),g=e(6945567542),T=e(6761064824),p=e(9920137311),O=e(9174138365),y=e(623546392),C=e(5597511738),I=e(8079813723),M=e(2129759625),_=e(2679206280),P=e(7188858884),b=e(3542943043);const S=new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"ig"),N=h(D=>S.test(D),"isUnicodeChar");function L(D){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{useWysiwyg:!1,usePlainTextMode:!1,inlineEmojiIsEnabled:!1,emojiNames:[],locale:void 0,replaceNativeEmoji:!1,teamId:void 0};const x=new(n());let R=0,U=0;if(!k.inlineEmojiIsEnabled)return x;let F=null;return(0,v.A)(D,(W,w)=>{const K=!(0,O.A)(w),j=(0,T.A)(W);if(!K||!(0,I.A)(W)||(0,C.Ay)(W)||(0,p.A)(W)){R+=j,F=W;return}const Q=W.attributes;let J=[];const z=k.useWysiwyg&&!k.usePlainTextMode,ie=(0,c.F)().getLocaleForLastViewedTeam();let ee="";(0,u.DU)(ie)&&(0,t.A)(W.insert)?ee=W.insert.replace(/\uFF1A/g,":"):ee=(0,t.A)(W.insert)?W.insert:"";const ne=z?[]:(0,E.A)(ee);ee.replace((0,i.A)(),(te,he,ue)=>{if(!z&&(0,M.A)(ue,ne)||!z&&(0,_.A)((0,g.A)(D,0,R+ue)))return;let de=(0,r.A)(te,{emojiNames:k.emojiNames,locale:k.locale||"",teamId:k.teamId||""});if(de){const re=/^:[0-9]+:$/.test(de),V=ee.substring(0,ue),H=/(^|\s)[0-9]+$/.test(V);re&&H&&(de="")}de&&J.push({match:de,index:ue,matchLength:te.length,attributes:Q})});const Z=k.teamId&&(0,P.$D)(k.teamId);if(k.replaceNativeEmoji){const te=(0,m.A)(k.teamId);ee.replace(te,(he,ue,de,re)=>{if(re>0){const Y=ee.charAt(re-1);if(Y===l._x||N(Y)&&m.p.includes(he))return}const V=(0,d.A)(he)||"",H=(0,b.qJ)(Z,V),X=H?`:${H}:`:null;X&&J.push({match:X,index:re,matchLength:he.length,nativeEmojiReplacement:!0,attributes:Q})})}if(J=(0,s.A)(J,"index"),J.length){let te=0,he=0;J.forEach((ue,de)=>{let re=!1,V=ue.match,H=0,X=ue.matchLength;de===0?H=R+ue.index-U:H=ue.index-te-he;const Y=V.match(a.x);let q=null,fe=null;if(Y&&(fe=parseInt(Y[2],10)||null,q=parseInt(Y[3],10)||null),!ue.nativeEmojiReplacement&&de===0&&ue.index===0&&Y&&F&&(0,y.Ay)(F)){const ce=(0,f.A)((0,y.Um)(F));(!q&&(0,b.Fm)(Z,{text:(ce==null?void 0:ce.name)||"",teamId:k.teamId||""})||q&&fe!==q&&(0,b.pA)(Z,{text:(ce==null?void 0:ce.name)||"",teamId:k.teamId||""}))&&(H-=1,X+=1,V=`:${ce==null?void 0:ce.name}:${V}`,re=!0)}te=ue.index,he=ue.matchLength,U=R+te+he,(re||!q)&&(H&&x.retain(H),x.delete(X).insert({slackemoji:{text:V}},ue.attributes))})}R+=j,F=W}),x}h(L,"buildEmojiReplacementDelta")},8928750104:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(2947229296),o=e(4797202944),n=e(353071615),c=e(4527069385),l=e(280840163),i=e(6766178921);const a=new s.Ay("channel_token"),r=h(m=>{let{userId:f,isFirst:u,isSelf:E}=m;var v;const g=(v=(0,l.d4)(p=>(0,i.nv)(p,f)))!==null&&v!==void 0?v:void 0;let T=(0,l.d4)(p=>(0,c.I)(p,f));return(0,n.t8)(g)?t.createElement(o.A,{type:"unknown",subtler:!0}):(0,n.QR)(g)?t.createElement(o.A,{type:"non-existent",subtler:!0}):(E&&(T=u?a.t("You"):a.t("you")),t.createElement(t.Fragment,null,T))},"TooltipMemberName");r.displayName="TooltipMemberName";const d=t.memo(r)},4338413691:(B,A,e)=>{"use strict";e.d(A,{A:()=>ke});var t=e(3134334389),s=e(1236500105),o=e(672497297),n=e(9298238702),c=e(5563478249),l=e(6758393411),i=e(5330342849),a=e(4921096872),r=e(3451857649),d=e(7288394480),m=e.n(d),f=e(8434814278),u=e.n(f),E=e(8846553357),v=e.n(E),g=e(5343295926),T=e.n(g),p=e(7242174955),O=e.n(p),y=e(2530724470),C=e.n(y),I=e(9377435960),M=e.n(I),_=e(2775697637),P=e.n(_),b=e(2275591283),S=e.n(b),N=e(1755885230),L=e.n(N),D=e(5302828698),k=e.n(D),x=e(8045443894),R=e.n(x),U=e(9713034139),F=e.n(U),W=e(421976023),w=e.n(W),K=e(9806655743),j=e.n(K),Q=e(3568971801),J=e.n(Q),z=e(655762326),ie=e.n(z),ee=e(2664139725),ne=e.n(ee),Z=e(6946477176),te=e.n(Z),he=e(2894091689),ue=e.n(he),de=e(1522814399),re=e.n(de),V=e(1026799670),H=e.n(V),X=e(5385940860),Y=e.n(X),q=e(7442279781),fe=e.n(q),ce=e(1164098975),Ee=e.n(ce),Ae=e(5681115434),le=e.n(Ae),oe=e(2275016952),me=e.n(oe),pe=e(3023518808),Te=e.n(pe),Me=e(3858647469),Ue=e.n(Me);function xe(){return xe=Object.assign||function(Ke){for(var $=1;$<arguments.length;$++){var ae=arguments[$];for(var Ge in ae)Object.prototype.hasOwnProperty.call(ae,Ge)&&(Ke[Ge]=ae[Ge])}return Ke},xe.apply(this,arguments)}h(xe,"_extends");const Ne={elementName:"explore_pro_features_btn",onClick:{enableClogAction:!0}},be=h(Ke=>{let{featureList:$,modalTitle:ae,modalSubtitle:Ge,buttonText:nt,onCTAClick:at,customFooter:Ve,maxWidth:Se,onRequestClose:Pe,UNSAFE_parentSelector:Fe,videoTitle:ge,experimentPnpGoGroupTreatment:He}=Ke;const Qe=h(()=>t.createElement(n.Ay,{listItems:$}),"renderFeatureList"),_e={closeModal:Pe,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:Se,UNSAFE_parentSelector:Fe},{translation:Le,enableMediaCaptions:Ie}=(0,i.S)({"de-DE":He?m():j(),"en-GB":He?u():J(),"en-US":He?v():ie(),"es-ES":He?T():ne(),"es-LA":He?O():te(),"fr-FR":He?C():ue(),"it-IT":He?M():re(),"ja-JP":He?P():H(),"ko-KR":He?S():Y(),"pt-BR":He?R():fe(),"zh-CN":He?F():me(),"zh-TW":He?w():Te()}),we=(0,s.A)(),ze=(0,s.A)(),ut=[we,ze].join(" "),_t=(0,t.useMemo)(()=>{let yt=le(),Ot=Ee();return He&&(yt=L(),Ot=k()),{video:yt,videoPoster:Ot}},[He]);return t.createElement(r.dW,xe({closeButtonTone:"dark",className:Ue().modalBackground,labelledby:ut},_e),t.createElement(r.$m,{className:Ue().modalBackground},t.createElement("div",{className:Ue().bodyContainer},t.createElement("div",{className:Ue().listContainer},t.createElement(c.J,{ariaHidden:!0,className:Ue().proBadge,size:l.vj.Large}),t.createElement("h1",{id:we,className:Ue().title},ae),t.createElement("h2",{id:ze,className:Ue().subtitle},Ge),Qe(),Ve||t.createElement(a.Ay,{size:"medium",onClick:at,className:Ue().ctaButton,autoClogProps:Ne},nt)),t.createElement("div",{className:Ue().videoContainer},t.createElement("div",{className:Ue().videoPlayer},t.createElement(o.A,{src:_t.video,vtt:Le,enableMediaCaptions:Ie,videoPoster:_t.videoPoster,enableControls:!0,autoPlay:!1,title:ge}))))))},"Modal");be.displayName="Modal";const ke=be},9298238702:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>w,CQ:()=>R,L_:()=>U,XC:()=>b,wj:()=>N});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(605568209),c=e(2947229296),l=e(3467529911),i=e.n(l),a=e(9712938391),r=e.n(a),d=e(2703114102),m=e.n(d),f=e(1632737234),u=e.n(f),E=e(9572768707),v=e.n(E),g=e(6727439516),T=e.n(g),p=e(145209500),O=e.n(p),y=e(5284295908),C=e(414484285),I=e(5190921192),M=e(5726282236),_=e.n(M);const P=new c.Ay("trial_expiration_modals"),b={history:v(),headphones:m(),canvas:r(),buildings:T(),bolt:i(),play:i(),tools:O(),lists:u(),"shared-channel":T()},S=h(()=>{switch((0,C.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE").then(e.t.bind(e,6800060962,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB").then(e.t.bind(e,5190658834,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR").then(e.t.bind(e,647591414,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP").then(e.t.bind(e,9297924654,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-slack-connect").then(e.t.bind(e,6342268209,23))}},"getSlackConnectAnimation"),N={history:()=>{switch((0,C.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE").then(e.t.bind(e,3828726715,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB").then(e.t.bind(e,4311997919,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR").then(e.t.bind(e,8274489555,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP").then(e.t.bind(e,1968927099,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-messages-en-US").then(e.t.bind(e,4244940908,23))}},headphones:()=>e.e("gantry-v2-async-lottie-trial-modal-huddles.json").then(e.t.bind(e,3020879619,23)),canvas:()=>e.e("gantry-v2-async-lottie-trial-modal-canvas.json").then(e.t.bind(e,5417726912,23)),buildings:S,play:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),bolt:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),tools:()=>e.e("gantry-v2-async-lottie-trial-modal-templates.json").then(e.t.bind(e,8131963541,23)),"shared-channel":S,lists:()=>e.e("gantry-v2-async-lottie-trial-modal-lists.json").then(e.t.bind(e,1734664547,23))},L={"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB.json").then(e.t.bind(e,2450338219,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR.json").then(e.t.bind(e,8873227255,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP.json").then(e.t.bind(e,8007093194,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE.json").then(e.t.bind(e,2760408041,23))},D={history:{"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB.json").then(e.t.bind(e,9570554074,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR.json").then(e.t.bind(e,7096086790,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP.json").then(e.t.bind(e,3015913705,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE.json").then(e.t.bind(e,3095723524,23))},buildings:L,"shared-channel":L},k=h(K=>K in D,"isLocalizedIconName"),x=h((K,j)=>j in K,"isLocale"),R=h((K,j)=>{if(!k(K))return;const Q=D[K];return x(Q,j)?Q[j]:void 0},"getIconToAnimationMapLocalized"),U=h(function(){let{experimentPnpGoGroupTreatment:K=!1,newCopyVariant:j=!1,trialAwarenessModalVariant:Q=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J={history:{iconName:"history",title:P.t("Unlimited message and file history"),text:P.t("Keep and find answers in your team\u2019s archive")},huddles:{iconName:"headphones",title:P.t("Group huddles"),text:P.t("Voice and video conversations with your team")},files:{iconName:"canvas",title:P.t("Canvases and lists"),text:P.t("Share and track work in Slack")},slackConnect:{iconName:"buildings",title:P.t("Slack Connect channels"),text:P.t("Work with people from other organizations")},workflows:{iconName:"bolt",title:P.t("More apps and unlimited workflows"),text:P.t("Connect tools to Slack and build no-code automations")}};return j&&(J={...J,history:{...J.history,title:P.t("Unlimited message history"),text:P.t("Search and view all of your team\u2019s public messages and files, which are stored indefinitely on a paid plan.")},huddles:{...J.huddles,text:P.t("Talk things out live with audio and video huddles. Share your screen, annotate and enable live captions.")},tools:{iconName:"tools",title:P.t("Premium productivity tools and templates"),text:P.t("Share, track and manage work with canvases, lists, workflows and more.")},slackConnect:{...J.slackConnect,title:P.t("Work with people at other organizations"),text:P.t("Make collaborating with outside partners and clients as fast and simple as working with in-house teams.")},workflows:{...J.workflows,iconName:"play",title:P.t("More connected apps"),text:P.t("Schedule meetings, file tickets, track tasks, and more, by bringing tools your team already uses into Slack.")}}),K&&(J={...J,files:{...J.files,iconName:"tools",title:P.t("Premium productivity tools and templates"),text:P.t("Track and share work with lists and unlimited canvases")},slackConnect:{...J.slackConnect,iconName:"shared-channel",title:P.t("Slack Connect channels"),text:P.t("Work with people from other organizations")},huddles:{...J.huddles,title:P.t("Group voice and video huddles"),text:P.t("Instantly connect with screen sharing and more")},workflows:{...J.workflows,title:P.t("Unlimited apps and workflows"),text:P.t("Access tools you use everyday and automate tasks")}},Q&&(J={...J,files:{...J.files,text:P.t("Share, track and manage work with canvases and lists")},slackConnect:{...J.slackConnect,title:P.t("Slack Connect")},huddles:{...J.huddles,title:P.t("Group huddles"),text:P.t("Talk it out on a video call with screen sharing")},workflows:{...J.workflows,title:P.t("Unlimited apps and workflows"),text:P.t("Access tools you use everyday and automate tasks")}})),[J.history,J.huddles,...J.tools?[J.tools]:n.Ml,...j?n.Ml:[J.files],J.slackConnect,J.workflows]},"getFeatureList"),F=h(K=>{let{iconClassName:j,iconName:Q,title:J,text:z}=K;return t.createElement(y.A,{alignItems:"flex-start"},t.createElement("div",{className:o()(_().icon,j)},t.createElement(I.A,{name:Q,size:"20","aria-describedby":Q,role:"img","data-qa":`icon-${Q}`})),t.createElement(y.A,{flexDirection:"column"},t.createElement("div",{className:_().title},J),t.createElement("div",{className:_().text},z)))},"FeaturesListItem");F.displayName="FeaturesListItem";const w=h(K=>{let{className:j,iconClassName:Q,listItems:J}=K;return t.createElement(y.A,{gap:12,flexDirection:"column",className:o()(_().featuresListContainer,j)},J.map(z=>t.createElement(F,{key:z.title,iconClassName:Q,iconName:z.iconName,title:z.title,text:z.text})))},"FeaturesList")},9994095366:(B,A,e)=>{"use strict";e.d(A,{jY:()=>o,pm:()=>c,z6:()=>n});var t=e(321010523);const s=t.EventId.UPGRDEXP_BENEFITS,o=h(()=>({eventId:s,uiComponentName:t.UiComponentName.PRO_TO_BIZ_PLUS_BOOST_MODAL}),"getProToBizPlusUpgradeModalAutoClogProps"),n=h(()=>({eventId:s,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalComparePlansAutoclogProp"),c=h(()=>({eventId:s,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_inquire_with_sales_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalInquireWithSalesAutoclogProp")},9558760472:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(481313997),o=e(2947229296),n=e(4921096872),c=e(8823986650),l=e(9006442414),i=e(321010523),a=e(3362542648),r=e(280840163);function d(){return d=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(E[T]=g[T])}return E},d.apply(this,arguments)}h(d,"_extends");const m=new o.Ay("plan_change"),f=h(E=>{let{children:v,planLevel:g,entryPoint:T,feature:p,hash:O,action:y,useLink:C,refToForward:I,productId:M,productLevel:_,tooltipProps:P,...b}=E;const S=(0,r.d4)(D=>(0,a.m6)(D,{entryPoint:T,productId:M,productLevel:_,action:y,feature:p,hash:O,planLevel:g})),N=C?c.A:n.Ay,L=t.createElement(N,d({ref:I},b,{href:S}),v);return t.createElement(s.A,{eventId:i.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},P?t.createElement(l.Ay,d({tip:m.t("Upgrade")},P),L):L)},"PlansPageCTABase");f.displayName="PlansPageCTABase";const u=t.forwardRef((E,v)=>t.createElement(f,d({},E,{refToForward:v})))},620572118:(B,A,e)=>{"use strict";e.d(A,{A:()=>O});var t=e(3134334389),s=e(6122756707),o=e(481313997),n=e(2947229296),c=e(5395353422),l=e(705513444),i=e(5361909198),a=e(321010523),r=e(280840163),d=e(205540855),m=e(2069063006);const f=new n.Ay("msg_input"),u={elementName:"learn_more",onClick:{enableClogAction:!0}},E=h(y=>{let{isScheduledMessage:C}=y;const I=(0,s.wA)(),M=(0,t.useCallback)(()=>{I((0,m.O)())},[I]);if(!(0,r.d4)(S=>(0,d._Z)(S,"upgrd_5684")==="on"))return null;const P=C?f.t("Message not scheduled"):f.t("Message not sent"),b=f.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":S=>{let{text:N}=S;return t.createElement(c.A,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:u,forceOpenInBrowser:!0},N)}});return t.createElement(o.A,{eventId:a.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:a.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.createElement(i.A,{"data-qa":"message-limit-error-modal",title:P,titleIcon:"warning",bodyContent:b,onRequestClose:M,theme:l.B.ERROR}))},"MessageLimitErrorModal");E.displayName="MessageLimitErrorModal";const v=E;var g=e(4894634110),T=e(5876603232);const p=(0,g.Ay)("Open modal when a message send fails due to team having hit the message limit",function(y,C){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y((0,T.q)({element:t.createElement(v,I)}))});p.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};const O=p},6101688917:(B,A,e)=>{"use strict";e.d(A,{z:()=>c});var t=e(3134334389),s=e(3362542648),o=e(280840163),n=e(9872055788);const c=h(()=>{const l=(0,o.d4)(n.sz),i=(0,o.d4)(n.yQ);return(0,t.useMemo)(()=>{const a={[s.F2.FREE]:{pro:!0,plus:!0,enterprise:!0},[s.F2.STD]:{pro:i,plus:!0,enterprise:!0},[s.F2.PLUS]:{pro:!1,plus:i,enterprise:!0},[s.F2.ENTERPRISE]:{pro:!1,plus:!1,enterprise:!1},[s.F2.COMPLIANCE]:{pro:!1,plus:!1,enterprise:!1}};return a[l]||a[s.F2.FREE]},[l,i])},"usePlanVisibility")},453477401:(B,A,e)=>{"use strict";e.d(A,{A:()=>P});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(2765598642),l=e(7485328956),i=e(5478938623),a=e(5181078482),r=e(8823986650),d=e(5190921192),m=e(3362542648),f=e(6761585902),u=e(5195993608),E=e(1662766283),v=e(9653002446),g=e(205540855),T=e(9872055788),p=e(8813793118),O=e(3666777625);function y(){return y=Object.assign||function(b){for(var S=1;S<arguments.length;S++){var N=arguments[S];for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&(b[L]=N[L])}return b},y.apply(this,arguments)}h(y,"_extends");const C=new n.Ay("page_pricing");let I=h(class extends t.Component{getElementName(){const{isSmallFeaturesColumnButton:S,planLevel:N,activePlanLevel:L,isTeamOnTrial:D,isInvoiceCustomer:k,isBespokeTeam:x,includeFreePlan:R}=this.props,U=x&&k;let F;return N===m.i6.enterprise.name?F=`${N}_plan_contact_us`:U?F=`${N}_plan_contact_accounts`:!N&&R?F="free_plan_upgrade":S&&L===N&&!D?F=`${N}_get_slack_ai`:F=`${N}_plan_upgrade`,F}getHref(S){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const L=S+(0,c.iU)({...this.parsedUrlQueryParams,...N});return(0,i.Zl)(this.props.team,L)}async navigateToCheckoutFlow(S){const{isSlackAiToggleSelected:N,isTeamOnTrial:L,activePlanLevel:D,experimentPnpTwoGoGroupOn:k,team:x}=this.props;this.setState(()=>({isCTALoading:!0}));try{await this.props.fetchConfigurationData({productId:S})}catch(W){var R;(W==null||(R=W.data)===null||R===void 0?void 0:R.error)==="invalid_request"?(0,i.gC)(x,`/account/request?entry_point=${this.props.entryPoint}`,"_self"):(0,i.gC)(x,"/admin/billing","_self");return}if(this.props.redirectUrl&&(0,v.I)(this.props.redirectUrl)){const W=new URL(this.props.redirectUrl);(0,i.gC)(x,W.pathname+W.search,"_self");return}const U=!L&&D==="",F=(0,m.Qn)({excludeDomain:!0,entryPoint:this.props.entryPoint,productId:S,addonTypes:!k&&U&&N?[m.wi.SlackAI]:void 0});(0,i.gC)(x,F,"_self")}handleClick(){const{team:S,planLevel:N,activePlanLevel:L,isSmallFeaturesColumnButton:D,productId:k,slackAIAddonId:x,isTeamOnTrial:R,isSlackAiToggleSelected:U,experimentPnpTwoGoGroupOn:F,isV1FeaturePackage:W}=this.props;if(D&&L===N&&!R){const K=U?[m.wi.SlackAI]:void 0;let j;F&&W&&L===m.i6.plus.name?j=(0,m.Qn)({excludeDomain:!0,entryPoint:"plans_page",productId:k}):j=(0,m.Qn)({excludeDomain:!0,entryPoint:"plans_page",addon:F?void 0:x,addonTypes:F?void 0:K}),(0,i.gC)(S,j,"_self")}else k&&this.navigateToCheckoutFlow(k)}renderPlanCTA(){const{activePlanLevel:S,planLevel:N,productId:L,activeProductId:D,"data-qa":k,isInvoiceCustomer:x,isBespokeTeam:R,clogStepId:U,useLink:F,buttonType:W,openInNewTab:w,entryPoint:K,isSmallFeaturesColumnButton:j,isSalesforceFeaturesColumnButton:Q,isTeamOnTrial:J,discountPromoType:z,discountPromoSubtype:ie,discountPercent:ee,experimentPnpDiscountsGroupOn:ne,experimentPnpTwoGoGroupOn:Z,isAutoSlackTeam:te,className:he,isV1FeaturePackage:ue}=this.props;let de="outline",re="",V;const H=w?"_blank":"_self",X=R&&x;if(N===m.i6.enterprise.name)re=C.t("Contact Sales"),V=this.getHref("/contact-sales",{from_plans:1,campaign:"7013y000002UvizAAC"}),de="primary";else if(X)re=C.t("Contact Accounts"),V=this.getHref("/help/requests/new");else{if(N===m.i6.free.name)return null;if(de="primary",j)!Z&&S===N&&!J?re=C.t("Get Slack AI"):z===m.k2.PricingAndPackagingPromo?re=(0,m.$K)({discountPromoSubtype:ie,activePlanLevel:S,discountPercent:ee,planLevel:N,experimentPnpDiscountsGroupOn:ne}):ue&&S==="plus"?re=Z?C.t("Renew"):"":re=C.t("Upgrade");else if(te&&Q)if(F)re=C.t("Buy Now"),V=this.getHref(`/${m.nc}`,{p:L,entry_point:K,product_level:N});else{const Ee=(0,m._N)(m.i6[N].name);re=C.t("Upgrade to {planName}",{planName:Ee})}else{re=C.t("Upgrade Now");const Ee=D?2:1;V=this.getHref(`/${m.nc}`,{s:Ee,entry_point:K})}}const Y={className:o()("p-upgrade_cta plan_page",he),"data-qa":k,autoClogProps:{elementName:this.getElementName(),isPrimaryCTA:W==="primary",onClick:{enableClogAction:!0},clogStepId:U,productId:L}},q=W||de,fe=V?{href:V,target:H}:{type:q};let ce=t.createElement(a.z9,y({},fe,Y),re);if(N!==m.i6.enterprise.name&&!X&&L&&!F)ce=t.createElement(a.lV,y({onClick:this.handleClick,loading:this.state.isCTALoading},Y,{type:q,"aria-label":re}),re);else if(F){const Ee=V?{href:V,target:H}:{};ce=t.createElement(r.A,y({},Ee,Y,{className:`p-upgrade_cta--link ${Y.className}`}),re,t.createElement("span",{className:"margin_left_25"},t.createElement(d.A,{name:"arrow-right"})))}return ce}render(){return this.renderPlanCTA()}constructor(S){super(S),this.state={isCTALoading:!1},this.handleClick=this.handleClick.bind(this),this.parsedUrlQueryParams=(0,l.qN)(window.location.href)||{}}},"UpgradeCta");I.defaultProps={"data-qa":"plans_page_upgrade_cta",clogStepId:"",entryPoint:"plans_page"},I.displayName="UpgradeCta";const M=h((b,S)=>{const N=(0,T.EV)(b),L=(0,O.H7)(b),D=(0,T.$f)(b);return{team:L,productId:(0,T.UO)(b,S.planLevel,N),slackAIAddonId:(0,T.Zg)(b,D,N),activeProductId:(0,T.xU)(b),activePlanLevel:D,isTeamOnTrial:(0,T.yQ)(b),isInvoiceCustomer:(0,T.Nd)(b),isBespokeTeam:(0,T.tl)(b),redirectUrl:(0,u.oy)(b),nextPlanLevel:(0,T.Jf)(b),isSlackAiToggleSelected:(0,T.qK)(b),discountPercent:(0,T.WG)(b),discountPromoType:(0,T.ZQ)(b),discountPromoSubtype:(0,T.$3)(b),experimentPnpDiscountsGroupOn:(0,g._Z)(b,"pnp_discounts")==="on",experimentPnpTwoGoGroupOn:(0,p.k)(b),isAutoSlackTeam:(0,O.zz)(b)}},"mapStateToProps"),_=h(b=>({fetchConfigurationData:S=>b((0,E.l)(S))}),"mapDispatchToProps"),P=(0,f.N)(M,_)(I)},3761406528:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(315585246),s=e(3362542648),o=e(280840163),n=e(9872055788),c=e(542703974),l=e(4825303382),i=e(8813793118);const r=h(d=>{const m=(0,o.d4)(n.nc),f=(0,o.d4)(K=>(0,n.C8)(K,d,s.ck.monthly)),u=(0,o.d4)(K=>(0,n.C8)(K,d,s.ck.yearly)),E=(0,o.d4)(K=>(0,n.MO)(K,d,s.ck.yearly)),v=(0,o.d4)(K=>(0,n.MO)(K,d,s.ck.monthly)),g=(0,o.d4)(K=>(0,n.h$)(K,d,s.ck.monthly)),T=(0,o.d4)(K=>(0,n.h$)(K,d,s.ck.yearly)),p=(0,o.d4)(n.$f),O=(0,o.d4)(n.tl),y=(0,o.d4)(K=>(0,n.od)(K,d,s.ck.monthly)),C=(0,o.d4)(n.yQ),I=(0,o.d4)(n.kz),M=(0,o.d4)(n.Gp);let _=(0,o.d4)(n.qK);const P=(0,o.d4)(i.k);P&&(_=!1);const b=(0,o.d4)(c.tV),S=(0,o.d4)(c.wM),N=(0,o.d4)(l.yD),L=(0,o.d4)(t.X),D=(0,o.d4)(K=>(0,l.qc)(K,d)),k=(0,o.d4)(K=>(0,l.Rr)(K,d)),x=(0,o.d4)(K=>(0,l._k)(K,d));let R,U,F,W;const w=!!(f&&!u);return w?(R=v,U=E,F=f,W=u&&u/12):(R=E,U=v,F=u&&u/12,W=f),{currentPlan:p,currency:m,isTeamOnTrial:C,isBespokeTeam:O,slackAIUnitCost:y,isSlackAIProvisioned:I,isSlackAiSelected:_,isCurrentPlanComplimentary:M,discountedMonthlyCostPerMonth:f,discountedYearlyCostPerYear:u,baseMonthDiscountPercentage:g,baseYearlyDiscountPercentage:T,baseMonthlyCostPerMonth:v,baseYearlyCostPerMonth:E,experimentPnpTwoGoGroupOn:P,hasFutureSwitch:b,nextProductLevel:S,showTrialCountdown:k,highlightSales:N,highlightPlan:x,canUserUpgrade:L,isActive:D,isPrimaryPricingMonthly:w,primaryBaseCostPerMonth:R,secondaryBaseCostPerMonth:U,primaryDiscountCostPerMonth:F,secondaryDiscountCostPerMonth:W}},"useSmallFeaturesColumnSelector")},7232773246:(B,A,e)=>{"use strict";e.r(A),e.d(A,{default:()=>m});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(5262174418),l=e(7540858556),i=e(892838001),a=e.n(i);const r=new n.Ay("trial_banners"),d=h(f=>{let{className:u=""}=f;const E=h(()=>t.createElement(c.M,{className:a().linkInBody,entryPoint:"autoslack_post_trial_huddles_banner"}),"renderAutoSlackPostTrialCta");E.displayName="renderAutoSlackPostTrialCta";const v=r.rt("On the free version of Slack, your huddles are limited to two people. <cta></cta>",{"<cta>":E,fallbackHash:"0bc45a006fe2f132b578697e31ad8b1bbf51f301",fallbackHashNs:"trials_highlight_paid_features"});return t.createElement("div",{className:o()({[u]:!!u})},t.createElement(l.N,{title:v}))},"AutoSlackSalesforcePlusTrialAwarenessHuddlesBanner");d.displayName="AutoSlackSalesforcePlusTrialAwarenessHuddlesBanner";const m=d},5262174418:(B,A,e)=>{"use strict";e.d(A,{M:()=>g});var t=e(3134334389),s=e(6122756707),o=e(2947229296),n=e(8626921138),c=e(2283376593),l=e(315585246),i=e(5181078482),a=e(8823986650),r=e(3362542648),d=e(280840163),m=e(5876603232);const f=new o.Ay("trial_banners"),u={elementName:"auto_slack_post_trial_upgrade_cta",onClick:{enableClogAction:!0}},E={elementName:"auto_slack_post_trial_request_upgrade_cta",onClick:{enableClogAction:!0}},v={elementName:"auto_slack_post_trial_compare_plans_cta",onClick:{enableClogAction:!0}};function g(T){let{entryPoint:p="autoslack_post_trial_banner",className:O,variant:y="link"}=T;const C=(0,s.wA)(),I=(0,d.d4)(l.X),{hasPreviouslyRequestedPurchase:M,isAllowFeatureRequestEnabled:_,makeRequestToPurchaseRequest:P}=(0,c.JZ)(),b=(0,d.d4)(D=>(0,r.m6)(D,{action:"plans",entryPoint:p})),S=(0,t.useMemo)(()=>()=>{C((0,m.q)({element:t.createElement(n.x,{makeRequestToPurchaseRequest:P,entryPoint:p})}))},[C,p,P]),N=y==="link"?a.A:i.Ay;let L=t.createElement(N,{href:b,autoClogProps:v,className:O,target:"_blank"},f.t("Compare Plans"));return I?L=t.createElement(N,{href:b,autoClogProps:u,className:O,target:"_blank"},f.t("Upgrade Now")):_&&!M&&(L=t.createElement(N,{onClick:S,autoClogProps:E,className:O},f.t("Request Upgrade"))),t.createElement("strong",null,L)}h(g,"AutoSlackPostTrialCta"),g.displayName="AutoSlackPostTrialCta"},1040753087:(B,A,e)=>{"use strict";e.r(A),e.d(A,{default:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(481313997),c=e(2947229296),l=e(8784572749),i=e(6613019121),a=e(4449301663),r=e(321010523),d=e(5609235691);const m=a.g.AUTO_SLACK_SALESFORCE_PLUS_TRIAL_AWARENESS_HUDDLES_INVITE_BANNER,f=new c.Ay("trial_banners"),u=h(v=>{let{trialAwarenessInfo:g,className:T=""}=v;const{trialEndDate:p,canUserPurchase:O}=g,y=f.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialEndDate}</strong>.",{trialEndDate:(0,d.Pd)(p)}),C=f.rt("<strong>Huddles will soon be limited to two people</strong><br></br>Upgrade to continue using group huddles with your team.",{fallbackHash:"66f411f508f76d46d11536cf0088444b9374a48a",fallbackHashNs:"trials_highlight_paid_features"});return t.createElement(n.$,{eventId:r.EventId.UPGRDEXP_TRIAL,uiComponentName:r.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:o()({[T]:!!T})},t.createElement(l.B,{midTrialTitle:y,trialEndTitle:C,entryPoint:i.P,canUserPurchase:O})))},"AutoSlackSalesforcePlusTrialAwarenessHuddlesInviteBanner");u.displayName="AutoSlackSalesforcePlusTrialAwarenessHuddlesInviteBanner";const E=u},8784572749:(B,A,e)=>{"use strict";e.d(A,{B:()=>b});var t=e(3134334389),s=e(6122756707),o=e(338698394),n=e(2947229296),c=e(6613019121),l=e(1569248212),i=e(1376889872),a=e(225855591),r=e(8626921138),d=e(2283376593),m=e(9150670036),f=e(7540858556),u=e(3122619948),E=e(3362542648),v=e(280840163),g=e(2069063006),T=e(5876603232),p=e(542703974),O=e(7418708689);function y(){return y=Object.assign||function(S){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var D in L)Object.prototype.hasOwnProperty.call(L,D)&&(S[D]=L[D])}return S},y.apply(this,arguments)}h(y,"_extends");const C=new n.Ay("trial_banners"),I={elementName:"expore_trial",onClick:{enableClogAction:!0}},M={elementName:"compare_plans",onClick:{enableClogAction:!0}},_={elementName:"upgrade_cta",onClick:{enableClogAction:!0}},P=t.forwardRef((S,N)=>{let{...L}=S;return t.createElement(a.E,y({},L,{ref:N,entryPoint:"salesforce_plus_trial_awareness_banner",renderRequestDisabledPlansFallbackCta:!0}))});function b(S){let{midTrialTitle:N,trialEndTitle:L,body:D,entryPoint:k="salesforce_plus_trial_awareness_banner",showHourglassIcon:x=!1,canUserPurchase:R,hideBadge:U=!1}=S;const F=(0,s.wA)(),{hasPreviouslyRequestedPurchase:W,isAllowFeatureRequestEnabled:w,makeRequestToPurchaseRequest:K}=(0,d.JZ)(),j=(0,v.d4)(p.zk)||0,Q=(0,c.d)(j),J=C.t("Explore your trial"),z=C.t("Upgrade Now"),ie=C.t("Compare Plans"),ee=C.t("Request Upgrade"),ne=!!D,Z=(0,t.useMemo)(()=>(0,l.OV)(k,ne),[k,ne]),te=(0,v.d4)(ce=>(0,E.m6)(ce,{action:"plans",entryPoint:k})),{windowId:he}=(0,t.useContext)(o._0),ue=!he||he===O.N2,de=(0,u.A)(),re=(0,t.useMemo)(()=>({text:J,onClick:()=>{ue&&F((0,g.O)()),F((0,i.z7)({source:"salesforce_plus_trial_awareness_banner"}))},autoClogProps:I}),[F,J,ue]),V=(0,t.useMemo)(()=>({text:z,href:te,autoClogProps:_}),[te,z]),H=(0,t.useMemo)(()=>({text:ie,href:te,autoClogProps:M}),[ie,te]),X=(0,t.useMemo)(()=>(0,l.f9)(k,"open_request_to_purchase_modal_cta"),[k]),Y=(0,t.useMemo)(()=>({text:ee,autoClogProps:X,onClick:()=>{F((0,T.q)({element:t.createElement(r.x,{makeRequestToPurchaseRequest:K,entryPoint:"salesforce_plus_trial_awareness_banner"})}))}}),[F,K,X,ee]);if(ne)return R?t.createElement(m.D,{autoClogProps:Z,title:L,body:D,primaryCta:V,hideBadge:U}):t.createElement(m.D,{autoClogProps:Z,title:L,body:D,customPrimaryCta:P,customPrimaryCtaProps:X,primaryCta:Y,hideBadge:U});let q=re;return Q||(q=R?V:w&&!W?Y:H),de||(q=R?V:H),k===c.P&&!ue&&(q=void 0),t.createElement(f.N,{autoClogProps:Z,title:Q?N:L,primaryCta:q,hideBadge:U,showHourglassIcon:x})}h(b,"SalesforcePlusTrialAwarenessBanner"),b.displayName="SalesforcePlusTrialAwarenessBanner"},6613019121:(B,A,e)=>{"use strict";e.d(A,{P:()=>s,d:()=>t});const t=h(o=>o>7,"isMidTrial"),s="huddles_invite_modal_salesforce_plus_trial_banner"},1569248212:(B,A,e)=>{"use strict";e.d(A,{Bi:()=>s,Es:()=>p,G2:()=>g,Kn:()=>y,OV:()=>f,RW:()=>i,Vf:()=>r,W4:()=>d,bI:()=>O,eG:()=>c,f9:()=>m,q_:()=>T,rS:()=>o,tT:()=>a,uR:()=>n,wT:()=>l});var t=e(321010523);const s=h(C=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_PAGE,clogImpression:!0,stepVariant:C}),"getPaidFeaturesPageImpressionClog"),o=h((C,I)=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_SUBPAGE,clogImpression:!0,stepVariant:C,uiComponentVariant:I}),"getPaidFeaturesSubpageImpressionClog"),n=h(C=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_PAGE,elementName:C,onClick:{enableClogAction:!0}}),"getPaidFeaturesPageCtaClickClog"),c=h(C=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_SUBPAGE,elementName:C,onClick:{enableClogAction:!0}}),"getPaidFeaturesSubpageFeatureCtaClickClog"),l={eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_PEEK_VIEW,clogImpression:!0},i=h(C=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_PEEK_VIEW,elementName:C,onClick:{enableClogAction:!0}}),"getSalesForcePlusMenuItemClickClog"),a={eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_GUIDE_SUNROOF,onClick:{enableClogAction:!0}},r=h(C=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_MODAL,stepVariant:C,clogImpression:!0}),"getSfEmbedRequestToPurchaseModalImpressionClog"),d=h(C=>{let{entryPoint:I,elementName:M}=C;return{eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_MODAL,entryPoint:I,elementName:M,onClick:{enableClogAction:!0}}},"getSfEmbedRequestToPurchaseModalClickClog"),m=h((C,I)=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_CTA,entryPoint:C,stepVariant:I,clogImpression:!0,onClick:{enableClogAction:!0}}),"getSfEmbedRequestToPurchaseCtaClickClog"),f=h((C,I)=>({uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_AWARENESS_BANNER,clogImpression:!0,stepVariant:C,uiComponentVariant:I?"large-banner":"small-banner"}),"getSalesforcePlusTrialAwarenessBannerClog"),u="autoslack_team",E="autoslack_team_large_team",v="autoslack_team_small_team",g=h(C=>{let{isAutoSlackTeam:I,isLargeTeam:M}=C;return I?M?E:v:""},"getPlansPageUIComponentVariant"),T=h(C=>{let{uiStep:I,planLevel:M}=C;return{uiStep:I,elementName:`contact_sales_cta_${M}`,onClick:{enableClogAction:!0}}},"getContactSalesCtaClickClog"),p=h(()=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_CONTACT_SALES_MODAL,clogImpression:!0}),"getContactSalesImpressionModalClog"),O=h((C,I)=>{C.track(t.EventId.PROMO_CAMPAIGN,{contexts:{ui_context:{step:"contact_sales_submit",action:t.UiAction.CLICK,action_status:t.UiActionStatus.SUCCESS,ui_component:t.UiComponentName.SF_EMBED_CONTACT_SALES_MODAL,ui_properties:{element_type:t.ElementType.BUTTON,element_name:`contact_sales_submit_${I}`}}}})},"clogContactSalesSubmitSuccess"),y={eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_SIDEBAR_MENU_LINK,onClick:{enableClogAction:!0}}},3589892334:(B,A,e)=>{"use strict";e.d(A,{FG:()=>ie,VJ:()=>ne,yq:()=>te});var t=e(2523272975),s=e(6418965169),o=e.n(s),n=e(1393103206),c=e.n(n),l=e(5333701343),i=e.n(l),a=e(4357269557),r=e.n(a),d=e(6478793657),m=e.n(d),f=e(3588989326),u=e.n(f),E=e(6852031767),v=e.n(E),g=e(734874162),T=e.n(g),p=e(4863927256),O=e.n(p),y=e(8203377802),C=e.n(y),I=e(2674460009),M=e.n(I),_=e(8913694126),P=e.n(_),b=e(5037029671),S=e.n(b),N=e(5666370621),L=e.n(N),D=e(9278671712),k=e.n(D),x=e(137747622),R=e.n(x),U=e(2576275039),F=e.n(U),W=e(1226221882),w=e.n(W),K=e(9122777984),j=e.n(K),Q=e(4546689855),J=e.n(Q);const z={cloudLeftAubergineDark:o(),cloudLeftCampfireDark:c(),cloudLeftCilantroDark:i(),cloudLeftOceanDark:m(),cloudRightAubergineDark:u(),cloudRightCampfireDark:v(),cloudRightCilantroDark:T(),cloudRightOceanDark:C(),cloudLeftLagoonDark:r(),cloudRightLagoonDark:O(),cloudLeftAubergine:M(),cloudLeftCampfire:P(),cloudLeftCilantro:S(),cloudLeftLagoon:L(),cloudLeftWhite:k(),cloudRightAubergine:R(),cloudRightCampfire:F(),cloudRightCilantro:w(),cloudRightLagoon:j(),cloudRightWhite:J()},ie=h(he=>z[he],"getClouds"),ee={"en-US":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-en-US").then(e.t.bind(e,5463582957,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-en-US").then(e.t.bind(e,8810920142,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-en-US").then(e.t.bind(e,1979361564,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-en-US").then(e.t.bind(e,6888118860,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-en-US").then(e.t.bind(e,6442143133,23))},"de-DE":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-de-DE").then(e.t.bind(e,135244958,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-de-DE").then(e.t.bind(e,2615000691,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-de-DE").then(e.t.bind(e,4903580693,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-de-DE").then(e.t.bind(e,785904621,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-de-DE").then(e.t.bind(e,4847837680,23))},"en-GB":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-en-GB").then(e.t.bind(e,5940027568,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-en-GB").then(e.t.bind(e,4448632353,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-en-GB").then(e.t.bind(e,9697725951,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-en-GB").then(e.t.bind(e,2879599815,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-en-GB").then(e.t.bind(e,1495555638,23))},"es-ES":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-es-ES").then(e.t.bind(e,9785526728,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-es-ES").then(e.t.bind(e,353873961,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-es-ES").then(e.t.bind(e,4371252967,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-es-ES").then(e.t.bind(e,5374351247,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-es-ES").then(e.t.bind(e,951300558,23))},"es-LA":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-es-LA").then(e.t.bind(e,410567903,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-es-LA").then(e.t.bind(e,2387973564,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-es-LA").then(e.t.bind(e,108467646,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-es-LA").then(e.t.bind(e,413504710,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-es-LA").then(e.t.bind(e,8090766211,23))},"fr-FR":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-fr-FR").then(e.t.bind(e,5977563668,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-fr-FR").then(e.t.bind(e,2941033477,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-fr-FR").then(e.t.bind(e,7196673051,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-fr-FR").then(e.t.bind(e,9714741483,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-fr-FR").then(e.t.bind(e,6712252354,23))},"ja-JP":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-ja-JP").then(e.t.bind(e,7253384829,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-ja-JP").then(e.t.bind(e,4704184990,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-ja-JP").then(e.t.bind(e,4012212300,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-ja-JP").then(e.t.bind(e,9008323324,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-ja-JP").then(e.t.bind(e,3904489133,23))},"pt-BR":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-pt-BR").then(e.t.bind(e,1443334656,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-pt-BR").then(e.t.bind(e,4588916337,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-pt-BR").then(e.t.bind(e,80492911,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-pt-BR").then(e.t.bind(e,793714167,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-pt-BR").then(e.t.bind(e,5275062406,23))},"ko-KR":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-ko-KR").then(e.t.bind(e,4823580887,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-ko-KR").then(e.t.bind(e,6695261828,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-ko-KR").then(e.t.bind(e,6672724710,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-ko-KR").then(e.t.bind(e,5815684462,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-ko-KR").then(e.t.bind(e,9764584219,23))},"it-IT":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-it-IT").then(e.t.bind(e,8540329526,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-it-IT").then(e.t.bind(e,8239502459,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-it-IT").then(e.t.bind(e,184251549,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-it-IT").then(e.t.bind(e,298548245,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-it-IT").then(e.t.bind(e,2820807752,23))},"zh-CN":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-zh-CN").then(e.t.bind(e,8785741071,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-zh-CN").then(e.t.bind(e,785967596,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-zh-CN").then(e.t.bind(e,8518149966,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-zh-CN").then(e.t.bind(e,7080666326,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-zh-CN").then(e.t.bind(e,1204025459,23))},"zh-TW":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-zh-TW").then(e.t.bind(e,9689505675,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-zh-TW").then(e.t.bind(e,6926660920,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-zh-TW").then(e.t.bind(e,9969048210,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-zh-TW").then(e.t.bind(e,2106748354,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7617746739,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-zh-TW").then(e.t.bind(e,4715592663,23))}},ne=h(async he=>{const ue=(0,t.F)().getLocaleForLastViewedTeam();try{var de,re;return(await((re=(de=ee[ue])===null||de===void 0?void 0:de[he])!==null&&re!==void 0?re:ee["en-US"][he])()).default}catch{return(await ee["en-US"][he]()).default}},"getSfEmbedPageStaticAssets"),Z={"en-US":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-en-US.json").then(e.t.bind(e,3426033286,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-en-US.json").then(e.t.bind(e,2059705509,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-en-US.json").then(e.t.bind(e,7898629040,23))},"de-DE":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-de-DE.json").then(e.t.bind(e,5934603265,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-de-DE.json").then(e.t.bind(e,7538739490,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-de-DE.json").then(e.t.bind(e,6105594019,23))},"en-GB":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-en-GB.json").then(e.t.bind(e,3286276739,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-en-GB.json").then(e.t.bind(e,6694527036,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-en-GB.json").then(e.t.bind(e,7983381829,23))},"es-ES":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-es-ES.json").then(e.t.bind(e,6494696859,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-es-ES.json").then(e.t.bind(e,8731952980,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-es-ES.json").then(e.t.bind(e,8236374685,23))},"es-LA":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-es-LA.json").then(e.t.bind(e,4785268776,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-es-LA.json").then(e.t.bind(e,3800435519,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-es-LA.json").then(e.t.bind(e,8287785418,23))},"fr-FR":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-fr-FR.json").then(e.t.bind(e,5501858651,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-fr-FR.json").then(e.t.bind(e,568101396,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-fr-FR.json").then(e.t.bind(e,2754233181,23))},"ja-JP":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-ja-JP.json").then(e.t.bind(e,32085366,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-ja-JP.json").then(e.t.bind(e,1074502133,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-ja-JP.json").then(e.t.bind(e,7935503488,23))},"pt-BR":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-pt-BR.json").then(e.t.bind(e,1763889571,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-pt-BR.json").then(e.t.bind(e,7497468764,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-pt-BR.json").then(e.t.bind(e,252747877,23))},"ko-KR":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-ko-KR.json").then(e.t.bind(e,3107326104,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-ko-KR.json").then(e.t.bind(e,6564070479,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-ko-KR.json").then(e.t.bind(e,9600781210,23))},"it-IT":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-it-IT.json").then(e.t.bind(e,5013236201,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-it-IT.json").then(e.t.bind(e,3478264170,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-it-IT.json").then(e.t.bind(e,1450706795,23))},"zh-CN":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-zh-CN.json").then(e.t.bind(e,7256179920,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-zh-CN.json").then(e.t.bind(e,5261493095,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-zh-CN.json").then(e.t.bind(e,7620926386,23))},"zh-TW":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-zh-TW.json").then(e.t.bind(e,573100548,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-zh-TW.json").then(e.t.bind(e,3438605355,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-zh-TW.json").then(e.t.bind(e,4151062662,23))}},te=h(he=>{var ue;const de=(0,t.F)().getLocaleForLastViewedTeam();return!((ue=Z[de])===null||ue===void 0)&&ue[he]?Z[de][he]:Z["en-US"][he]},"getSfEmbedPageAnimationImports")},1376889872:(B,A,e)=>{"use strict";e.d(A,{V$:()=>l,sB:()=>i,z7:()=>a});var t=e(6563296078),s=e(4458861846),o=e(6506860933),n=e(4894634110),c=e(7418708689),l;(function(r){r.CRITICAL_APPS="critical_apps",r.SLACK_AI="slack_ai",r.CUSTOMER_RELATIONSHIPS="customer_relationships",r.FULL_CONTEXT="full_context"})(l||(l={}));const i=[l.CRITICAL_APPS,l.SLACK_AI,l.CUSTOMER_RELATIONSHIPS,l.FULL_CONTEXT],a=(0,n.Ay)("Navigate to the paid features page or a specific tab in the page",async(r,d,m)=>{r((0,t.o)({...(0,s.ZF)(o.c.ExplorePaidFeatures),params:{targetTab:m==null?void 0:m.tab,source:m.source},options:{forceTab:c.k6.Home}}))});a.meta={name:"createThunk",key:"createThunknavigateToPaidFeaturesPage",description:"Navigate to the paid features page or a specific tab in the page"}},7984629469:(B,A,e)=>{"use strict";e.d(A,{W:()=>o});var t=e(3134334389),s=e(3589892334);const o=h(n=>{const[c,l]=(0,t.useState)({}),i=(0,t.useRef)();return(0,t.useEffect)(()=>{const a=n.join(",");if(i.current===a)return;i.current=a,h(async()=>{const d=Object.fromEntries(n.map(f=>[f,(0,s.VJ)(f)])),m=await Promise.all(Object.entries(d).map(async f=>{let[u,E]=f;return[u,await E]}));l(Object.fromEntries(m))},"loadImages")()},[n]),{loadedImages:c}},"useGetStaticPageAssets")},225855591:(B,A,e)=>{"use strict";e.d(A,{E:()=>y});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(2947229296),l=e(1569248212),i=e(8626921138),a=e(2283376593),r=e(5181078482),d=e(1538129653),m=e(5190921192),f=e(9006442414),u=e(3362542648),E=e(5876603232),v=e(1130922402),g=e.n(v);function T(){return T=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(C[_]=M[_])}return C},T.apply(this,arguments)}h(T,"_extends");const p=new c.Ay("pnp_salesforce_embed_growth"),O=h(C=>{let{uiStep:I,className:M,buttonSize:_="medium",requestOnClick:P,renderCustomRequestCta:b,renderCustomRequestedCta:S,renderCustomRequestDisabledCta:N,renderRequestDisabledPlansFallbackCta:L,requestButtonType:D,requestedButtonType:k,refToForward:x,entryPoint:R}=C;const U=(0,s.wA)(),[F,W]=(0,t.useState)(!1),{hasPreviouslyRequestedPurchase:w,isAllowFeatureRequestEnabled:K,makeRequestToPurchaseRequest:j}=(0,a.JZ)(),Q=(0,u.hZ)({entryPoint:"salesforce_embed_request_to_purchase_cta"}),J=(0,t.useMemo)(()=>!K&&L,[K,L]),z=(0,t.useMemo)(()=>{let te=P?"request_to_purchase_on_click_cta":"open_request_to_purchase_modal_cta";return J&&(te="compare_plans_cta"),(0,l.f9)(R,te)},[R,P,J]),ie=(0,t.useCallback)(()=>{P?j({onBeforeRequest:()=>W(!0),onAfterRequest:()=>W(!1)}):U((0,E.q)({element:t.createElement(i.x,{uiStep:I,makeRequestToPurchaseRequest:j,entryPoint:R})}))},[U,I,P,j,R]),ee=(0,t.useCallback)(()=>t.createElement(d.A,{ref:x,className:n()(g().cta,M),onClick:ie,loading:F,"aria-label":p.t("Request Upgrade"),type:D??"primary",size:_,autoClogProps:z},t.createElement("div",{className:"display_flex align_items_center"},t.createElement("div",{className:"margin_right_25"},t.createElement(m.A,{name:"rocket",size:"20",role:"img"})),p.t("Request Upgrade"))),[x,M,ie,F,D,_,z]),ne=(0,t.useCallback)(()=>{const te=p.t("We\u2019ll send your request to people on your team with permission to purchase.");return b?t.createElement(t.Fragment,null,b({makeRequestToPurchaseRequest:j})):P?t.createElement(f.Ay,{tip:te,delay:f.PK},t.createElement(ee,null)):t.createElement(ee,null)},[ee,j,b,P]),Z=(0,t.useCallback)(()=>S?t.createElement(t.Fragment,null,S()):t.createElement(d.A,{ref:x,className:M,onClick:ie,"aria-label":p.t("Upgrade Requested"),loading:F,disabled:!0,type:k??"outline",size:_},t.createElement("div",{className:"display_flex align_items_center"},t.createElement("div",{className:"margin_right_25"},t.createElement(m.A,{name:"check-circle",size:"20",role:"img"})),p.t("Upgrade Requested"))),[x,M,ie,S,F,k,_]);return!K&&N?t.createElement(t.Fragment,null,N()):J?t.createElement(r.Ay,{type:"primary",href:Q,className:M,autoClogProps:z},p.t("Compare Plans")):K?t.createElement(t.Fragment,null,w?t.createElement(Z,null):t.createElement(ne,null)):null},"SfEmbedRequestToPurchaseCtaBase");O.displayName="SfEmbedRequestToPurchaseCtaBase";const y=t.forwardRef((C,I)=>t.createElement(O,T({},C,{refToForward:I})))},8626921138:(B,A,e)=>{"use strict";e.d(A,{x:()=>E});var t=e(3134334389),s=e(6122756707),o=e(481313997),n=e(2947229296),c=e(6906413301),l=e(1569248212),i=e(7984629469),a=e(321010523),r=e(3362542648),d=e(280840163),m=e(2069063006),f=e(542703974);const u=new n.Ay("pnp_salesforce_embed_growth"),E=h(v=>{let{uiStep:g,makeRequestToPurchaseRequest:T,entryPoint:p}=v;const O=(0,s.wA)(),y=(0,d.d4)(f.iH),{loadedImages:C}=(0,i.W)(["criticalAppsImg","slackAiImg","slackConnectImg","fullContextImg"]),I=(0,r.hZ)({entryPoint:"request_to_purchase_modal"}),M=(0,t.useCallback)(()=>{O((0,m.O)())},[O]),_=(0,t.useCallback)(async()=>{T({onAfterRequest:M})},[T,M]),P=u.t("Level up with Business+"),b=y?u.t("Request to upgrade so you can keep access to all the paid features your team uses. We\u2019ll send your request to people on your team with permission to purchase."):u.t("Request to upgrade to get access to paid features. We\u2019ll send your request to people on your team with permission to purchase."),S=u.t("Request Upgrade"),N=u.t("Compare plans"),L=(0,t.useMemo)(()=>({text:S,onClick:_}),[S,_]),D=(0,t.useMemo)(()=>({text:N,url:I}),[N,I]),k=u.t("Premium Salesforce integration"),x=u.t("Advanced AI features and automation"),R=u.t("Work securely with external organizations"),U=u.t("Unlimited message and file history"),F=(0,t.useMemo)(()=>[{key:"feature-one",imgSrc:C.criticalAppsImg||"",title:k,svgIconProps:{name:"sf-cloud"},theme:"lagoon",imgStyle:{container:{height:"260px"},img:{width:"80%"}}},{key:"feature-two",imgSrc:C.slackAiImg||"",title:x,svgIconProps:{name:"ai-sparkle"},theme:"sunflower",imgStyle:{container:{height:"260px"},img:{width:"120%"}}},{key:"feature-three",imgSrc:C.slackConnectImg||"",title:R,svgIconProps:{name:"buildings"},theme:"cilantro",imgStyle:{container:{height:"260px"},img:{width:"80%"}}},{key:"feature-four",imgSrc:C.fullContextImg||"",title:U,svgIconProps:{name:"history"},theme:"flamingo",imgStyle:{container:{height:"260px"},img:{width:"130%",maxWidth:"none",position:"absolute",bottom:"0",right:"-50%"}}}],[k,x,R,U,C]);return t.createElement(o.A,{eventId:a.EventId.NEWXP_JOIN_TEAM,uiComponentName:a.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_CTA,uiStep:g},t.createElement(c.m,{title:P,subtitle:b,carouselFeatures:F,carouselContainerHeight:424,primaryCTA:L,secondaryCTA:D,autoClogProps:(0,l.Vf)(p),primaryCTAAutoClogProps:(0,l.W4)({entryPoint:p,elementName:"request_to_purchase_cta"}),secondaryCTAAutoClogProps:(0,l.W4)({entryPoint:p,elementName:"compare_plans_cta"})}))},"SfEmbedRequestToPurchaseModal");E.displayName="SfEmbedRequestToPurchaseModal"},2283376593:(B,A,e)=>{"use strict";e.d(A,{JZ:()=>y,SO:()=>I,Vl:()=>C});var t=e(3134334389),s=e(6122756707),o=e(2947229296),n=e(6101688917),c=e(2379172929),l=e(6897174593),i=e(9620293839),a=e(3362542648),r=e(280840163),d=e(2198809278),m=e(1770653118),f=e(9546963631),u=e(9866181557),E=e(9872055788),v=e(4825303382),g=e(3666777625),T=e(3698879540);const p=new o.Ay("pnp_salesforce_embed_growth"),O=h(()=>(0,r.d4)(_=>!!(0,u.xp)(_,"allow_feature_request")&&!(0,l.DM)(_)),"useGetIsAllowFeatureRequestEnabled"),y=h(()=>{const M=(0,s.wA)(),[_,P]=(0,t.useState)(!1),b=(0,r.d4)(L=>(0,d.ax)(L,"has_requested_business_plus_on_sf_embed_team")),S=O(),N=(0,t.useCallback)(async L=>{let{onBeforeRequest:D,onAfterRequest:k}=L;D&&D();try{await M((0,c.K)({reason:"requesting-a-purchase",featRequestCode:"pnp_sf_embed_growth_request_biz_plus"})),M((0,f.S)({pref:"has_requested_business_plus_on_sf_embed_team",value:!0}));const x={name:"paper-plane"};M((0,T.M)({element:t.createElement(i.Ay,{svgIconProps:x},t.createElement("span",null,p.t("Success! Your request has been sent")))}))}catch{const R={name:"warning"};M((0,T.M)({element:t.createElement(i.Ay,{svgIconProps:R},t.createElement("span",null,t.createElement("span",null,p.t("Something went wrong"))))}))}finally{k&&k()}},[M]);return(0,t.useEffect)(()=>{typeof b>"u"&&!_&&(M((0,m.X)()),P(!0))},[b,_,M]),{hasPreviouslyRequestedPurchase:b,isAllowFeatureRequestEnabled:S,makeRequestToPurchaseRequest:N}},"useSfEmbedRequestToPurchaseHooks");y.displayName="useSfEmbedRequestToPurchaseHooks";var C;(function(M){M[M.REQUEST=0]="REQUEST",M[M.DEFAULT=1]="DEFAULT",M[M.HIDDEN=2]="HIDDEN",M[M.SALESFORCE_EMBED=3]="SALESFORCE_EMBED"})(C||(C={}));const I=h(()=>{const M=(0,r.d4)(g.zz),_=(0,r.d4)(v.$X),P=(0,r.d4)(E.sz),b=(0,r.d4)(E.yQ),S=O(),N=(0,n.z)();if(_)return{[a.i6.free.name]:C.HIDDEN,[a.i6.standard.name]:S&&P===a.F2.STD&&b?C.REQUEST:C.HIDDEN,[a.i6.plus.name]:S&&(P===a.F2.PLUS&&b||P===a.F2.FREE)?C.REQUEST:C.HIDDEN,[a.i6.enterprise.name]:C.SALESFORCE_EMBED};if(M)return{[a.i6.free.name]:C.SALESFORCE_EMBED,[a.i6.standard.name]:C.SALESFORCE_EMBED,[a.i6.plus.name]:C.SALESFORCE_EMBED,[a.i6.enterprise.name]:C.SALESFORCE_EMBED};const L=h(R=>R?C.DEFAULT:C.HIDDEN,"getCtaVariantBasedOnVisibility"),{pro:D,plus:k,enterprise:x}=N;return{[a.i6.free.name]:C.HIDDEN,[a.i6.standard.name]:L(D),[a.i6.plus.name]:L(k),[a.i6.enterprise.name]:L(x)}},"useSfEmbedPlansPageRequestToPurchaseHooks")},5380458931:(B,A,e)=>{"use strict";e.d(A,{C:()=>I});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4421637954),c=e(453477401),l=e(7862159281);const i=(0,t.memo)(M=>{let{onLoad:_}=M;return(0,t.useEffect)(()=>()=>{_()},[_]),null});var a=e(280840163),r=e(293248343),d=e(1039543453),m=e.n(d);const f=(0,t.memo)(M=>{let{alt:_,className:P,getAnimationImport:b,index:S,onLoad:N,src:L,autoplay:D=!0,loop:k=!0}=M;const x=(0,t.useCallback)(()=>N(S),[S,N]),R=(0,t.useCallback)(()=>t.createElement(i,{onLoad:x}),[x]);return(0,a.d4)(F=>(0,r.ty)(F,"a11y_animations"))&&b?t.createElement(l.e,{autoplay:D,className:o()(m().featureImage,P),description:_,getAnimationImport:b,loop:k,renderLoading:R}):t.createElement("img",{alt:_,className:o()(m().featureImage,P),key:L,onLoad:x,src:L,"aria-hidden":"true","data-qa":"feature_image_static"})});var u=e(7009902910),E=e(7089278202),v=e(3649477833),g=e(3451857649),T=e(321010523),p=e(3362542648),O=e(9885610864),y=e.n(O);const C={subtitle:"accordion-feature-list-modal-subtitle",imageContainer:"accordion-feature-list-modal-image-container",textContent:"accordion-feature-list-modal-text-content"},I=h(M=>{let{accordionClassNames:_={},className:P="",customFooter:b,customHeaderIcon:S,autoClogProps:N,closeModal:L,entryPoint:D,featureListItems:k,featureImageClassName:x="",hideProBadge:R,imageContainerBackground:U="horchata",linkButtonText:F,linkButtonAutoClogProps:W,listContainerClassName:w="",onClickLink:K,subtitle:j,subtitleClassName:Q="",title:J,ariaLabel:z="",UNSAFE_parentSelector:ie}=M;const[ee,ne]=(0,t.useState)(0),Z=(0,t.useCallback)(re=>{ne(re)},[]),te=(0,t.useMemo)(()=>k.map((re,V)=>({...re,onExpand:()=>{var H;Z(V),(H=re.onExpand)===null||H===void 0||H.call(re)}})),[k,Z]),he=(0,t.useRef)(new Array(te.length).fill(!0)),ue=(0,t.useCallback)(re=>{he.current=[...he.current.slice(0,re),!1,...he.current.slice(re+1)]},[]),de="accordion-feature-list-modal-description";return t.createElement(g.dW,{autoClogProps:N,centered:!0,className:o()(y().accordionFeatureListModal,P),closeModal:L,maxWidth:900,UNSAFE_parentSelector:ie,contentLabel:z,describedby:de},t.createElement("div",{className:o()(y().bodyContainer,{[y().horchataBg]:U==="horchata",[y().aubergineBg]:U==="aubergine"})},t.createElement("div",{className:o()(y().listContainer,w),"data-qa":C.textContent},t.createElement("div",{className:y().header},!R&&(S??t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(u.A,{uiComponentVariant:T.UiComponentVariant.SOLUTIONS_GALLERY_UPGRADE_MODAL,"aria-hidden":!0}))),t.createElement("h1",{id:de,className:y().title},J),t.createElement("h2",{className:o()(y().subtitle,Q),"data-qa":C.subtitle},j)),t.createElement("div",{className:o()(y().accordionListContainer,_==null?void 0:_.listContainerClassName)},t.createElement(n.n,{accordionItems:te,className:_==null?void 0:_.className,showImageCaret:!0,showItemBorder:!1,itemClassName:y().accordionItem,itemHeaderClassName:o()(y().accordionItemHeader,_==null?void 0:_.itemHeaderClassName),itemHeaderButtonClassName:o()(y().accordionItemHeaderButton,_==null?void 0:_.itemHeaderButtonClassName),itemDescriptionClassName:o()(y().accordionItemDescription,_==null?void 0:_.itemDescriptionClassName),expandedIconClassName:o()(y().accordionExpandedIcon,_==null?void 0:_.expandedIconClassName),collapsedIconClassName:o()(y().accordionCollapsedIcon,_==null?void 0:_.collapsedIconClassName),imageCaretClassName:o()({[y().horchataCaret]:U==="horchata",[y().aubergineCaret]:U==="aubergine"}),applyCustomAnimation:!0})),b??t.createElement("div",{className:y().footer},t.createElement(c.A,{"button-type":"primary",className:y().upgradeCta,entryPoint:D,openInNewTab:!0,planLevel:p.i6.standard.name}),F&&t.createElement(v.A,{className:"margin_top_100",onClick:K,autoClogProps:W},t.createElement("span",null,F)))),t.createElement("div",{className:o()(y().imageContainer),"data-qa":C.imageContainer},he.current[ee]&&t.createElement(E.A,{className:y().spinner,size:"large"}),te.map((re,V)=>{let{getAnimationImport:H,getLocalizedAnimationImport:X,imageAlt:Y,imageSrc:q}=re;return t.createElement(f,{key:`${q}-${ee}`,getAnimationImport:X??H,index:V,src:q,alt:Y,autoplay:ee===V,loop:!1,className:o()(y().featureImage,{flex:ee===V,align_items_center:ee===V,display_none:ee!==V},x),onLoad:ue})}))))},"AccordionFeatureListModal");I.displayName="AccordionFeatureListModal"},1459523385:(B,A,e)=>{"use strict";e.d(A,{AH:()=>C,DN:()=>l,DX:()=>b,F5:()=>m,Fq:()=>f,HM:()=>E,KH:()=>L,Kq:()=>I,Rk:()=>N,Sr:()=>a,TJ:()=>P,Xh:()=>c,j:()=>S,ko:()=>d,lD:()=>_,tC:()=>u,tt:()=>r,wV:()=>M});var t=e(321010523);const s="autocharge_feature_trial";function o(D,k){const x=D??"",R=k?`-${k}`:"";return`${x}${R}`}h(o,"getCombinedPromoTypeStr");function n(D){return D?"discount":"regular"}h(n,"getDiscountStr");function c(D,k,x){return{clogImpression:!0,elementName:`${s}_modal`,stepVariant:o(k,x),elementType:t.ElementType.MODAL,eventId:t.EventId.NEWXP_TEAM_CREATE,uiComponentName:n(D)}}h(c,"getAutoChargeFeatureTrialModalAutoClogProps");function l(D){return{elementName:`${s}_try_slack_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK,uiComponentName:n(D)}}h(l,"getTrySlackProLinkButtonAutoClogProps");const i={elementName:`${s}_view_all_paid_features`,elementType:t.ElementType.LINK,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},a={...i,isPrimaryCTA:!0},r={elementName:`${s}_upgrade_to_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},d=i,m=s,f={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${s}_start_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},u={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${s}_upgrade_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},E=s,v="autocharge_feature_trial_admin_overview",g={uiComponentName:`${s}_cancel_pro_plan_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},T={uiComponentName:`${s}_change_plan_details_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},p={clogImpression:!0,uiComponentName:`${s}_cancel_confirmation_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.ADMIN_TEAM_BILLING},O={uiComponentName:`${s}_confirm_cancel_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},y={uiComponentName:`${s}_back_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},C={elementName:`${s}_payment_section_reveal`,elementType:t.ElementType.COMPONENT,action:t.UiAction.COMPLETE},I={elementName:`${s}_all_features_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},M={clogImpression:!0,uiComponentName:`${s}_comparison_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.BILLING_CHECKOUT_V2},_={elementName:`${s}_compare_plans_link`,onClick:{enableClogAction:!0}},P={elementName:`${s}_checkout_next_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},b={clogImpression:!0,uiComponentVariant:`${s}_review_step`,action:t.UiAction.IMPRESSION},S={elementName:"purchase_order",elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,action:t.UiAction.CLICK,onClick:{enableClogAction:!0},stepVariant:s},N={elementName:`${s}_checkout_back_billing_info_button`,elementType:t.ElementType.BUTTON,action:t.UiAction.CLICK,onClick:{enableClogAction:!0}};function L(D,k){return{action:t.UiAction.COMPLETE,element_name:`${s}_complete_checkout`,element_value:o(D,k)}}h(L,"getSubmitCompleteAutoChargeTrialStartProp")},5325419257:(B,A,e)=>{"use strict";e.d(A,{J:()=>x});var t=e(3134334389),s=e(6122756707),o=e(7405615593),n=e(7800683088),c=e(3659369705),l=e(2947229296),i=e(8121829996),a=e(5279500834),r=e(9298238702),d=e(5380458931),m=e(1459523385),f=e(6563296078),u=e(4458861846),E=e(414484285),v=e(6506860933),g=e(5478938623),T=e(315585246),p=e(5181078482),O=e(8823986650),y=e(7831811348),C=e(3362542648),I=e(280840163),M=e(2069063006),_=e(9872055788),P=e(2449324469),b=e(1631152177),S=e(3666777625),N=e(2369272824),L=e.n(N);const D=new l.Ay("trials");function k(R,U,F,W){return R?U:W?D.rt("{price} per person/month after trial. ",{price:F}):""}h(k,"getFooterText");function x(R){let{onCloseModal:U,entryPoint:F,isEligibleForTrial:W,promoType:w,promoSubtype:K,trialEndDate:j}=R;const Q=(0,s.wA)(),J=(0,t.useCallback)(()=>Q((0,M.O)()),[Q]),z=(0,I.d4)(S.H7),ie=(0,g.F1)(z),ee=(0,g.tc)(z),ne=(0,I.d4)(b.$J),Z=(0,I.d4)(_.Pr),te=(0,I.d4)(_.nc),he=(0,I.d4)($=>(0,_.MO)($,C.i6.standard.name,C.ck.monthly)),ue=(0,I.d4)($=>(0,_.UO)($,C.i6.standard.name,C.ck.monthly)),de=(0,I.d4)(T.X),re=(0,I.d4)($=>(0,_.iR)($,C.i6.standard.name,C.ck.monthly)),V=(0,I.d4)($=>(0,_.h$)($,C.i6.standard.name,C.ck.monthly)),H=(0,I.d4)($=>(0,_.Tm)($,C.i6.standard.name,C.ck.monthly)),X=Boolean(re),Y=(0,n.Ay)(j).format("MMMM Do"),q=he?(0,i.ZV)(he,(0,y.Yp)(),{style:"currency",currency:te,currencyDisplay:"symbol"}):void 0,fe=D.rt("Free {featureTrialLength} day trial, then a {discountPercent}% off for {discountDuration, plural, =1 {month} other {# months}}, then {monthlyPrice} per person/month. ",{featureTrialLength:C.ew.PAID_FEATURE_TRIAL,monthlyPrice:q,discountPercent:V,discountDuration:H}),ce=(0,C.tc)({team:z,promoType:w,promoSubtype:K,entryPoint:F}),Ee=(0,C.Qn)({team:z,productId:ue,excludeDomain:!0,entryPoint:w}),Ae=(0,C.hZ)({planLevel:ee?void 0:C.i6.standard.id,entryPoint:w}),le=k(X,fe,q,Z),oe=(0,t.useCallback)(()=>{window.open(ce,(0,c.y3)()?"_blank":"_self")},[ce]),me=(0,t.useCallback)(()=>{Q((0,f.o)((0,u.ZF)(v.c.PaidBenefits))),J()},[Q,J]),pe=(0,t.useCallback)(()=>{const $=(0,E.JK)();return(0,r.L_)({experimentPnpGoGroupTreatment:ne}).map(nt=>({id:nt.iconName,header:nt.title,description:nt.text,iconProps:{name:nt.iconName},imageAlt:nt.title,imageSrc:r.XC[nt.iconName],getAnimationImport:r.wj[nt.iconName],getLocalizedAnimationImport:(0,r.CQ)(nt.iconName,$)}))},[ne]),Te=(0,m.Xh)(X,w,K),Me=(0,m.DN)(X);(0,o.A)(()=>{Q((0,b.E5)()),Z||Q((0,P.A)())});const Ue=(0,t.useMemo)(()=>de?t.createElement(t.Fragment,null,t.createElement(p.z9,{autoClogProps:m.tt,href:Ee,type:"primary",className:L().cta},D.t("Upgrade to Pro")),t.createElement(O.A,{autoClogProps:m.ko,href:Ae,className:L().link},D.t("View all paid features"))):t.createElement(p.z9,{autoClogProps:m.Sr,href:Ae,className:L().cta},D.t("View all paid features")),[de,Ae,Ee]),xe=(0,t.useMemo)(()=>t.createElement("div",{className:L().footer},W&&de?t.createElement(t.Fragment,null,t.createElement(p.z9,{autoClogProps:Me,onClick:oe,type:"primary",className:L().cta},D.rt("Try Slack Pro <span>Free for 30 days</span>",null,$=>{let{text:ae}=$;return t.createElement("span",{className:L().light},ae)})),t.createElement("p",{className:L().disclaimer},le,D.t("Cancel anytime."))):Ue),[Ue,W,de,le,oe,Me]),Ne=(0,t.useMemo)(()=>t.createElement("div",{className:L().footer},t.createElement(p.z9,{onClick:me,className:L().cta},D.t("View all Pro Benefits"))),[me]),be=(0,t.useMemo)(()=>t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(a.Ay,{text:"tada",emojiSize:a.lw.LARGE})),[]);let ke=D.rt("Explore the premium features of our most popular plan with a free {trialLength}-day trial.",{trialLength:C.ew.PAID_FEATURE_TRIAL});(!W||!de)&&(ke=D.rt("Get access to the premium features of our most popular plan."));let Ke=D.t("Do even more with Slack Pro");return ee||(Ke=D.t("{teamName} now on Slack Pro",{teamName:ie}),ke=D.rt("Your team now has access to all the goodness of Slack\u2019s Pro plan for free until <strong>{trialEndDate}</strong>",{trialEndDate:Y})),t.createElement(d.C,{autoClogProps:Te,closeModal:U||J,customFooter:ee?xe:Ne,entryPoint:F,featureListItems:pe(),subtitle:ke,title:Ke,customHeaderIcon:ee?void 0:be})}h(x,"AutoChargeTrialEntryModal"),x.displayName="AutoChargeTrialEntryModal"},6893150838:(B,A,e)=>{"use strict";e.d(A,{e:()=>r});var t=e(3152270006),s=e(7599584072),o=e(5445535244),n=e(5478938623),c=e(3122619948),l=e(3362542648),i=e(7188858884),a=e(3666777625);function r(d,m,f,u){const E=(0,i.oK)(f);if(!E)return null;const v=(0,c.A)();if(!d||d===o.MX.TrialFetching)return null;const g=(0,s.FK)(d),T=s.np[d];switch(d){case o.MX.TrialIneligible:return{text:g,onClick:()=>{(0,n.gC)((0,a.H7)(E.getState()),"/plans")},autoClogProps:T};case o.MX.TrialEligible:return{text:g,onClick:(0,s.w9)(E.dispatch,m,d),autoClogProps:T};case o.MX.TrialIneligibleUserCannotUpgrade:return{text:g,onClick:()=>{(0,n.gC)((0,a.H7)(E.getState()),"/plans")},autoClogProps:T};case o.MX.TrialTeam:return{text:g,onClick:()=>{if(v){(0,s.uY)(E.dispatch)();return}(0,n.gC)((0,a.H7)(E.getState()),"/help/articles/115003205446-Slack-plans-and-features")},autoClogProps:T};case o.MX.TrialExpiry:return{text:g,onClick:()=>{(0,n.gC)((0,a.H7)(E.getState()),(0,l.Qn)({team:(0,a.H7)(E.getState()),excludeDomain:!0,entryPoint:u}))},autoClogProps:T};default:(0,t.Kh)(d)}}h(r,"freemiumPrimaryCtaAttributes")},7599584072:(B,A,e)=>{"use strict";e.d(A,{FK:()=>O,aD:()=>p,np:()=>T,uY:()=>C,w9:()=>y});var t=e(3152270006),s=e(605568209),o=e(480439070),n=e(2947229296),c=e(3185517364),l=e(5445535244),i=e(6563296078),a=e(4458861846),r=e(6506860933),d=e(3362542648);const m=new n.Ay("trials_highlight_paid_features"),f={elementName:"start_free_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},u={elementName:"learn_more_usage_limits",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},E={elementName:"compare_plans",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},v={isPrimaryCTA:!0,elementName:"upgrade_link",onClick:{enableClogAction:!0}},g={isPrimaryCTA:!0,elementName:"upgrade_now",onClick:{enableClogAction:!0}},T={[l.MX.TrialFetching]:s.t0,[l.MX.TrialIneligible]:v,[l.MX.TrialEligible]:f,[l.MX.TrialIneligibleUserCannotUpgrade]:E,[l.MX.TrialTeam]:u,[l.MX.TrialExpiry]:g};function p(I,M){switch(I){case l.MX.TrialTeam:return`https://${(0,o.Xk)()}/help/articles/115003205446-Slack-plans-and-features`;case l.MX.TrialIneligibleUserCannotUpgrade:return(0,d.hZ)({entryPoint:M});default:(0,t.Kh)(I)}}h(p,"getHref");function O(I){switch(I){case void 0:case null:case l.MX.TrialFetching:return"";case l.MX.TrialIneligible:return m.t("Upgrade Now");case l.MX.TrialEligible:return m.t("Start Free Trial");case l.MX.TrialIneligibleUserCannotUpgrade:return m.t("Compare Plans");case l.MX.TrialTeam:return m.t("Compare Plans");case l.MX.TrialExpiry:return m.t("Upgrade Now");default:(0,t.Kh)(I)}}h(O,"getDefaultCopy");function y(I,M,_,P){return()=>{I((0,c.A)({uiComponentVariant:P,promoSubtype:M,freemiumVariant:_}))}}h(y,"getTrialEligibleHandler");function C(I){return()=>I((0,i.o)((0,a.ZF)(r.c.PaidBenefits)))}h(C,"getTrialTeamHandler")},9962682172:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(3134334389),s=e(6122756707),o=e(3152270006),n=e(9558760472),c=e(7599584072),l=e(5445535244),i=e(5181078482),a=e(8823986650),r=e(3122619948);const d=h(f=>{let{variant:u,children:E,promoSubtype:v,modalVariant:g,useLink:T=!1,ctaClassName:p,entryPoint:O}=f;const y=(0,s.wA)(),C=(0,r.A)();if(!u||u===l.MX.TrialFetching)return null;const I=T?a.A:i.z9,M=(0,c.FK)(u),_=c.np[u];switch(u){case l.MX.TrialIneligible:return t.createElement(n.A,{useLink:T,autoClogProps:_,className:p},E??M);case l.MX.TrialEligible:return t.createElement(I,{onClick:(0,c.w9)(y,v,u,g),autoClogProps:_,className:p},E??M);case l.MX.TrialIneligibleUserCannotUpgrade:return t.createElement(I,{href:(0,c.aD)(u,O),autoClogProps:_,className:p},E??M);case l.MX.TrialTeam:return t.createElement(I,{href:C?void 0:(0,c.aD)(u,O),autoClogProps:_,onClick:C?(0,c.uY)(y):void 0,className:p},E??M);case l.MX.TrialExpiry:return t.createElement(n.A,{useLink:T,action:"checkout",autoClogProps:_},E??M);default:(0,o.Kh)(u)}},"FreemiumPrimaryCTA");d.displayName="FreemiumPrimaryCTA";const m=d},3185517364:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(828176885),s=e(3362542648),o=e(4894634110),n=e(6556118908),c=e(6763804501);const l=(0,o.Ay)("Open freemium trial offer modal",async(a,r,d)=>{const m=s.ZO.PaidFeatureTrial,{promoSubtype:f}=d;return await a((0,t.A)({campaignType:m,campaignSubType:f,reason:f})),(0,n.L9)(r())?a((0,c.r)({promoType:m,promoSubtype:f,entryPoint:"freemium_all_auto_charge_trial_entry_point"})):Promise.resolve()});l.meta={name:"createThunk",key:"createThunkopenFreemiumTrialOfferModal",description:"Open freemium trial offer modal"};const i=l},5445535244:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>v,MX:()=>m,yk:()=>f});var t=e(3134334389),s=e(6122756707),o=e(5478938623),n=e(315585246),c=e(3362542648),l=e(280840163),i=e(5609235691),a=e(542703974),r=e(8717193059),d=e(3666777625);const m={TrialFetching:"trial_fetching",TrialTeam:"trial_team",TrialExpiry:"trial_expiry",TrialEligible:"trial_eligible",TrialIneligible:"trial_ineligible",TrialIneligibleUserCannotUpgrade:"trial_ineligible_user_cannot_upgrade"},f=h(g=>g===m.TrialFetching||g===m.TrialEligible||g===m.TrialIneligible||g===m.TrialIneligibleUserCannotUpgrade,"isFreeVariant"),u=h(g=>g===m.TrialTeam||g===m.TrialExpiry,"isTrialVariant"),v=h(g=>{let{promoType:T=c.ZO.PaidFeatureTrial,promoSubtype:p,context:O,reason:y,isEligibleForTrial:C,trialEndDate:I,isEnabled:M=!0,isPurchaser:_}=g;const P=(0,s.wA)(),b=(0,l.d4)(F=>(0,o.tc)((0,d.H7)(F))),S=(0,l.d4)(a.iH),N=(0,l.d4)(n.X),L=_??N,D=(0,l.d4)(F=>(0,a.hq)(F,T,p)),[k,x]=(0,t.useState)(b);if((0,t.useEffect)(()=>{M&&b&&P((0,r.A)({campaignType:T,campaignSubType:p,context:O,reason:y})).then(()=>{x(!1)})},[P,b,T,p,O,y,D,M]),!M||!(b||S))return null;const R=C!=null;if(k&&!R)return m.TrialFetching;if(S){const W=(0,i.qe)(I);return I!==void 0&&W<=7?m.TrialExpiry:m.TrialTeam}const U=R&&k?C:D;return!U&&!L?m.TrialIneligibleUserCannotUpgrade:U?m.TrialEligible:m.TrialIneligible},"useFreemium")},9900195561:(B,A,e)=>{"use strict";e.d(A,{A:()=>at});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(7405615593),l=e(481313997),i=e(2947229296),a=e(3776304241),r=e(8840492690),d=e(9994095366),m=e(9558760472),f=e(8121829996),u=e(5395353422),E=e(4338413691),v=e(9298238702),g=e(1464544781),T=e(6563296078),p=e(4458861846),O=e(6506860933),y=e(5478938623),C=e(5181078482),I=e(321010523),M=e(280840163),_=e(5609235691),P=e(2069063006),b=e(6168665379),S=e(1631152177),N=e(3666777625),L=e(428235996),D=e.n(L);const k=new i.Ay("trials"),x={elementName:"view_all_paid_benefits_primary_cta",onClick:{enableClogAction:!0}},R=h(Ve=>{let{trialExpirationDate:Se,uiStep:Pe}=Ve;const Fe=(0,s.wA)(),ge=(0,t.useCallback)(()=>{Fe((0,P.O)())},[Fe]),He=(0,t.useCallback)(()=>{Fe((0,P.O)()),Fe((0,T.o)((0,p.ZF)(O.c.PaidBenefits)))},[Fe]),Qe=(0,M.d4)(ze=>(0,y.F1)((0,N.H7)(ze))),_e=(0,M.d4)(b.F),Le=(0,M.d4)(S.$J);(0,c.A)(()=>{Fe((0,S.E5)())});const Ie=(0,t.useMemo)(()=>({...x,uiStep:Pe}),[Pe]),we=h(()=>t.createElement(C.Ay,{"aria-label":k.t("Paid benefits link"),autoClogProps:Ie,className:D().primaryCta,onClick:He},k.rt("Explore All Pro Features")),"getCustomFooter");return t.createElement(l.A,{eventId:I.EventId.UPGRDEXP_TRIAL,uiComponentName:I.UiComponentName.TRIAL_START_SHOWCASE_ALL_FEATURES_MODAL,uiStep:Pe},t.createElement(E.A,{featureList:(0,v.L_)({experimentPnpGoGroupTreatment:Le}),modalTitle:k.rt("{teamName} is on a free trial \u{1F389}",{teamName:Qe}),modalSubtitle:k.rt("Explore all the premium features of our most popular plan, Slack Pro, through {trialExpirationDate}.",{trialExpirationDate:t.createElement("strong",null,(0,_.Pd)(Se))}),customFooter:we(),onRequestClose:ge,maxWidth:832,videoTitle:k.t("Comparison of free vs. paid Slack Video for users on free teams")}),t.createElement(g.A,{shouldShow:_e}))},"TrialStartAllFeaturesModal");R.displayName="TrialStartAllFeaturesModal";const U=R;var F=e(4894634110),W=e(5876603232);const w=(0,F.Ay)("Open global trial start all features modal",async(Ve,Se,Pe)=>{let{trialExpirationDate:Fe}=Pe;return Ve((0,W.q)({element:t.createElement(U,{trialExpirationDate:Fe,uiStep:I.UiStep.GLOBAL_TRIAL_START_MODAL})}))});w.meta={name:"createThunk",key:"createThunkopenTrialStartAllFeaturesModal",description:"Open global trial start all features modal"};const K=w;var j=e(5987543878),Q=e(7575024093),J=e(7009902910),z=e(1012431837),ie=e(8823986650),ee=e(5190921192),ne=e(1204205618),Z=e(7831811348),te=e(3362542648),he=e(5965044477),ue=e(9872055788),de=e(7919365230),re=e(7263227031),V=e(205540855);const H=(0,de.Ay)(Ve=>(0,V.ze)(Ve,"promote_plan_visibility_v2"));H.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2GetAssignment",description:Ve=>(0,V.ze)(Ve,"promote_plan_visibility_v2")};const X=(0,de.Ay)(Ve=>(0,V.ze)(Ve,"promote_plan_visibility_v2")==="control");X.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsControl",description:Ve=>(0,V.ze)(Ve,"promote_plan_visibility_v2")==="control"};const Y=(0,de.Ay)(Ve=>(0,V.ze)(Ve,"promote_plan_visibility_v2")==="treatment");Y.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsTreatment",description:Ve=>(0,V.ze)(Ve,"promote_plan_visibility_v2")==="treatment"};const q=(0,de.Ay)(Ve=>{var Se;return["treatment"].includes((Se=(0,V.ze)(Ve,"promote_plan_visibility_v2"))!==null&&Se!==void 0?Se:"")});q.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsAnyTreatment",description:Ve=>{var Se;return["treatment"].includes((Se=(0,V.ze)(Ve,"promote_plan_visibility_v2"))!==null&&Se!==void 0?Se:"")}};const fe=(0,de.Ay)(Ve=>X(Ve)||q(Ve));fe.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsExposed",description:Ve=>X(Ve)||q(Ve)};const ce=(0,de.Ay)(Ve=>{var Se;return["aa_control","aa_treatment"].includes((Se=(0,V.ze)(Ve,"promote_plan_visibility_v2"))!==null&&Se!==void 0?Se:"")});ce.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsAAExposed",description:Ve=>{var Se;return["aa_control","aa_treatment"].includes((Se=(0,V.ze)(Ve,"promote_plan_visibility_v2"))!==null&&Se!==void 0?Se:"")}};const Ee=h(function(Ve){let{sendImmediately:Se=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Pe=(0,V.KK)(Ve,"promote_plan_visibility_v2");Pe&&Pe.log_exposures&&(0,re.K)("promote_plan_visibility_v2",Pe,Ve,Se)},"promotePlanVisibilityV2LogExposure"),Ae=(0,F.Ay)("Log exposure for the promote_plan_visibility_v2 experiment if it is exposed",function(Ve,Se){let{sendImmediately:Pe=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Fe=Se();(fe(Fe)||ce(Fe))&&Ee(Fe,{sendImmediately:Pe})});Ae.meta={name:"createThunk",key:"createThunkpromotePlanVisibilityV2MaybeLogExposure",description:"Log exposure for the promote_plan_visibility_v2 experiment if it is exposed"};var le=e(5632506656),oe=e.n(le);const me=0,pe=new i.Ay("promote_plan_visibility");function Te(Ve){let{canUserPurchase:Se=!1,isTrialEligible:Pe=!1,hideLastRow:Fe=!1}=Ve;const ge=(0,s.wA)(),He=(0,M.d4)(Y),Qe=(0,M.d4)(S.$J);(0,c.A)(()=>{ge((0,S.E5)())});const _e=(0,M.d4)(Ye=>(0,ue.MO)(Ye,te.i6.standard.name,te.ck.monthly)),Le=(0,M.d4)(Ye=>(0,ue.C8)(Ye,te.i6.standard.name,te.ck.monthly)),Ie=(0,M.d4)(Ye=>(0,ue.MO)(Ye,te.i6.plus.name,te.ck.monthly)),we=(0,M.d4)(Ye=>(0,ue.C8)(Ye,te.i6.plus.name,te.ck.monthly)),ze=(0,M.d4)(ue.nc),ut=(0,M.d4)(ue.Pr),_t=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":pe.t("Feature available"),className:"p-icon_container p-check_icon_container"},t.createElement(ee.A,{name:"check-filled"})),[]),yt=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":pe.t("Feature unavailable"),className:"p-icon_container"},t.createElement(ee.A,{name:"minus-filled"})),[]),Ot=(0,t.useMemo)(()=>[he.xu.CLIENT_HEADER_RIGHT,he.xu.SIDEBAR_FOOTER,he.xu.SIDEBAR_MENU_HEADER],[]),It=(0,t.useMemo)(()=>t.createElement("div",{className:oe().missingText},t.createElement(a.A,{size:"large"}),t.createElement(a.A,{size:"large"})),[]),kt=(0,t.useMemo)(()=>{if(ut){const Ye=(0,ne.A)(_e,ze),ot=Le?(0,ne.A)(Le,ze):null,ht=t.createElement(t.Fragment,null,t.createElement("div",{className:oe().costLabel,"data-qa":"plans-cost-label"},Ye),t.createElement("div",{className:oe().costLabelSubtitle},pe.t("per person/month"))),tt=t.createElement(t.Fragment,null,t.createElement("div",{className:oe().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:oe().discountedPrice},ot),t.createElement("span",{className:oe().typicalPriceWithStrikethrough},Ye)),t.createElement("div",{className:oe().costLabelSubtitle},pe.t("per person/month")));return Le?tt:ht}return It},[ut,_e,ze,Le,It]),gt=(0,t.useMemo)(()=>{if(ut){const Ye=(0,ne.A)(Ie,ze),ot=we?(0,ne.A)(we,ze):null,ht=t.createElement(t.Fragment,null,t.createElement("div",{className:oe().costLabel,"data-qa":"plans-cost-label"},Ye),t.createElement("div",{className:oe().costLabelSubtitle},Qe?pe.t("per person/month"):"")),tt=t.createElement(t.Fragment,null,t.createElement("div",{className:oe().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:oe().discountedPrice},ot),t.createElement("span",{className:oe().typicalPriceWithStrikethrough},Ye)),t.createElement("div",{className:oe().costLabelSubtitle},Qe?pe.t("per person/month"):""));return we?tt:ht}return It},[ut,Ie,ze,we,Qe,It]),Gt=(0,t.useMemo)(()=>{const Ye=h(()=>{if(ut){const ot=(0,f.ZV)(me,(0,Z.Yp)(),{style:"currency",currency:ze,currencyDisplay:"symbol",maximumFractionDigits:0});return t.createElement("span",{className:oe().costLabel},ot)}return It},"getFreePrice");return Ye.displayName="getFreePrice",t.createElement(t.Fragment,null,t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("div",{className:oe().planHeaderContainer},t.createElement("span",{className:n()(oe().planLabel,oe().freeLabel)},pe.t("Free")),t.createElement("div",{className:"p-cost_label_container"},Ye())))},[ut,ze,It]),Pt=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("div",{className:oe().planHeaderContainer},t.createElement("span",{className:n()(oe().planLabel,oe().proLabel)},pe.t("Slack Pro"),t.createElement("div",{className:oe().trialProBadge},t.createElement(J.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:I.UiComponentVariant.PLANS_AT_GLANCE}))),kt)),jt=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:oe().planHeaderContainer},t.createElement("span",{className:n()(oe().planLabel,oe().bizPlusLabel)},Qe?pe.t("Business+"):""),gt)),Qt=(0,t.useCallback)(()=>{const Ye=Qe?(0,Q.dQ)(Qe):(0,Q.QH)();return Ye.map((ot,ht)=>{const{key:tt,description:ct,freeDesc:rn,descriptionToolTip:ln,title:on,paidDesc:G,descriptionClassName:De,bizPlusDesc:We}=ot;let it;const Nt=Fe&&Ye.length-1===ht;rn==="included"?it=_t:rn==="-"?it=yt:it=rn;let sn=G||_t;sn==="-"&&(sn=yt);const en=We||_t;return on?t.createElement("div",{key:tt,className:"p-grid_item p-first_column p-feature_heading"},on):t.createElement(j.A,{key:tt,description:ct,freeDesc:it,paidDescription:sn,descriptionToolTip:ln,descriptionClassName:De,isExperimentPromotePlanVisibilityGroupTreatment:He,bizPlusDescription:en,lastItem:Nt})})},[_t,Qe,He,yt,Fe]),Jt=(0,M.d4)(Ye=>(0,te.m6)(Ye,{action:"checkout",productLevel:te.i6.standard.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),Yt=(0,M.d4)(Ye=>(0,te.m6)(Ye,{action:"checkout",productLevel:te.i6.plus.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),Rt=(0,t.useCallback)(Ye=>{let{trialExpirationDate:ot}=Ye;ge(K({trialExpirationDate:ot}))},[ge]),Bt=(0,t.useMemo)(()=>Se||Pe?t.createElement(C.z9,{href:Yt,autoClogProps:Q.m2,disabled:!ut,type:"outline",className:oe().bizPlusUpgradeButton},Qe?pe.t("Upgrade Now"):""):null,[Se,Pe,Qe,ut,Yt]),dn=(0,t.useMemo)(()=>{switch(!0){case(Se&&!Pe||He&&Se):return t.createElement(C.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:Jt,autoClogProps:Q.m2,disabled:!ut},t.createElement("span",{className:oe().upgradeRocketIcon},t.createElement(ee.A,{name:"rocket"})),pe.t("Upgrade Now"));case(!He&&Pe):return t.createElement("div",{className:oe().trialEligibleCellContainer},t.createElement(z.A,{"data-qa":"plans-at-glance-trial-start-btn",reason:"plan_visibility_plans_at_glance_modal",className:oe().trialStartCta,megaphoneSpacesToRefresh:Ot,onRequestComplete:Rt,promoType:te.ZO.GlobalEntrypointTrial,autoClogProps:Q.Go,disabled:!ut},pe.t("Start Free Trial")),t.createElement(ie.A,{"data-qa":"plans-at-glance-trial-eligible-upgrade-now-link-btn",href:Jt,className:oe().upgradeLink,autoClogProps:Q.m2,disabled:!ut},pe.t("Upgrade Now")));default:return pe.rt("Contact your team admin to upgrade. Learn more about <a>Slack plans and features</a>",{},Ye=>{let{text:ot}=Ye;return t.createElement(u.A,{className:"bold",articleId:115003205446},ot)})}},[Se,Jt,He,ut,Pe,Ot,Rt]),Mt=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row "},t.createElement(C.Ay,{type:"outline",className:n()([oe().disabledCurrentPlanButton],{[oe().trialEligibleCurrentPlanBtn]:!He&&Pe}),disabled:!0},pe.t("Current Plan"))),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,dn))),Qe?t.createElement("div",{className:"p-grid_item p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,Bt))):null),[Pe,He,dn,Qe,Bt]);return t.createElement("div",{"data-qa":"plan_visibility_plans_at_glance_table",className:n()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_container--with_biz_plus":Qe})},t.createElement("div",{className:"p-grid_item p-first_column p-top_left_ele"}),t.createElement("div",{className:"p-grid_item p-free_heading"},Gt),t.createElement("div",{className:n()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!Qe})},Pt),Qe?t.createElement("div",{className:"p-grid_item p-top_right_ele p-biz_plus_heading"},jt):null,Qt(),!Fe&&Mt())}h(Te,"PlanVisibilityPlansTable");var Me=e(1459523385),Ue=e(2570872625),xe=e(3451857649),Ne=e(873516440),be=e(2449324469),ke=e(4580929411),Ke=e(2321016814),$=e.n(Ke);function ae(){return ae=Object.assign||function(Ve){for(var Se=1;Se<arguments.length;Se++){var Pe=arguments[Se];for(var Fe in Pe)Object.prototype.hasOwnProperty.call(Pe,Fe)&&(Ve[Fe]=Pe[Fe])}return Ve},ae.apply(this,arguments)}h(ae,"_extends");const Ge=new i.Ay("guided_trials"),nt=h(Ve=>{let{onComplete:Se,canUserPurchase:Pe=!1,onFreeButtonClick:Fe,onProButtonClick:ge,from:He,isProFirst:Qe=!1,trialEligible:_e,maxWidth:Le=1e3}=Ve;const Ie=(0,s.wA)(),we=(0,M.d4)(Ne.to),ze=He===Q.FM.setup,ut=He===Q.Cx.trialCheckout,_t=(0,M.d4)(Y),yt=(0,M.d4)(S.$J);(0,c.A)(()=>{Ie((0,S.E5)())});const It=(0,M.d4)(ke.RN)&&He===Q.$X.proUpgradeToBizPlus,kt=(0,M.d4)(ue.Pr),gt=(0,M.d4)(ht=>(0,ue.h$)(ht,te.i6.standard.name,te.ck.monthly)),Gt=(0,M.d4)(ue.Ik),Pt=(0,M.d4)(ht=>(0,ue.ZQ)(ht)===te.k2.Local);(0,t.useEffect)(()=>{kt||Ie((0,be.A)())},[kt,Ie]);const jt=(0,t.useCallback)(()=>t.createElement(Ue.A,{from:He,canUserPurchase:Pe,onProButtonClick:ge,onFreeButtonClick:Fe,isProFirst:Qe}),[He,Pe,ge,Fe,Qe]),Qt=(0,t.useCallback)(()=>t.createElement(Te,{canUserPurchase:Pe,isTrialEligible:_e,hideLastRow:ut}),[Pe,_e,ut]),Jt=Ge.t("More analytics, data exports, control and access."),Yt=(0,t.useCallback)(()=>It?Jt:kt?gt?ze?Pt?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},Ge.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>",{discountPercentage:gt},ht=>{let{text:tt,key:ct}=ht;return t.createElement("span",{key:ct,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},tt,"*")})):t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},Ge.rt("Pro plan includes <span>{discountPercentage}% off discount</span> on your first {discountDuration} months",{discountPercentage:gt,discountDuration:Gt},ht=>{let{text:tt,key:ct}=ht;return t.createElement("span",{key:ct,className:"p-plans_at_glance_modal_subtitle--highlight"},tt)})):yt?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},Gt?Ge.rt("All plan prices include a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:gt,discountDuration:Gt},ht=>{let{text:tt,key:ct}=ht;return t.createElement("span",{key:ct,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},tt)}):Ge.rt("All plan prices include a <span>{discountPercentage}% off discount</span>.",{discountPercentage:gt},ht=>{let{text:tt,key:ct}=ht;return t.createElement("span",{key:ct,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},tt)})):_t?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},Gt?Ge.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:gt,discountDuration:Gt},ht=>{let{text:tt,key:ct}=ht;return t.createElement("span",{key:ct,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},tt)}):Ge.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>.",{discountPercentage:gt},ht=>{let{text:tt,key:ct}=ht;return t.createElement("span",{key:ct,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},tt)})):null:null:t.createElement(a.A,{className:"p-plans_at_glance_subtitle--loader",size:"large"}),[kt,gt,ze,yt,_t,Pt,Gt,It,Jt]);let Rt=ze?(0,r.ie)():{};ze?Rt=(0,r.ie)():ut?Rt=Me.wV:It&&(Rt=(0,d.jY)());let Bt;ze?Bt=(0,r.Bp)():_t?Bt={elementName:"compare_plans_link",onClick:{enableClogAction:!0}}:ut?Bt=Me.lD:It?Bt=(0,d.z6)():Bt={};const dn=Ge.t("Compare all plans and features"),Mt=(0,t.useCallback)(()=>{let ht="",tt=Ge.t("Compare all plans");return Pe&&!_t?ht="guided_trials_plans_at_glance_compare_plans_cta":_t&&(ht="plan_visibility_plans_at_glance_compare_plans_cta"),ze&&(ht="straight_to_paid_plans_modal_cta"),ut&&(ht="auto_charge_feature_trial_modal_cta"),It&&(ht="pro_to_biz_plus_upgrade_boost",tt=dn),t.createElement(m.A,{"data-qa":"plans-at-glance-compare-plans-btn",className:n()({"p-plans_at_glance_compare_plans_cta":Pe&&!_t,"p-plans_at_glance_compare_plans_cta_ppv":_t}),useLink:!0,entryPoint:ht,autoClogProps:Bt},tt,t.createElement("div",{className:"margin_left_25 p-plans_at_glance_new_window_icon_color"},t.createElement(ee.A,{name:"new-window"})))},[Pe,Bt,_t,ut,It,ze,dn]),Ye=Ge.t("Do more with Business+"),ot=(0,t.useMemo)(()=>yt?Ge.t("Choose the plan that\u2019s right for you"):It?Ye:Ge.t("Compare Free and Slack Pro Plans"),[yt,It,Ye]);return t.createElement(l.A,ae({uiComponentName:_t?I.UiComponentName.PPV_PLANS_AT_GLANCE_MODAL:I.UiComponentName.GUIDED_TRIAL_PLANS_AT_GLANCE_MODAL},Rt,{clogImpression:!0}),t.createElement(xe.aF,{maxWidth:Le,centered:!0,isOpen:!0,labelledby:"trials_plans_at_glance_modal",className:n()("p-plans_at_glance_modal",`p-plans_at_glance_modal--${we}`,{"p-plans_at_glance_modal--pro_to_biz_plus_upgrade":It}),onClose:Se,closeButtonTone:It?"dark":void 0},t.createElement(xe.rQ,null,t.createElement(xe.Rc,{"data-qa":"plans_at_glance_heading",title:ot,subtitle:Yt(),className:n()({"p-plans_at_glance_modal_title":!_t,"p-plans_at_glance_modal_title_ppv":_t}),titleTextClassName:n()({"p-plans_at_glance_modal_title--discount":ze,"p-plans_at_glance_modal_title_ppv--discount":_t&&gt})},It?t.createElement("img",{className:"p-plans_at_glance_modal_header_img",src:$(),alt:""}):null)),t.createElement(xe.$m,{className:n()({"p-plans_at_glance_modal_content":!_t,"p-plans_at_glance_modal_content_ppv":_t||ut})},t.createElement(xe.qf,{className:_t?"p-plans_at_glance_modal_section_ppv":"p-plans_at_glance_modal_section"},_t&&!ze||ut?Qt():jt()),t.createElement(xe.qf,{className:n()("p-plans_at_glance_compare_plans_section",{"p-plans_at_glance_modal_section_ppv":_t,"p-plans_at_glance_modal_section":!_t})},Pt&&t.createElement("div",{className:"p-plans_at_glance_modal_offer_disclaimer"},"*Limited-time offer subject to change at Slack\u2019s discretion."),(Pe||_t)&&Mt()))))},"PlansAtGlance");nt.displayName="PlansAtGlance";const at=nt},5987543878:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8823986650),c=e(9006442414),l=e(280840163),i=e(1631152177);function a(d){let{description:m,freeDesc:f,paidDescription:u,descriptionToolTip:E,descriptionClassName:v,isExperimentPromotePlanVisibilityGroupTreatment:g,isProFirst:T=!1,showBizPlus:p=!0,bizPlusDescription:O,isProToBizPlusUpgrade:y=!1,lastItem:C=!1}=d;const I=(0,l.d4)(i.$J),M=E?t.createElement(c.Ay,{tip:E,tipClassName:o()({"p-plans_at_glance_tooltip_ppv":g}),position:"top"},t.createElement(n.A,{className:o()("p-grid_item__description--tooltip",{"p-grid_item__description--tooltip-ppv":g})},t.createElement("span",{className:o()({[`${v}`]:!!v})},m))):m;if(I&&p)return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column"},M),t.createElement("div",{className:"p-grid_item p-mid_column"},f),t.createElement("div",{className:"p-grid_item p-last_column"},u),t.createElement("div",{className:"p-grid_item p-mid_column"},O));const _=h(()=>y?t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":C})},u),t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":C,"p-bottom-right-ele":C})},O)):T?t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":C})},u),t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":C,"p-bottom-right-ele":C})},f)):t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":C})},f),t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":C,"p-bottom-right-ele":C})},u)),"getRowItems");return _.displayName="getRowItems",t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-first_column",{"p-last_row":C,"p-bottom_left_row_ele":C})},M),_())}h(a,"RowItem"),a.displayName="RowItem";const r=a},2570872625:(B,A,e)=>{"use strict";e.d(A,{A:()=>D});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(7405615593),l=e(2947229296),i=e(8121829996),a=e(3776304241),r=e(9994095366),d=e(9558760472),m=e(5987543878),f=e(7575024093),u=e(5563478249),E=e(7009902910),v=e(50929051),g=e(5478938623),T=e(5181078482),p=e(8823986650),O=e(5190921192),y=e(321010523),C=e(1204205618),I=e(7831811348),M=e(3362542648),_=e(280840163),P=e(9872055788),b=e(4580929411),S=e(1631152177),N=e(3666777625);const L=new l.Ay("guided_trials");function D(k){let{from:x,canUserPurchase:R=!1,onProButtonClick:U,onFreeButtonClick:F,isProFirst:W=!1}=k;const[w,K]=(0,t.useState)(!1),j=(0,s.wA)(),Q=(0,_.d4)(S.$J);(0,c.A)(()=>{j((0,S.E5)())});const J=x===f.FM.setup,z=(0,_.d4)(Fe=>(0,P.MO)(Fe,M.i6.standard.name,M.ck.monthly)),ie=(0,_.d4)(Fe=>(0,P.MO)(Fe,M.i6.plus.name,M.ck.monthly)),ee=(0,_.d4)(Fe=>(0,P.MO)(Fe,M.i6.plus.name,M.ck.yearly)),ne=(0,_.d4)(P.nc),Z=(0,_.d4)(P.Pr),te=(0,_.d4)(Fe=>(0,P.C8)(Fe,M.i6.standard.name,M.ck.monthly)),he=(0,_.d4)(Fe=>(0,P.C8)(Fe,M.i6.plus.name,M.ck.monthly)),ue=(0,_.d4)(Fe=>(0,P.C8)(Fe,M.i6.standard.name,M.ck.monthly)),de=(0,_.d4)(Fe=>(0,P.MO)(Fe,M.i6.standard.name,M.ck.monthly)),re=(0,_.d4)(Fe=>(0,P.MO)(Fe,M.i6.standard.name,M.ck.yearly)),H=(0,_.d4)(b.RN)&&x===f.$X.proUpgradeToBizPlus,X=(0,_.d4)(P.EV),Y=(0,_.d4)(N.H7),q=x&&x===f.eX.proDowngradeToFree,fe=x&&x===f.eX.bizPlusDowngradeToPro,ce=x&&x===f.eX.bizPlusDowngradeToFree,Ee=q||fe||ce,Ae=(0,t.useMemo)(()=>t.createElement("div",{className:"p-check_icon_container"},H?t.createElement(O.A,{name:"check-circle-filled",size:"20"}):t.createElement(O.A,{name:"check-filled"})),[H]),le=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":Q?L.t("Feature unavailable"):"",className:"p-icon_container"},t.createElement(O.A,{name:"minus-filled"})),[Q]),oe=(0,t.useCallback)(()=>{if(q){const Fe=(0,f.H0)().filter(Qe=>!Qe.isHidden),ge=w?Fe:[],He=[...(0,f.KJ)(q)];return He.splice(5,1),[...He,...ge]}return fe?w?(0,f.NQ)():(0,f.Qv)():ce?w?(0,f.qD)():(0,f.Rq)():Q?(0,f.dQ)(Q):J?(0,f.VK)():H?(0,f.G)():(0,f.KJ)()},[Q,J,q,w,fe,ce,H]),me=(0,t.useCallback)(()=>oe().map(ge=>{const{key:He,description:Qe,freeDesc:_e,descriptionToolTip:Le,title:Ie,paidDesc:we,descriptionClassName:ze,bizPlusDesc:ut}=ge;let _t,yt=we||Ae;const Ot=ut||Ae;return _e==="included"?_t=Ae:Q&&_e==="-"?_t=le:_t=_e,Q&&yt==="-"&&(yt=le),Ie?t.createElement("div",{key:He,className:"p-grid_item p-first_column p-feature_heading"},Ie):t.createElement(m.A,{key:He,description:Qe,freeDesc:_t,paidDescription:yt,descriptionToolTip:Le,descriptionClassName:ze,isProFirst:W,bizPlusDescription:Ot,showBizPlus:!J&&!Ee,isProToBizPlusUpgrade:H})}),[oe,Ae,Q,W,J,le,Ee,H]),pe=L.t("Recommended"),Te=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,t.createElement("div",null)," ",t.createElement("div",null)," ",t.createElement("div",{className:"p-business_plus_recommended_label"},pe)),[pe]),Me=L.t("per person/month"),Ue=(0,t.useMemo)(()=>{if(Z){const Fe=he??ie,ge=(0,C.A)(ee,ne)||"",He=(0,C.A)(Fe,ne)||"";return H?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},ge),t.createElement(v.d,{plan:M.i6.plus.name},t.createElement("div",{className:n()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},Me))):t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},Q?L.rt("<strong>{price}</strong> per person/month",{price:He}):"")}return t.createElement(a.A,{size:"large"})},[Q,Z,ie,ee,he,ne,H,Me]),xe=(0,t.useMemo)(()=>{if(Z){const Fe=te??z,ge=(0,C.A)(re,ne)||"",He=(0,C.A)(Fe,ne)||"",Qe=t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},L.rt("<strong>{price}</strong> per person/month",{price:He}));return H?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},ge),t.createElement(v.d,{plan:M.i6.standard.name},t.createElement("div",{className:n()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},Me))):J||ue?t.createElement("div",{className:"p-plans_at_glance_cost-label-container"},t.createElement("span",{className:"p-plans_at_glance_original-label","data-qa":"plans-cost-full"},L.rt("<s>{price} per person/month</s>",{price:(0,i.ZV)(de,(0,I.Yp)(),{style:"currency",currency:ne,currencyDisplay:"symbol"})||""})),t.createElement("span",{className:"p-plans_at_glance_discount-label","data-qa":"plans-cost-discount"},ue&&L.rt("<strong>{price}</strong> per person/month",{price:(0,i.ZV)(ue,(0,I.Yp)(),{style:"currency",currency:ne,currencyDisplay:"symbol"})||""}))):Qe}return t.createElement(a.A,{size:"large"})},[Z,te,z,de,re,ne,J,ue,H,Me]),Ne=L.t("Current"),be=L.t("Pro"),ke=(0,t.useCallback)(()=>H?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-mid_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},t.createElement("div",{className:"p-plans_at_glance_table_heading_with_badge_container"},be,t.createElement("div",{className:"p-plans_at_glance_table_current_plan_badge"},Ne)),t.createElement("div",{className:"p-cost_label_container"},xe))),t.createElement("div",{className:"p-grid_item p-top_right_ele p-last_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},L.t("Business+"),t.createElement("div",{className:"p-cost_label_container"},Ue)))):W?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-last_column"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},L.t("Slack Pro")),t.createElement(E.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:y.UiComponentVariant.PLANS_AT_GLANCE}),q&&t.createElement(u.J,{autoClogProps:f.t8}))),t.createElement("div",{className:"p-grid_item p-free_heading p-top_right_ele"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},L.t("Free")))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-free_heading"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},fe?L.t("Slack Pro"):L.t("Free"))),t.createElement("div",{className:n()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!Q&&!J})},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro "}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},fe||ce?L.t("Business+"):L.t("Slack Pro")),t.createElement(E.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:y.UiComponentVariant.PLANS_AT_GLANCE}),q&&t.createElement(u.J,{autoClogProps:f.t8})))),[Q,ce,fe,q,Ue,xe,W,H,J,Ne,be]),Ke=(0,_.d4)(Fe=>(0,M.m6)(Fe,{action:"checkout",productLevel:M.i6.standard.id,entryPoint:"guided_trials_plans_at_glance_upgrade_cta"})),$=(0,_.d4)(Fe=>(0,M.m6)(Fe,{action:"checkout",productId:X===M.ck.yearly?"plus_y":"plus_m",entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),ae=L.t("Learn More"),Ge=(0,t.useMemo)(()=>R?t.createElement(T.z9,{href:$,autoClogProps:f.m2,type:H?"primary":"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},L.t("Upgrade Now")):H?t.createElement(T.z9,{className:"p-plans_at_glance_upgrade_now_btn--biz_plus",href:"plans/plus",target:"_blank",type:"primary",autoClogProps:f.j3},ae):t.createElement(d.A,{entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:f.lp,type:"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},L.t("See Upgrade Options")),[R,$,H,ae]),nt=(0,t.useMemo)(()=>t.createElement(T.Ay,{type:"outline",className:"full_width",onClick:F},L.t("Start with Free")),[F]),at=(0,t.useMemo)(()=>J?t.createElement(T.Ay,{onClick:U,type:"primary",className:"p-plans_at_glance__pro-button"},L.t("Start with Pro")):R?t.createElement(T.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:Ke,autoClogProps:f.m2},t.createElement("span",{className:"margin_right_50"},t.createElement(O.A,{name:"rocket"})),L.t("Upgrade Now")):t.createElement(d.A,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:f.lp},L.t("See Upgrade Options")),[R,Ke,J,U]),Ve=(0,t.useCallback)(()=>{K(Fe=>!Fe)},[]),Se=L.rt("Inquire with Sales"),Pe=(0,t.useCallback)(()=>{if(q||fe||ce){let Fe=L.t("See full comparison");return w&&(Fe=L.t("Collapse list")),t.createElement("div",{className:"p-grid_item p-last-row-expander"},t.createElement(T.jV,{autoClogProps:f.Dp,onClick:Ve,"data-qa":"p-plans_table_extend_list_cta"},Fe))}return W&&J?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-last_column p-last_row"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},xe),t.createElement("div",{className:"margin_top_50"},at))),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row p-bottom-right-ele p-free-btn"},nt)):H?t.createElement(t.Fragment,null,t.createElement("div",{className:n()("p-grid_item","p-first_colum","p-last_row","p-bottom_left_ele")}),t.createElement("div",{className:n()("p-grid_item  p-mid_column p-last_row")}),t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele p-last_column"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"margin_top_50"},Ge),t.createElement(p.A,{className:"p-plans_at_glance_inquire_with_sales_label",href:(0,g.Zl)(Y,"/contact-sales?campaign=7013y000002UvizAAC"),autoClogProps:(0,r.pm)()},t.createElement(O.A,{name:"message",size:"16"}),Se)))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:n()("p-grid_item  p-mid_column p-last_row",{"p-free-btn":J})},J&&t.createElement(t.Fragment,null,nt)),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},xe),t.createElement("div",{className:"margin_top_50"},at))),!J&&Q?t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},Ue),t.createElement("div",{className:"margin_top_50"},Ge))):null)},[q,W,J,xe,nt,at,Q,Ue,Ge,w,Ve,fe,ce,H,Y,Se]);return t.createElement("div",{"data-qa":"plans_at_glance_table",className:n()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_downgrade_container":Ee,"p-plans_at_glance_table_container--with_biz_plus":Q&&!J&&!Ee,"p-plans_at_glance_table_container--pro_to_biz_plus_upgrade":H}),key:"plans-at-glance-table"},H?Te:null,t.createElement("div",{className:n()("p-grid_item  p-first_column p-top_left_ele",{"p-first_column_heading":q||fe||ce})},q?L.t("Compare features across plans"):"",(fe||ce)&&L.t("Compare impacted features"),H?"Plan Features":""),ke(),!J&&Q&&!Ee&&!H?t.createElement("div",{className:"p-grid_item p-top_right_ele p-free_heading"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},Q?L.t("Business+"):""))):null,me(),Pe())}h(D,"PlansTable")},8402179405:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(9900195561),o=e(4894634110),n=e(5876603232);const c=(0,o.Ay)("Opens the plans at glance modal",function(i,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{onComplete:d,canUserPurchase:m=!1,onProButtonClick:f,onFreeButtonClick:u,from:E,isProFirst:v=!1,trialEligible:g}=r;return i((0,n.q)({element:t.createElement(s.A,{onComplete:d,canUserPurchase:m,onProButtonClick:f,onFreeButtonClick:u,from:E,isProFirst:v,trialEligible:g}),isStackable:!1}))});c.meta={name:"createThunk",key:"createThunkopenPlansAtGlanceModal",description:"Opens the plans at glance modal"};const l=c},7575024093:(B,A,e)=>{"use strict";e.d(A,{$X:()=>l,Cx:()=>a,Dp:()=>g,FM:()=>i,G:()=>b,Go:()=>f,H0:()=>O,KJ:()=>T,NQ:()=>I,QH:()=>y,Qv:()=>M,Rq:()=>P,VK:()=>p,dQ:()=>C,eX:()=>c,j3:()=>E,lp:()=>u,m2:()=>m,qD:()=>_,t8:()=>v});var t=e(2947229296),s=e(321010523),o=e(3362542648);const n=new t.Ay("guided_trials");var c;(function(S){S.proDowngradeToFree="proDowngradeToFree",S.bizPlusDowngradeToPro="bizPlusDowngradeToPro",S.bizPlusDowngradeToFree="bizPlusDowngradeToFree"})(c||(c={}));var l;(function(S){S.proUpgradeToBizPlus="proUpgradeToBizPlus"})(l||(l={}));var i;(function(S){S.setup="setup"})(i||(i={}));var a;(function(S){S.trialCheckout="trialCheckout"})(a||(a={}));var r;(function(S){S.MESSAGES_AND_HISTORY="messages_and_history",S.PRODUCTIVITY_AND_COLLABORATION="productivity_and_collaboration",S.CONNECT_WITH_EXTERNAL_PEOPLE="connect_with_external_people",S.HUDDLE_WITH_SCREEN_SHARE="huddles_with_screen_share",S.CANVASES_FEATURE="canvases_feature",S.AV_CLIPS="av_clips",S.APPS_AND_AUTOMATION="apps_and_automation",S.SIDE_BAR_ORGANIZATION="side_bar_organization",S.APPS="apps",S.WORKFLOWS="workflows",S.CUSTOMER_SUPPORT="customer_support",S.SLACK_AI="slack_ai",S.AUTOMATION_TOLLS_TITLE="automation_tolls",S.INTEGRATION_WITH_OTHER_APPS="integratins_with_other_apps",S.WORKFLOW_BUILDER="workflow_builder",S.CUSTOM_WORKFLOW_STEP="custom_workflow_step",S.DEPLOY_APPS_TO_SLACK="deploy_apps_to_slack",S.AUTOMATION_USAGE_TITLE="automation_usage",S.PUBLISH_WORKFLOWS="published_workflows",S.STANDARD_WORKFLOWS="standard_workflows",S.PREMIUM_WORKFLOWS="premium_workflows",S.SECURITY_TITLE="security",S.DATA_ENCRYPTION="data_encryption",S.TWO_FACTOR_AUTH="two_factor_auth",S.SSO="sso",S.COMPLIANCE_TITLE="compliance",S.CUSTOMER_RETENTION="customer_retention",S.ADMINSTRATION_TITLE="adminstration",S.WORKSPACES="workspaces",S.CHANNEL_PERMISSION="channel_permission",S.CUSTOM_USER_GROUP="custom_user_group",S.ADMIN_ANALYTICS_DASHBOARD="admin_analytics_dashboard",S.SUPPORT_TITLE="support",S.ACCESS_CUSTOMER_SUPPORT="access_customer_support",S.HUDDLES="huddles",S.LISTS="lists",S.SLACK_CONNECT="slack_connect",S.DATA_STORAGE_AND_RETENTION="data_storage_and_retention",S.MESSAGE_ACTIVITY_ANALYTICS="message_activity_analytics",S.ADMIN_ANALYTICS_API="adming_analytics_api",S.SCIM_MEMBER_MANAGEMENT="scim_member_management",S.DATA_EXPORT_MESSAGES="messaging_data_exports"})(r||(r={}));var d;(function(S){S.SEE_UPGRADE_OPTIONS="see_upgrade_options_cta",S.UPGRADE_NOW="upgrade_now_cta",S.COMPARE_ALL_PLANS="compare_all_plans",S.SEE_MORE_COLLAPSE="see_more_collapse",S.START_FREE_TRIAL="start_free_trial_cta",S.LEARN_MORE="learn_more"})(d||(d={}));const m={elementName:d.UPGRADE_NOW,onClick:{enableClogAction:!0}},f={elementName:d.START_FREE_TRIAL,onClick:{enableClogAction:!0}},u={elementName:d.SEE_UPGRADE_OPTIONS,onClick:{enableClogAction:!0}},E={elementName:d.LEARN_MORE,onClick:{enableClogAction:!0}},v={uiComponentVariant:s.UiComponentVariant.PLANS_AT_GLANCE},g={elementName:d.SEE_MORE_COLLAPSE,onClick:{enableClogAction:!0}},T=h(S=>[{key:`row_${r.MESSAGES_AND_HISTORY}`,description:n.t("Unlimited messages & file history"),freeDesc:n.t("Limited to past 90 days"),descriptionToolTip:S?n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files."):""},{key:`row_${r.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:S?n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts."):""},{key:`row_${r.HUDDLE_WITH_SCREEN_SHARE}`,description:n.t("Group audio and video huddles"),freeDesc:n.t("1:1 only"),descriptionToolTip:S?n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch."):""},{key:`row_${r.CANVASES_FEATURE}`,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:S?n.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!"):""},{key:`row_${r.AV_CLIPS}`,description:n.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:S?n.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like."):""},{key:`row_${r.APPS_AND_AUTOMATION}`,description:n.t("Unlimited apps and automations"),freeDesc:n.t("Limited to 10")},{key:`row_${r.SIDE_BAR_ORGANIZATION}`,description:n.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:S?n.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar."):""}],"getRowsData"),p=h(()=>[{key:`row_${r.MESSAGES_AND_HISTORY}`,description:n.t("Unlimited messages & file history"),freeDesc:n.t("Limited to past 90 days"),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${r.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${r.HUDDLE_WITH_SCREEN_SHARE}`,description:n.t("Group audio and video conversations"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{key:`row_${r.CANVASES_FEATURE}`,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:n.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${r.AV_CLIPS}`,description:n.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:n.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${r.APPS}`,description:n.t("Unlimited apps"),freeDesc:n.t("Limited to 10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${r.WORKFLOWS}`,description:n.t("Unlimited workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${r.SLACK_AI}`,description:n.t("Slack AI"),freeDesc:"-",descriptionToolTip:n.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:n.t("Add-on available")}],"getStpRowsData"),O=h(()=>[{title:n.t("Automation tools"),key:r.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:r.INTEGRATION_WITH_OTHER_APPS,description:n.t("Integrations with other apps"),freeDesc:"",descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:r.WORKFLOW_BUILDER,description:n.t("Workflow Builder"),freeDesc:"included",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:r.CUSTOM_WORKFLOW_STEP,description:n.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:n.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:r.DEPLOY_APPS_TO_SLACK,description:n.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:n.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:n.t("Automation usage"),key:r.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:r.PUBLISH_WORKFLOWS,description:n.t("Total published workflows or integrations with other apps"),freeDesc:n.t("10"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:`row_${r.WORKFLOWS}`,description:n.t("Workflows"),freeDesc:"-",paidDesc:n.t("No code"),descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:n.t("Security"),key:r.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:r.DATA_ENCRYPTION,description:n.t("Data encryption at rest and in transit"),freeDesc:"-",descriptionToolTip:n.t("By default, Slack encrypts data at rest and data in transit as part of our foundational security controls.")},{title:"",key:r.TWO_FACTOR_AUTH,description:n.t("Two-factor authentication"),freeDesc:"-",descriptionToolTip:n.t("If your password is compromised or stolen, you\u2019ll have peace of mind knowing that only you can sign in.")},{title:"",key:r.SSO,description:n.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:n.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:n.t("Compliances"),key:r.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:r.CUSTOMER_RETENTION,description:n.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:n.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:n.t("Administration"),key:r.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:r.WORKSPACES,description:n.t("Workspaces"),freeDesc:n.t("1"),paidDesc:n.t("1"),descriptionToolTip:n.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:r.CHANNEL_PERMISSION,description:n.t("Manage channel posting permissions"),freeDesc:n.t("Limited to #general channel only"),paidDesc:n.t("Limited to #general channel only"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:r.CUSTOM_USER_GROUP,description:n.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:n.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:r.ADMIN_ANALYTICS_DASHBOARD,description:n.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:n.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:n.t("Support"),key:r.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:r.CUSTOMER_SUPPORT,description:n.t("Access to customer support"),freeDesc:n.t("Standard support"),paidDesc:n.t("24/7 support"),descriptionToolTip:n.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getExtendedRowsData"),y=h(()=>[{key:`row_${r.MESSAGES_AND_HISTORY}`,description:n.t("Search all messages & file history"),freeDesc:n.t("Limited to past {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${r.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${r.HUDDLE_WITH_SCREEN_SHARE}`,description:n.t("Voice/video huddles with screen share"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{key:`row_${r.CANVASES_FEATURE}`,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:n.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${r.AV_CLIPS}`,description:n.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:n.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${r.APPS}`,description:n.t("Unlimited apps"),freeDesc:n.t("Limited to 10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${r.WORKFLOWS}`,description:n.t("Workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${r.SLACK_AI}`,description:n.t("Slack AI"),freeDesc:"-",descriptionToolTip:n.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:n.t("Add-on available")}],"getPlanVisibilityRowData"),C=h(S=>[{title:"",key:`row_${r.MESSAGES_AND_HISTORY}`,description:n.t("Message and file access"),freeDesc:n.t("Limited to {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:`row_${r.SLACK_CONNECT}`,description:n.t("Slack Connect"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:`row_${r.HUDDLES}`,description:n.t("Huddles"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{title:"",key:`row_${r.CANVASES_FEATURE}`,description:S?n.t("Slack canvases"):"",freeDesc:S?n.t("Channels and DMs only"):"",descriptionToolTip:n.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:`row_${r.LISTS}`,description:S?n.t("Slack lists"):"",freeDesc:"-",descriptionToolTip:S?n.t("Lists bring work management to where teams are already collaborating. You can visualize and organize tasks from your conversations so you can track cross-functional projects, requests, approvals, and more."):""},{title:"",key:`row_${r.APPS}`,description:n.t("Apps connected to Slack"),freeDesc:n.t("10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:`row_${r.WORKFLOWS}`,description:n.t("Workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:`row_${r.DATA_STORAGE_AND_RETENTION}`,description:S?n.t("Data storage and retention"):"",freeDesc:n.t("Up to 1 year"),descriptionToolTip:n.t("Retain access to your entire message and file history. On the free version of Slack, your data will be deleted after one year.")},{title:"",key:r.SSO,description:S?n.t("SAML-based single sign-on (SSO)"):"",freeDesc:"-",descriptionToolTip:S?n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta."):"",paidDesc:n.t("-")},{title:"",key:r.SCIM_MEMBER_MANAGEMENT,description:S?n.t("User provisioning (SCIM)"):"",freeDesc:"-",descriptionToolTip:S?n.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."):"",paidDesc:n.t("-")},{title:"",key:r.DATA_EXPORT_MESSAGES,description:S?n.t("Data exports for all messages"):"",freeDesc:"-",descriptionToolTip:S?n.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."):"",paidDesc:n.t("-")},{title:"",key:`row_${r.SLACK_AI}`,description:n.t("Slack AI"),freeDesc:"-",paidDesc:n.t("Add-on available"),descriptionToolTip:n.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",bizPlusDesc:n.t("Add-on available")}],"getPricingAndPackagingRowData"),I=h(()=>[{title:n.t("Security"),key:r.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:r.SSO,description:n.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:n.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:n.t("Compliances"),key:r.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:r.CUSTOMER_RETENTION,description:n.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:n.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:n.t("Administration"),key:r.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:r.WORKSPACES,description:n.t("Workspaces"),freeDesc:n.t("1"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:r.CHANNEL_PERMISSION,description:n.t("Manage channel posting permissions"),freeDesc:n.t("Limited to #general channel only"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:r.ADMIN_ANALYTICS_API,description:n.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:r.ADMIN_ANALYTICS_DASHBOARD,description:n.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:n.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:"",key:r.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")},{title:n.t("Support"),key:r.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:r.CUSTOMER_SUPPORT,description:n.t("Access to customer support"),freeDesc:n.t("24/7 support"),paidDesc:n.t("24/7 support with four-hour first response time"),descriptionToolTip:n.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToProAllRowsData"),M=h(()=>[{title:"",key:r.SSO,description:n.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:r.CHANNEL_PERMISSION,description:n.t("Unlimited channel posting permissions"),freeDesc:n.t("#general only"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:r.SCIM_MEMBER_MANAGEMENT,description:n.t("SCIM member management"),freeDesc:"-",descriptionToolTip:n.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:r.ADMIN_ANALYTICS_API,description:n.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:r.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToProRowsData"),_=h(()=>[{title:n.t("Productivity & collaboration"),key:r.PRODUCTIVITY_AND_COLLABORATION,freeDesc:"",description:""},{title:"",key:r.MESSAGES_AND_HISTORY,description:n.t("Search all messages & file history"),freeDesc:n.t("Limited to past {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:r.CONNECT_WITH_EXTERNAL_PEOPLE,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:r.CANVASES_FEATURE,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:n.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:r.APPS_AND_AUTOMATION,description:n.t("Apps and automations"),freeDesc:n.t("Limited to 10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2014 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:r.HUDDLE_WITH_SCREEN_SHARE,description:n.t("Slack huddles"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{title:"",key:r.SIDE_BAR_ORGANIZATION,description:n.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:n.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar.")},{title:n.t("Automation tools"),key:r.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:r.WORKFLOW_BUILDER,description:n.t("Workflow Builder"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:r.CUSTOM_WORKFLOW_STEP,description:n.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:n.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:r.DEPLOY_APPS_TO_SLACK,description:n.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:n.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:n.t("Automation usage"),key:r.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:r.PUBLISH_WORKFLOWS,description:n.t("Total published workflows or integrations with other apps"),freeDesc:n.t("10"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:r.STANDARD_WORKFLOWS,description:n.t("Standard workflows"),freeDesc:"-"},{title:"",key:r.PREMIUM_WORKFLOWS,description:n.t("Premium workflows"),freeDesc:"-",paidDesc:n.t("2000 runs/month")},{title:n.t("Security"),key:r.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:r.SSO,description:n.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:n.t("Compliances"),key:r.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:r.CUSTOMER_RETENTION,description:n.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:n.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:n.t("Administration"),key:r.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:r.WORKSPACES,description:n.t("Workspaces"),freeDesc:n.t("1"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:r.CHANNEL_PERMISSION,description:n.t("Manage channel posting permissions"),freeDesc:n.t("Limited to #general channel only"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:r.CUSTOM_USER_GROUP,description:n.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:n.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:r.ADMIN_ANALYTICS_DASHBOARD,description:n.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:n.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:n.t("Support"),key:r.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:r.CUSTOMER_SUPPORT,description:n.t("Access to customer support"),freeDesc:n.t("Standard support"),paidDesc:n.t("24/7 support within 4 hours"),descriptionToolTip:n.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToFreeAllRowsData"),P=h(()=>[{title:"",key:r.WORKFLOWS,description:n.t("Workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:r.APPS_AND_AUTOMATION,description:n.t("Unlimited apps connected to slack"),freeDesc:"-",descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:r.SSO,description:n.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:r.CHANNEL_PERMISSION,description:n.t("Unlimited channel posting permissions"),freeDesc:"-",descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:r.SCIM_MEMBER_MANAGEMENT,description:n.t("SCIM member management"),freeDesc:"-",descriptionToolTip:n.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:r.ADMIN_ANALYTICS_API,description:n.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:r.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToFreeRowsData"),b=h(()=>[{title:"",key:r.CONNECT_WITH_EXTERNAL_PEOPLE,description:n.t("Work with external people"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect.")},{title:"",key:r.HUDDLES,description:n.t("Huddles"),descriptionToolTip:n.t("Work together in real time with up to 50 people through audio and video meetings (including screen sharing) using Slack huddles.")},{title:"",key:r.CANVASES_FEATURE,description:n.t("Unlimited lists and canvases"),descriptionToolTip:n.t("Document key resources and track projects without ever leaving Slack.")},{title:"",key:r.WORKFLOWS,description:n.t("Apps and workflows"),descriptionToolTip:n.t("App integrations are installed apps you can access from within Slack (like Google Drive or Office 365). And workflows allows you to automate routine tasks and processes right in Slack, no code needed. They can even be connected to apps you use to get work done.")},{title:"",key:r.SSO,description:n.t("Single sign-on (SSO)"),paidDesc:n.t("Limited to Google"),descriptionToolTip:n.t("Set up single sign-on with Google OAuth or choose from one of up to 12 SAML-based SSO configurations, including OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:r.SCIM_MEMBER_MANAGEMENT,description:n.t("User management with SCIM"),descriptionToolTip:n.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."),paidDesc:n.t("\u2014")},{title:"",key:r.DATA_EXPORT_MESSAGES,description:n.t("Data exports for all messages"),descriptionToolTip:n.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."),paidDesc:n.t("\u2014")},{title:"",key:r.CHANNEL_PERMISSION,description:n.t("Advanced channel permissions"),descriptionToolTip:n.t("Adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction-free."),paidDesc:n.t("\u2014")},{title:"",key:r.ADMIN_ANALYTICS_API,description:n.t("Admin Analytics API"),descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file."),paidDesc:n.t("\u2014")},{title:"",key:r.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization."),paidDesc:n.t("\u2014")}],"getBoostBusPlusRowData")},6091707401:(B,A,e)=>{"use strict";e.d(A,{s:()=>c});var t=e(3134334389),s=e(2436862725),o=e(5965044477);const n={[o.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,8208829770)))},[o.ze.AUTO_SLACK_FREE_HUDDLES_INVITE_MODAL_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,7232773246)))},[o.ze.AUTO_SLACK_SALESFORCE_PLUS_TRIAL_AWARENESS_HUDDLES_INVITE_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,1040753087)))}},c=h(()=>t.createElement(s.Ay,{spaceName:o.xu.HUDDLE_INVITE_MODAL,notifications:n,componentClassName:"margin_top_50 margin_bottom_50"}),"HuddleInviteModalTrialBannerV2MegaphoneWrapper");c.displayName="HuddleInviteModalTrialBannerV2MegaphoneWrapper"},8208829770:(B,A,e)=>{"use strict";e.r(A),e.d(A,{HuddleInviteModalTrialBannerV2:()=>O,default:()=>y});var t=e(3134334389),s=e(6122756707),o=e(7405615593),n=e(481313997),c=e(2947229296),l=e(9558760472),i=e(7009902910),a=e(4190096030),r=e(5181078482),d=e(2348195836),m=e(321010523),f=e(3362542648),u=e(280840163),E=e(5609235691),v=e(1631152177);const g=new c.Ay("guided_trials"),T={elementName:"upgrade_now_cta",onClick:{enableClogAction:!0}},p={elementName:"see_upgrade_options_cta",onClick:{enableClogAction:!0}},O=h(C=>{let{trialEndDate:I,canUserPurchase:M}=C;const _=(0,s.wA)(),P=(0,u.d4)(v.$J),b=(0,u.d4)(N=>(0,f.m6)(N,{action:"checkout",productLevel:f.i6.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"}));(0,o.A)(()=>{_((0,v.E5)())});const S=h(()=>M?t.createElement(r.z9,{autoClogProps:T,href:b,className:"p-huddle_invite_modal__cta_upgrade",size:"small","data-qa":"huddle-invite-modal-upgrade-cta"},P?g.t("Upgrade to Pro"):g.t("Upgrade Now")):t.createElement(l.A,{feature:f.c4.SLACK_HUDDLES,autoClogProps:p,size:"small",type:P?"primary":"outline"},P?g.t("Compare plans"):g.t("See Upgrade Options")),"getCTA");return S.displayName="getCTA",t.createElement(n.A,{eventId:m.EventId.UPGRDEXP_TRIAL,uiComponentName:m.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement(a.A,{className:"p-huddle_invite_modal_trial_banner_v2__container","data-qa":"huddle_invite_modal_trial_banner",primaryCTA:S()},t.createElement("div",null,P?g.rt("<strong>Huddles will soon be limited to two people</strong>"):g.rt("<strong>Group huddles aren\u2019t available for much longer</strong>"),t.createElement(i.A,{className:"p-huddle_invite_modal_trial_banner_v2__pro_tooltip",uiComponentVariant:m.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:d.m.MenuAboveFullScreen})),P?g.rt("Upgrade to continue using group huddles with your team."):g.rt("If you choose not to upgrade by {trialEndDate}, your team won\u2019t be able to huddle with more than one other person.",{trialEndDate:(0,E.Pd)(I),fallbackHash:"e680e704766e6c0c74ca66a78c581927a4b36bdf"})))},"HuddleInviteModalTrialBannerV2");O.displayName="HuddleInviteModalTrialBannerV2";const y=O},3857210657:(B,A,e)=>{"use strict";e.d(A,{A:()=>y,x:()=>p});var t=e(3134334389),s=e(6122756707),o=e(7405615593),n=e(481313997),c=e(2947229296),l=e(3020861426),i=e(4190096030),a=e(240471470),r=e(8823986650),d=e(321010523),m=e(3362542648),f=e(280840163),u=e(5609235691),E=e(542703974),v=e(1631152177);const g=new c.Ay("trials_highlight_paid_features"),T={elementName:"view_all_pro_features",onClick:{enableClogAction:!0}},p=h(C=>{let{trialEndTs:I,experimentPnpGoGroupTreatment:M,viewAllProFeaturesLink:_,v2ClassName:P}=C;return M?t.createElement(n.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:P},t.createElement(i.A,{className:"padding_left_125"},(0,l.A)(g.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialExpirationDate}. <viewAllProFeaturesLink>View all Pro features</viewAllProFeaturesLink></strong>",{trialExpirationDate:(0,u.Pd)(I),"<viewAllProFeaturesLink>":_}),{position:l.D.LEFT_ALIGNED})))):t.createElement(n.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(a.A,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},g.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:(0,u.Pd)(I)}))))},"HuddleInviteModalTrialBanner");p.displayName="HuddleInviteModalTrialBanner";const O=h(C=>{let{v2ClassName:I}=C;const M=(0,s.wA)();(0,o.A)(()=>{M((0,v.E5)())});const _=(0,f.d4)(v.$J),P=(0,f.d4)(E.Sk),b=(0,t.useCallback)(S=>{let{text:N}=S;return t.createElement(r.A,{href:(0,m.hZ)({entryPoint:"huddle_invite_modal_trial_banner"}),autoClogProps:T},N)},[]);return t.createElement(p,{trialEndTs:P,experimentPnpGoGroupTreatment:_,viewAllProFeaturesLink:b,v2ClassName:I})},"ConnectedHuddleInviteModalTrialBanner");O.displayName="ConnectedHuddleInviteModalTrialBanner";const y=O},6267173497:(B,A,e)=>{"use strict";e.d(A,{A:()=>y});var t=e(3134334389),s=e(2947229296),o=e(7862159281),n=e(9558760472),c=e(8266638187),l=e(1832019627),i=e(3362542648);const a=new s.Ay("huddles"),r=i.ew.PAID_FEATURE_TRIAL,d=h(C=>{let{startTrialContext:I=l.M.huddlesTrialEntryPointModal,uiComponentVariant:M,onSpeedbumpContinue:_,promoType:P,promoSubtype:b,isEligibleForTrial:S}=C;const N=h(F=>{let{text:W}=F;return t.createElement(n.A,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},W)},"renderPlansPageLink"),L=a.t("Try huddles with more people"),D=S?a.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:r,"<plansPageLink>":N}):a.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":N}),k=a.t("With more people, you can:"),x=(0,t.useCallback)(()=>[a.t("Host a team brainstorm from anywhere"),a.t("Get the group\u2019s feedback with a live screenshare"),a.t("Touch base on the go, without all the typing")],[]),R=(0,t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(e,7378585700,23)),[]),U=(0,t.useMemo)(()=>t.createElement(o.e,{getAnimationImport:R,autoplay:!0,loop:!0}),[R]);return t.createElement(c.A,{modalTitle:L,modalSubtitle:D,modalLottieAnimation:U,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:k,modalChecklistItems:x(),promoType:P,promoSubtype:b,startTrialContext:I,uiComponentVariant:M,onSpeedbumpContinue:_,isEligibleForTrial:S})},"HuddleTrialEntryPointModal");d.displayName="HuddleTrialEntryPointModal";const m=d;var f=e(828176885),u=e(4894634110),E=e(5876603232),v=e(542703974),g=e(6556118908),T=e(6763804501);function p(){return p=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(C[_]=M[_])}return C},p.apply(this,arguments)}h(p,"_extends");const O=(0,u.Ay)("Open huddles trial entry point modal",async(C,I,M)=>{const _=i.ZO.PaidFeatureTrial,P=i.zG.Vhq;await C((0,f.A)({campaignType:_,campaignSubType:P,reason:"huddle_trial_entry_point_modal"}));const b=(0,v.hq)(I(),_,P);return(0,g.L9)(I())?C((0,T.r)({promoType:_,promoSubtype:P,entryPoint:"slack_connect_auto_charge_trial_entry_point"})):C((0,E.q)({element:t.createElement(m,p({},M,{promoType:_,promoSubtype:P,isEligibleForTrial:b}))}))});O.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};const y=O},828176885:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3134334389),s=e(974173134),o=e(4894634110),n=e(5876603232),c=e(8717193059);const l=(0,o.Ay)("Display loading modal and fetch data for trial entry point modal",async(a,r,d)=>(a((0,n.q)({element:t.createElement(s.A,{className:"p-trial_entry_point_modal__loading_modal"})})),a((0,c.A)(d))));l.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"};const i=l},8196818538:(B,A,e)=>{"use strict";e.d(A,{y:()=>l});var t=e(3134334389),s=e(2947229296),o=e(6758393411);const n=new s.Ay("trials"),c={name:"slack-logo",size:"inherit"},l=h(i=>{let{ariaHidden:a,className:r,autoClogProps:d,badgeTheme:m,size:f}=i;return t.createElement(o.rg,{ariaHidden:a,ariaLabel:n.t("Paid feature"),badgeText:n.t("Paid"),badgeTheme:m,className:r,autoClogProps:d,size:f,"data-qa":"paid-badge",icon:c})},"PaidBadge");l.displayName="PaidBadge"},4385745391:(B,A,e)=>{"use strict";e.d(A,{a:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4636651741),c=e(8196818538),l=e(5563478249),i=e(3362542648),a=e(280840163),r=e(3666777625);const d=h(m=>{let{featurePlan:f,ariaHidden:u,className:E,autoClogProps:v,badgeTheme:g,size:T}=m;const p=(0,a.d4)(r.zz);let O=l.J;return p?O=c.y:f===i.F2.PLUS&&(O=n.y),t.createElement(O,{ariaHidden:u,badgeTheme:g,className:o()(E,{"p-with_pro_badge__paid-badge":p}),autoClogProps:v,size:T})},"PaidFeatureBadge");d.displayName="PaidFeatureBadge"},5563478249:(B,A,e)=>{"use strict";e.d(A,{J:()=>c});var t=e(3134334389),s=e(2947229296),o=e(6758393411);const n=new s.Ay("trials"),c=h(l=>{let{ariaHidden:i,className:a,autoClogProps:r,badgeTheme:d,size:m}=l;return t.createElement(o.rg,{ariaHidden:i,ariaLabel:n.t("Pro feature"),badgeText:n.t("PRO"),badgeTheme:d,className:a,autoClogProps:r,size:m,"data-qa":"pro-badge"})},"ProBadge");c.displayName="ProBadge"},7009902910:(B,A,e)=>{"use strict";e.d(A,{A:()=>g});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(4385745391),l=e(6758393411),i=e(4253378106),a=e(5478938623),r=e(3362542648),d=e(280840163),m=e(542703974),f=e(3666777625);function u(){return u=Object.assign||function(T){for(var p=1;p<arguments.length;p++){var O=arguments[p];for(var y in O)Object.prototype.hasOwnProperty.call(O,y)&&(T[y]=O[y])}return T},u.apply(this,arguments)}h(u,"_extends");const E=new n.Ay("trials"),v=h(T=>{let{badgeTheme:p=l.Vu.Purple,badgeSize:O=l.vj.Medium,className:y,hideTooltip:C,uiComponentVariant:I,...M}=T;const _=(0,d.d4)(N=>(0,a.tc)((0,f.H7)(N))),P=(0,d.d4)(N=>(0,m.tu)(N)===r.i6.standard.id),b=(0,t.useMemo)(()=>({uiComponentVariant:I}),[I]);if(!(_||P))return null;const S=E.t("PRO");return C?t.createElement(c.a,{autoClogProps:b,badgeTheme:p,className:y,featurePlan:"std",size:O}):t.createElement(i.A,u({ariaLabel:S,uiComponentVariant:I},M),t.createElement("span",{className:o()("p-trial_pro_badge",y),"data-qa":"trial_pro_badge"},t.createElement(c.a,{featurePlan:"std",autoClogProps:b,badgeTheme:p,size:O})))},"TrialProBadge");v.displayName="TrialProBadge";const g=v},6758393411:(B,A,e)=>{"use strict";e.d(A,{Vu:()=>r,rg:()=>f,vj:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9113979368),c=e(481313997),l=e(5190921192),i=e(321010523);function a(){return a=Object.assign||function(u){for(var E=1;E<arguments.length;E++){var v=arguments[E];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}return u},a.apply(this,arguments)}h(a,"_extends");const r={Purple:"purple",White:"white"},d={Small:"small",Medium:"medium",Large:"large"},m={eventId:i.EventId.UPGRDEXP_TRIAL,uiComponentName:i.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},f=h(u=>{let{ariaHidden:E=!1,ariaLabel:v,badgeText:g,className:T,autoClogProps:p,badgeTheme:O=r.Purple,size:y=d.Medium,icon:C}=u;const I=E?{"aria-hidden":!0}:{"aria-label":v,role:"img"},M=t.createElement("div",a({className:o()("p-pro_badge",`p-pro_badge--${O}`,`p-pro_badge--${y}`,T),"data-qa":"pro_badge"},I),C?t.createElement("div",{className:"p-pro_badge-with-icon"},t.createElement(l.A,{name:C.name})," ",g):t.createElement("span",null,g));return(0,n.A)(p)?M:t.createElement(c.A,a({},m,p),M)},"UpgradesBadge");f.displayName="UpgradesBadge"},5192451774:(B,A,e)=>{"use strict";e.d(A,{A:()=>u,G:()=>d});var t=e(3134334389),s=e(6122756707),o=e(2947229296),n=e(3362542648),c=e(280840163),l=e(7695964394),i=e(542703974),a=e(8717193059);const r=new o.Ay("trials");var d;(function(E){E.HuddlesFreemiumDeprecated="huddles_freemium"})(d||(d={}));const m=n.ew.PAID_FEATURE_TRIAL,u=h(E=>{let{isFreemium:v,tooltipText:g,promoType:T,promoSubtype:p,variant:O}=E;const y=(0,s.wA)(),C=(0,c.d4)(l.g),I=(0,c.d4)(i.iH);(0,t.useEffect)(()=>{T&&y((0,a.A)({campaignType:T,campaignSubType:p,reason:"trial_tooltip"}))},[y,T,p]);const M=(0,c.d4)(N=>T?(0,i.bp)(N,T,p):!1),_=(0,c.d4)(N=>T?(0,i.hq)(N,T,p):!1),P=h(()=>{if(I)switch(O){case d.HuddlesFreemiumDeprecated:return C?void 0:r.t("Huddles with more than two people are a paid feature, available with your free trial");default:return r.t("This is a paid feature, available with your free trial")}if(_)switch(O){case d.HuddlesFreemiumDeprecated:return C?void 0:r.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:m});default:return r.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:m})}switch(O){case d.HuddlesFreemiumDeprecated:return C?void 0:r.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return r.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),b=h(()=>I?r.t("This feature is unlimited with your free trial"):_?r.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:m}):r.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(M)return{};const S=v?b():P();return g?{tooltipTitle:g,tooltipBody:S}:{tooltipTitle:S}},"useTrialProBadgeTooltipText")},3020861426:(B,A,e)=>{"use strict";e.d(A,{A:()=>i,D:()=>c});var t=e(3134334389),s=e(4385745391),o=e(7009902910),n=e(6758393411);const c={RIGHT_ALIGNED:"right_aligned",LEFT_ALIGNED:"left_aligned"};function l(a){let{position:r=c.RIGHT_ALIGNED,isTrialVariant:d,uiComponentVariant:m,size:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{position:c.RIGHT_ALIGNED,isTrialVariant:!1,uiComponentVariant:void 0,size:n.vj.Medium};const u=t.createElement("span",{className:`p-with_pro_badge__text--${r}`},a);let E=t.createElement(s.a,{featurePlan:"std",className:"p-with_pro_badge__badge",size:f});d&&(E=t.createElement(o.A,{className:"p-with_pro_badge__badge",uiComponentVariant:m,badgeSize:f}));let v;return r===c.RIGHT_ALIGNED?v=t.createElement(t.Fragment,null,u,E):v=t.createElement(t.Fragment,null,E,u),t.createElement("div",{className:"p-with_pro_badge"},v)}h(l,"WithProBadge"),l.displayName="WithProBadge";const i=l},50929051:(B,A,e)=>{"use strict";e.d(A,{d:()=>T});var t=e(3134334389),s=e(6122756707),o=e(3761406528),n=e(2947229296),c=e(1204205618);const l=new n.Ay("guided_trials"),i=h(p=>{let{primaryDiscountCostPerMonth:O,secondaryDiscountCostPerMonth:y,primaryBaseCostPerMonth:C,secondaryBaseCostPerMonth:I}=p;return O?{monthlyPrice:O,yearlyPrice:y||I}:{monthlyPrice:C,yearlyPrice:I}},"getPrices"),a=h(p=>{let{experimentPnpTwoGoGroupOn:O,currency:y,isPrimaryPricingMonthly:C,primaryDiscountCostPerMonth:I=0,secondaryDiscountCostPerMonth:M=0,primaryBaseCostPerMonth:_,secondaryBaseCostPerMonth:P}=p;const{monthlyPrice:b,yearlyPrice:S}=i({primaryDiscountCostPerMonth:I,secondaryDiscountCostPerMonth:M,primaryBaseCostPerMonth:_,secondaryBaseCostPerMonth:P}),N=C?"monthly":"yearly",L=C?"yearly":"monthly",D=O&&I?l.t(" (discount applied)"):"",k=(0,c.A)(b,y),x=(0,c.A)(S,y);return l.rt(`{monthlyPrice}\xA0per person/month when billed {primaryBillingType}{discountDisclaimer}. 
 {yearlyPrice} per person/month when billed {secondaryBillingType}`,{monthlyPrice:k,yearlyPrice:x,primaryBillingType:N,secondaryBillingType:L,discountDisclaimer:D,fallbackHash:"6cc919e7efe7051ee1f94af38170e3d9d2c92e7d"})},"getTooltipContent");var r=e(9006442414),d=e(280840163),m=e(9872055788),f=e(2449324469),u=e(8813793118),E=e(8318000687),v=e.n(E);function g(){return g=Object.assign||function(p){for(var O=1;O<arguments.length;O++){var y=arguments[O];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(p[C]=y[C])}return p},g.apply(this,arguments)}h(g,"_extends");const T=h(p=>{let{children:O,plan:y,...C}=p;const I=(0,s.wA)(),M=(0,d.d4)(u.k),_=(0,d.d4)(m.Pr),{currency:P,isPrimaryPricingMonthly:b,primaryBaseCostPerMonth:S,secondaryBaseCostPerMonth:N,primaryDiscountCostPerMonth:L,secondaryDiscountCostPerMonth:D}=(0,o.A)(y),k=a({currency:P,isPrimaryPricingMonthly:b,primaryDiscountCostPerMonth:L,secondaryDiscountCostPerMonth:D,primaryBaseCostPerMonth:S,secondaryBaseCostPerMonth:N,experimentPnpTwoGoGroupOn:M});return(0,t.useEffect)(()=>{_||I((0,f.A)())},[I,_]),_?t.createElement(r.Ay,g({tip:k},C),t.createElement("span",{className:v().tooltipText},O)):O},"PricingBreakdownTooltip");T.displayName="PricingBreakdownTooltip"},9150670036:(B,A,e)=>{"use strict";e.d(A,{D:()=>g});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(481313997),c=e(3020861426),l=e(6088613642),i=e(8823986650),a=e(5190921192),r=e(321010523),d=e(6153243931),m=e.n(d),f=e(4183808823),u=e.n(f);function E(){return E=Object.assign||function(T){for(var p=1;p<arguments.length;p++){var O=arguments[p];for(var y in O)Object.prototype.hasOwnProperty.call(O,y)&&(T[y]=O[y])}return T},E.apply(this,arguments)}h(E,"_extends");const v=t.forwardRef((T,p)=>{let{children:O,iconProps:y,...C}=T;return t.createElement(i.A,E({},C,{ref:p}),y&&t.createElement("span",{className:"margin_right_25"},t.createElement(a.A,{name:y.name,size:y.size||"16",inline:!0})),O)}),g=h(T=>{let{className:p,autoClogProps:O,title:y,body:C,primaryCta:I,customPrimaryCta:M,customPrimaryCtaProps:_,secondaryCta:P,hideBadge:b=!1}=T;const S=h(()=>t.createElement("p",{className:u().bodyText},C),"getBodyText");return S.displayName="getBodyText",t.createElement(n.A,E({eventId:r.EventId.UPGRDEXP_TRIAL,clogImpression:!0,enableClogImpressionOffScreen:!0},O),t.createElement(l.A,{type:l.V.fixed,bannerContainerClass:o()(u().banner,p),headingText:b?y:(0,c.A)(y,{position:c.D.RIGHT_ALIGNED}),bodyText:S(),imgSrc:m(),closeOnSecondaryCTAClick:!1,closeOnPrimaryCTAClick:!1,primaryCTAText:I==null?void 0:I.text,primaryCTAHref:I==null?void 0:I.href,onPrimaryCTAClick:I==null?void 0:I.onClick,primaryCTAClogProps:I==null?void 0:I.autoClogProps,customPrimaryCTA:M,customPrimaryCTAProps:_,secondaryCTAText:P==null?void 0:P.text,secondaryCTAClogProps:P==null?void 0:P.autoClogProps,customSecondaryCTA:v,customSecondaryCTAProps:P,"data-qa":"trial-awareness-banner-lg"}))},"LargeTrialAwarenessBanner");g.displayName="LargeTrialAwarenessBanner"},7540858556:(B,A,e)=>{"use strict";e.d(A,{N:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(481313997),c=e(3020861426),l=e(5284295908),i=e(3127192284),a=e(8823986650),r=e(5190921192),d=e(321010523),m=e(4183808823),f=e.n(m);function u(){return u=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var T=arguments[g];for(var p in T)Object.prototype.hasOwnProperty.call(T,p)&&(v[p]=T[p])}return v},u.apply(this,arguments)}h(u,"_extends");const E=h(v=>{let{className:g,autoClogProps:T,title:p,showHourglassIcon:O,primaryCta:y,hideBadge:C=!1}=v;const I=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,t.createElement("span",{className:f().titleText},p),y&&t.createElement("span",{className:f().linkWrapper},t.createElement(a.A,u({className:f().link,autoClogProps:y.autoClogProps,onClick:y.onClick},y.href?{href:y.href}:{renderAsSpan:!0}),y.text))),[p,y]);return t.createElement(n.A,u({eventId:d.EventId.UPGRDEXP_TRIAL,clogImpression:!0,enableClogImpressionOffScreen:!0},T),t.createElement(i.Ay,{type:"neutral",showCloseButton:!1,isFixedPosition:!1,className:o()(f().banner,g),"data-qa":"trial-awareness-banner-sm"},t.createElement(l.A,null,!C&&!O&&(0,c.A)(I,{position:c.D.LEFT_ALIGNED}),O&&t.createElement(t.Fragment,null,t.createElement("span",{className:f().icon},t.createElement(r.A,{name:"hourglass",size:"20"})),t.createElement("div",null,I)),C&&!O&&I)))},"SmallTrialAwarenessBanner");E.displayName="SmallTrialAwarenessBanner"},8266638187:(B,A,e)=>{"use strict";e.d(A,{A:()=>L});var t=e(3134334389),s=e(6122756707),o=e(481313997),n=e(605568209),c=e(2947229296),l=e(9558760472),i=e(1464544781),a=e(1012431837),r=e(692763536),d=e(7070538338),m=e(5361909198),f=e(5190921192);const E=h(D=>{let{checklistItems:k,checklistHeading:x}=D;return t.createElement("div",{className:"p-modal_content_checklist__checklist"},t.createElement("div",{className:"p-modal_content_checklist__heading"},x),k.map(R=>t.createElement("div",{key:R,className:"p-modal_content_checklist__checklist_item"},t.createElement("div",{className:"p-modal_content_checklist__checklist_check"},t.createElement(f.A,{name:"check-filled",size:"16"})),t.createElement("div",null,R))))},"ModalContentChecklist");var v=e(6563296078),g=e(4458861846),T=e(6506860933),p=e(3451857649),O=e(321010523),y=e(280840163),C=e(5965044477),I=e(5609235691),M=e(2069063006),_=e(6168665379);const P=new c.Ay("trials"),b={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},S={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},N=h(D=>{let{modalClassName:k,modalCloseButtonTheme:x,modalSubtitle:R,modalTitle:U,modalType:F=r.H.VERTICAL_BANNER,modalVideoClassName:W,modalVideoFileName:w,modalLottieAnimation:K,modalVideoPosterExtension:j="",modalBannerBackgroundColor:Q="",modalChecklistHeading:J="",modalChecklistItems:z=n.Ml,promoType:ie,promoSubtype:ee,imgSrc:ne,isEligibleForTrial:Z,startTrialContext:te,uiPage:he,uiComponentVariant:ue,uiStep:de,onSpeedbumpContinue:re,onSpeedbumpContinueLabel:V,onTrialStart:H,skipSpeedbump:X,"data-qa":Y,omitSecondaryCTA:q=!1}=D;const fe=(0,s.wA)(),ce=(0,y.d4)(_.F),[Ee,Ae]=(0,t.useState)(!1),le=(0,t.useRef)(""),oe=(0,t.useCallback)(()=>{fe((0,M.O)())},[fe]),me=(0,t.useCallback)(async function(){let{trialExpirationDate:Ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge&&(le.current=Ge,H==null||H(),X?oe():Ae(!0))},[oe,H,X]),pe=(0,t.useCallback)(()=>{oe(),fe((0,v.o)((0,g.ZF)(T.c.PaidBenefits)))},[fe,oe]),Te=(0,t.useCallback)(()=>{oe(),re==null||re()},[oe,re]),Me=t.createElement(E,{checklistHeading:J,checklistItems:z}),Ue=(0,t.useMemo)(()=>[C.xu.SIDEBAR_MENU_HEADER],[]),xe=t.createElement(a.A,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:b,reason:"start_trial_from_trial_entry_point_modal",context:te,promoType:ie,promoSubtype:ee,onRequestComplete:me,megaphoneSpacesToRefresh:Ue},P.t("Start Free Trial")),Ne=t.createElement(l.A,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:S,onClick:oe},P.t("See Upgrade Options")),be=Z?xe:Ne,ke=r.H.HORIZONTAL_BANNER?"800px":"586px",Ke=h(()=>{if(!le.current)return null;const Ge=t.createElement("div",{className:"display_flex"},t.createElement(d.A,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),P.t("Ta-da! Your team\u2019s on a free trial")),nt=t.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},P.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:(0,I.Pd)(le.current)})),Ve=h(()=>V||(re?P.t("Continue"):P.t("Find Out More")),"getContinueButtonLabel")();let Se=P.t("Dismiss"),Pe=pe,Fe=oe,ge="speedbump_learn_more",He="speedbump_dismiss";return re&&(Se=P.t("Learn More"),Pe=Te,Fe=pe,ge="speedbump_continue",He="speedbump_learn_more"),t.createElement(p.ty,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:Ge,description:nt,continueButtonLabel:Ve,cancelButtonLabel:Se,onCancel:q?void 0:Fe,onContinue:Pe,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:ge,onClick:{enableClogAction:!0}},cancelButton:{elementName:He,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");Ke.displayName="renderSpeedbump";const $=t.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},P.t("No credit card required.")),ae=t.createElement("div",{className:"p-trial_entry_point_modal__footer"},be,Z&&$,Z&&t.createElement(i.A,{shouldShow:ce}),Ee&&Ke());return t.createElement(o.A,{eventId:O.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:O.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:ue,uiStep:de,uiPage:he},t.createElement(m.A,{bannerBackgroundColor:Q,"data-qa":Y,imgSrc:ne,title:U,subtitle:R,bodyContent:Me,footerContent:ae,onRequestClose:oe,maxWidth:ke,className:k,closeButtonTheme:x,type:F,videoFilename:w,videoPosterExtension:j,videoClassName:W,lottieAnimation:K}))},"TrialEntryPointModal");N.displayName="TrialEntryPointModal";const L=N},1464544781:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3134334389),s=e(6122756707),o=e(7862159281),n=e(280840163),c=e(293248343),l=e(1146408695);const a=t.memo(r=>{let{shouldShow:d=!1}=r;const m=(0,s.wA)(),[f,u]=(0,t.useState)(),[E,v]=(0,t.useState)(!1),g=(0,t.useCallback)(O=>{O&&O.then(y=>u(y))},[u]),T=(0,n.d4)(O=>!(0,c.ty)(O,"a11y_animations")),p=(0,t.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(e,4831955131,23)),[]);return!d||T||E?null:(f&&f._cbs&&f.addEventListener("complete",()=>{m((0,l.DJ)(!1)),v(!0)}),t.createElement(o.e,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:p,ref:g}))})},1012431837:(B,A,e)=>{"use strict";e.d(A,{A:()=>N});var t=e(3134334389),s=e(6122756707),o=e(7715417323),n=e(481313997),c=e(2947229296),l=e(1459523385),i=e(9114663777),a=e(5181078482),r=e(8823986650),d=e(7264057664),m=e(321010523),f=e(280840163),u=e(3294279361),E=e(1146408695),v=e(6556118908),g=e(315585246),T=e(7397682160),p=e(3362542648),O=e(4894634110),y=e(8717193059),C=e(3666777625);const I=(0,O.Ay)("Open trial checkout or plans page if user can purchase",async(L,D,k)=>{let{campaignType:x,campaignSubType:R,entryPoint:U}=k;const F=D(),W=(0,C.H7)(F),w=(0,p.tc)({team:W,promoType:x,promoSubtype:R,entryPoint:U}),K=(0,p.hZ)({entryPoint:x,team:W}),j=(0,T.e)({state:F}),{isEligible:Q}=await L((0,y.A)({campaignType:x,campaignSubType:R,reason:"auto_charge_trial_start_cta"}));Q&&(0,v.L9)(D())&&(0,g.X)(D())?(j.track(m.EventId.NEWXP_TEAM_CREATE,l.Fq),window.open(w,"_blank")):(j.track(m.EventId.NEWXP_TEAM_CREATE,l.tC),window.open(K,"_blank"))});I.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeOpenTrialCheckout",description:"Open trial checkout or plans page if user can purchase"};function M(){return M=Object.assign||function(L){for(var D=1;D<arguments.length;D++){var k=arguments[D];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(L[x]=k[x])}return L},M.apply(this,arguments)}h(M,"_extends");const _=new c.Ay("trials"),P={name:"warning"},b=h(L=>{let{children:D,reason:k,context:x,megaphoneSpacesToRefresh:R,promoType:U,promoSubtype:F,onClick:W,onRequestComplete:w=o.A,onRequestError:K=o.A,useLink:j,type:Q,refToForward:J,...z}=L;const ie=(0,s.wA)(),ee=(0,f.d4)(v.hb),ne=(0,v.aJ)({campaignType:U,campaignSubType:F}),[Z,te]=(0,t.useState)(!1),[he,ue]=(0,t.useState)(!1),de=(0,t.useCallback)(()=>{te(!0),ue(!1),K()},[K]),re=(0,t.useCallback)(()=>{he||(ue(!0),te(!1),ie((0,i.a)({reason:k,campaignType:U,campaignSubType:F,context:x})).then(X=>{let{trial_expiration_date:Y}=X;ie((0,E.DJ)(!0)),w({trialExpirationDate:Y}),ie((0,u.yJ)({additionalSpaces:R,megaphoneReason:"trial_start_request_complete"})),Y||de()}).catch(de))},[he,ie,k,U,F,x,de,w,R]),V=(0,t.useCallback)(()=>{ee&&ne?ie(I({campaignType:U,campaignSubType:F,entryPoint:"trial_start_cta"})):re(),W==null||W()},[W,re,ie,U,F,ee,ne]),H=j?t.createElement(r.A,M({ref:J},z,{onClick:V}),D):t.createElement(a.lV,M({ref:J},z,{type:Q,onClick:V,loading:he,"aria-label":void 0}),D);return t.createElement(n.A,{eventId:m.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0,stepVariant:ee&&ne?l.F5:void 0},H,Z&&t.createElement(d.Ay,{svgIconProps:P,svgIconClassName:"align_self_start",shouldAutoFade:!1},_.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");b.displayName="TrialStartCTABase";const N=t.forwardRef((L,D)=>t.createElement(b,M({},L,{refToForward:D})))},5330342849:(B,A,e)=>{"use strict";e.d(A,{S:()=>s});var t=e(7831811348);const s=h(o=>{switch((0,t.Yp)()){case"de-DE":return{translation:o["de-DE"],enableMediaCaptions:!0};case"en-GB":return{translation:o["en-GB"],enableMediaCaptions:!1};case"en-US":return{translation:o["en-US"],enableMediaCaptions:!1};case"es-ES":return{translation:o["es-ES"],enableMediaCaptions:!0};case"es-LA":return{translation:o["es-LA"],enableMediaCaptions:!0};case"fr-FR":return{translation:o["fr-FR"],enableMediaCaptions:!0};case"it-IT":return{translation:o["it-IT"],enableMediaCaptions:!0};case"ja-JP":return{translation:o["ja-JP"],enableMediaCaptions:!0};case"ko-KR":return{translation:o["ko-KR"],enableMediaCaptions:!0};case"pt-BR":return{translation:o["pt-BR"],enableMediaCaptions:!0};case"zh-CN":return{translation:o["zh-CN"],enableMediaCaptions:!0};case"zh-TW":return{translation:o["zh-TW"],enableMediaCaptions:!0};default:return{translation:o["en-US"],enableMediaCaptions:!0}}},"useVideoTranslation")},705513444:(B,A,e)=>{"use strict";e.d(A,{B:()=>s,D:()=>t});var t;(function(o){o.SMALL="small",o.MEDIUM="medium",o.LARGE="large"})(t||(t={}));var s;(function(o){o.NONE="none",o.PURPLE="purple",o.LIGHT_PURPLE="light_purple",o.BLUE="blue",o.ERROR="error",o.HORCHATA="horchata",o.SUNFLOWER="sunflower",o.GRADIENT="gradient",o.RADIAL_GRADIENT="radial_gradient"})(s||(s={}))},240471470:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(705513444),l=e(7070538338),i=e(1959543078),a=e(6109709956),r=e(321010523);const d=new n.Ay("upgrades_kit"),m={action:r.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:r.ElementType.X},f=h(E=>{let{className:v,iconType:g,customIcon:T,image:p,heading:O,children:y,onDismiss:C,useRoundedCorners:I=!0,showBorder:M=!0,size:_=c.D.MEDIUM,theme:P=c.B.PURPLE,"data-qa":b="",primaryCTA:S,secondaryCTA:N}=E;const L=(0,t.useMemo)(()=>({name:"close"}),[]),D=h(()=>{let F;const W="p-upgrades_alert_banner__icon";return T?F=t.createElement("div",{className:W},T):p?F=t.createElement("div",{className:o()(W,"p-upgrades_alert_banner__icon--image")},p):g&&(F=t.createElement(l.A,{className:W,size:_,theme:P,type:g})),F},"renderIcon");D.displayName="renderIcon";const k=h(()=>t.createElement(a.A,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",svgIconProps:L,size:"small","aria-label":d.t("Dismiss"),onClick:C,autoClogProps:m}),"renderCloseIcon");k.displayName="renderCloseIcon";const x=h(()=>!S&&!N?null:t.createElement("div",{className:"p-upgrades_alert_banner__button_container"},S,N),"renderButtons");x.displayName="renderButtons";const R=D(),U=o()("p-upgrades_alert_banner",`p-upgrades_alert_banner--${_}`,`p-upgrades_alert_banner--${P}`,v,{"p-upgrades_alert_banner--with_close_icon":!!C,"p-upgrades_alert_banner--rounded_corners":I,"p-upgrades_alert_banner--no_border":!M,"p-upgrades_alert_banner--with_image":!!p});return t.createElement("div",{className:"full_width"},t.createElement(i.Ay,{className:U,"data-qa":b,customIcon:R,heading:O,type:R?i.QE.boxed:i.QE.custom},t.createElement("div",{className:"p-upgrades_alert_banner__body"},y),x(),C&&k()))},"AlertBanner");f.displayName="AlertBanner";const u=f},4190096030:(B,A,e)=>{"use strict";e.d(A,{A:()=>O});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(705513444),l=e(7920961),i=e(1959543078),a=e(5181078482),r=e(7089278202),d=e(6109709956),m=e(5190921192),f=e(321010523);function u(){return u=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(y[M]=I[M])}return y},u.apply(this,arguments)}h(u,"_extends");const E=new n.Ay("upgrades_kit"),v=425,g={action:f.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:f.ElementType.X},T=h(y=>{let{className:C,image:I,heading:M,isLoading:_,children:P,onDismiss:b,useRoundedCorners:S=!0,showBorder:N=!0,size:L=c.D.MEDIUM,theme:D=c.B.HORCHATA,primaryCTA:k,secondaryCTA:x,withMargins:R,iconProps:U,"data-qa":F,columnWidth:W=0}=y;const w=(0,t.useMemo)(()=>({name:"close"}),[]),K=h(()=>t.createElement(d.A,{className:"p-upgrades_alert_banner_v2__close_icon",svgIconProps:w,size:"small","aria-label":E.t("Dismiss"),onClick:b,autoClogProps:g}),"renderCloseIcon"),j=h(()=>{const ie=t.createElement("div",null,t.createElement("div",{className:"p-upgrades_alert_banner_v2__heading"},M),t.createElement("div",{className:"p-upgrades_alert_banner_v2__body"},P));if(U){const ee={inline:!0,size:"20",...U};return t.createElement("div",{className:"display_flex"},t.createElement("span",{className:`margin_right_50 p-upgrades_alert_banner_v2__icon--${D}`},t.createElement(m.A,u({},ee))),t.createElement("div",{className:"display_flex flex_direction_column"},ie))}return ie},"renderContent");j.displayName="renderContent";const Q=h(()=>!k&&!x?null:t.createElement("div",{className:"p-upgrades_alert_banner_v2__button_container"},_?t.createElement(a.lV,{loading:!0,"aria-label":void 0}):t.createElement(t.Fragment,null,k,x)),"renderButtons");Q.displayName="renderButtons";const J=W<v,z=o()("p-upgrades_alert_banner_v2",`p-upgrades_alert_banner_v2--${L}`,`p-upgrades_alert_banner_v2--${D}`,C,{"p-upgrades_alert_banner_v2--with_close_icon":!!b,"p-upgrades_alert_banner_v2--rounded_corners":S,"p-upgrades_alert_banner_v2--no_border":!N,"p-upgrades_alert_banner_v2--with_image":!!I,"p-upgrades_alert_banner_v2--with_margins":R,"p-upgrades_alert_banner_v2--narrow":J});return t.createElement("div",{className:"full_width"},t.createElement(i.Ay,{className:z,type:i.QE.inline,"data-qa":F},t.createElement("div",{className:"p-upgrades_alert_banner_v2__content"},_?t.createElement(r.A,{color:"white",inline:!0}):j(),Q(),b&&K())))},"AlertBanner");T.displayName="AlertBanner";const O=(0,l.tu)(T)},692763536:(B,A,e)=>{"use strict";e.d(A,{H:()=>t});var t;(function(s){s.MULTI_PANE="multi_pane",s.SINGLE_PANE="single_pane",s.VERTICAL_BANNER="vertical_banner",s.HORIZONTAL_BANNER="horizontal_banner"})(t||(t={}))},7070538338:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(705513444);const l=t.memo(m=>{let{animationDelay:f,size:u="large"}=m;const E=48,v=E-(u==="large"?48:36),g=E*2,T="#1D9BD1",p="#F2C744",O="#007A5A",y="#E01E5A",C={animationDelay:`${f||0}s`},I=h((b,S)=>t.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:S,className:b,style:C}),"renderDrop"),M=h((b,S)=>t.createElement("circle",{r:"4",fill:S,className:b,style:C}),"renderCircle"),_=h((b,S)=>t.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:S,className:b,style:C}),"renderStar"),P=h((b,S)=>t.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:S,className:b,style:C}),"renderSprinkle");return t.createElement("svg",{className:o()("position_absolute",`p-upgrades_icon_celebration_animation--${u}`),style:{top:`-${E/2+v/2}px`,left:`-${E/2+v/2}px`},width:g,height:g,viewBox:`0 0 ${g} ${g}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("p-upgrades_icon_celebration_animation__drop_top_right",T),M("p-upgrades_icon_celebration_animation__circle_top_right",p),M("p-upgrades_icon_celebration_animation__circle_right",O),_("p-upgrades_icon_celebration_animation__star_bottom_right",p),M("p-upgrades_icon_celebration_animation__circle_bottom_right",p),P("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",y),I("p-upgrades_icon_celebration_animation__drop_left",p),M("p-upgrades_icon_celebration_animation__circle_top_left",T),_("p-upgrades_icon_celebration_animation__star_top_left",O),P("p-upgrades_icon_celebration_animation__sprinkle_top_left",y))});var i=e(6369345880);function a(){return a=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(m[E]=u[E])}return m},a.apply(this,arguments)}h(a,"_extends");const r=h(m=>{let{className:f,animationProps:u,hasBorder:E,type:v,size:g=n.D.MEDIUM,theme:T=n.B.PURPLE,showAnimation:p}=m;const O=o()(`p-upgrades_icon--${g}`,`p-upgrades_icon--${T}`,f),y=t.createElement(i.A,{className:O,size:"inherit",type:v});if(!E)return y;const C=o()("p-upgrades_icon_container",`p-upgrades_icon_container--${g}`,`p-upgrades_icon_container--${T}`,{"p-upgrades_icon_container--with_animation":p});return t.createElement("div",{className:C},y,p&&t.createElement(l,a({size:g},u)))},"UpgradesIcon");r.displayName="UpgradesIcon";const d=r},6088613642:(B,A,e)=>{"use strict";e.d(A,{A:()=>P,V:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(3889339349),l=e(2947229296),i=e(1236500105),a=e(2759708258),r=e(705513444),d=e(240471470),m=e(7070538338),f=e(5181078482),u=e(6109709956),E=e(8823986650),v=e(321010523),g=e(6761585902),T=e(2752382156);function p(){return p=Object.assign||function(b){for(var S=1;S<arguments.length;S++){var N=arguments[S];for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&(b[L]=N[L])}return b},p.apply(this,arguments)}h(p,"_extends");const O=new l.Ay("notification_banner"),y={elementType:v.ElementType.X,elementName:"close",action:v.UiAction.CLOSE,onClick:{enableClogAction:!0}};var C;(function(b){b.default="default",b.alert="alert",b.fixed="fixed",b.noMarginFixed="no-margin-fixed"})(C||(C={}));const I=700;let M=h(class extends t.PureComponent{focus(){var S,N,L;const D=((S=this.primaryCTAButtonRef)===null||S===void 0?void 0:S.current)||((N=this.secondaryCTARef)===null||N===void 0?void 0:N.current)||((L=this.closeButtonRef)===null||L===void 0?void 0:L.current);D==null||D.focus()}onKeyDown(S){S.key==="Escape"&&(S.stopPropagation(),this.closeBanner())}closeBanner(){const{onCloseBanner:S,notificationPrefs:N}=this.props;N&&this.props.closeBanner(N),S&&S()}handlePrimaryCTA(){const{onPrimaryCTAClick:S,closeOnPrimaryCTAClick:N}=this.props;N&&this.closeBanner(),S&&S()}handleSecondaryCTA(){const{onSecondaryCTAClick:S,closeOnSecondaryCTAClick:N}=this.props;N&&this.closeBanner(),S&&S()}handleCloseIcon(){const{onCloseIcon:S}=this.props;this.closeBanner(),S&&S()}renderBody(){const{bodyText:S,theme:N}=this.props;return t.createElement("div",{className:`p-message_pane_banner__body--${N}`,"data-qa":"message_pane_banner_body",id:this.bodyId},S)}renderSecondaryCTA(){const{secondaryCTAHref:S,secondaryCTAText:N,secondaryCTAClogProps:L,secondaryCTAUseLink:D,customSecondaryCTA:k,customSecondaryCTAProps:x}=this.props,R={onClick:this.handleSecondaryCTA,href:S,autoClogProps:{onClick:{enableClogAction:!0},...L},"data-qa":"message_pane_banner_secondaryCTA",ref:this.secondaryCTARef,...k?x:{}},U=k||f.Ay;return D?t.createElement(E.A,p({className:"p-message_pane_banner__link"},R),N):t.createElement(U,p({className:"p-message_pane_banner__button",size:"medium",type:"outline"},R),N)}renderCloseIcon(){return(this.props.type===C.fixed||this.props.type===C.noMarginFixed)&&!this.props.forceCloseButton?null:t.createElement(u.A,{svgIconProps:{name:"close"},onClick:this.handleCloseIcon,"aria-label":O.t("Close"),className:"p-message_pane_banner__close_icon","data-qa":"message_pane_banner_close_icon",autoClogProps:y,ref:this.closeButtonRef})}renderPrimaryCTAButton(){const{primaryCTAText:S,primaryCTAHref:N,primaryCTAClogProps:L,customPrimaryCTA:D,customPrimaryCTAProps:k}=this.props,x={className:"p-message_pane_banner__button",onClick:this.handlePrimaryCTA,href:N,size:"medium","data-qa":"message_pane_banner_primaryCTA_button",autoClogProps:{isPrimaryCTA:!0,onClick:{enableClogAction:!0},...L},ref:this.primaryCTAButtonRef,...D?k:{}},R=D||f.Ay;return t.createElement(R,p({},x),S)}renderCTAButtons(){const{primaryCTAText:S,secondaryCTAText:N,theme:L}=this.props;return!S&&!N?null:t.createElement("div",{className:o()("p-message_pane_banner__buttons",`p-message_pane_banner__buttons--${L}`)},S&&this.renderPrimaryCTAButton(),N&&this.renderSecondaryCTA())}renderIcon(){const{icon:S,iconType:N,theme:L}=this.props;return N?t.createElement("div",{className:"p-message_pane_banner__banner_icon"},t.createElement(m.A,{hasBorder:!0,type:N,theme:L})):S?t.createElement("div",{className:"p-message_pane_banner__banner_icon"},S):null}renderHeading(){const{headingText:S,theme:N}=this.props;return S?t.createElement("h1",{className:o()("p-message_pane_banner__heading",`p-message_pane_banner__heading--${N}`),"data-qa":"message_pane_banner_heading_text",id:this.headerId},S):null}renderBanner(){const{type:S,bannerContainerClass:N,iconType:L,theme:D,imgSrc:k,imgAlt:x}=this.props,R=o()("p-message_pane_banner",`p-message_pane_banner--${S}`,`p-message_pane_banner--${D}`,N,{"p-message_pane_banner--ephemeral":S!==C.alert});return S===C.alert?t.createElement("div",{className:R},t.createElement(d.A,{size:r.D.SMALL,heading:this.renderHeading(),iconType:L,useRoundedCorners:!1,"data-qa":"message_pane_banner"},this.renderBody())):t.createElement(a.A,null,U=>{let{measureRef:F,width:W}=U;return t.createElement("div",{ref:F,className:o()(R,{"p-message_pane_banner--hide_image":W<I}),"data-qa":"message_pane_banner",role:"dialog","aria-labelledby":this.headerId,"aria-describedby":this.bodyId,onKeyDown:this.onKeyDown},this.renderIcon(),k?t.createElement("div",{className:"p-message_pane_banner__content_with_image"},t.createElement("div",{className:o()("p-message_pane_banner__content_with_image_text",`p-message_pane_banner__content_with_image_text--${S}`)},this.renderHeading(),this.renderBody(),this.renderCTAButtons()),t.createElement("div",{className:"p-message_pane_banner__image_container"},this.renderCloseIcon(),t.createElement("img",{className:"p-message_pane_banner__image",src:k,alt:x}))):t.createElement("div",null,this.renderHeading(),this.renderBody(),this.renderCTAButtons(),this.renderCloseIcon()))})}render(){const S=o()("p-message_pane_banner__container",`p-message_pane_banner__container--${this.props.type}`);return t.createElement("div",{className:S},this.renderBanner())}constructor(S){super(S),this.primaryCTAButtonRef=t.createRef(),this.secondaryCTARef=t.createRef(),this.closeButtonRef=t.createRef(),(0,c.v)(this,["focus","handlePrimaryCTA","handleSecondaryCTA","handleCloseIcon","onKeyDown"]),this.headerId=(0,i.A)(),this.bodyId=(0,i.A)()}},"MessagePaneBanner");M.defaultProps={type:C.default,onPrimaryCTAClick:n.A,closeOnPrimaryCTAClick:!0,onSecondaryCTAClick:n.A,closeOnSecondaryCTAClick:!0,secondaryCTAUseLink:!1,onCloseIcon:n.A,onCloseBanner:n.A,theme:r.B.PURPLE,imgAlt:""},M.displayName="MessagePaneBanner";const _=h(b=>({closeBanner:S=>b((0,T.A)(S))}),"mapDispatchToProps"),P=(0,g.N)(null,_)(M)},2546477503:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3451857649);const l=h(i=>{let{children:a,className:r}=i;return t.createElement(n.qf,{className:o()("p-upgrades_modal__content_section",r)},a)},"ModalBody")},6011462311:(B,A,e)=>{"use strict";e.d(A,{N:()=>O,A:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(692763536),c=e(4385745391),l=e(2546477503),i=e(435749746),a=e(7330143612),r=e(1572792019),d=e(5284295908),m=e(1959543078),f=e(3451857649);const E=h(I=>{let{banner:M,bodyContent:_,footerContent:P,showProBadge:b=!0,subtitle:S,title:N,error:L}=I;return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.createElement(d.A,{flexDirection:"column",gap:20},L&&t.createElement(m.Ay,{icon:"warning",level:"error",className:"p-upgrades_modal_with_banner_horizontal__error_alert"},L),t.createElement(a.A,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:N},b&&t.createElement(c.a,{featurePlan:"std",className:"p-upgrades_modal_with_banner_horizontal__pro_badge"}))),t.createElement(f.$m,null,S&&t.createElement(r.A,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:S}),t.createElement(l.A,{className:"p-upgrades_modal_with_banner_horizontal__body"},_)),t.createElement(i.A,{className:"p-upgrades_modal_with_banner_horizontal__footer"},P)),M)},"ModalContentHorizontalBanner"),v=h(I=>{let{banner:M,bodyContent:_,footerContent:P,showProBadge:b=!0,subtitle:S,title:N}=I;const L=t.createElement(t.Fragment,null,N,b&&t.createElement(c.a,{featurePlan:"std",className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.createElement(t.Fragment,null,t.createElement(a.A,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:L},M),t.createElement(f.$m,null,S&&t.createElement(r.A,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:S}),t.createElement(l.A,{className:"p-upgrades_modal_with_banner_vertical__body"},_)),t.createElement(i.A,null,P))},"ModalContentVerticalBanner");v.displayName="ModalContentVerticalBanner";const g=v;var T=e(414484285);function p(){return p=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var _=arguments[M];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(I[P]=_[P])}return I},p.apply(this,arguments)}h(p,"_extends");var O;(function(I){I.LIGHT="light",I.DARK="dark",I.GOLD="gold",I.GRAY="gray",I.DARK_GRAY="dark_gray"})(O||(O={}));const y=h(I=>{let{bannerBackgroundColor:M,bodyContent:_,centered:P,className:b,closeButtonTheme:S=O.DARK,closeModal:N,dataQa:L,footerContent:D,hero:k,imgSrc:x,imgSrcSet:R,maxWidth:U,shouldCloseOnOverlayClick:F,showProBadge:W=!0,subtitle:w,title:K,error:j,type:Q,videoFilename:J,videoPosterExtension:z="png",videoClassName:ie,lottieAnimation:ee,...ne}=I;const Z=(0,T.JK)(),te=`${J}${Z==="en-US"?"":`.${Z}`}`,he=`p-upgrades_modal_with_banner__banner--${Q}`,ue=h(()=>k?t.createElement("div",{className:he},k):R?t.createElement("img",{className:he,alt:"",srcSet:R}):x?t.createElement("img",{className:he,alt:"",src:x}):J?t.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:o()(he,ie),poster:`${te}.${z}`},t.createElement("source",{type:"video/mp4",src:`${te}.mp4`}),t.createElement("source",{type:"video/webm",src:`${te}.webm`})):ee?t.createElement("div",{className:"p-upgrades_modal__lottie_container"},ee):null,"getModalBanner");ue.displayName="getModalBanner";const de=t.createElement("div",{style:{backgroundColor:M},className:`p-upgrades_modal_with_banner__banner_container--${Q}`},ue());return t.createElement(f.dW,p({className:o()("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${Q}`,`p-upgrades_modal_with_banner--close_button_${S}`,"p-upgrades_modal_with_banner--close_button",b),centered:P,closeModal:N,dataQa:L,maxWidth:U,shouldCloseOnOverlayClick:F},ne),Q===n.H.VERTICAL_BANNER?t.createElement(g,{banner:de,bodyContent:_,footerContent:D,showProBadge:W,subtitle:w,title:K}):t.createElement(E,{banner:de,bodyContent:_,footerContent:D,showProBadge:W,subtitle:w,title:K,error:j}))},"ModalContentWithBanner");y.displayName="ModalContentWithBanner";const C=y},435749746:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3451857649);const l=h(i=>{let{children:a,className:r}=i;return t.createElement(n.jl,{className:"p-upgrades_modal__footer"},t.createElement(n.ox,{className:o()("p-upgrades_modal__footer_actions",r)},a))},"ModalFooter")},7330143612:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3451857649);const l=h(i=>{let{headerClassName:a,titleClassName:r,children:d,title:m}=i;return t.createElement(n.rQ,{className:o()("p-upgrades_modal__header",a)},d,t.createElement(n.Rc,{className:o()("p-upgrades_modal__title",r),title:m}))},"ModalHeader")},1572792019:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(4844578989),o=e.n(s);const c=h(l=>{let{className:i,subtitle:a}=l;return t.createElement("div",{className:o()("p-upgrades_modal__subtitle",i)},a)},"ModalSubtitle")},5361909198:(B,A,e)=>{"use strict";e.d(A,{A:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(692763536),c=e(705513444),l=e(7070538338),i=e(2546477503),a=e(435749746),r=e(7330143612),d=e(1572792019),m=e(3451857649);const u=h(O=>{let{subtitle:y,bodyContent:C,footerContent:I,title:M,titleImage:_,titleVideo:P,titleVideoClassName:b,titleIcon:S,showTitleIconAnimation:N,headerClassName:L,footerActionsClassName:D,theme:k}=O;return t.createElement(t.Fragment,null,t.createElement(r.A,{headerClassName:o()(L,{"p-upgrades_modal__header--with_animation":N}),title:M},_,P&&t.createElement("div",{className:o()(b)},P),S&&t.createElement("div",{className:"p-upgrades_modal__icon"},t.createElement(l.A,{hasBorder:!0,size:c.D.LARGE,type:S,showAnimation:!!N,theme:k}))),y&&t.createElement(d.A,{subtitle:y}),C&&t.createElement(m.$m,null,t.createElement(i.A,null,C)),t.createElement(a.A,{className:D},I))},"ModalContent");var E=e(6011462311),v=e(7561129348);function g(){return g=Object.assign||function(O){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(O[I]=C[I])}return O},g.apply(this,arguments)}h(g,"_extends");const T=h(O=>{const{className:y,maxWidth:C,onRequestClose:I,type:M,"data-qa":_,UNSAFE_parentSelector:P}=O,S={className:o()("p-upgrades_modal__container",y),closeModal:I,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:C,dataQa:_,UNSAFE_parentSelector:P};return M===n.H.MULTI_PANE?t.createElement(v.A,g({},O,S)):M===n.H.VERTICAL_BANNER||M===n.H.HORIZONTAL_BANNER?t.createElement(E.A,g({},O,S)):t.createElement(m.dW,g({},S),t.createElement(u,g({},O)))},"Modal");T.displayName="Modal";const p=T},4253378106:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(481313997),c=e(4385745391),l=e(6758393411),i=e(5192451774),a=e(9006442414),r=e(321010523),d=e(280840163),m=e(542703974);function f(){return f=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var T=arguments[g];for(var p in T)Object.prototype.hasOwnProperty.call(T,p)&&(v[p]=T[p])}return v},f.apply(this,arguments)}h(f,"_extends");const u=h(v=>{let{ariaLabel:g,tooltipText:T,children:p,onClick:O,isFreemium:y,promoType:C,promoSubtype:I,showProBadge:M,tooltipClassName:_,uiComponentVariant:P,variant:b,toolTipZIndex:S,toolTipPosition:N,...L}=v;const{tooltipTitle:D,tooltipBody:k}=(0,i.A)({isFreemium:y,tooltipText:T,promoType:C,promoSubtype:I,variant:b}),x=(0,d.d4)(F=>(0,m.bp)(F,C,I)),R=k?`${D} - ${k}`:D;if(x)return p;const U=t.createElement(n.A,{clogImpression:!0,eventId:r.EventId.UPGRDEXP_TRIAL,uiComponentName:r.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:P},t.createElement("div",{className:"p-trial_feature_tooltip"},t.createElement("span",{className:"p-trial_feature_tooltip__title"},M&&t.createElement(c.a,{featurePlan:"std",badgeTheme:l.Vu.White,className:"p-trial_feature_tooltip__pro_badge"}),t.createElement("div",{className:"p-trial_feature_tooltip__title_text"},D)),t.createElement("div",{className:"p-trial_feature_tooltip__body"},k)));return t.createElement(a.Ay,f({tipClassName:o()("p-trial_feature_tooltip__container",_),tip:U,onClick:O,zIndex:S,position:N,"aria-label":g?`${g}: ${R}`:`${R}`},L),p)},"TrialFeatureTooltip");u.displayName="TrialFeatureTooltip";const E=u},5284295908:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3134334389);const s=h(n=>{let{children:c,className:l,flexGrow:i,flexDirection:a="row",alignItems:r="normal",alignSelf:d="auto",justifyContent:m,gap:f=0}=n;return t.createElement("div",{className:l,style:{display:"flex",flexGrow:i,flexDirection:a,alignItems:r,alignSelf:d,justifyContent:m,gap:`${f}px`}},c)},"Stack");s.displayName="Stack";const o=s},5404601461:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>s,em:()=>t.em,r4:()=>t.r4});var t=e(4938297858);const s=t.Ay},4938297858:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>c,em:()=>l,r4:()=>o});var t=e(3134334389);function s(){return s=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(i[d]=r[d])}return i},s.apply(this,arguments)}h(s,"_extends");const o=(0,t.createContext)(void 0),c=h(i=>{let{id:a,children:r}=i;return t.createElement(o.Provider,{value:a},r)},"View");function l(i){const a=t.forwardRef((r,d)=>t.createElement(o.Consumer,null,m=>t.createElement(i,s({},r,{ref:d,viewContext:m}))));return a.displayName=`withView(${i.displayName})`,a}h(l,"withView"),l.displayName="withView"},1746021239:(B,A,e)=>{"use strict";e.d(A,{y:()=>o});var t=e(9588678965),s=e(205540855);const o=(0,t.Mz)(n=>(0,s._Z)(n,"improved_workflows_to_channel",!1)==="on");o.meta={name:"createSelector",key:"createSelectorisImprovedWorkflowsToChannelEnabled",description:n=>(0,s._Z)(n,"improved_workflows_to_channel",!1)==="on"}},7920961:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>n,j4:()=>l,tu:()=>c});var t=e(3134334389);function s(){return s=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(i[d]=r[d])}return i},s.apply(this,arguments)}h(s,"_extends");const o=t.createContext(void 0);o.displayName="ColumnLayoutContext";const n=o;function c(i){return a=>t.createElement(o.Consumer,null,r=>{var d;return t.createElement(i,s({},a,{columnLayout:r==null?void 0:r.layout,columnIdentifier:r==null?void 0:r.columnIdentifier,columnWidth:r==null||(d=r.layout)===null||d===void 0?void 0:d.width,isMainCollapsed:r==null?void 0:r.isMainCollapsed,shouldShowSidebarToggleButton:r==null?void 0:r.shouldShowSidebarToggleButton}))})}h(c,"withColumnLayout"),c.displayName="withColumnLayout";function l(){return(0,t.useContext)(o)}h(l,"useColumnLayoutContext")},4884424513:(B,A,e)=>{"use strict";e.d(A,{D:()=>p});var t=e(3134334389),s=e(338698394),o=e(3659369705),n=e(8203001003),c=e(2652587076),l=e(1137236691),i=e(9062511843),a=e(280840163),r=e(8829981938),d=e(205540855);const m="IMG-ANIM-MGR",f=h(O=>{O.src=O.src},"resetImageAnimation"),u=h(O=>{Array.from(O.querySelectorAll("img[src]")).forEach(f)},"resetAllImageAnimations"),E=h((O,y)=>{const C=(0,i.A)(),I=(0,a.d4)(_=>{var P;const b=(0,r.u_)(_,y);var S;return(S=b==null||(P=b.frame)===null||P===void 0?void 0:P.isFocused)!==null&&S!==void 0?S:!0}),M=(0,a.d4)(_=>(0,d._Z)(_,"desktop_toggle_image_animation_policy")==="on");(0,t.useEffect)(()=>{if(y&&!(typeof I>"u")&&M&&l.K6K.isAvailable()){const _=I?"animate":"noAnimation";C.info(m,"Applying image animation policy on focus change",{windowToken:y,imageAnimationPolicy:_}),(0,l.K6K)(y,_).then(()=>{var P;const b=(P=O.deref())===null||P===void 0?void 0:P.document;b&&u(b)})}},[I,O,y,C,M])},"useImageAnimationManager");var v=e(5079622983),g=e(1149127028),T=e(7418708689);const p=h(O=>{let{children:y,windowRef:C,shouldNavigateInContextContainerRules:I}=O;const M=(0,i.A)({label:"window-context"}),_=(0,t.useMemo)(()=>{var b;const S=C.deref();if(!S)return M.warn("Window ref no longer exists"),s.Jh;const N=S===window.self,L=!N;var D;const k=N?T.N2:(D=(0,v.f5)(S))!==null&&D!==void 0?D:g.OA,x=N?(0,l.Xgz)():(b=S)===null||b===void 0?void 0:b.browserWindowId;return typeof x!="number"&&(0,o.y3)()&&M.error(new Error("Window is missing windowToken")),L&&!k&&M.error(new Error("Child window is missing windowId")),{windowRef:C,windowId:k,windowToken:x}},[M,C]),P=(0,t.useMemo)(()=>({shouldNavigateInContextContainerRules:I}),[I]);return E(_.windowRef,_.windowToken),t.createElement(s._0.Provider,{value:_},t.createElement(c.C.Provider,{value:_},t.createElement(n.v.Provider,{value:P},y)))},"WindowContextProvider");p.displayName="WindowContextProvider"},9393022898:(B,A,e)=>{"use strict";e.d(A,{$m:()=>o,AH:()=>v,Ac:()=>c,D0:()=>m,Mh:()=>u,VR:()=>r,th:()=>i});var t=e(4212668692);const s=(0,t.Nh)(["callsScreenshare","createBorderWindow"]),o=h(async(g,T)=>{s.isAvailable()&&s(g,T)},"createBorderWindow"),n=(0,t.Nh)(["callsScreenshare","showBorder"]),c=h(async()=>{n.isAvailable()&&n()},"showBorder"),l=(0,t.Nh)(["callsScreenshare","hideBorder"]),i=h(async()=>{l.isAvailable()&&l()},"hideBorder"),a=(0,t.Nh)(["callsScreenshare","setWindowOrScreenId"]),r=h(async g=>{a.isAvailable()&&a(g)},"setWindowOrScreenId"),d=(0,t.Nh)(["callsScreenshare","setWindowBorderWidth"]),m=h(async g=>{d.isAvailable()&&d(g)},"setWindowBorderWidth"),f=(0,t.Nh)(["callsScreenshare","setWindowBorderColor"]),u=h(async(g,T,p,O)=>{f.isAvailable()&&f(g,T,p,O)},"setWindowBorderColor"),E=(0,t.Nh)(["callsScreenshare","getWindowPositionAndDimensions"]),v=h(async()=>{if(E.isAvailable())return E()},"getWindowPositionAndDimensions")},824704477:(B,A,e)=>{"use strict";e.d(A,{Oi:()=>o,XC:()=>s,aH:()=>c,mt:()=>n});var t=e(3659369705);const s=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture":(0,t.uF)()?"ms-settings:privacy":null,o=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera":(0,t.uF)()?"ms-settings:privacy-webcam":null,n=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone":(0,t.uF)()?"ms-settings:privacy-microphone":null,c=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.Sound.prefPane":(0,t.uF)()?"ms-settings:sound":null},5190495721:(B,A,e)=>{"use strict";e.d(A,{Ce:()=>m,Pe:()=>r,fI:()=>f,zS:()=>c});var t=e(3659369705),s=e(2947229296),o=e(1137236691);const n=new s.Ay("prefs"),c=(0,o.g9M)()&&o.MD7.isAvailable()?(0,o.MD7)():"nightly",l={PROD:"prod",BETA:"beta",DOGFOOD:c},i=[l.PROD,l.BETA],a=[l.PROD,l.BETA,l.DOGFOOD];function r(u){return(u?a:i).map(v=>({value:v,label:d(v)}))}h(r,"getReleaseChannelOptions");function d(u){switch(u){case l.PROD:return n.t("Production");case l.BETA:return n.t("Beta");case l.DOGFOOD:return n.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return n.t("Unknown")}}h(d,"getReleaseChannelDisplayName");function m(){return(0,o.g9M)()&&!(0,o.Z9F)()&&!(0,t.j9)()}h(m,"canSeeReleaseChannel");function f(){return m()&&["MSI","SlackSonic","SlackPilot"].every(u=>!navigator.userAgent.includes(u))}h(f,"canModifyReleaseChannel")},6318606934:(B,A,e)=>{"use strict";e.d(A,{d:()=>l,j:()=>c});var t=e(1985486637),s=e(1492910739),o=e(2691514942),n=e(3122619948);function c(i,a,r){const d="noversion",m=Date.now()/1e3,f=`/api/${i}?_x_id=${d}-${m}`,u=new XMLHttpRequest;u.onreadystatechange=()=>{if(u.readyState===4){u.onreadystatechange=null;let T;if(u.status===200||u.status===429)try{T=JSON.parse(u.responseText)}catch{(0,o.Wo)().warn("API","Unable to do anything with api response")}T=T||{ok:!1},r?r(T.ok,T,a):(0,s.Cu)()&&((0,o.Wo)().warn("API","No callback provided. Printing response"),(0,o.Wo)().warn("API",T.ok,T,a))}};const E=!0;u.open("POST",f,E);const v=new FormData;let g=!1;a?Object.keys(a).forEach(T=>{T[0]!=="_"&&(v.append(T,a[T]),g=!0)}):(0,s.Cu)()&&(0,o.Wo)().warn("API","No args provided. Bold, very bold."),g?u.send(v):u.send()}h(c,"callSlackApiUnauthed");const l=h((i,a)=>new t.S(r=>{c(i,a,(d,m)=>{r(m)})}),"callSlackApiUnauthedAsync");(0,n.A)()||(window.callSlackAPIUnauthed=(i,a,r)=>{(0,o.Wo)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),c(i,a,r)})},5035254771:(B,A,e)=>{"use strict";e.d(A,{Db:()=>r,O3:()=>d,OB:()=>m,TE:()=>u,xB:()=>f});var t=e(2101927269),s=e(1985486637),o=e(9204569428),n=e(9655647811),c=e(2172170811),l=e(2691514942),i=e(5913131983),a=e(9588678965);const r=(0,a.C6)("Get call info from callId",(E,v,g)=>{let{callIds:T,reason:p}=g;const O=(0,l.Ay)({getState:v});return T.length>3&&O.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${T.length}`),s.S.map(T,y=>E((0,o.apiCall)({method:"screenhero.rooms.info",args:{room:y},reason:p||"huddles-call-info"})).then(C=>{let{room:I}=C;return(0,i.Q)(I)}).catch(C=>(O.error(C,`Error while fetching call: ${y}`),null))).then(t.A)});r.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const d=(0,a.C6)("Join a calls / huddle room",(E,v,g)=>{let{channelId:T,roomId:p,threadTs:O,shouldFetchRegion:y,teamId:C,traceId:I,parentSpanId:M,reason:_,isMultiDevice:P=!1}=g;return(y?n.A.getInstance().getNearestChimeMediaRegion(C):s.S.resolve("")).then(b=>E((0,o.apiCall)({method:"rooms.join",args:{...p&&{id:p},...T&&{channel_id:T},...O&&{thread_ts:O},regions:b,multidevice:P},traceId:I,parentSpanId:M,reason:_||"calls-api/joinRoom"})).then(S=>{var N;return{server:(0,c.YY)(S.call),roomId:S.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:p,channelId:(N=S.huddle)===null||N===void 0?void 0:N.channels[0],...S.canvas&&S.canvas.root_thread_ts&&{rootThreadTs:S.canvas.root_thread_ts},...S.canvas&&S.canvas.canvas_file_id&&{canvasFileId:S.canvas.canvas_file_id}}}))});d.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const m=(0,a.C6)("Notify member to join huddle",(E,v,g)=>{let{reason:T,channelId:p,userId:O}=g;return E((0,o.apiCall)({method:"rooms.notifyMember",args:{channel_id:p,user_id:O},reason:T}))});m.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const f=(0,a.C6)("Set a huddle topic / rename the call",(E,v,g)=>{let{roomId:T,name:p}=g;return E((0,o.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:T,room_name:p}}))});f.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const u=(0,a.C6)("Get a link to a huddle",(E,v,g)=>{let{reason:T,channelId:p}=g;return E((0,o.apiCall)({method:"rooms.getLink",reason:T,args:{channel_id:p}}))});u.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},8479988974:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(3677587543),s=e(1985486637),o=e(9204569428),n=e(3320534337);let c=!1;const l=(0,n.A)("Sends a message",function(r,d){let{message:m,traceId:f,parentSpanId:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!m)return;const E={...m};return m.blocks&&typeof m.blocks=="object"&&(E.blocks=JSON.stringify(m.blocks)),m.unfurl&&typeof m.unfurl=="object"&&(E.unfurl=JSON.stringify(m.unfurl)),c?new s.K((v,g)=>{setTimeout(()=>{g(new Error("chat-postmessage-api forceFail in effect"))},2e3)}):r((0,o.apiCall)({method:"chat.postMessage",args:E,reason:"webapp_message_send",EXPEDITED:!0,traceId:f,parentSpanId:u}))});l.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"};const i=l,a=h(r=>{c=!!r},"setForceMessageFailure");(0,t.ul)("setForceMessageFailure",a)},596326720:(B,A,e)=>{"use strict";e.d(A,{O:()=>d});var t=e(8840779375),s=e(9204569428),o=e(3030430895),n=e(8309078519),c=e(2691514942),l=e(3320534337),i=e(3913394414),a=e(1242487384),r=e(4438870757);const d=(0,l.A)("Calls client.counts endpoint",function(m,f){let{reason:u="client-counts-api/fetchClientCounts"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E={thread_counts_by_channel:!0,org_wide_aware:!0,include_file_channels:!0},v=(0,i.t)(f()),g=(0,r.Cc)(f());return g&&(v?E.counts_last_fetched=g:E.dry_run_last_fetched=g),m((0,s.apiCall)({method:"client.counts",args:E,reason:u})).then(T=>{if(!T||!T.ok)return{};try{const S=["U0620EL8G","WFKHTCZ29","WKLQEGRRB"],N=(0,a.WR)(f());if(S.indexOf(N)>-1){const L=(0,t.A)(T.ims,k=>({id:k.id})),D=(0,t.A)(T.mpims,k=>({id:k.id}));(0,c.Ay)({getState:f}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:L,mpim_list:D})}}catch(S){(0,c.Ay)({getState:f}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:S})}const{channels:p=[],ims:O=[],mpims:y=[],threads:C={},file_channels:I={has_unreads:!1,mention_count:0,quip:void 0},channel_badges:M={},alerts:_=null,counts_last_fetched:P=null}=T,b={channels:p,ims:O.map(S=>({...S,is_im:!0})),mpims:y.map(S=>({...S,is_mpim:!0})),threads:C,alerts:_,fileChannels:I,channelBadges:M,countsLastFetched:P};return T.saved&&(b.saved=(0,n.A)(T.saved)),(0,o.isTodosEnabled)(f())&&T.todos&&(b.todos=(0,n.A)(T.todos)),b})});d.meta={name:"createFetcher",key:"createFetcherfetchClientCounts",description:"Calls client.counts endpoint"}},9698310012:(B,A,e)=>{"use strict";e.d(A,{c:()=>I});var t=e(9113979368),s=e(1985486637),o=e(7836285066),n=e(9204569428),c=e(6497449120),l=e(9984659043),i=e(3596980430),a=e(3869489930),r=e(8151647750),d=e(7824712520),m=e(9041802187),f=e(3320534337),u=e(3440221902),E=e(3951996002),v=e(3676539951),g=e(6657184031),T=e(7775583161),p=e(3911763109),O=e(9696938475),y=e(5842744554),C=e(6245071961);const I=(0,f.A)("Creates a draft",function(M,_){let{draft:P,reason:b,origClientDraftId:S,acknowledgedUnfurls:N}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var L;if((0,t.A)(P))return s.S.reject(new Error("No draft provided"));const D=(0,c.ue)(P),k=S??D,x=(0,c._l)(P),R=M((0,u.A)({msgOps:x}))||o.B,U=(0,c.l7)(P),F=(0,l.A)(P),W=_();let w=M((0,p.a)({draftId:k,ops:x}));const K=(0,C.BH)(W),j=(0,C.bc)(W,{draftId:D}),Q=(0,r.e)(W),J=(0,m.ck)(W,{draftId:D}),z=(((L=(0,T.Ki)(W,k,[g.Xq]))===null||L===void 0?void 0:L.length)||0)>0;w||(w=z?JSON.stringify([]):void 0);const ie=(0,i.Cq)(W)?M((0,v.G)({draftId:D})):void 0;let ee=ie?(0,a.A)(ie):[];if(K&&j){const Z=(0,E.y)(W,{draftId:D,status:y.t.DRAFT});ee=ee.concat(Z)}if(Q&&J&&D){const Z=(0,m.sz)(W,{draftId:D,status:d.o.DRAFT});Z.length&&(ee=ee.concat([{blocks:Z}]))}const ne=M((0,O.f)({draftId:D}));return M((0,n.apiCall)({method:"drafts.create",args:{blocks:JSON.stringify(R),client_msg_id:(0,c.EF)(P),attachments:ee,destinations:JSON.stringify(U),file_ids:JSON.stringify(F),unfurl:N||w,is_from_composer:(0,c.sC)(P),date_scheduled:(0,c.V)(P),file_permissions:ne},reason:b}))});I.meta={name:"createFetcher",key:"createFetchercreateDraftApi",description:"Creates a draft"}},6868102245:(B,A,e)=>{"use strict";e.d(A,{J:()=>I});var t=e(9113979368),s=e(1985486637),o=e(7836285066),n=e(9204569428),c=e(6497449120),l=e(9984659043),i=e(3596980430),a=e(3869489930),r=e(8151647750),d=e(7824712520),m=e(9041802187),f=e(3320534337),u=e(3440221902),E=e(3951996002),v=e(3676539951),g=e(6657184031),T=e(7775583161),p=e(3911763109),O=e(9696938475),y=e(5842744554),C=e(6245071961);const I=(0,f.A)("Updates a draft",function(M,_){let{draft:P,reason:b,syncDateScheduled:S,origClientDraftId:N,acknowledgedUnfurls:L}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var D;if((0,t.A)(P))return s.S.reject(new Error("No draft provided"));const k=P,x=(0,c.ue)(k),R=_(),U=(0,C.BH)(R),F=(0,C.bc)(R,{draftId:x}),W=(0,r.e)(R),w=(0,m.ck)(R,{draftId:x}),K=(0,c.iS)(k);if(!K)return s.S.reject(new Error("Draft does not have a server generated ID"));const j=(0,c._l)(k),Q=M((0,u.A)({msgOps:j}))||o.B,J=(0,c.l7)(k),z=(0,l.A)(k),ie=N??x;let ee=M((0,p.a)({draftId:ie,ops:j}));const ne=(((D=(0,T.Ki)(R,ie,[g.Xq]))===null||D===void 0?void 0:D.length)||0)>0;ee||(ee=ne?JSON.stringify([]):void 0);const Z=(0,i.Cq)(R)?M((0,v.G)({draftId:x})):void 0;let te=Z?(0,a.A)(Z):[];if(U&&F){const ue=(0,E.y)(R,{draftId:x,status:y.t.DRAFT});te=te.concat(ue)}if(W&&w&&x){const ue=(0,m.sz)(R,{draftId:x,status:d.o.DRAFT});ue.length&&(te=te.concat([{blocks:ue}]))}const he=M((0,O.f)({draftId:x}));return M((0,n.apiCall)({method:"drafts.update",args:{blocks:JSON.stringify(Q),client_last_updated_ts:(0,c.sp)(k).toString(),attachments:te,destinations:JSON.stringify(J),draft_id:K,file_ids:JSON.stringify(z),unfurl:L||ee,date_scheduled:S?(0,c.V)(k):void 0,is_from_composer:(0,c.sC)(k),file_permissions:he},reason:b}))});I.meta={name:"createFetcher",key:"createFetcherupdateDraftApi",description:"Updates a draft"}},7836285066:(B,A,e)=>{"use strict";e.d(A,{B:()=>t});const t=[{type:"rich_text",elements:[]}]},4642723549:(B,A,e)=>{"use strict";e.d(A,{KO:()=>n,_J:()=>c,zx:()=>l});var t=e(9204569428),s=e(3320534337),o=e(7576316740);const n=(0,s.A)("Fetch all available and installed emoji collections from the API",(i,a,r)=>{let{reason:d}=r;return i((0,t.apiCall)({method:"emoji.collections.list",reason:d,args:{installed_only:"0"}}))});n.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"};const c=(0,s.A)("Add an emoji collection",(i,a,r)=>{let{collectionId:d,reason:m}=r;return i((0,t.apiCall)({method:"emoji.addCollection",args:{collection_id:d},reason:m})).catch(f=>{if(f.name!=="already_installed")throw f})});c.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"};const l=(0,s.A)("Remove an emoji collection",(i,a,r)=>{let{collectionId:d,reason:m}=r;return i((0,o.$x)({collectionId:d})),i((0,t.apiCall)({method:"emoji.removeCollection",reason:m,args:{collection_id:d}}))});l.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"}},6159908963:(B,A,e)=>{"use strict";e.d(A,{Cl:()=>i,Is:()=>a,af:()=>l});var t=e(1544351291),s=e(8676385439),o=e(3320534337),n=e(7874250141),c=e(5822032349);const l=(0,o.A)("Queries Flannel for a list of external connected orgs/teams",(r,d,m)=>{let{count:f,filter:u,marker:E}=m;return(0,s.P)((0,n.JY)(d()),{method:s.J8.EXTERNAL_TEAMS_LIST,args:{count:f,filter:u,marker:E}})});l.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const i=(0,o.A)("Queries Flannel for channel counts of external connected orgs/teams",(r,d,m)=>{let{teamIds:f,count:u,marker:E}=m;return(0,s.P)((0,n.JY)(d()),{method:s.J8.EXTERNAL_TEAMS_COUNTS,args:{team_ids:f,count:u,marker:E}}).then(v=>v)});i.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const a=(0,o.A)("Fetches and upserts external teams that match a query",(r,d,m)=>{const f=(0,n.JY)(d());return(0,t.Cj)(f,m).then(u=>{let{objects:E,next_marker:v}=u;return r((0,c.OU)({teams:E})),{externalTeams:E,nextMarker:v}})});a.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},7357481378:(B,A,e)=>{"use strict";e.d(A,{iV:()=>T,ib:()=>y,oP:()=>f,oQ:()=>O,uV:()=>p});var t=e(2580172240),s=e(9204569428),o=e(8309078519),n=e(342331217),c=e(2691514942),l=e(3362542648),i=e(3320534337),a=e(5195993608),r=e(9872055788);const d=h(I=>{let{taxName:M,isVat:_,effectiveTaxPercentage:P=0,salesTaxAmt:b,taxPercentage:S}=I,N=l.Zt.sales_tax;M?N=l.Zt[M.toString().toLowerCase()]||l.Zt.sales_tax:_&&(N=l.Zt.vat);const L=P>0?P:null;return{value:b||0,type:N,percentage:L||S||0}},"formatTaxData"),m=h(I=>{const M=I.tax;return d({taxName:M==null?void 0:M.tax_name,isVat:M==null?void 0:M.is_vat,effectiveTaxPercentage:M==null?void 0:M.effective_tax_percentage,salesTaxAmt:M==null?void 0:M.sales_tax_amt,taxPercentage:M==null?void 0:M.tax_percentage})},"getTaxData"),f=h(I=>d(I),"getAddonTaxData"),u=h(I=>{var M;const _=I.term==="12m"?l.ck.yearly:l.ck.monthly,P=I.term==="12m"?l.OY.yearly:l.OY.monthly,b=(M=I.available_addons)===null||M===void 0?void 0:M.map(S=>({id:S.addon_id,addonType:S.addon_type,upfrontUnitCostPerM:S.upfront_unit_cost_per_m,upfrontUnitCostPerTerm:S.upfront_unit_cost_per_term}));return{id:I.product_id,term:_,currency:I.currency,level:I.level,lengthOfTermInMonths:P,costPerMonth:I.cost_per_m,costPerTerm:I.cost_per_term,isInvoice:I.is_inv||!1,maxInvoiceSeats:I.max_invoice_seats,minInvoiceSeats:I.min_invoice_seats,availableAddons:b}},"getPlanDataInstance"),E=h(I=>Object.keys(I).reduce((M,_)=>{const P=I[_];return M.availablePlans[_]={[l.i6.standard.id]:{[l.uq.CREDIT_CARD]:{[l.ck.monthly]:{default:u(P.std_m)},[l.ck.yearly]:{default:u(P.std_y)}},[l.uq.INVOICE]:{[l.ck.yearly]:{default:u(P.inv_std_y)}}},[l.i6.plus.id]:{[l.uq.CREDIT_CARD]:{[l.ck.monthly]:{default:u(P.plus_m)},[l.ck.yearly]:{default:u(P.plus_y)}},[l.uq.INVOICE]:{[l.ck.yearly]:{default:u(P.inv_plus_y)}}},[l.i6.compliance.id]:{[l.uq.CREDIT_CARD]:{[l.ck.yearly]:{default:u(P.compliance_y)}},[l.uq.INVOICE]:{[l.ck.yearly]:{default:u(P.inv_compliance_y)}}}},M},{availablePlans:{}}),"parsePlanAPIResponse"),v=h(I=>{var M,_,P,b,S,N;const L=m(I),D={currentCredits:I.credits.total_credits,creditsRemaining:I.credits.credits_remaining,creditsApplied:I.credits.credits_applied,proratedRefundCredits:I.prorated_refund,totalCreditsRemaining:I.credits.total_credits_remaining||0,totalCreditsApplied:I.credits.total_credits_applied||0},k=I.discount?(0,o.A)(I.discount):void 0,x={purchase:!((M=I.addons)===null||M===void 0)&&M.purchase&&Object.keys((_=I.addons)===null||_===void 0?void 0:_.purchase).length>0?Object.entries((P=I.addons)===null||P===void 0?void 0:P.purchase).reduce((U,F)=>{let[W,w]=F;return[...U,{id:W,addonType:w.addon_type,baseUpfrontUnitCost:w.base_upfront_unit_cost,term:w.term,baseProratedSubtotal:w.base_prorated_subtotal,numUsers:w.num_users}]},[]):[],refund:!((b=I.addons)===null||b===void 0)&&b.refund&&Object.keys((S=I.addons)===null||S===void 0?void 0:S.refund).length>0?Object.entries((N=I.addons)===null||N===void 0?void 0:N.refund).reduce((U,F)=>{let[W,w]=F;return[...U,{id:W,addonType:w.addon_type,term:w.term,amount:w.amount,numUsers:w.num_users}]},[]):[]};return{activePlanCost:{id:I.product_id,subtotal:I.subtotal,undiscountedSubtotal:I.undiscounted_subtotal,billableActiveUsers:I.billable_active_users,discount:k,tax:L,credits:D,totalRecurring:I.total_recurring,totalDueToday:I.total_due_today,quotedTermEnd:I.quoted_term_end,quotedTermStart:I.quoted_term_start,paidSeats:I.paid_seats,outstandingInvoiceAmount:I.outstanding_invoice_amount||0,addons:x}}},"mapCostToPropsFromAPI"),g=h(I=>{const M=E(I.plans).availablePlans;if(I.additional_addon_info){const _={isSlackAiLanguageUnsupported:I.additional_addon_info.is_slack_ai_language_unsupported};return{availablePlans:M,additionalAddonInfo:_}}return{availablePlans:M}},"parseRetailPlansAPIResponse"),T=(0,i.A)("Fetch Available Plans",(I,M,_)=>I((0,s.apiCall)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:_})).then(P=>g(P)));T.meta={name:"createFetcher",key:"createFetcherfetchAvailablePlans",description:"Fetch Available Plans"};const p=(0,i.A)("Fetch Available Plans",(I,M,_)=>{let{productId:P,country:b,region:S,postalCode:N,street:L,isBusinessPurchase:D,isInvoice:k,numInvoiceSeats:x,isFinalReview:R,isFutureProductSwitch:U,vatId:F,regionalId:W,countryMap:w}=_;const K=M(),j=(0,n.KV)(w,b,S),Q=(0,a.lK)(K),J=(0,a.IK)(K),z=(0,r.L)(K);let ie;if(J!=null&&J.length){const ne=[];J.forEach(Z=>{const te=z.find(he=>he.addonType===Z);te!=null&&te.id&&ne.push(te.id)});try{ie=ne.length?JSON.stringify(ne):void 0}catch(Z){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${Z}`)}}const ee={state:S,product_id:P,addon_ids:ie,is_final_review:R,checkout_step:Q,is_future_switch:U,...R?{}:{country:b,street1:L,zip:N,is_business:j?!1:D,is_vat_registered:j?D:!1,vat_id:F||"",regional_tax_id:W},...k?{requested_invoice_seats:x}:{}};return I((0,s.apiCall)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:ee})).then(ne=>{const Z=ne.plan_cost;if(!Z)throw new Error("retail.cost: plan_cost is undefined");return v(Z)})});p.meta={name:"createFetcher",key:"createFetcherfetchCost",description:"Fetch Available Plans"};const O=(0,i.A)("Fetch Cost Data for Addons Flow",(I,M,_)=>{let P;try{P=JSON.stringify([_.addonId])}catch(b){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${b}`)}return I((0,s.apiCall)({reason:"payments-plans-fetch-cost-for-addons",method:"retail.cost",args:{addon_ids:P}})).then(b=>h(N=>{var L;const D=N==null?void 0:N.addon_costs;if(!D)return null;const k=((L=D.addons)===null||L===void 0?void 0:L[_.addonId])||null;return k?{currency:D.currency,freeUsageLimit:k.free_usage_limit,upfrontUnitCost:k.base_upfront_unit_cost,usageUnitCost:k.base_usage_unit_cost,addonType:k.addon_type,term:k.term,recurringUpfrontSubtotal:k.recurring_upfront_subtotal,dueToday:(0,t.XK)(D.due_today),recurringCosts:(0,t.XK)(D.recurring_costs),discount:k.discount}:null},"formatApiResponse")(b))});O.meta={name:"createFetcher",key:"createFetcherfetchCostForAddons",description:"Fetch Cost Data for Addons Flow"};const y=(0,i.A)("Fetch Plans Page Boot Data",I=>I((0,s.apiCall)({reason:"payments-plans-fetch-plans-page-boot-data",method:"retail.getAvailablePlans",args:{}})));y.meta={name:"createFetcher",key:"createFetcherfetchPlansPageBootData",description:"Fetch Plans Page Boot Data"};const C={mapCostToPropsFromAPI:v,getTaxData:m,getAddonTaxData:f}},6310131164:(B,A,e)=>{"use strict";e.d(A,{Rs:()=>d,eS:()=>r,xs:()=>a});var t=e(8703681551),s=e(8571983633),o=e(4623317806),n=e(6798336995),c=e(9470148207),l=e(3320534337);const i={"pins.list":{}},a=(0,l.A)("Get pinned items for channel",(f,u,E)=>{let{channelId:v,reason:g}=E;const T=i["pins.list"];return T[v]||(T[v]=f((0,n.u)({channel:v,reason:g})),T[v].finally(()=>delete T[v])),T[v]});a.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"};const r=(0,l.A)("Pin Message to channel",(f,u,E)=>{let{ts:v,fileId:g,fileCommentId:T,channelId:p,reason:O}=E;return f((0,o.T)({...(0,t.A)({timestamp:v,file:g,file_comment:T},s.A),channel:p,reason:O}))});r.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"};const d=(0,l.A)("Unpin Message from channel",(f,u,E)=>{let{ts:v,fileId:g,fileCommentId:T,channelId:p,reason:O}=E;return f((0,c.w)({...(0,t.A)({channel:p,timestamp:v,file:g,file_comment:T},s.A),channel:p,reason:O}))});d.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"};const m={resetActiveCalls:()=>{Object.keys(i).forEach(f=>{i[f]={}})}}},4541462795:(B,A,e)=>{"use strict";e.d(A,{lp:()=>vs,SI:()=>ps,DC:()=>Us,Yb:()=>ys,aw:()=>Os,g2:()=>tn,U7:()=>Ce,eR:()=>an,sr:()=>qe,Do:()=>Kt,EM:()=>rt,AC:()=>Ft,FF:()=>Tn,A$:()=>En,mi:()=>Ze,mK:()=>$t,bE:()=>Oe,AQ:()=>Je,Cs:()=>Ts,J6:()=>st,LR:()=>At,cD:()=>Xt,jl:()=>ls,QH:()=>se,DF:()=>mn,UC:()=>Tt,fx:()=>Vt,lS:()=>Fn,A1:()=>Be,H9:()=>Dt,ZD:()=>Ws,$P:()=>ns,G2:()=>as,S:()=>Fs});var t=e(8571983633),s=e(7715417323),o=e(7174777686),n=e(2141441167),c=e(897091071),l=e(1703559452),i=e(9113979368),a=e(9746734072),r=e(5503876160),d=e(4103274853),m=e(1566461842),f=e(3677587543),u=e(1985486637),E=e(2050235080),v=e(605568209),g=e(9635987194),T=e(9720146556),p=e(1236500105),O=e(9035338428),y=e(3088685576),C=e(1391051355),I=e(246770613),M=e(8679804389),_=e(3426019058),P=e(3947905742),b=e(9156075779),S=e(6915886995),N=e(382416922),L=e(7908737657),D=e(6159908963),k=e(4372873607),x=e(1664161466),R=e(2745978363),U=e(2187136646),F=e(7705431154),W=e(3659369705),w=e(2947229296),K=e(5317324095),j=e(882196998),Q=e(5478938623),J=e(9282451668),z=e(3666777625);const ie=new w.Ay("modals");function ee(Xe){return[{id:"downloads",name:ie.t("Downloads"),icon:"download",isEnabled:()=>(0,W.y3)()},{id:"invite_to_workspace",name:ie.t("Invite people to {workspaceName}",{workspaceName:(0,Q.F1)((0,z.H7)(Xe))}),icon:"add-user",isEnabled:()=>(0,K.Lz)(Xe)},{id:"create_a_channel",name:ie.t("Create a Channel"),icon:"plus",isEnabled:()=>(0,J.MM)(Xe)},{id:"create_a_canvas",name:ie.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>(0,j.l)(Xe)}]}h(ee,"getAllModals");function ne(Xe){return ee(Xe).filter(wt=>wt.isEnabled())}h(ne,"getAllEnabledModals");var Z=e(6506860933),te=e(3523843162),he=e(2100873507),ue=e(9963560),de=e(8859166048),re=e(9762018042),V=e(8621572116),H=e(4873029336),X=e(1240477450),Y=e(5887324738),q=e(2630868098),fe=e(2322942398),ce=e(1705675611),Ee=e(9323019934),Ae=e(5209823364),le=e(353071615),oe=e(1263278196),me=e(7492291136),pe=e(6545531717),Te=e(8689848122),Me=e(7143818704),Ue=e(6182787245),xe=e(5691265838),Ne=e(2562626421),be=e(9955559678),ke=e(8815644013),Ke=e(8481954889),$=e(6737358533),ae=e(1315591004),Ge=e(6987151047),nt=e(1251245237),at=e(6897174593),Ve=e(6330284479),Se=e(7186021951),Pe=e(6298481129),Fe=e(321010523),ge=e(3299124106),He=e(7411813784),Qe=e(5089209364),_e=e(7499216588),Le=e(205540855);const Ie=new w.Ay("ia4"),we={[_e.D.BrowseCanvases]:()=>Ie.t("All canvases"),[_e.D.BrowseChannels]:()=>Ie.t("All channels"),[_e.D.BrowsePeople]:()=>Ie.t("All people"),[_e.D.BrowseFiles]:()=>Ie.t("All files"),[_e.D.ExternalWorkspaceAllowedOrgPane]:()=>Ie.t("Organization"),[_e.D.RecentFiles]:()=>Ie.t("Recently Viewed Files"),[_e.D.FilesSharedWithYou]:()=>Ie.t("Files shared with you"),[_e.D.FilesCreatedByYou]:()=>Ie.t("Files created by you"),[_e.D.RecentCanvases]:()=>Ie.t("Recently Viewed Canvases"),[_e.D.CanvasesSharedWithYou]:()=>Ie.t("Canvases shared with you"),[_e.D.CanvasesCreatedByYou]:()=>Ie.t("Canvases created by you"),[_e.D.DeletedCanvases]:void 0,[_e.D.DmsList]:void 0,[_e.D.LaterList]:void 0,[_e.D.Channel]:void 0,[_e.D.AppSpace]:void 0,[_e.D.BrowseApps]:void 0,[_e.D.ExternalOrganizations]:()=>Ie.t("External organizations"),[_e.D.ExternalOrganization]:()=>Ie.t("External organization"),[_e.D.ExternalPeople]:()=>Ie.t("External people"),[_e.D.SlackConnectChannels]:()=>Ie.t("Slack Connect channels"),[_e.D.SlackConnectInvitations]:()=>Ie.t("Slack Connect invitations"),[_e.D.BrowseExternalWorkspace]:void 0,[_e.D.PostEvent]:void 0,[_e.D.BrowseShortcuts]:void 0,[_e.D.BrowseWorkflowsManagedByYou]:void 0,[_e.D.BrowseYourWorkflowTemplates]:void 0,[_e.D.BrowseWorkflowTemplates]:void 0,[_e.D.BrowseUserGroups]:void 0,[_e.D.OrgDirectory]:void 0,[_e.D.RecentPlatform]:()=>Ie.t("Recently used workflows"),[_e.D.SlackConnect]:void 0,[_e.D.Page]:void 0,[_e.D.Threads]:void 0,[_e.D.Thread]:void 0,[_e.D.Profile]:void 0,[_e.D.FileDetails]:void 0,[_e.D.Help]:void 0,[_e.D.UserGroup]:void 0,[_e.D.KeyboardShortcuts]:void 0,[_e.D.WhatsNew]:void 0,[_e.D.Feedback]:void 0,[_e.D.List]:void 0,[_e.D.ListRecord]:void 0,[_e.D.ListRecordDetails]:void 0,[_e.D.ListRecordThread]:void 0,[_e.D.ListRecordHistory]:void 0,[_e.D.ListHistory]:void 0,[_e.D.ComposeList]:void 0,[_e.D.Compose]:void 0,[_e.D.QuipCommentThread]:void 0,[_e.D.QuipCommentStream]:void 0,[_e.D.QuipActivityHistory]:void 0,[_e.D.QuipAutomationsOverview]:void 0,[_e.D.Quip]:void 0,[_e.D.Canvas]:void 0,[_e.D.ChannelCanvas]:void 0,[_e.D.CanvasBrowser]:void 0,[_e.D.HuddlePageCanvas]:void 0,[_e.D.PaidBenefits]:void 0,[_e.D.Setup]:void 0,[_e.D.SearchEmpty]:void 0,[_e.D.ActivityEmpty]:void 0,[_e.D.AboutWorkspace]:void 0,[_e.D.Unknown]:void 0,[_e.D.MorePeopleSidebar]:void 0,[_e.D.MoreCanvasesSidebar]:void 0,[_e.D.MoreSolutionsSidebar]:void 0,[_e.D.AppPopout]:void 0,[_e.D.MorePlatformSidebar]:void 0,[_e.D.Search]:void 0,[_e.D.ChannelList]:void 0,[_e.D.BrowseLists]:void 0,[_e.D.DeletedLists]:void 0,[_e.D.Tasks]:void 0,[_e.D.AssignedTasks]:void 0,[_e.D.Reminders]:void 0,[_e.D.Saved]:void 0,[_e.D.BrowseList]:void 0,[_e.D.ActivityList]:void 0,[_e.D.MoreFilesSidebar]:void 0,[_e.D.MoreListsSidebar]:void 0,[_e.D.UnifiedFilesSidebar]:void 0,[_e.D.MoreChannelsSidebar]:void 0,[_e.D.MoreHuddlesSidebar]:void 0,[_e.D.MoreExternalConnectionsSidebar]:void 0,[_e.D.HelpBrowser]:void 0,[_e.D.Huddle]:void 0,[_e.D.BrowseHuddles]:void 0,[_e.D.KeyboardShortcutsBrowser]:void 0,[_e.D.WhatsNewBrowser]:void 0,[_e.D.FeedbackBrowser]:void 0,[_e.D.ExternalWorkspaceSidebar]:void 0,[_e.D.ExternalWorkspacePeopleBrowser]:void 0,[_e.D.ExternalWorkspaceChannelBrowser]:void 0,[_e.D.AiSummaryDetails]:void 0,[_e.D.DailyDigest]:void 0,[_e.D.SearchSummary]:void 0,[_e.D.BrowseUnifiedFiles]:()=>Ie.t("All docs"),[_e.D.BrowseUnifiedFilesCanvases]:()=>Ie.t("Canvases"),[_e.D.BrowseUnifiedFilesLists]:()=>Ie.t("Lists"),[_e.D.BrowseUnifiedFilesFolders]:()=>Ie.t("Folders"),[_e.D.BrowseUnifiedFilesFolder]:void 0,[_e.D.DeletedUnifiedFiles]:void 0,[_e.D.Today]:void 0,[_e.D.Record]:void 0,[_e.D.MyTaskApproval]:void 0,[_e.D.MyApproval]:void 0,[_e.D.TableauDetails]:void 0,[_e.D.WorkObject]:void 0,[_e.D.WorkObjectFilePreview]:void 0,[_e.D.RecordChannelCreate]:void 0,[_e.D.RecordChannelRelatedList]:void 0,[_e.D.RecordRelatedConversationsChannelsList]:void 0,[_e.D.RecordRelatedConversationsThreadsList]:void 0,[_e.D.SalesAdministration]:void 0,[_e.D.SalesBulkGrid]:void 0,[_e.D.SalesHome]:void 0,[_e.D.SalesListViewBrowser]:void 0,[_e.D.SalesLogActivity]:void 0,[_e.D.SalesCreateRecord]:void 0,[_e.D.SalesNotifications]:void 0,[_e.D.SalesSidebar]:void 0,[_e.D.SalesAutoSlackLaunchpad]:void 0,[_e.D.AssistantThread]:void 0,[_e.D.AssistantHome]:void 0,[_e.D.Solutions]:void 0,[_e.D.Admin]:void 0,[_e.D.ActivityChannelUnreadsList]:void 0,[_e.D.TodayV2]:()=>Ie.t("Today"),[_e.D.Agents]:void 0,[_e.D.YourAgents]:void 0,[_e.D.AgentHomeConversation]:void 0,[_e.D.MoreAgentsSidebar]:void 0,[_e.D.Sidekicks]:void 0,[_e.D.SidekickConversation]:void 0,[_e.D.MoreSidekicksSidebar]:void 0,[_e.D.SolutionsFiltered]:void 0,[_e.D.BrowseYourSolutions]:void 0,[_e.D.BrowseYourCompanySolutions]:void 0,[_e.D.SlackKitPlayground]:void 0,[_e.D.AiApp]:void 0,[_e.D.MultiTurnSearch]:void 0,[_e.D.MultiTurnSearchSidebar]:void 0,[_e.D.AboutAiApp]:void 0,[_e.D.BookmarksFolder]:void 0,[_e.D.ActionItems]:void 0,[_e.D.Inbox]:void 0,[_e.D.ActivityInbox]:void 0,[_e.D.HuddleTranscriptDetails]:void 0,[_e.D.WorkflowDetails]:()=>Ie.t("Workflow details"),[_e.D.AppDetails]:Xe=>(0,Le._Z)(Xe,"app_flexpane")==="on"?Ie.t("App Details"):"App Details",[_e.D.WorkflowEditor]:()=>Ie.t("Workflow Editor"),[_e.D.WorkflowTemplateEditor]:void 0,[_e.D.WorkflowBeingCreated]:void 0,[_e.D.BBMMain]:Xe=>(0,Q.IE)(Xe),[_e.D.BBMWorkspaceSwitcher]:void 0,[_e.D.SearchInChannel]:void 0,[_e.D.BBMMore]:void 0,[_e.D.AboutUserGroup]:void 0,[_e.D.MeetingDetails]:void 0,[_e.D.AiMessageAnalysis]:void 0,[_e.D.BrowseUnifiedFilesGoogleDrive]:void 0,[_e.D.BrowseUnifiedFilesOnedrive]:void 0,[_e.D.BrowseUnifiedFilesExternalResults]:void 0,[_e.D.ConversationCreate]:void 0,[_e.D.SlackbotAi]:void 0,[_e.D.UnifiedDirectory]:void 0},ut=h((Xe,wt)=>{if(wt in we){var Wt;return(Wt=we[wt])===null||Wt===void 0?void 0:Wt.call(we,Xe)}return""},"getDisplayNameForViewType");var _t=e(4248971435),yt=e(1749475519),Ot=e(6207846470),It=e(3122619948),kt=e(2755703165),gt=e(7453670128),Gt=e(1936562511),Pt=e(6705809413),jt=e(4923152936),Qt=e(3134986613),Jt=e(6313737630),Yt=e(8083634208),Rt=e(687912091),Bt=e(639862555),dn=e(4894634110),Mt=e(7874250141),Ye=e(1098669366),ot=e(9473548425),ht=e(7188858884),tt=e(9872837106),ct=e(3604038336),rn=e(4024453010),ln=e(1242487384),on=e(4629886364),G=e(2744649522),De=e(3905882879),We=e(7152924807),it=e(3351247794),Nt=e(9844570768),sn=e(3542943043),en=e(3701660703),_n=e(3778507151),Dn=e(8840779375),On=e(9268023148),In=e(70306884),bn=e(4934156856),Hn=e(7282773830),vn=e(2691514942);const Sn=(0,dn.Ay)("Fetch triggers with query",async(Xe,wt,Wt)=>{let{query:lt,currentChannelId:ft,includeAutomatedTriggers:St=!1,strictExposureRules:bt=!0,reason:Ht}=Wt;const zt=wt(),yn=(0,Mt.ZT)(zt),pn=(0,Pt.X)(zt),Zt=St?["shortcut","event","webhook","scheduled","service"]:["shortcut"];if(!pn.containsPrefixOf(lt))try{const kn=(await Xe((0,In.v)({query:lt,currentChannelId:ft,strictExposureRules:bt,triggerTypes:Zt,reason:Ht??"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,et=5;return kn.length<et&&(pn.addAsPrefix(lt),pn.clearRequestInFlight()),yn&&(0,bn.X)().markObjectsAsFresh(yn,(0,Dn.A)(kn,"id")),Xe((0,Hn.z4)({triggers:kn})),kn}catch(hn){return(0,vn.Wo)().error(hn,"There was an issue fetching triggers with query"),[]}return[]});Sn.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const gn=500,Rn=(0,On.A)((Xe,wt)=>{let{query:Wt,includeAutomatedTriggers:lt,strictExposureRules:ft,reason:St}=wt;return Xe(Sn({query:Wt,includeAutomatedTriggers:lt,strictExposureRules:ft,reason:St}))},gn,{leading:!0,trailing:!0}),Qn=(0,dn.Ay)("debounced fetch and upsert triggers with query",(Xe,wt,Wt)=>{let{query:lt,includeAutomatedTriggers:ft,strictExposureRules:St,reason:bt}=Wt;return Rn(Xe,{query:lt,includeAutomatedTriggers:ft,strictExposureRules:St,reason:bt})});Qn.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"};const Yn=null,Jn={DEBOUNCE_MS:gn};var $n=e(9623821012),_s=e(7073692592),os=e(6766178921),fs=e(8514561428),is=e(5804929356),Vn=e(293248343),Nn=e(7137557572),xn=e(5822032349),Xn=e(6166500720),Zn=e(9768859814);const vs={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0,includeRecordChannels:!0},mpims:{onlyVisibleMpims:!1,onlyExternallyShared:!1,includeExternallyShared:!0,onlyFromTeamId:void 0,useDisplayName:!0},members:{includeSelf:!1,includeSlackbot:!0,includeSecurityBot:!0,includeBots:!0,includeWorkflows:!1,includeAgents:!0,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[De.VZ.Standard]:!0,[De.VZ.Stars]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:Bt.KV},fuzzyLimit:3,beyondWordBoundaryFuzzyLimit:6,fuzzyJumpLimit:20,matchBeyondWordBoundaries:!1,fuzzyCJK:!0,returnMetadata:!1};function cs(Xe){let{query:wt,options:Wt}=Xe;var lt,ft,St;const bt=(St=Wt==null?void 0:Wt.entities)!==null&&St!==void 0?St:{},Ht=bt==null?void 0:bt.members;let zt=!1;return Ht&&Ht!==!0&&(zt=!!(Ht!=null&&Ht.matchEmailField)),{source:(Wt==null?void 0:Wt.searchViewContext)||(Wt==null||(lt=Wt.sort)===null||lt===void 0?void 0:lt.source),tiered:Wt==null?void 0:Wt.tiered,is_searcher_sessions:!1,entities:Object.keys(bt).filter(yn=>!!bt[yn]).sort().toString(),query_length:wt.length,is_member_email_search:(Wt==null||(ft=Wt.sort)===null||ft===void 0?void 0:ft.source)==="use-team-and-people-search"&&zt}}h(cs,"getTraceTags");function Ft(Xe,wt){var Wt,lt;const{excludeElmChannels:ft,includePublic:St,includePrivate:bt,includeFromAnotherTeam:Ht,allowedInternalTeams:zt,shouldAllowedInternalTeamsMatchAny:yn}=(lt=(Wt=wt.entities)===null||Wt===void 0?void 0:Wt.channels)!==null&&lt!==void 0?lt:{};let pn=[];return St&&(pn=[...pn,...(0,it.Wr)(Xe,{includeFromAnotherTeam:!!Ht})]),bt&&(pn=[...pn,...(0,it.sE)(Xe,{includeFromAnotherTeam:!!Ht})]),ft&&(pn=pn.filter(Zt=>!(0,Ve.A)(Xe,Zt))),zt&&(pn=pn.filter(Zt=>{if((0,q.O)(Zt))return!!yn;const hn=(0,V.R)(Xe,Zt),kn=yn?hn==null?void 0:hn.some(et=>zt.includes(et)):hn==null?void 0:hn.every(et=>zt.includes(et));return(hn==null?void 0:hn.length)&&kn})),pn}h(Ft,"getLocalChannels");function Ze(Xe,wt){var Wt;const lt=(0,Mt.ZT)(Xe),ft=wt==null||(Wt=wt.entities)===null||Wt===void 0?void 0:Wt.teams;var St;const bt=Object.values((St=Zn._===null||Zn._===void 0?void 0:(0,Zn._)())!==null&&St!==void 0?St:{}).filter(Zt=>Zt.id!==lt);if(ft!=null&&ft.onlyNavigable){const Zt=(0,Nn._)(Xe);return Zt.length?[...bt,...Zt]:bt}var Ht;const zt=(Ht=(0,z.iK)(Xe))!==null&&Ht!==void 0?Ht:{},yn=bt.map(Zt=>Zt.id),pn=Object.values(zt).filter(Zt=>!yn.includes(Zt.id));return[...bt,...pn].filter(Be(Xe,ft))}h(Ze,"getLocalTeams");const st=(0,dn.Ay)("Get channels from flannel by query",(Xe,wt,Wt)=>{let{query:lt,options:ft}=Wt;var St,bt,Ht,zt;const{includeFromAnotherTeam:yn,includeExternallyShared:pn,includeOnlyExternallyShared:Zt,onlyExternallyShared:hn,onlyFromTeamId:kn,onlyFromExternalWorkspaceId:et,allowedInternalTeams:mt,shouldAllowedInternalTeamsMatchAny:pt,includeRecordChannels:Ut}=(zt=(St=ft.entities)===null||St===void 0?void 0:St.channels)!==null&&zt!==void 0?zt:{},Ct=((bt=ft.entities)===null||bt===void 0||(Ht=bt.channels)===null||Ht===void 0?void 0:Ht.remoteLimit)||ft.limit,fn=wt(),cn=[],nn=" AND ",Mn={query:lt,count:Ct||vs.limit||24,fuzz:(0,Le._Z)(fn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Le._Z)(fn,"searcher_flannel_cjk")==="cjk"};return yn&&cn.push("xws"),!(0,t.A)(pn)&&!pn&&cn.push("NOT shared"),!(0,t.A)(Zt)&&!Zt&&cn.push("NOT external"),!(0,t.A)(hn)&&hn&&cn.push("shared"),cn.length&&(Mn.filter=cn.join(nn)),kn&&(Mn.external_team=kn),et&&(Mn.external_team=et),mt&&(Mn.allowed_internal_teams=mt),pt&&(Mn.should_allowed_internal_teams_match_any=pt),Ut&&(Mn.include_record_channels=!0),ft!=null&&ft.topChannels&&(Mn.top_channels=ft.topChannels),ft!=null&&ft.defaultWorkspace&&(Mn.default_workspace=ft.defaultWorkspace),Xe((0,S.hq)({query:Mn})).timeout(2e3).catch(s.A)});st.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const vt=(0,dn.Ay)("Get mpims from flannel by query",(Xe,wt,Wt)=>{let{query:lt,options:ft}=Wt;var St,bt,Ht,zt;const{useDisplayName:yn}=(zt=(St=ft.entities)===null||St===void 0?void 0:St.mpims)!==null&&zt!==void 0?zt:{},pn=((bt=ft.entities)===null||bt===void 0||(Ht=bt.mpims)===null||Ht===void 0?void 0:Ht.remoteLimit)||ft.limit,Zt=wt(),hn={query:lt.replace(/,\s/g,","),count:pn||vs.limit||24,fuzz:(0,Le._Z)(Zt,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Le._Z)(Zt,"searcher_flannel_cjk")==="cjk"};return yn&&(hn.use_display_name=!0),Xe((0,S.XU)({query:hn})).timeout(2e3).catch(s.A)});vt.meta={name:"createThunk",key:"createThunkgetRemoteMpims",description:"Get mpims from flannel by query"};const At=(0,dn.Ay)("Get emoji from flannel by query",(Xe,wt,Wt)=>{let{query:lt,options:ft}=Wt;var St,bt;const Ht=((St=ft.entities)===null||St===void 0||(bt=St.emoji)===null||bt===void 0?void 0:bt.remoteLimit)||ft.limit;return u.S.resolve(Xe((0,L.l8)({query:{query:lt,count:Ht}}))).timeout(2e3).catch(s.A)});At.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const Tt=(0,dn.Ay)("Get user groups from the search.team endpoint by query",(Xe,wt,Wt)=>{let{query:lt,options:ft}=Wt;var St,bt,Ht,zt,yn,pn;const Zt=((St=ft.entities)===null||St===void 0||(bt=St.userGroups)===null||bt===void 0?void 0:bt.remoteLimit)||ft.limit;return u.S.resolve(Xe((0,x.cn)({query:{query:lt,count:Zt,org_wide:(Ht=ft.entities)===null||Ht===void 0||(zt=Ht.userGroups)===null||zt===void 0?void 0:zt.includeFromAnotherTeam,channel:(yn=ft.entities)===null||yn===void 0||(pn=yn.userGroups)===null||pn===void 0?void 0:pn.channel}}))).timeout(2e3).catch(s.A)});Tt.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const Vt=(0,dn.Ay)("Get remote triggers with query",(Xe,wt,Wt)=>{let{query:lt,strictExposureRules:ft,includeAutomatedTriggers:St,reason:bt}=Wt;return Xe(Qn({query:lt,strictExposureRules:ft,includeAutomatedTriggers:St,reason:bt}))});Vt.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const an=(0,dn.Ay)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(Xe,wt,Wt)=>{let{queries:lt,options:ft}=Wt;var St,bt,Ht,zt,yn,pn;const Zt=((St=ft.entities)===null||St===void 0||(bt=St.userGroups)===null||bt===void 0?void 0:bt.remoteLimit)||ft.limit;return u.S.resolve(Xe((0,x.MZ)({query:{queries:lt,count:Zt,org_wide:(Ht=ft.entities)===null||Ht===void 0||(zt=Ht.userGroups)===null||zt===void 0?void 0:zt.includeFromAnotherTeam,channel:(yn=ft.entities)===null||yn===void 0||(pn=yn.userGroups)===null||pn===void 0?void 0:pn.channel}}))).timeout(2e3).catch(s.A)});an.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function qe(Xe,wt){const{includeArchived:Wt,includeRequired:lt,onlyIfMember:ft,canPost:St,includeExternallyShared:bt,includeOnlyExternallyShared:Ht,onlyExternallyShared:zt,onlyFromTeamId:yn,onlyFromExternalWorkspaceId:pn}=wt??{};return Zt=>{let hn=!0;if(Wt||(hn=hn&&!(0,X.F)(Zt)),!(0,t.A)(lt)&&!lt&&(hn=hn&&!(0,de.gx)(Zt)),zt&&(hn=hn&&(0,ke.ju)(Zt)),(!bt||!Ht)&&(hn=hn&&!(0,ke.ju)(Zt)),ft&&(hn=hn&&(0,Y.bl)(Zt)),St&&(hn=hn&&(0,Ge.E)(Xe,Zt.id)),yn){var kn;hn=hn&&(((kn=(0,re.A)(Xe,Zt))===null||kn===void 0?void 0:kn.includes(yn))||!1)}return pn&&(hn=hn&&(0,fe.n)(Xe,Zt)===pn),hn}}h(qe,"getChannelFilterFunction");const se=(0,dn.Ay)("Get members from flannel by query",(Xe,wt,Wt)=>{let{query:lt,options:ft}=Wt;var St,bt,Ht;const{includeDeleted:zt,matchEmailField:yn,onlyExternal:pn,includeExternal:Zt,includeAllExternal:hn,includeBots:kn,onlyFromExternalTeamId:et,onlyFromExternalWorkspaceId:mt}=(Ht=ft.entities.members)!==null&&Ht!==void 0?Ht:{},pt=((St=ft.entities)===null||St===void 0||(bt=St.members)===null||bt===void 0?void 0:bt.remoteLimit)||ft.limit,Ut=wt(),Ct=(0,Mt.jV)(Ut),fn=[],cn=(0,Q.r7)((0,z.H7)(Ut))||!!Ct,nn=cn?["NOT org"]:["NOT team"],Mn=cn?["org"]:["team"],Wn=!zt,ds=" AND ",Kn={query:lt,count:pt||vs.limit||24,fuzz:(0,Le._Z)(Ut,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||ft.fuzzyLimit===0?0:1,uax29_tokenizer:(0,Le._Z)(Ut,"searcher_flannel_cjk")==="cjk"};return Wn&&fn.push("NOT deactivated"),(pn||et)&&fn.push(...nn),(et||mt)&&(Kn.external_team=et||mt),kn||fn.push("NOT bots"),Zt||fn.push(...Mn),Zt&&hn&&(Kn.include_all_external=!0),yn&&(Kn.search_email=!0),fn.length&&(Kn.filter=fn.join(ds)),(0,Le._Z)(Ut,"searcher_member_workspace_ranking")==="treatment"&&(Kn.enable_workspace_ranking=!0),ft!=null&&ft.topUsers&&(Kn.top_users=ft.topUsers),ft!=null&&ft.currentChannel&&(Kn.current_channel=ft.currentChannel),ft!=null&&ft.currentThreadUsers&&(Kn.current_thread_users=ft.currentThreadUsers),u.S.resolve(Xe((0,k.Wr)({query:Kn}))).timeout(2e3).catch(s.A)});se.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const Ce=(0,dn.Ay)("Get members from flannel by query",(Xe,wt,Wt)=>{let{queries:lt,options:ft}=Wt;var St,bt,Ht,zt;const{includeDeleted:yn,matchEmailField:pn}=(zt=(St=ft.entities)===null||St===void 0?void 0:St.members)!==null&&zt!==void 0?zt:{},Zt=((bt=ft.entities)===null||bt===void 0||(Ht=bt.members)===null||Ht===void 0?void 0:Ht.remoteLimit)||ft.limit||24,hn=wt(),kn=[],et=!yn,mt=" AND ",pt={queries:lt,count:Zt,fuzz:(0,Le._Z)(hn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Le._Z)(hn,"searcher_flannel_cjk")==="cjk"};return et&&kn.push("NOT deactivated"),pn&&(pt.match_email=!0),kn.length&&(pt.filter=kn.join(mt)),u.S.resolve(Xe((0,k.W9)({query:pt}))).timeout(2e3).catch(s.A)});Ce.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function Oe(Xe,wt){const{includeSelf:Wt,includeSlackbot:lt,includeSecurityBot:ft,includeBots:St,includeWorkflows:bt,includeDeleted:Ht,includeExternal:zt,includeGuests:yn,includeProfileOnlyUsers:pn,includeAgents:Zt,onlyLocalTeam:hn,onlyExternal:kn,onlyExternalFromTeams:et,onlyFromExternalTeamId:mt,onlyAgents:pt}=wt??{};return Ut=>{let Ct=!0;if(kn&&(Ct=Ct&&(0,me.g)(Ut)&&!(0,oe.A)(Ut)),Wt||(Ct=Ct&&!(0,le.fy)(Ut)),lt||(Ct=Ct&&!(0,Te.U)(Ut)),ft||(Ct=Ct&&!(0,Me.C)(Ut)),Zt&&(0,ln.TZ)(Xe)){const cn=(0,tt.rs)(Xe);cn&&cn.length&&(0,O.u)(Ut)&&(Ct=Ct&&cn.includes(Ut.id))}if(Zt||(Ct=Ct&&!(0,O.u)(Ut)),et)return(0,o.A)(et,(0,Ue.dQ)(Ut));if(pt){if((0,ln.TZ)(Xe)){const cn=(0,tt.rs)(Xe);if(cn&&cn.length)return cn.includes(Ut.id)}return(0,O.u)(Ut)}if(mt)return Wt&&(0,le.fy)(Ut)?!0:(0,me.g)(Ut)&&(0,Ue.dQ)(Ut)===mt;if(St||(Ct=Ct&&!(0,oe.A)(Ut)&&!(0,Te.U)(Ut)&&!(0,Me.C)(Ut)),bt||(Ct=Ct&&!(0,le.v3)(Ut)),Ht||(Ct=Ct&&!(0,le.oy)(Ut)),zt||(Ct=Ct&&!(0,me.g)(Ut)),yn||(Ct=Ct&&!(0,pe.P)(Ut)),pn||(Ct=Ct&&!(0,le.hh)(Ut)),pn&&(0,le.hh)(Ut)&&(Ct=Ct&&!(0,le.oy)(Ut)),hn){const fn=(0,Mt.ZT)(Xe);(0,le.hh)(Ut)&&pn||(Ct=Ct&&(0,Ue.nO)(Ut,fn))}return Ct}}h(Oe,"getMemberFilterFunction");function Be(Xe,wt){var Wt;const{includeCurrentTeam:lt,includeExternal:ft,onlyExternal:St,onlyCurrentOrg:bt,onlyAvailableToCurrentOrg:Ht,onlyMemberOnCurrentOrg:zt}=wt??{},yn=(0,Mt.Kc)(Xe),pn=(0,ln.WR)(Xe),Zt=(0,os.nv)(Xe,pn),hn=(Zt==null||(Wt=Zt.enterprise_user)===null||Wt===void 0?void 0:Wt.teams)||[];return kn=>!(!lt&&kn.id===(0,Mt.ZT)(Xe)||St&&!(0,$.z)(Xe,kn)||!ft&&!St&&!Ht&&(0,$.z)(Xe,kn)||bt===!0&&kn.id!==yn&&(0,Q.Ss)(kn)!==yn||Ht===!0&&kn.id!==yn&&(0,Q.Ss)(kn)!==yn&&!(0,$.z)(Xe,kn)||zt===!0&&!hn.includes(kn.id))}h(Be,"getTeamFilterFunction");function Je(Xe,wt){const{onlyVisibleMpims:Wt,onlyExternallyShared:lt,includeExternallyShared:ft,onlyFromTeamId:St}=wt??{};return bt=>{let Ht=!0;if(Wt&&(Ht=Ht&&(0,ue.w6)(Xe,bt)),lt&&(Ht=Ht&&(0,ke.ju)(bt)),ft===!1&&(Ht=Ht&&!(0,ke.ju)(bt)),St){var zt;Ht=Ht&&(((zt=(0,re.A)(Xe,bt))===null||zt===void 0?void 0:zt.includes(St))||!1)}return Ht}}h(Je,"getMpimFilterFunction");function rt(Xe,wt){const{onlyExternallyShared:Wt,includeExternallyShared:lt,onlyFromTeamId:ft,onlyVisibleIms:St}=wt??{};return bt=>{let Ht=!0;if(St&&(Ht=Ht&&(0,ue.PE)(Xe,bt)),Wt&&(Ht=Ht&&(0,ke.ju)(bt)),lt||(Ht=Ht&&!(0,ke.ju)(bt)),ft){var zt;Ht=Ht&&(((zt=(0,re.A)(Xe,bt))===null||zt===void 0?void 0:zt.includes(ft))||!1)}return Ht}}h(rt,"getImFilterFunction");function Dt(Xe,wt){const{includeDeleted:Wt,includeFromAnotherTeam:lt,onlyFromExternalWorkspaceId:ft}=wt??{};return St=>{let bt=!0;return lt||(bt=bt&&!(0,Xn.dk)(Xe,St.id)),Wt||(bt=bt&&(0,ae.V1)(St)),ft&&(bt=bt&&(0,ae.$Q)(St)===ft),bt}}h(Dt,"getUserGroupFilterFunction");function Kt(Xe,wt){const{onlyCanvases:Wt=!1,onlyLists:lt=!1,onlyWriteable:ft=!1,onlyChannelCanvases:St=!1,onlyTemplateCanvases:bt=!1,onlySlackNative:Ht=!1,includeChannelCanvases:zt=!1,excludeTemplateCanvases:yn=!1,excludeCannedCanvasTemplates:pn=!1}=wt??{},Zt=(0,Ne.hq)(Xe),hn=(0,Mt.Kc)(Xe),kn=(0,z._J)(Xe,hn),et=kn&&!(0,Q.qR)(kn);return mt=>{let pt=!0;const Ut=(0,Ee.wL)(mt)&&!et||Zt&&zt&&(0,Ee.aD)(mt),Ct=(0,Ee.l7)(mt);return Wt&&(pt=pt&&Ut,(0,Ee.dE)(mt)&&yn||(0,Ee.ny)(mt)&&pn)?!1:(Zt&&(St||et)&&(pt=pt&&!(0,Ee.wL)(mt)&&(0,Ee.aD)(mt)),bt&&(pt=pt&&(0,Ee.dE)(mt)),lt&&(pt=pt&&Ct),ft&&(pt=pt&&(0,Ee.mW)(mt)),Ht&&(pt=Ct||Ut),pt)}}h(Kt,"getFileFilterFunction");const mn=(0,dn.Ay)("Get teams via API by query",(Xe,wt,Wt)=>{let{query:lt,options:ft}=Wt;var St,bt;const{onlyExternal:Ht,includeExternal:zt,remoteLimit:yn}=(bt=(St=ft.entities)===null||St===void 0?void 0:St.teams)!==null&&bt!==void 0?bt:{},pn=wt();if((0,at.DM)(pn))return u.S.resolve();if(Ht||zt)return u.S.resolve(Xe((0,D.Is)(lt))).timeout(2e3).catch(s.A);const Zt=yn||ft.limit||24;return Xe((0,xn.vB)({query:lt,count:Zt})).timeout(2e3).catch(s.A)});mn.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const Xt=(0,dn.Ay)("Get files via API by query",(Xe,wt,Wt)=>{let{query:lt,options:ft}=Wt;var St,bt,Ht;const{onlyCanvases:zt,onlyChannelCanvases:yn,onlyTemplateCanvases:pn,onlyLists:Zt,excludeTemplateCanvases:hn,bypassCache:kn}=(Ht=(St=ft.entities)===null||St===void 0?void 0:St.files)!==null&&Ht!==void 0?Ht:{};let et=lt;pn?et=`type:canvas_template ${lt}`:zt||yn?et=`${hn?"type:quip -type:canvas_template":"type:quip"} ${lt}`:Zt&&(et=`type:list ${lt}`);var mt;return Xe((0,N.yF)({query:et,includeShares:!0,bypassCache:kn,reason:(mt=ft.searchViewContext)!==null&&mt!==void 0?mt:(bt=ft.sort)===null||bt===void 0?void 0:bt.source})).timeout(2e3).catch(s.A)});Xt.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function $t(Xe){const wt=(0,he.A4)(),Wt={},lt=[];y.cw.forEach(St=>{const bt=(0,_t.A)(Xe,{tab:St});(0,yt.A)(Xe,St)&&bt&&!(bt in Wt)&&(lt.push({id:St,name:bt,is_view:!0,is_tab_view:!0}),Wt[bt]=bt)}),y.g5.forEach(St=>{const bt=ut(Xe,St);(0,Ot.A)(Xe,St)&&bt&&!(bt in Wt)&&(lt.push({id:St,name:bt,is_view:!0,is_mva_view:!0}),Wt[bt]=bt)}),wt.forEach(St=>{if(!(0,he.cH)(Xe,St)&&!(St.id==="Pslack-connect"&&!(0,I.A)(Xe))&&St.id!=="Pactivity"&&!(St.id===Z.c.Apps&&!(0,be.t)(Xe))&&!(St.id===Z.c.Shortcuts&&!(0,xe.Bf)(Xe))&&!(St.id===Z.c.BrowseWorkflowTemplates&&!(0,xe.fh)(Xe))&&!(St.id===Z.c.BrowseWorkflowsManagedByYou&&!(0,xe.EH)(Xe))&&!(St.id===Z.c.BrowseYourWorkflowTemplates&&!(0,xe.M7)(Xe))&&((0,he.l1)(Xe,St)||St.id==="Punreads"&&(0,Vn.ty)(Xe,"enable_unread_view"))){const bt=(0,te.yb)(Xe,St);bt&&!(bt in Wt)&&(lt.push({...St,name:bt,is_view:!0,is_page_view:!0}),Wt[bt]=bt)}});const ft=(0,kt.lI)("Vall_threads");return ft&&(0,Vn.ty)(Xe,"enable_threads_view")&&!(0,b.R)(Xe)&&lt.push(ft),lt}h($t,"getLocalViews");function En(Xe){return ne(Xe)}h(En,"getLocalModals");function Tn(Xe){return(0,E.xf)(Xe)?[{id:Xe,score:0,item:{id:Xe,value:Xe,isEmail:!0}}]:[]}h(Tn,"getLocalEmails");function tn(Xe,wt){const Wt=!wt;let lt=v.Ml;if(wt){const ft=(0,it.OL)(Xe,wt);lt=ft&&(0,H.f)(Xe,ft)||v.Ml}return(0,ct.PL)(Xe).flatMap(ft=>{if(ft.teams&&(lt.length||Wt)&&!ft.isWorkspaceAgnostic){const St=Wt?ft.teams:ft.teams.filter(bt=>lt.includes(bt));if(St.length>1)return St.map(bt=>{const Ht=(0,z._J)(Xe,bt),zt=(0,Q.F1)(Ht);return{...ft,name:`${ft.name} ${zt}`,applicableTeamId:bt}})}return[ft]})}h(tn,"getAppActionsWithEntriesPerApplicableTeam");function Fn(Xe,wt,Wt){const lt=(0,it.OL)(Xe,wt),ft=lt?(0,H.f)(Xe,lt)||[]:[];return(0,ge.A_)(Xe,wt,!!Wt,!0).flatMap(St=>{if(St.teams&&ft.length&&St.appName!=="Slack"&&!St.isWorkspaceAgnostic){const bt=St.teams.filter(Ht=>ft.includes(Ht));if(bt.length>1)return bt.map(Ht=>({...St,id:(0,Ke.Bs)(St),isSlashCommand:!0,applicableTeamId:Ht}))}return[{...St,id:(0,Ke.Bs)(St),isSlashCommand:!0}]})}h(Fn,"getSlashCommandsListWithEntriesPerApplicableTeam");function jn(Xe,wt){let Wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Ws(wt);const lt={},{appActions:ft,broadcastKeywords:St,canvasAiSuggestions:bt,channels:Ht,channelSections:zt,emails:yn,emoji:pn,files:Zt,helpArticles:hn,lists:kn,members:et,modals:mt,mpims:pt,salesListViews:Ut,shortcuts:Ct,teams:fn,topEngagedFiles:cn,userGroups:nn,views:Mn,workflowTriggers:Wn}=wt.entities;if(Ht&&(Ht.includePublic||Ht.includePrivate)&&(lt.channels=Ft(Xe,wt)),(pt||Ht!=null&&Ht.includeMpims)&&(lt.mpims=(0,it.FS)(Xe)),Ht!=null&&Ht.includeIms&&(lt.ims=(0,it._B)(Xe)),et&&(lt.members=et.onlyFromExternalWorkspaceId?v.Ml:(0,os.I_)(Xe).filter(Gn=>(0,on.zP)(Xe,Gn.id))),fn&&(lt.teams=Ze(Xe,wt)),nn&&(lt.userGroups=(0,Xn.jJ)(Xe)),ft&&(lt.appActions=(0,C.B)(Xe)?(0,ct.PL)(Xe):tn(Xe,ft.channel)),Zt&&(lt.files=(0,en.Gn)(Xe)),cn){const Gn=(0,Mt.ZT)(Xe);if(Gn){const Cs=(0,gt.E)({teamId:Gn}).getStaleWhileRevalidate([]);lt.topEngagedFiles=Cs}}if(kn&&(lt.lists=(0,_s.C0)(Xe)),Mn&&(lt.views=$t(Xe)),mt&&(lt.modals=En(Xe)),St){var ds;if(St.includeAll)lt.broadcastKeywords=(0,Se.A)();else if(!(St==null||(ds=St.currentChannel)===null||ds===void 0)&&ds.id){var Kn;lt.broadcastKeywords=(0,Pe.A)(Xe,St==null||(Kn=St.currentChannel)===null||Kn===void 0?void 0:Kn.id)}else lt.broadcastKeywords=[]}if(pn&&(lt.emoji=(0,sn.Gt)(Xe)),zt&&(lt.channelSections=(0,n.A)((0,We.jV)(Xe))),(Ct!=null&&Ct.slashCommands||Ct!=null&&Ct.fakeGlobalActions)&&!(Ct!=null&&Ct.isAnnounceOnly)&&(lt.slashCommands=(0,ge.A_)(Xe,Ct.channel,!!Ct.threadTs,!0).map(Gn=>({...Gn,id:(0,Ke.Bs)(Gn),isSlashCommand:!0}))),Ct!=null&&Ct.slackGlobalActions&&(lt.slackGlobalActions=(0,ge.Yk)(Xe,Ct.channel,Ct.threadTs)),Ct!=null&&Ct.quipShortcutCommands&&(lt.quipShortcutCommands=(0,ot.Aw)(Xe,!!Wt)),Ct!=null&&Ct.channelActions&&(lt.channelActions=(0,G.fo)(Xe,Ct.channel)),Ct!=null&&Ct.fakeGlobalActions&&(lt.fakeGlobalActions=(0,ge.JL)(Xe,Ct.channel,Ct.threadTs)),Ct!=null&&Ct.callActions&&(lt.callActions=(0,ge.Uw)(Xe,Ct.channel,Ct.threadTs,Ct.isAnnounceOnly)),Wn){let Gn=(0,ge.NJ)(Xe);Wn.includeAutomated||(Gn=Gn.filter(Cs=>Cs.type===R.M.Shortcut)),Wn.includeSalesHome||(Gn=Gn.filter(Cs=>!(0,$n.U)(Cs))),lt.workflowTriggers=Gn}yn&&(lt.emails=Tn(Wt));const Bn=(0,Qe.dL)(Xe);if(hn&&Bn&&(lt.helpArticles=(0,_n.Fb)(Xe,"searcher/fetch_all_articles")),Ut){const{objectType:Gn,salesforceOrgId:Cs}=Ut,Ns=(0,fs.Up)(Xe),Ds=Gn?(0,fs.Zs)(Xe,Cs,Gn):(0,c.A)(Object.values((0,fs.m3)(Xe,Cs)));lt.salesListViews=Ds.map(Ls=>Ns[Ls])}return bt&&(lt.canvasAiSuggestions=(0,Ye.rW)(Xe,wt)),Fs(),lt}h(jn,"fetchLocal");const rs=(0,dn.Ay)("Search for local entities within Slack based on options",(Xe,wt,Wt)=>{let{query:lt,options:ft,autoTraceId:St,parentSpanId:bt}=Wt;var Ht;const zt=wt(),yn=(Ht=F.LI.get({label:F.gC.Searcher,id:St}))===null||Ht===void 0?void 0:Ht.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:bt}}),pn=[],Zt=[],{channels:hn,mpims:kn,files:et,members:mt,teams:pt,userGroups:Ut,appActions:Ct,emoji:fn,helpArticles:cn,workflowTriggers:nn,salesListViews:Mn}=ft.entities;if(mt){const Bn=Xe(se({query:lt,options:ft}));mt.runaway?Zt.push(Bn):pn.push(Bn)}if(hn){const Bn=Xe(st({query:lt,options:ft}));hn.runaway?Zt.push(Bn):pn.push(Bn)}if(kn){const Bn=Xe(vt({query:lt,options:ft}));kn.runaway?Zt.push(Bn):pn.push(Bn)}if(fn){const Bn=Xe(At({query:lt,options:ft}));fn.runaway?Zt.push(Bn):pn.push(Bn)}if(et&&((0,g.A)(lt)||lt.length>3)){const Bn=(0,Gt.G)(wt());if(!Bn.contains(lt)&&!Bn.isRequestInFlight()){Bn.add(lt),Bn.setRequestInFlight();const Gn=Xe(Xt({query:lt,options:ft}));et.runaway?Zt.push(Gn):pn.push(Gn)}}if(Ut){const Bn=Xe(Tt({query:lt,options:ft}));Ut.runaway?Zt.push(Bn):pn.push(Bn)}if(pt&&((0,Ae.k)(zt)||pt.onlyExternal||pt.includeExternal)&&!pt.onlyLocal){const Bn=Xe(mn({query:lt,options:ft}));pt.runaway?Zt.push(Bn):pn.push(Bn)}if(nn){const Bn=(0,Pt.X)(zt);if(!Bn.contains(lt)&&!Bn.isRequestInFlight()){var Wn;Bn.add(lt),Bn.setRequestInFlight();var ds;const Gn=Xe(Vt({query:lt,includeAutomatedTriggers:nn.includeAutomated,reason:(ds=ft.searchViewContext)!==null&&ds!==void 0?ds:(Wn=ft.sort)===null||Wn===void 0?void 0:Wn.source}));Gn&&(nn.runaway?Zt.push(Gn):pn.push(Gn))}}if((0,nt.e)(zt)&&Ct){const Bn=u.S.resolve(Xe((0,rn.G)())).timeout(2e3).catch(s.A);Ct.runaway?Zt.push(Bn):pn.push(Bn)}const Kn=(0,Qe.dL)(zt);if(cn&&Kn&&(0,_n.Fb)(zt,"searcher/fetch_all_articles"),(0,_.u)(lt)&&Mn){const{objectType:Bn,salesforceOrgId:Gn}=Mn;pn.push(Xe((0,is.b)({query:lt,objectType:Bn,salesforceOrgId:Gn})))}return u.S.all(pn).then(Bn=>{const Gn=wt(),Cs=jn(Gn,ft,lt);if(Cs.remoteIds=ls(Bn),mt&&mt.onlyFromExternalWorkspaceId){var Ns,Ds;Cs.members=(Ds=(Ns=Bn.find(qn=>!!qn.members))===null||Ns===void 0?void 0:Ns.members)!==null&&Ds!==void 0?Ds:v.Ml}const Ls=(0,l.A)((0,n.A)(Cs),"length");return Zt.length&&!Ls?u.S.all(Zt).then(()=>jn(wt(),ft)):(yn==null||yn.close(),Cs)})});rs.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function ls(Xe){const wt={};return Xe.forEach(Wt=>{Wt&&(Wt.appActions&&(wt.appActions=new Set(Wt.appActions.map(lt=>lt.id))),Wt.channels&&(wt.channels=new Set(Wt.channels.map(lt=>lt.id))),Wt.emoji&&(wt.emoji=new Set(Wt.emoji.map(lt=>lt.name))),Wt.files&&(wt.files=new Set(Wt.files.map(lt=>lt.id))),Wt.members&&(wt.members=new Set(Wt.members.map(lt=>lt.id))),Wt.userGroups&&(wt.userGroups=new Set(Wt.userGroups.map(lt=>lt.id))),Wt.teams&&(wt.teams=new Set(Wt.teams.map(lt=>lt.id))))}),wt}h(ls,"getRemoteIds");const ns=(0,dn.Ay)("Search for entities within Slack by query",(Xe,wt,Wt)=>{let{query:lt="",options:ft=vs}=Wt;var St;if(!lt.length&&!ft.allowEmptyQuery)return u.S.resolve([]);const bt=wt(),Ht=(0,He.Cy)({state:bt}),zt=(0,p.A)();Ht.mark(`modern-searcher-search-mark-${zt}`);const yn=(0,jt.O)(lt,{shouldTrimEmoji:!1,shouldTrimDocument:!1});var pn;F.LI.start({label:F.gC.Searcher,id:zt,options:{teamId:(pn=(0,Mt.ZT)(bt))!==null&&pn!==void 0?pn:null,tags:cs({query:yn,options:ft})}});const Zt=(St=F.LI.get({label:F.gC.Searcher,id:zt}))===null||St===void 0?void 0:St.createChildSpan({name:"searcher:search"}),hn=Os(ft,vs,lt);if((0,i.A)(hn))return u.S.resolve([]);if((0,ce.x)(bt)!==Nt.M9.ONLINE||!(ft!=null&&ft.allowEmptyQueryRemoteSearch)&&!yn.length&&(0,It.A)()&&(0,Le._Z)(bt,"searcher_local_empty_string")==="treatment")return u.S.resolve(as(bt,{query:yn,options:hn,autoTraceId:zt,parentSpanId:Zt==null?void 0:Zt.getId()}));const kn=u.S.delay(0).then(()=>Xe(rs({query:yn,options:hn,autoTraceId:zt,parentSpanId:Zt==null?void 0:Zt.getId()}))).then(et=>{const mt=wt();return Rs(mt,{query:yn,data:et,options:hn,autoTraceId:zt,parentSpanId:Zt==null?void 0:Zt.getId()})});if(hn.tiered){const et=as(bt,{query:yn,options:hn,autoTraceId:zt,parentSpanId:Zt==null?void 0:Zt.getId()}),mt=kn.finally(()=>{Zt==null||Zt.close(),F.LI.stop({label:F.gC.Searcher,id:zt})}),pt=Object.assign(et,{promise:mt});return u.S.resolve(pt).finally(()=>{Ht.measureAndClear(`modern-searcher-search-mark-${zt}`,"modern-searcher-search-tiered")})}return kn.finally(()=>{Ht.measureAndClear(`modern-searcher-search-mark-${zt}`,"modern-searcher-search"),Zt==null||Zt.close(),F.LI.stop({label:F.gC.Searcher,id:zt})})});ns.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function as(Xe,wt){let{query:Wt="",options:lt,autoTraceId:ft,parentSpanId:St}=wt;var bt;let Ht=ft;if(!Ht){Ht=(0,p.A)();var zt;F.LI.start({label:F.gC.Searcher,id:Ht,options:{teamId:(zt=(0,Mt.ZT)(Xe))!==null&&zt!==void 0?zt:null,tags:cs({query:Wt,options:lt})}})}const yn=(bt=F.LI.get({label:F.gC.Searcher,id:Ht}))===null||bt===void 0?void 0:bt.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:St}});if(!Wt.length&&!lt.allowEmptyQuery)return[];const pn=Os(lt,vs,Wt);if((0,i.A)(pn))return[];const Zt=(0,jt.O)(Wt,{shouldTrimEmoji:!1}),hn=jn(Xe,pn),kn=Rs(Xe,{query:Zt,data:hn,options:pn,autoTraceId:Ht,parentSpanId:yn==null?void 0:yn.getId()});return yn==null||yn.close(),kn}h(as,"searchLocal");const Ss=15,Us=h(Xe=>{let{clogger:wt,data:Wt}=Xe;const{source:lt,query:ft,results:St,selectedItemId:bt,displayedItemIds:Ht,openMethod:zt}=Wt,yn=Ht?Ht.length:St.length,pn=Ht&&bt?Ht.indexOf(bt):St.findIndex(cn=>cn.item.id===bt);if(pn<0)return;const Zt=St.find(cn=>cn.item.id===bt);if(!Zt)return;const hn=Zt.type||"other",kn=(0,jt.O)(ft),et=Zt.source||"local";let mt;Zt.type==="mpim"?mt=Zt.scoreDetailsByMember:Zt.type==="member"&&bt?mt={[bt]:{is_exact_match:Zt.isExactMatch,exact_match_details:Zt.exactMatchDetails,score_details:Zt.scoreDetails}}:Zt.type==="emoji"&&bt&&(mt={[bt]:{is_exact_match:Zt.isExactMatch}});let pt=[];St.some(cn=>cn.featureVector)&&(Ht?pt=Ht.map(cn=>{const nn=St.find(Mn=>Mn.item.id===cn);return nn&&nn.featureVector.serialize()||""}):pt=St.map(cn=>{var nn,Mn;return cn==null||(nn=cn.featureVector)===null||nn===void 0||(Mn=nn.serialize)===null||Mn===void 0?void 0:Mn.call(nn)}));let Ct;(0,a.A)(ft)?Ct=ft.reduce((cn,nn)=>cn+Ts((0,jt.O)(nn)),0):Ct=Ts(kn);const fn={source:lt,query_length:kn.length?kn.length:0,query_terms_length:Ct,results_length:yn,selected_position:pn,selected_type:hn,selected_source:et,selected_match_details:mt,feature_vector_list:pt.slice(0,Ss),open_method:zt};wt.track(Fe.EventId.SEARCHER_ACCEPT,fn)},"clogSearcherAccept"),ys=h(Xe=>{let{clogger:wt,data:Wt}=Xe;const{source:lt,query:ft,results:St,displayedItemIds:bt}=Wt,Ht=bt!==void 0?bt.length:St.length,zt=(0,jt.O)(ft);let yn;(0,a.A)(ft)?yn=ft.reduce((Zt,hn)=>Zt+Ts((0,jt.O)(hn)),0):yn=Ts(zt);const pn={source:lt,query_length:zt.length?zt.length:0,query_terms_length:yn,results_length:Ht};wt.track(Fe.EventId.SEARCHER_REJECT,pn)},"clogSearcherReject");function Ts(Xe){return Xe?Xe.split(T.u).filter(wt=>wt.length).length:0}h(Ts,"getQueryTermsLength");function Rs(Xe,wt){let{query:Wt,data:lt,options:ft,autoTraceId:St,parentSpanId:bt}=wt;var Ht,zt,yn,pn,Zt;const hn=(Ht=F.LI.get({label:F.gC.Searcher,id:St}))===null||Ht===void 0?void 0:Ht.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:bt}});Ws(ft);const kn=(0,Le._Z)(Xe,"searcher_avoid_exact_member_match")==="treatment",et=(0,Le._Z)(Xe,"nerf_email_fuzzy_match")==="treatment",mt=(0,Le._Z)(Xe,"searcher_emoji_cache_regex_work")==="treatment",pt=(0,Le._Z)(Xe,"ml_fuzzy_match_beyond_word_boundaries")==="treatment",Ut=(0,Le._Z)(Xe,"searcher_cache_fuzzy_match_n_grams")==="treatment",Ct={},fn=h((As,ks)=>{const Un=new Map;return[...As,...ks].forEach(aa=>{Un.set(aa.id,aa)}),Array.from(Un.values())},"mergeAndDeduplicate"),cn={...ft,sort:{...ft.sort,avoidExactMatchForMembers:kn},fuzzyEmailSearchForwardOnly:et,optimizeEmojiRegexWork:mt,optimizeFuzzyMatchingNGramsWork:Ut};pt&&(cn.beyondWordBoundaryFuzzyLimit=6,cn.matchBeyondWordBoundaries=!0);const nn=new Jt.A({query:Wt,options:cn}),Mn=(0,He.Cy)({state:Xe});Mn.mark("modern-searcher-matching-mark");const Wn=(zt=F.LI.get({label:F.gC.Searcher,id:St}))===null||zt===void 0?void 0:zt.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:hn==null?void 0:hn.getId()}});if(lt.channels&&(Ct.channels=nn.filterChannels(Xe,lt.channels,qe(Xe,ft.entities.channels))),lt.members&&(Ct.members=nn.filterMembers(Xe,lt.members,Oe(Xe,ft.entities.members))),lt.emails&&lt.members&&!(!(Ct==null||(yn=Ct.members)===null||yn===void 0)&&yn.length)&&(Ct.emails=lt.emails),lt.mpims){var ds;Ct.mpims=nn.filterMpims(Xe,lt.mpims,Je(Xe,(ds=ft.entities.mpims)!==null&&ds!==void 0?ds:ft.entities.channels))}lt.ims&&(Ct.ims=nn.filterIms(Xe,lt.ims,rt(Xe,ft.entities.channels))),lt.userGroups&&(Ct.userGroups=nn.filterUserGroups(Xe,lt.userGroups,Dt(Xe,ft.entities.userGroups))),lt.teams&&(Ct.teams=nn.filterTeams(Xe,lt.teams,Be(Xe,ft.entities.teams))),lt.views&&(Ct.views=nn.filterViews(Xe,lt.views)),lt.modals&&(Ct.modals=nn.filterModals(Xe,lt.modals)),lt.appActions&&(Ct.appActions=nn.filterAppActions(Xe,lt.appActions)),lt.slashCommands&&(Ct.slashCommands=nn.filterShortcuts(Xe,lt.slashCommands,!0)),lt.slackGlobalActions&&(Ct.slackGlobalActions=nn.filterShortcuts(Xe,lt.slackGlobalActions)),lt.quipShortcutCommands&&(Ct.quipShortcutCommands=nn.filterShortcuts(Xe,lt.quipShortcutCommands)),lt.canvasAiSuggestions&&(Ct.canvasAiSuggestions=nn.filterShortcuts(Xe,lt.canvasAiSuggestions)),lt.channelActions&&(Ct.channelActions=nn.filterShortcuts(Xe,lt.channelActions)),lt.fakeGlobalActions&&(Ct.fakeGlobalActions=nn.filterShortcuts(Xe,lt.fakeGlobalActions)),lt.callActions&&(Ct.callActions=nn.filterShortcuts(Xe,lt.callActions)),lt.workflowTriggers&&(Ct.workflowTriggers=nn.filterWorkflowTriggers(Xe,lt.workflowTriggers)),lt.appActions&&(!(ft==null||(pn=ft.entities)===null||pn===void 0||(Zt=pn.shortcuts)===null||Zt===void 0)&&Zt.apps)&&(Ct.apps=nn.filterApps(Xe,lt.appActions,lt.fakeGlobalActions,lt.slashCommands)),lt.broadcastKeywords&&(Ct.broadcastKeywords=nn.filterBroadcastKeywords(Xe,lt.broadcastKeywords)),lt.emoji&&(Ct.emoji=nn.filterEmoji(Xe,lt.emoji)),lt.channelSections&&(Ct.channelSections=nn.filterChannelSections(Xe,lt.channelSections,As=>{var ks,Un;return!!(!((ks=ft.entities.channelSections)===null||ks===void 0||(Un=ks.includeTypes)===null||Un===void 0)&&Un[As.type])})),lt.files&&(Ct.files=nn.filterFiles(Xe,lt.files,Kt(Xe,ft.entities.files))),lt.topEngagedFiles&&(Ct.topEngagedFiles=nn.filterFiles(Xe,lt.topEngagedFiles,Kt(Xe,ft.entities.topEngagedFiles))),lt.lists&&(Ct.lists=nn.filterLists(Xe,lt.lists));const Kn=(0,Qe.dL)(Xe);lt.helpArticles&&Kn&&(Ct.helpArticles=nn.filterHelpArticles(Xe,lt.helpArticles)),lt.salesListViews&&((0,M.hx)(Xe)||(0,P.ZK)(Xe))&&(Ct.salesListViews=nn.filterSalesListViews(Xe,lt.salesListViews)),Mn.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Wn==null||Wn.close();const Bn=ps(Ct,lt.remoteIds||{});let Gn;Gn=Bn.topEngagedFiles,delete Bn.topEngagedFiles;const Cs=500,Ns=3;var Ds;const Ls=Math.min(((Ds=ft==null?void 0:ft.limit)!==null&&Ds!==void 0?Ds:1)*Ns,Cs);let qn=(0,c.A)(Object.values(Bn));if(ft.sort&&!ft.sort.bypassSorting){var bs;let As=!1;qn.length<Ls&&(As=!0);const ks=new Yt.A({query:Wt,options:{modelOnly:As,...ft.sort,optimizeFuzzyMatchingNGramsWork:Ut}}),Un=(bs=F.LI.get({label:F.gC.Searcher,id:St}))===null||bs===void 0?void 0:bs.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:hn==null?void 0:hn.getId()}});qn=ks.sort(Xe,Bn),Un==null||Un.close(),Gn&&(Gn=(0,Qt.jW)(Xe,{query:Wt,list:Gn,bonusPoints:ks.getFrecencyBonusPointsFunction(Xe)}))}if(Gn&&(qn=fn(qn,Gn)),ft.sort&&ft.sort.frecency&&!ft.sort.bypassSorting){var sa;const As=(sa=F.LI.get({label:F.gC.Searcher,id:St}))===null||sa===void 0?void 0:sa.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:hn==null?void 0:hn.getId()}});qn=new Rt.A({query:Wt,options:{...ft.sort},teamId:(0,Mt.ZT)(Xe),enterpriseId:(0,Ae.k)(Xe)&&(0,Mt.jV)(Xe)?(0,Mt.jV)(Xe):void 0}).sort(Xe,qn.slice(0,Ls)),As==null||As.close()}return ft.limit&&(qn=(0,r.A)(qn,ft.limit)),ft.returnMetadata||(qn=qn.map(As=>As.item)),Fs(),qn||[]}h(Rs,"processFetchedEntities");function ps(Xe,wt){return(0,d.A)(Xe,(Wt,lt)=>{const ft=Hs(lt),St=wt[lt];let bt=!1;return lt==="topEngagedFiles"&&(bt=!0),Wt.map(Ht=>{const zt=St&&St.has(Ht.item.id)?"remote":"local";return{...Ht,type:ft,source:zt,isTopEngagedFile:bt}})})}h(ps,"addResultMetadata");function Hs(Xe){switch(Xe){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"topEngagedFiles":return"file";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesListViews":return"salesListViews";case"canvasAiSuggestions":return"canvasAiSuggestions";default:return"other"}}h(Hs,"getTypeFromGroup");function Os(Xe,wt,Wt){const{members:lt,channels:ft,userGroups:St,broadcastKeywords:bt,emoji:Ht}=Xe.entities,{members:zt,channels:yn,userGroups:pn}=wt.entities;let Zt={},hn="";Wt!=null&&Wt.length&&(hn=Array.isArray(Wt)?"@":Wt.charAt(0)),(hn==="@"||hn==="\uFF20")&&(lt||St||bt)?(lt&&(Zt.members=Ms(lt,zt)),St&&(Zt.userGroups=Ms(St,pn)),bt&&(Zt.broadcastKeywords=Ms(bt,{}))):(hn==="#"||hn==="\uFF03")&&ft?Zt.channels=Ms(ft,yn):hn===":"&&Ht?Zt.emoji=Ms(Ht,{}):Zt=Object.keys(Xe.entities).reduce((Ds,Ls)=>{const qn=Xe.entities[Ls];return qn&&(Ds[Ls]=Ms(qn,wt.entities[Ls])),Ds},{});var kn;const et=Ms((kn=Xe==null?void 0:Xe.sort)!==null&&kn!==void 0?kn:{},wt.sort);var mt;const pt=(mt=Xe.limit)!==null&&mt!==void 0?mt:wt.limit;var Ut;const Ct=(Ut=Xe.fuzzyLimit)!==null&&Ut!==void 0?Ut:wt.fuzzyLimit;var fn;const cn=(fn=Xe.beyondWordBoundaryFuzzyLimit)!==null&&fn!==void 0?fn:wt.beyondWordBoundaryFuzzyLimit;var nn;const Mn=(nn=Xe.fuzzyJumpLimit)!==null&&nn!==void 0?nn:wt.fuzzyJumpLimit;var Wn;const ds=(Wn=Xe.matchBeyondWordBoundaries)!==null&&Wn!==void 0?Wn:wt.matchBeyondWordBoundaries,Kn=Xe.fuzzyCJK||wt.fuzzyCJK,Bn=Xe.tiered,Gn=Xe.filter,Cs=Xe.allowEmptyQuery,Ns=Xe.returnMetadata||wt.returnMetadata;return et&&(et.model=et.model||(0,Bt.In)()),{entities:Zt,sort:et,limit:pt,tiered:Bn,filter:Gn,allowEmptyQuery:Cs,fuzzyLimit:Ct,beyondWordBoundaryFuzzyLimit:cn,fuzzyJumpLimit:Mn,matchBeyondWordBoundaries:ds,fuzzyCJK:Kn,returnMetadata:Ns,searchViewContext:Xe.searchViewContext,topChannels:Xe.topChannels,topUsers:Xe.topUsers,currentChannel:Xe.currentChannel,currentThreadUsers:Xe.currentThreadUsers,defaultWorkspace:Xe.defaultWorkspace}}h(Os,"getAllOptions");function Ms(Xe,wt){if(!wt||Xe===!1)return Xe;const Wt=Xe===!0?{}:Xe,lt=wt===!0?{}:wt;return(0,m.A)(Wt,lt)}h(Ms,"mergeOptions");function Ws(Xe){const{members:wt,channels:Wt,teams:lt,userGroups:ft,appActions:St,files:bt}=Xe.entities;(wt||Wt||lt||ft||St||bt)&&U.Ay.pauseRefetchIndefinitely()}h(Ws,"pauseConditionalFetching");function Fs(){U.Ay.unpauseRefetchImmediately()}h(Fs,"unpauseConditionalFetching"),(0,f.ul)("searcher",{search:(Xe,wt)=>(0,ht.Qw)(Xe,ns({options:wt})),searchLocal:(Xe,wt)=>{const Wt=(0,ht.$D)(Xe);return as(Wt,{options:wt})}})},9477160860:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(344860614);function o(){return o=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(l[r]=a[r])}return l},o.apply(this,arguments)}h(o,"_extends");const n=h(l=>{const i=l,a=t.forwardRef((r,d)=>{const m=(0,s.Zp)(),f=(0,s.wQ)(),u=(0,s.zy)(),E=(0,s.g)();return t.createElement(i,o({ref:d},r,{navigate:m,navigationType:f,location:u,params:E}))});return a.displayName=`withRouter(${i.displayName})`,a},"withRouter");n.displayName="withRouter";const c=n},1181734040:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(6122756707),s=e(7397682160);function o(){const{getState:n}=(0,t.Pj)();return(0,s.e)({getState:n})}h(o,"useClogger")},7717665856:(B,A,e)=>{"use strict";e.d(A,{M:()=>o});var t=e(3134334389),s=e(1182212603);function o(n,c){let{element:l=document,isEnabled:i=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=(0,t.useRef)(c);a.current=c,(0,t.useEffect)(()=>{if(!i)return;const r=(0,s.h)(l);if(!r)return;const d=h(m=>{var f;(f=a.current)===null||f===void 0||f.call(a,m)},"handlerWrapper");return r.addEventListener(n,d),()=>{r.removeEventListener(n,d)}},[l,n,i])}h(o,"useEventListener")},6157971158:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(9641247190),o=e(7874250141),n=e(280840163);function c(l,i){const{addFocusTransitionListener:a,removeFocusTransitionListener:r}=(0,s.Gx)(),d=(0,n.d4)(o.JY),m=(0,t.useCallback)(f=>{var u;const E=f==null||(u=f.options)===null||u===void 0?void 0:u.teamId;return E&&E!==d?!1:i(f)},[d,i]);(0,t.useEffect)(()=>(a(l,m),()=>{r(l,m)}),[a,m,r,l])}h(c,"useFocusTransitionListener")},5103828537:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(3134334389);function s(){const o=(0,t.useRef)(!1);return(0,t.useEffect)(()=>(o.current=!0,()=>{o.current=!1})),o}h(s,"useMounted")},8090731885:(B,A,e)=>{"use strict";e.d(A,{d:()=>s});var t=e(3134334389);function s(o){const n=(0,t.useRef)();return n.current===void 0&&(n.current=o()),n.current}h(s,"useRefCreator")},9222460942:(B,A,e)=>{"use strict";e.d(A,{Z:()=>s});var t=e(3134334389);const s=h(function(o){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const l=(0,t.useRef)(),i=(0,t.useCallback)(()=>{const a=l.current;a&&(window.clearTimeout(a),l.current=void 0)},[]);return(0,t.useEffect)(()=>(i(),l.current=window.setTimeout(o,n),i),[o,i,n,...c]),i},"useTimeout")},4384701014:(B,A,e)=>{"use strict";e.d(A,{x:()=>o});var t=e(6122756707),s=e(292027566);function o(){const{getState:n}=(0,t.Pj)();return(0,s.E)({getState:n})}h(o,"useTracer")},5321945674:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(6122756707),s=e(280840163),o=e(293248343),n=e(2577163594);function c(l){const i=(0,t.wA)();return[(0,s.d4)(a=>(0,o.ty)(a,l)),a=>i((0,n.AZ)({pref:l,value:a}))]}h(c,"useUserPref")},7133487920:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3134334389),s=e(3659369705),o=e(1137236691);function n(){const c=(0,s.y3)()&&o.pRi.isAvailable(),l=c?(0,o.pRi)():1,[i,a]=(0,t.useState)(l);return(0,t.useEffect)(()=>{if(!c)return;function r(){const d=(0,o.pRi)();d!==i&&a(d)}return h(r,"onWindowResize"),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[c,i]),i}h(n,"useZoomFactor")},268142347:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s){const o=h(()=>{window.Cypress||s()},"unloadHandler");window.addEventListener("beforeunload",o)}h(t,"addUnloadHandler")},1526568855:(B,A,e)=>{"use strict";e.d(A,{Ep:()=>c,n2:()=>i,Ay:()=>r});var t=e(6313685253);const s=window.AudioContext||window.webkitAudioContext,o=window.AnalyserNode;var n=e(9650261137);const c=6;function l(d){let m=1;for(;m*2<d;)m*=2;return m}h(l,"getPowerof2LessThan");function i(d){let f=.01;for(const E of d)f=Math.max(f,(E-128)/128);const u=(Math.log(.01)-Math.log(f))/Math.log(.01);return Math.min(Math.max(u,0),1)}h(i,"computeStrength");function a(d){return(0,t.A)(d,(m,f)=>{const u=f.getSettings().sampleRate;return u!==void 0&&m!==void 0?Math.max(m,u):u},void 0)}h(a,"getMaxTrackSampleRate");let r=h(class{getLevel(){var m;return(m=this.analyserNode)===null||m===void 0||m.getByteTimeDomainData(this.data),i(this.data)/c}stop(){var m;if(this.analyserNode){var f;(f=this.audioNode)===null||f===void 0||f.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(m=this.audioCtx)===null||m===void 0||m.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(m,f){(0,n.M)(f>=0,"Level poll interval must be positive"),this.audioCtx=new s;const u=m.getAudioTracks();(0,n.M)(!!u.length,"Need audio tracks to run analyser");const v=(a(u)||48e3)*f/1e3,g=Math.max(32,Math.min(32768,l(v)));this.data=new Uint8Array(g),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=g,this.audioNode=this.audioCtx.createMediaStreamSource(m),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},8168760232:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(2210395577);class s{createPublisher(c){return this.publishers[c]=new t.G,this.publishers[c]}createAllPublisher(){return this.allPublisher=new t.G,this.allPublisher}publish(c,l){const i=this.publishers[c];i&&i.publish(l)}publishAll(c,l){var i;const a={peerId:c,value:l};(i=this.allPublisher)===null||i===void 0||i.publish(a)}subscribe(c,l){(this.publishers[c]||this.createPublisher(c)).subscribe(l)}subscribeAll(c){this.createAllPublisher().subscribe(c)}unsubscribe(c,l){const i=this.publishers[c];i&&i.unsubscribe(l)}constructor(){this.publishers={}}}h(s,"PeerPubSub");const o=new s},661358823:(B,A,e)=>{"use strict";e.d(A,{x:()=>c});var t=e(1526568855),s=e(8168760232),o=e(117763669);const n=100;class c{setPreviewStream(i){if(!i){this.previewAudioAnalyser=void 0;return}this.previewAudioAnalyser=new t.Ay(i,n)}cleanup(){var i,a;this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=0),(i=this.previewAudioAnalyser)===null||i===void 0||i.stop(),this.previewAudioAnalyser=void 0,(a=this.selfAudioAnalyser)===null||a===void 0||a.stop(),this.selfAudioAnalyser=void 0}constructor(){this.intervalHandle=window.setInterval(()=>{this.selfAudioAnalyser&&s.A.publish("self",this.selfAudioAnalyser.getLevel()),this.previewAudioAnalyser&&o.A.publish(this.previewAudioAnalyser.getLevel())},n)}}h(c,"PreviewAudioLevelMonitor")},117763669:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(2210395577);const s=new t.G},473690655:(B,A,e)=>{"use strict";e.d(A,{O:()=>t});class t{get(o){if(!this.cache.has(o))return;const n=this.cache.get(o);return this.cache.delete(o),this.cache.set(o,n),n}set(o,n){if(this.cache.has(o))this.cache.delete(o);else if(this.cache.size>=this.maxSize){const c=this.cache.keys().next().value;this.cache.delete(c)}this.cache.set(o,n)}has(o){return this.cache.has(o)}delete(o){this.cache.has(o)&&this.cache.delete(o)}size(){return this.cache.size}clear(){this.cache.clear()}constructor(o=20){this.cache=new Map,this.maxSize=o}}h(t,"LRUCacheMapOnly")},9655647811:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(1985486637),s=e(3278623468),o=e(3442279907),n=e(7575242561),c=e(3142213496);async function l(f){const u=new c.A({url:f?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const E=await new n.Ay().q(u);return JSON.parse(E).region}catch{return""}}h(l,"fetchNearestChimeMediaRegion");var i=e(268142347),a=e(2691514942);let r=h(class Zs{writeRegions(u,E){const v=E?Zs.GOV_REGION_STORAGE_KEY:Zs.REGION_STORAGE_KEY,g={regions:u,timestamp:Date.now(),version:Zs.VERSION};try{localStorage.setItem(v,JSON.stringify(g))}catch(T){(0,a.Wo)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",T.message)}}readRegions(u){const E=u?Zs.GOV_REGION_STORAGE_KEY:Zs.REGION_STORAGE_KEY,v=localStorage.getItem(E);if(!v)return null;let g=null;try{g=JSON.parse(v)}catch(T){return(0,a.Wo)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",T.message),null}return g.version!==Zs.VERSION||this.ttl&&Date.now()-g.timestamp>this.ttl?null:g}constructor(u){this.ttl=u}},"ChimeRegionStorage");r.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",r.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",r.VERSION=1;var d=e(9230761942);let m=h(class ws{static getInstance(){return ws.instance||(ws.instance=new ws),ws.instance}async getNearestChimeMediaRegion(u){return(u?(0,o.H)(u):!1)?this.getNearestChimeGovMediaRegion():this.getNearestChimeCommercialMediaRegion()}async getNearestChimeCommercialMediaRegion(){if(!this.commercialRegions){const u=this.storage.readRegions(!1);u&&(this.commercialRegions=u.regions)}return this.commercialRegions?this.commercialRegions:this.remoteGetNearestChimeMediaRegion(!1)}async getNearestChimeGovMediaRegion(){if(!this.govRegions){const u=this.storage.readRegions(!0);u&&(this.govRegions=u.regions)}return this.govRegions?this.govRegions:this.remoteGetNearestChimeMediaRegion(!0)}async remoteGetNearestChimeMediaRegion(u){const E=await t.S.resolve(l(u));return u?this.govRegions=E:this.commercialRegions=E,this.storage.writeRegions(E,u),E}init(){if(this.initialized)return 0;this.initialized=!0;const u=(0,s.z$)();let E=ws.INITIAL_LOAD_DELAY;const v=this.storage.readRegions(u);v&&(u?this.govRegions=v.regions:this.commercialRegions=v.regions,E=Math.max(ws.INITIAL_LOAD_DELAY,ws.REFRESH_INTERVAL-(Date.now()-v.timestamp)));const g=setTimeout(async()=>{await this.remoteGetNearestChimeMediaRegion(u);const T=new d.A(ws.REFRESH_INTERVAL);T.start(async()=>{await this.remoteGetNearestChimeMediaRegion(u)}),(0,i.A)(()=>{T.stop()})},E);return(0,i.A)(()=>{clearTimeout(g)}),E}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new r(ws.REFRESH_INTERVAL)}},"ChimeRegionProvider");m.REFRESH_INTERVAL=3*24*60*60*1e3,m.INITIAL_LOAD_DELAY=5*1e3},9230761942:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});let t=h(class{start(o){this.stop(),this.timer=setInterval(o,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(o){this.intervalMs=o,this.timer=null}},"IntervalScheduler")},3147136603:(B,A,e)=>{"use strict";e.d(A,{F4:()=>b,GC:()=>k,lP:()=>D,no:()=>_});var t=e(9113979368),s=e(3677587543),o=e(2084938045),n=e(5225990054),c=e(4743206017),l=e(2691514942),i=e(5222398525),a=e(292027566),r=e(7874250141),d=e(7188858884),m=e(7844154218);const f="RTM-EVENT-METRICS",u=4;let E=!1,v;const g=50;function T(){return E?!0:(0,c.Dt)()?(v===void 0&&(v=(0,n.A)(g),v&&(0,l.Wo)({label:f}).info("Metrics collection enabled for the current interval.")),v):!1}h(T,"shouldSampleForInterval");let p={},O={},y={},C={},I={},M={};function _(W){let{teamOrEnterpriseId:w,rtmEventType:K,rtmEventSubtype:j,duration:Q,msgs:J,fromEvtLog:z}=W;var ie;if(!T())return;const ee=(0,r.Kc)((ie=(0,d.jp)(w))===null||ie===void 0?void 0:ie.getState());if(!ee)return;const ne=K==="message"?`message/${j}`:K;z&&P({bucket:I,teamOrEnterpriseId:ee,eventType:ne,value:J.length}),P({bucket:O,teamOrEnterpriseId:ee,eventType:ne,value:1}),P({bucket:y,teamOrEnterpriseId:ee,eventType:ne,value:J.length}),P({bucket:C,teamOrEnterpriseId:ee,eventType:ne,value:Q})}h(_,"incrementMetrics");function P(W){let{bucket:w,teamOrEnterpriseId:K,eventType:j,value:Q}=W;var J;const z=(J=w[K])!==null&&J!==void 0?J:{};var ie;const ee=(ie=z[j])!==null&&ie!==void 0?ie:0;z[j]=ee+Q,w[K]=z}h(P,"incrementBucket");function b(W,w){if((0,t.A)(y)&&(0,t.A)(p)){x();return}const K=Object.keys({...y,...p}),j=setInterval(()=>{const Q=(0,l.Wo)({label:f}),J=K.pop();if(!J){Q.info("Completed metrics aggregation",{traceId:W.getTraceId()}),clearInterval(j);return}Q.info(`Sending metric report for id: ${J}`),L({teamOrEnterpriseId:J,clientMetricsTrace:W,performanceTracingTags:w}),N({teamOrEnterpriseId:J,clientMetricsTrace:W,performanceTracingTags:w}),R(J)},1e3)}h(b,"reportRtmMetrics");function S(W,w){const K=(0,d.$D)(W);return{...w,metric_version:u,slow_connection_count:(0,m.d4)(K)}}h(S,"getMetricsTraceMetatags");function N(W){let{teamOrEnterpriseId:w,clientMetricsTrace:K,performanceTracingTags:j}=W;const Q=p[w];if(!Q)return;const J=(0,a.E)({teamOrEnterpriseId:w}),z=J.createMetricsTrace({label:"rtm_incoming",tags:S(w,j),traceId:K.getTraceId(),parentSpanId:K.getRootSpanId()});var ie;const ee=(ie=M[w])!==null&&ie!==void 0?ie:{};let ne=0,Z=0;Object.entries(Q).forEach(te=>{let[he,ue=0]=te;var de;const re=(de=ee[he])!==null&&de!==void 0?de:0;ne+=ue,Z+=re,z.store({name:"rtm_incoming:event_count",value:ue}).addTags({event_type:he,eventlog_count:re,socket_count:ue-re})}),z.store({name:"rtm_incoming:total_event_count",value:ne}),z.store({name:"rtm_incoming:total_event_count:socket",value:ne-Z}),z.store({name:"rtm_incoming:total_event_count:eventlog",value:Z}),(0,l.Wo)({label:f}).info(`${w} total incoming event count: ${ne}`),J.reportTrace(z)}h(N,"maybeReportRawEventCount");function L(W){let{teamOrEnterpriseId:w,clientMetricsTrace:K,performanceTracingTags:j}=W;const Q=y[w];if(!Q)return;const J=(0,a.E)({teamOrEnterpriseId:w}),z=J.createMetricsTrace({label:"rtm_dispatch",tags:S(w,j),traceId:K.getTraceId(),parentSpanId:K.getRootSpanId()});var ie;const ee=(ie=O[w])!==null&&ie!==void 0?ie:{};var ne;const Z=(ne=C[w])!==null&&ne!==void 0?ne:{};var te;const he=(te=I[w])!==null&&te!==void 0?te:{};let ue=0,de=0;Object.entries(Q).forEach(re=>{let[V,H]=re;const X=ee[V],Y=Z[V];if(X===void 0||Y===void 0)return;var q;const fe=(q=he[V])!==null&&q!==void 0?q:0;ue+=H,de+=fe,z.store({name:"rtm_dispatch:duration",value:Y}).addTags({event_type:V,total_events:H,total_batches:X,per_event_duration:Y/H,eventlog_count:fe,socket_count:H-fe})}),z.store({name:"rtm_dispatch:total_event_count",value:ue}),z.store({name:"rtm_dispatch:total_event_count:socket",value:ue-de}),z.store({name:"rtm_dispatch:total_event_count:eventlog",value:de}),(0,l.Wo)({label:f}).info(`${w} total dispatch event count: ${ue}`),J.reportTrace(z)}h(L,"maybeReportEventMetrics");function D(W){let{teamId:w,msgs:K}=W;if(!T())return;const j=(0,d.$D)(w);var Q;const J=(Q=(0,r.Kc)(j))!==null&&Q!==void 0?Q:w,z=K.reduce((ie,ee)=>(!ee||!ee.type||(ie[ee.type]?ie[ee.type]+=1:ie[ee.type]=1),ie),{});Object.entries(z).forEach(ie=>{let[ee,ne]=ie;P({bucket:p,teamOrEnterpriseId:J,eventType:ee,value:ne}),P({bucket:M,teamOrEnterpriseId:J,eventType:ee,value:ne})})}h(D,"countRawEventsVolumeFromEventLog");function k(W){let{teamId:w,msg:K}=W;if(!T()||!K||!K.type)return;const j=(0,d.$D)(w);var Q;const J=(Q=(0,r.Kc)(j))!==null&&Q!==void 0?Q:w;P({bucket:p,teamOrEnterpriseId:J,eventType:K.type,value:1})}h(k,"countRawEventVolume");function x(){v=void 0,p={},y={},O={},C={},I={},M={},(0,l.Wo)({label:f}).info("Metrics collection sampling has been reset.")}h(x,"resetAllCollections");function R(W){v=void 0,delete p[W],delete y[W],delete O[W],delete C[W],delete I[W],delete M[W],(0,l.Wo)({label:f}).info(`Metrics collection sampling has been reset for id: ${W}`)}h(R,"resetCollections");const U=h(()=>({rawEventCountBuckets:p,eventCountBuckets:y,batchCountBuckets:O,durationBuckets:C,eventLogEventCountBuckets:I,eventLogRawEventCountBuckets:M}),"debugGetBuckets");(0,s.ul)("rtmEventMetrics",{debugGetBuckets:U,debugToggleSampling:()=>{E=!E,x(),(0,l.Wo)({label:f}).info(`Interval sampling: ${E?"ON":"OFF"}`)},debugReportMetrics:()=>{const W=(0,i.F)(),w=W.createMetricsTrace({samplingOptions:{sampleType:o.tS.ALWAYS}});b(w,{}),W.reportTrace(w)}}),Object.defineProperty({resetAllCollections:x,debugGetBuckets:U,reportRtmMetrics:b,intervalSampleCache:v},"intervalSampleCache",{get:()=>v,set:W=>{v=W}})},4103604891:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(5950652755),s=e(2691514942);let o=!1;const n=h(r=>{var d;if(!r)return;let m="";const f=r.srcElement||r.target,u=s.Wo&&(0,s.Wo)();if(f&&f.nodeName){if(f.nodeName==="SCRIPT"){const g=f.src;m=`[${r.type||"error"}] from script at ${g} (failed to load?)`}else if(f.nodeName==="IMG"){const g=f.src||f.currentSrc||"unknown";u.warn(`<img> fired error with url = ${g}`);return}}if(r.message==="ResizeObserver loop limit exceeded"||r.message==="ResizeObserver loop completed with undelivered notifications"){u.warn("ResizeObserver observation target modified in handler");return}if(r.message==="can't access dead object"||r.message==="rambox is not defined")return;if(r.error&&r.error.stack&&(m+=` ${r.error.stack}`),r.filename){const g=r.filename,T=r.lineno,p=r.colno;m+=` from ${g}`,T&&(m+=` @ line ${T}, col ${p}`)}let E;if(r.error&&r.error.stack?E=m:E=`${r.message||""} ${m}`,E&&E.replace&&(E=E.replace(/\s+/g," ").trim()),!E||!E.length)if(f){const g=f.nodeName||"unknown";if(g==="VIDEO")return;E=`error event from node of ${g}, no message provided?`}else E="error event fired, no relevant message or node found";E=`\u{1F41E} ${E}`;const v=((d=r.error)===null||d===void 0?void 0:d.subtype)||"js_runtime_error";c({error:r.error||r,msg:E,subtype:v})},"globalErrorHandler");function c(r){const{error:d,msg:m,subtype:f}=r,u={subtype:f};(0,s.Wo)().error(d,m,u)}h(c,"logError");const i=h(r=>{const d=r||window;if(o)return;d.bootGlobalErrorHandler&&(d.removeEventListener("error",d.bootGlobalErrorHandler,!0),d.removeEventListener("unhandledrejection",d.bootGlobalUnhandledRejectionHandler),delete d.bootGlobalErrorHandler,delete d.bootGlobalUnhandledRejectionHandler);const m=!0,f=(0,t.A)(n,1e4);d.addEventListener("error",f,m),d.addEventListener("unhandledrejection",u=>{var E;const v=u==null||(E=u.detail)===null||E===void 0?void 0:E.reason;v&&v instanceof Error&&(v.constructor!==Error||v.subtype)&&n({error:v,filename:"promise_rejection"})}),o=!0},"registerRuntimeErrorHandler"),a={globalErrorHandler:n};Object.defineProperty(a,"logError",{get:()=>c,set:r=>{c=r}}),Object.defineProperty(a,"hasRegisteredRuntimeErrorHandler",{get:()=>o,set:r=>{o=r}})},8263594562:(B,A,e)=>{"use strict";e.d(A,{AZ:()=>S,OF:()=>C,ZI:()=>L,xv:()=>N});var t=e(3398586081),s=e(5154341017),o=e(6890312250),n=e(2240330919),c=e(5238395322),l=e(3677587543),i=e(2084938045),a=e(5225990054),r=e(2691514942),d=e(7411813784),m=e(5222398525),f=e(3122619948),u=e(4216074246);const E=7;let v;const g=[],T=[];let p,O;(0,l.zv)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:g.concat(p),backgroundTeams:T.concat(O)}}));const y=(0,t.A)(()=>(0,a.A)(1)||(0,u.c)());function C(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!(0,f.A)()||!y())return;const k=Math.floor(Date.now()/1e3);if(v!==k){let x=0;if(v){const R=k-v;R>60?(p=void 0,O=void 0,g.length=0,T.length=0):R>1&&(x=k-v)}if(v=k,p!==void 0){g.push(p),T.push(O);for(let U=0;U<x;U++)g.push(0),T.push(0);const R=15*60;if(g.length>=R){const U=(0,d.rh)(),F=(0,s.A)((0,o.A)(g),1),W=(0,n.A)(g)||0,w=(0,c.A)(g);(0,r.Wo)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${w} total, ${W} per second at peak, ${F} per second average`);const j={is_count:!0,allow_zero:!0};U.store(`rtm_nq_at${E}_avg`,F,j),U.store(`rtm_nq_at${E}_max`,W,j),U.store(`rtm_nq_at${E}_total`,w,j),g.length=0,T.length=0}}p=0,O=0}p=(p||0)+D}h(C,"maybeMeasureEnqueueVelocity");let I=0,M=0,_=Date.now(),P=Date.now();const b=5*60*1e3;function S(D){const k=Date.now();I=Math.max(I,D.length),_+b<k&&((0,d.rh)().count("rtm_queue_length_max",I),I=0,_=k)}h(S,"maybeMeasureMaxQueueLength");function N(D){const x=D[0]._enqueuedAt,R=Date.now(),U=x&&R-x;if(M=U?Math.max(M,U):M,P+b<R){const F=(0,m.F)(),W=F.createMetricsTrace({label:"rtm_queue"});W.store({name:"rtm_queue_delay_max",value:M}),F.reportTrace(W),M=0,P=R}}h(N,"maybeMeasureMaxQueueDelay");function L(D,k){const x=(0,m.F)(),R=x.createMetricsTrace({label:"rtm_state_modified",samplingOptions:{sampleType:i.tS.CALL,sampleRate:.01}}),U=k?`${D}/${k}`:D;R.count({name:`rtm_state_modified:${U}`}),x.reportTrace(R)}h(L,"countRTMStateModified")},3107123119:(B,A,e)=>{"use strict";e.d(A,{dj:()=>Z,d1:()=>te,uH:()=>ne,bo:()=>de,sw:()=>Me,mt:()=>Te,yH:()=>me});var t=e(3398586081),s=e(7715417323),o=e(3677587543),n=e(1985486637),c=e(3080160369),l=e(9729010546),i=e(1522654045),a=e(160509973),r=e(2187136646),d=e(3147136603),m=e(3078252698),f=e(8571983633),u=e(6915886995),E=e(9963560),v=e(8859166048),g=e(4846005180),T=e(6251135763),p=e(7874250141),O=e(7188858884),y=e(3351247794),C=e(6122480606);function I(be,ke,Ke){return!be.text||!(g.$2.test(be.text)||g.Oh.test(be.text)||g.K0.test(be.text)||g.y7.test(be.text))||!(0,y.hh)(Ke(),be.channel)?n.K.resolve():ke((0,C.L)({channelId:be.channel})).catch(s.A)}h(I,"maybeEnsureMemberCount");let M=h(async(be,ke)=>{const Ke=ke(),$=h(function(){for(var at=arguments.length,Ve=new Array(at),Se=0;Se<at;Se++)Ve[Se]=arguments[Se];return(0,O.Qw)((0,p.ZT)(Ke),...Ve)},"dispatch"),ae=be.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${be.type} and subtype: ${be.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${be.type}`,nt=(0,m.A)(be.channel)&&(0,T.A)(be.channel)&&!(0,y.hh)(Ke,be.channel)?$((0,u.pX)({ids:[be.channel],reason:ae,callSource:u.aI.EnsureModelObsArePresent})):n.K.resolve();await n.K.all([nt,I(be,$,ke)]).catch(s.A)},"ensureModelObsInMessageArePresent");async function _(be,ke){if(be.subtype)return;const Ke=!1,$=(0,y.OL)(ke(),be.channel,Ke);if(!$||!(0,v.JM)($))return;const ae=(0,f.A)((0,E._V)(ke(),$));(0,E.nT)($)&&!ae||await(0,O.Qw)((0,p.ZT)(ke()),(0,u.jP)({channel:$.id,reason:(0,E.nT)($)&&ae?"preprocess-rtm-message/open-channel-no-last-read":"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))}h(_,"ensureModelObsInMessageAreOpen");async function P(be,ke){if(be.type==="message")try{await M(be,ke),await _(be,ke)}catch{}}h(P,"preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:I,ensureModelObsInMessageAreOpen:_},"ensureModelObsInMessageArePresent",{get:()=>M,set:be=>{M=be}});var S=e(8263594562),N=e(8147338490),L=e(2691514942),D=e(4680514110),k=e(4502442891),x=e(4894634110),R=e(1242487384),U=e(205540855);const F="RTM",W=16;let w={},K={},j={};function Q(be){var ke;return(ke=K[be])!==null&&ke!==void 0?ke:w[be]}h(Q,"getHandler");function J(be){return be.__isShared}h(J,"isSharedHandler");function z(be){return be.teamOrEnterpriseId}h(z,"getTeamOrEnterpriseId");function ie(be){let{messages:ke,teamOrEnterpriseId:Ke}=be;if(ke.msgs.length===0)return;const $=Q(ke.rtmEventType);if($)return{handler:$,messages:ke,teamOrEnterpriseId:Ke}}h(ie,"getRoutedHandler");function ee(be,ke){if(j[be]){const $=isJasmine()||isJest()?`addRtmErrorHandler: duplicate call to add a handler for ${be}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${be}`;throw new Error($)}j[be]=ke}h(ee,"addRtmErrorHandler");function ne(be,ke){he({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:be});const Ke=Object.assign(ke,{__isShared:!0});K[be]=Ke}h(ne,"addSharedRtmHandler");function Z(be,ke){he({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:be}),w[be]=ke}h(Z,"addBatchRtmHandler");function te(be,ke){Z(be,(Ke,$,ae)=>{for(const Ge of Ke)ke(Ge,$,ae)})}h(te,"addRtmHandler");function he(be){let{functionName:ke,handlersName:Ke,rtmEventType:$}=be;if(!w[$]&&!K[$])return;const Ge=(0,c.A)()||(0,l.A)()?`${ke}: duplicate call to add a handler for ${$}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${Ke}', {});\` to work around it.`:`${ke}: a handler is already registered for ${$}`;throw new Error(Ge)}h(he,"throwIfHandlerRegistered");function ue(be){delete w[be]}h(ue,"removeRtmHandler");function de(be){return!!w[be]}h(de,"doesHandlerExist");function re(){return w}h(re,"debugGetHandlers");const V=(0,t.A)(be=>{var ke;if(!(0,k.M)())return!1;const Ke=(ke=(0,O.oK)(be))===null||ke===void 0?void 0:ke.getState();return Ke&&(0,U._Z)(Ke,"profile_rtm")==="on"});let H=null,X={},Y=null;function q(){X={},H=new Profiler({maxBufferSize:1e4,sampleInterval:0}),H.addEventListener("samplebufferfull",h(function(){const ke=this.sampleInterval,Ke=X;this.stop().then($=>{const ae=performance.timeOrigin;for(const[Ge,nt]of Object.entries(Ke)){if(!nt.length)continue;const at=new Date(ae+nt[0].start),Ve=new Date(ae+nt[nt.length-1].end);(0,D.lM)("rtm",Ge,(0,k.W)($,nt),{from:at,until:Ve,sample_interval:ke})}}),q()},"samplebufferfull"))}h(q,"startProfiling");let fe=!1;function ce(be){try{if(fe||!V(be))return;H||q(),Y=performance.now()}catch(ke){fe=!0,(0,L.Ay)({label:F,teamOrEnterpriseId:be}).warn("Unable to begin profiled section",ke)}}h(ce,"beginProfiledSection");function Ee(be){!H||Y===null||(be in X||(X[be]=[]),X[be].push({start:Y,end:performance.now()}),Y=null)}h(Ee,"endProfiledSection");function Ae(be){const{rtmEventType:ke,rtmEventSubtype:Ke,msgs:$,fromEvtLog:ae}=be.messages,Ge=z(be),nt=(0,L.Ay)({label:F,teamOrEnterpriseId:Ge});ce(Ge);const at=performance.now();try{r.Ay.pauseRefetchIndefinitely();const Pe=be.handler,Fe=(0,O.oK)(be.teamOrEnterpriseId),ge=Fe==null?void 0:Fe.getState();J(Pe)?Pe($,be.teamOrEnterpriseId):Pe($,Fe.dispatch,Fe.getState);const He=Fe==null?void 0:Fe.getState();ge!==He&&(0,S.ZI)(ke,Ke)}catch(Pe){throw nt.error(`Error processing ${ke}: ${Pe.message}`),Pe}finally{r.Ay.unpauseRefetchImmediately()}const Ve=performance.now();Ee(Ge);const Se=Ve-at;try{(0,d.no)({teamOrEnterpriseId:Ge,rtmEventType:ke,rtmEventSubtype:Ke,duration:Se,msgs:$,fromEvtLog:ae}),a.A.publish({type:i.lx.RtmMetrics,update:Se})}catch{}if(Se>W){let Pe=`Processed ${$.length} ${ke}`;Ke&&(Pe+=`:${Ke}`),Pe+=" event(s)";const Fe=[];$.forEach(ge=>{var He;const Qe=(He=ge)===null||He===void 0?void 0:He.channel;Qe&&Fe.push(Qe)}),Fe.length&&(Pe+=` in channel(s) ${Fe.join(",")}`),Pe+=` over ${Se.toFixed(2)}ms`,nt.info(Pe)}}h(Ae,"dispatchMessages");const le=50;async function oe(be){let{msgs:ke,getState:Ke}=be;const $={},ae=3e4,Ge=n.S.delay(ae,$),nt=n.S.map(ke,Ve=>P(Ve,Ke).catch(s.A),{concurrency:1});await n.S.race([nt,Ge])===$&&(0,L.Ay)({getState:Ke}).warn("Preprocessing messages took too long; continue to process queue")}h(oe,"preprocessRtmMessagesWithTimeout");async function me(be){let{messages:ke,teamOrEnterpriseId:Ke,elapsed:$}=be;const ae=ie({messages:ke,teamOrEnterpriseId:Ke});return!ae||Ue(Ke)?$:pe({routedHandler:ae,elapsed:$})}h(me,"routeMessages");async function pe(be){let{routedHandler:ke,elapsed:Ke}=be;const $=performance.now(),ae=(0,O.oK)(ke.teamOrEnterpriseId);await oe({msgs:ke.messages.msgs,getState:ae.getState});const Ge=performance.now();Ae(ke);let nt=Ke;return Ge-$>le&&(nt=0),nt+=performance.now()-Ge,nt}h(pe,"dispatchMessagesWithPreprocessing");const Te=(0,x.Ay)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(be,ke,Ke)=>{const $=(0,p.ZT)(ke()),ae=ie({messages:{rtmEventType:Ke.type,rtmEventSubtype:Ke.subtype,msgs:[Ke],fromEvtLog:(0,N.Wu)(Ke)},teamOrEnterpriseId:$});ae&&Ae(ae)});Te.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const Me=(0,x.Ay)("Calls the relevant handler for the given message",(be,ke,Ke)=>{if(!j[Ke]){if(Ke&&Ke.includes&&Ke.includes("started_with_org_token")){var $;(0,L.Ay)({getState:ke}).error(new Error(`Unexpected start error: ${Ke}`),JSON.stringify({error:Ke,pathname:window==null||($=window.location)===null||$===void 0?void 0:$.pathname}),{subtype:"gs_start_error"})}else(0,L.Ay)({getState:ke}).error(new Error(`Unexpected start error: ${Ke}`),JSON.stringify({error:Ke}),{subtype:"gs_start_error"});return}j[Ke](Ke,be,ke)});Me.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function Ue(be){const ke=(0,O.$D)(be);return(0,R.wx)(ke)&&!(0,R.$U)(ke)}h(Ue,"shouldIgnoreRtmStream");const xe=(0,x.Ay)("Fake an RTM event for testing only",(be,ke,Ke)=>{const $=(0,p.ZT)(ke()),ae=ie({messages:{rtmEventType:Ke[0].type,rtmEventSubtype:Ke[0].subtype,msgs:Ke,fromEvtLog:(0,N.Wu)(Ke[0])},teamOrEnterpriseId:$});ae&&Ae(ae)});xe.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const Ne={shouldIgnoreRtmStream:Ue,errorHandlers:j,handlers:w,sharedHandlers:K};Object.defineProperty(Ne,"errorHandlers",{get:()=>j,set:be=>{j=be}}),Object.defineProperty(Ne,"handlers",{get:()=>w,set:be=>{w=be}}),Object.defineProperty(Ne,"sharedHandlers",{get:()=>K,set:be=>{K=be}}),(0,o.ul)("rtm",{handlers:w,errorHandlers:j,interceptHandler:(be,ke)=>{const Ke=w[be];w[be]=function(){for(var $=arguments.length,ae=new Array($),Ge=0;Ge<$;Ge++)ae[Ge]=arguments[Ge];ke(Ke,...ae)}}})},8899037153:(B,A,e)=>{"use strict";e.d(A,{E6:()=>y,cV:()=>I});var t=e(9746734072),s=e(1649982175),o=e(8289365785),n=e(3152270006),c=e(9176700866),l=e(2691514942);let i=h(class{label(){return this._data.label}isUnknown(){return!1}isText(){return!1}isRichText(){return!1}isTimestamp(){return!1}isDate(){return!1}isImage(){return!1}isUser(){return!1}isSlackUser(){return!1}isChannel(){return!1}isTag(){return!1}isLong(){return!1}input(){return this._data.input}static makeField(_){try{switch(_.field_type){case"date":return new E(_);case"user":return new d(_);case"slack_user":return new m(_);case"text":return new r(_);case"rich_text":return new u(_);case"image":return new v(_);case"timestamp":return new T(_);case"tag":return new g(_);case"channel":return new f(_);default:try{(0,n.Kh)(_.field_type)}catch{(0,l.Wo)().warn(`unrecognized work object field type: ${_.field_type}`)}return new a(_)}}catch(P){(0,l.Wo)().error(new Error(`invalid field: ${P}`));return}}data(){return this._data}constructor(_){this._data=_}},"BaseField"),a=h(class extends i{isUnknown(){return!0}value(){return this._value}constructor(_){if(_.rich_text===void 0)throw new Error("missing rich_text property");super(_),this._value=_.rich_text}},"UnknownField"),r=h(class extends i{isText(){return!0}value(){return this._value}isLong(){return this._isLong}constructor(_){if(_.text===void 0)throw new Error("missing text property");super(_),this._value=_.text,this._isLong=!!(_!=null&&_.long)}},"TextField"),d=h(class extends i{isUser(){return!0}value(){return this._value}constructor(_){if(_.user===void 0)throw new Error("missing user property");super(_),this._value=_.user}},"UserField"),m=h(class extends i{isSlackUser(){return!0}value(){return this._value}constructor(_){if(_.slack_user===void 0)throw new Error("missing slack_user property");super(_),this._value=_.slack_user}},"SlackUserField"),f=h(class extends i{isChannel(){return!0}value(){return this._value}constructor(_){if(_.channel===void 0)throw new Error("missing channel property");super(_),this._value=_.channel}},"ChannelField"),u=h(class extends i{isRichText(){return!0}value(){return this._value}isLong(){return this._isLong}constructor(_){if(_.rich_text===void 0)throw new Error("missing rich_text property");super(_),this._value=_.rich_text,this._isLong=!!(_!=null&&_.long)}},"RichTextField"),E=h(class extends i{isDate(){return!0}value(){return this._value}constructor(_){if(_.date===void 0)throw new Error("missing date property");if(_.date.length<1)throw new Error("empty date array");super(_),this._value=_.date[0]}},"DateField"),v=h(class extends i{isImage(){return!0}value(){return this._value}constructor(_){if(_.image===void 0)throw new Error("missing image property");if(_.image.length!==1)throw new Error("image array does not contain exactly one element");super(_),this._value=_.image[0]}},"ImageField"),g=h(class extends i{isTag(){return!0}value(){return this._value}constructor(_){if(_.tag===void 0)throw new Error("missing tag property");if(_.tag.length<1)throw new Error("empty tags array");super(_),this._value=_.tag}},"TagField"),T=h(class extends i{isTimestamp(){return!0}value(){return this._value}constructor(_){if(_.timestamp===void 0)throw new Error("missing timestamp property");if(_.timestamp.length<1)throw new Error("empty timestamp array");super(_),this._value=_.timestamp[0]}},"TimestampField"),p=h(class{key(){return this._key}title(){return this.layout.title.text}subtitle(){var _;return(_=this.layout.subtitle)===null||_===void 0?void 0:_.text}fields(){return this._fields}hasImage(){return this._fields.some(_=>_.isImage())}hasDate(){return this._fields.some(_=>_.isDate())}hasFields(){return!!this._fields.length}headerTitle(){var _;return(_=this.layout.header_title)===null||_===void 0?void 0:_.text}entityId(){return this._entityId}constructor(_,P){this._key=P;const b=_.layouts[this._key];if(!b)throw new Error("invalid layout");this.layout=b;const S=b.fields;var N;this._fields=(N=S==null?void 0:S.elements.map(L=>i.makeField(L)).filter(c.b))!==null&&N!==void 0?N:[],this._entityId=_.entity_id}},"Layout");class O extends p{hoverSubtitle(){var _;return(_=this.layout.hover_subtitle)===null||_===void 0?void 0:_.text}productIcon(){return this.layout.product_icon}constructor(_){super(_,"compact")}}h(O,"CompactLayout");class y extends p{hoverSubtitle(){var _;return(_=this.layout.hover_subtitle)===null||_===void 0?void 0:_.text}productIcon(){return this.layout.product_icon}actions(){return this.layout.actions}constructor(_){super(_,"expanded")}}h(y,"ExpandedLayout");class C extends p{headerTitle(){var _;return(_=this.layout.header_title)===null||_===void 0?void 0:_.text}headerSubtitle(){var _;return(_=this.layout.header_subtitle)===null||_===void 0?void 0:_.text}subtitleUrl(){var _;return(_=this.layout.subtitle)===null||_===void 0?void 0:_.url}subtitleImage(){var _;return(_=this.layout.subtitle)===null||_===void 0?void 0:_.image}isEditable(){var _;return(_=this.layout.editable)!==null&&_!==void 0?_:!1}actions(){return this.layout.actions}titleInput(){return this.layout.title.input}constructor(_){super(_,"full")}}h(C,"FullLayout");class I{static create(_){try{return new I(_)}catch(P){(0,l.Wo)().error(new Error(P));return}}compact(){try{return new O(this.data)}catch{return}}expanded(){try{return new y(this.data)}catch{return}}full(){try{return new C(this.data)}catch{return}}appId(){return this.data.app_id}entityId(){return this.data.entity_id}externalUrl(){return this.data.external_url}authProviderKey(){return this.data.auth_provider_key}lookupFunction(){return this.data.lookup_function}displayType(){return this.data.display_type}entityTypeForClogging(){return this.data.work_object_entity_type}type(){return this.data.work_object_type}appName(){return this.data.app_name}productName(){return this.data.product_name}ts(){return this.data.ts}unfurlLayout(){return this.expanded()||this.compact()}hasLayout(){return Object.keys(this.data.layouts).length>0}static isDeprecatedArrayFormat(_){var P,b,S,N,L,D;return[(P=_.layouts)===null||P===void 0||(b=P.compact)===null||b===void 0?void 0:b.fields,(S=_.layouts)===null||S===void 0||(N=S.expanded)===null||N===void 0?void 0:N.fields,(L=_.layouts)===null||L===void 0||(D=L.full)===null||D===void 0?void 0:D.fields].some(x=>this.fieldsContainsDeprecatedValues(x))}static fieldsContainsDeprecatedValues(_){return _?_.elements.some(b=>(0,t.A)(b.rich_text)||["long_text","short_text"].includes(b.field_type)):!1}static transformDeprecatedArrayFormat(_){const P=_.layouts;if(!P)return;const b=P.compact,S=P.expanded,N=P.full;return{..._,layouts:{...b?{compact:this.transformDeprecatedLayout(b)}:{},...S?{expanded:this.transformDeprecatedLayout(S)}:{},...N?{full:this.transformDeprecatedLayout(N)}:{}}}}static transformDeprecatedLayout(_){return{...(0,s.A)(_,"fields"),...I.transformDeprecatedArrayFields(_.fields)}}static transformDeprecatedArrayFields(_){if(!_)return{};const P=_.elements;return{fields:{..._,elements:P.map(b=>{const S=(0,o.A)(b.rich_text);return{...(0,s.A)(b,["rich_text"]),field_type:this.transformDeprecatedArrayFieldType(b),...S?{rich_text:S}:{}}})}}}static transformDeprecatedArrayFieldType(_){switch(_.field_type){case"long_text":return"rich_text";case"short_text":return _.rich_text?"rich_text":"text";case"timestamp":case"date":case"image":case"user":return _.field_type;default:(0,n.Kh)(_.field_type)}}isFullSizePreviewEnabled(){var _,P;return(P=(_=this.data.full_size_preview)===null||_===void 0?void 0:_.is_supported)!==null&&P!==void 0?P:!1}fullSizePreview(){var _;return(_=this.data)===null||_===void 0?void 0:_.full_size_preview}constructor(_){const P=I.isDeprecatedArrayFormat(_)?I.transformDeprecatedArrayFormat(_):_;if(!P)throw new Error("invalid work object");const b=P.layouts;if(!b)throw new Error("invalid work object");this.data={...P,layouts:b}}}h(I,"WorkObjectModel")},3669526364:(B,A,e)=>{"use strict";e.d(A,{A:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2783339162),c=e(2947229296),l=e(3893134238),i=e(5801849507),a=e(7682027334),r=e(7485328956),d=e(1451419220),m=e(5181078482),f=e(6369345880),u=e(1998042365);function E(){return E=Object.assign||function(O){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(O[I]=C[I])}return O},E.apply(this,arguments)}h(E,"_extends");const v=new c.Ay("find_team");function g(O,y){if((0,i.A)())return(0,r.M6)(location.href,"locale",y);const C=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return O==="en-us"?C:`/intl/${O}${C}`}h(g,"getUrlForLocale");let T=h(class extends t.Component{render(){const{hideRegionPicker:y,showLogo:C,govSlackTheme:I,joinerRedesignTreatment:M}=this.props,_=o()("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":I}),P=o()("full_width",{"p-refreshed_page__full_width_footer":M}),b=t.createElement("footer",{className:"p-refreshed_page__footer"},t.createElement(m.jV,{href:(0,l.v)("/legal"),className:_,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},v.rt("Privacy & Terms")),t.createElement(m.jV,{href:(0,l.v)("/help/requests/new"),className:_,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},v.rt("Contact Us")),!y&&t.createElement(u.Wv,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:this.renderPopover},t.createElement("div",null,t.createElement(m.jV,{onClick:this.onClickChangeRegion,href:"#",className:_,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.createElement(f.A,{type:"globe",size:"inherit",className:"margin_right_25"}),v.rt("Change region"),t.createElement(f.A,{type:"chevron-medium-down",size:"inherit"})))));return t.createElement("div",{className:P},t.createElement("div",{className:o()("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":I})},t.createElement(t.Fragment,null,C&&t.createElement(d.A,{width:80,height:20,className:"p-app_slack_logo"}),b)))}constructor(y){super(y),this.onClickChangeRegion=C=>{C.preventDefault()},this.onClickLocale=C=>{let{locale:I,geocode:M}=C;return()=>{const _=(0,a.LL)((0,n.v8)("c")||"")||{};_.geocode=M;const P=(0,a.Zf)(_,{space:""});(0,n.n0)("i18n_locale",I,365*10,"slack.com"),P&&(0,n.n0)("c",P,365*10,"slack.com")}},this.renderPopover=C=>t.createElement(u.AM,E({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:v.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0,reactRootSelector:"[data-reactroot]"},C),t.createElement("div",{className:"p-refreshed_page__footer_locales"},t.createElement("div",{className:"bold margin_bottom_50"},v.rt("Change region")),t.createElement("div",{className:"margin_bottom_100"},v.rt("Selecting a different region will change the language and content of Slack.com.")),t.createElement("div",{className:"display_flex"},[{title:v.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:v.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:v.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(I=>{let{title:M,locales:_}=I;return t.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:M},t.createElement("div",{className:"bold margin_bottom_50"},M),_.map(P=>{let{locale:b,geocode:S,name:N}=P;return t.createElement(m.jV,{key:b,href:g(S,b),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:b,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:b,geocode:S})},N)}))})))),this.popoverTriggerRef=t.createRef(),this.state={}}},"RefreshedFooter");T.displayName="RefreshedFooter";const p=T},9220717496:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3134334389),s=e(4844578989),o=e.n(s);const n=h(l=>{let{children:i,heading:a,subHeading:r,titleImage:d,headingClassName:m,subHeadingClassName:f,dataQa:u,showFullWidthContent:E,className:v,isSharedWorkspaceInvite:g}=l;return t.createElement("div",{className:o()("p-refreshed_page",{"p-refreshed_page--workspace":g,full_width:E},v),"data-qa":u},d&&d,a&&t.createElement("h1",{className:o()("p-refreshed_page__heading",m,{margin_bottom_200:!r,full_width:E,"p-refreshed_page__heading--workspace":g})},a),r&&t.createElement("div",{className:o()("p-refreshed_page__sub_heading",f,{full_width:E})},r),i)},"RefreshedPageContent");n.displayName="RefreshedPageContent";const c=n},9644861434:(B,A,e)=>{"use strict";e.d(A,{A:()=>W});var t=e(3134334389),s=e(3669526364),o=e(4844578989),n=e.n(o),c=e(9304888665),l=e(6717879785),i=e(2947229296),a=e(5363912984),r=e(3767315291),d=e(5181078482),m=e(8823986650),f=e(5190921192),u=e(431748495),E=e(280840163),v=e(7244028181),g=e.n(v),T=e(3905593281),p=e.n(T),O=e(8999535272),y=e.n(O),C=e(5927481814),I=e.n(C);const M=new i.Ay("refreshed_header"),_={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},P={elementName:"header_signin",onClick:{enableClogAction:!0}},b={elementName:"header_create_account",onClick:{enableClogAction:!0}},S={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},N=y()&&I()?`${y()}, ${I()} 2x`:void 0,L=h(w=>{let{showSignInLink:K=!1,showCreateAccountLink:j=!1,showCreateWorkspaceLink:Q=!1,showHorchataBackground:J=!1,confirmedEmailPill:z,hideLogo:ie=!1,isSSBBrowserSignin:ee=!1,showSfLogo:ne=!1,isWarningBannerDisplayed:Z=!1,govSlackTheme:te=!1,isLandingPage:he=!1,clientTheme:ue,joinerRedesignTreatment:de=!1,isDevProgSignin:re=!1,isMobileWebViewSignup:V=!0,mobileHeaderTitle:H="",handleBackNavigation:X,stepProgress:Y,experimentOptimizeGetStartedFlowGroupTreatment:q}=w;const fe=(0,E.d4)(oe=>(0,a.Q5)(oe,a.C6.SIGNIN_HEADER)),ce=(0,a.eA)(),Ee=fe?`${ee?"/ssb":""}/get-started${ce}${fe}#${r.EU.CreateNew}`:`${ee?"/ssb":""}/get-started${l.J.location.search}#${r.EU.CreateNew}`,Ae=(0,t.useCallback)(()=>{X?X():l.J.history.back()},[X]),le=(0,t.useRef)(null);return(0,t.useEffect)(()=>{le.current&&Y!==void 0&&le.current.style.setProperty("--progress-width",`${Y}%`)},[Y]),t.createElement("header",{ref:le,className:n()("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!z,"p-refreshed_page__header--is_horchata_landing_bg":J,"p-refreshed_page__header--no_logo":!!ie,"p-refreshed_page__header--sf_slack_logo":ne,"p-refreshed_page__header--display_warning_banner":Z,"p-refreshed_page__header--gov_slack":te,"p-refreshed_page__header--landing":he,"p-refreshed_page__full_background":de,"p-refreshed_page__header--mobile":V})},t.createElement("div",{className:"left-col"},V&&t.createElement(d.Nm,{onClick:Ae},t.createElement(f.A,{name:"caret-left",inline:!0,size:"20"}))),t.createElement("div",{className:"center-col"},!V&&t.createElement(t.Fragment,null,ne&&ie&&t.createElement("img",{srcSet:N??void 0,src:y(),alt:""}),!ie&&t.createElement(m.A,{href:(0,u.A)(),autoClogProps:_,target:"_self"},t.createElement("img",{alt:"Slack",src:te||ue===c.Sx.Dark?g():p(),height:"26",title:"Slack"})),z),V&&t.createElement("div",{className:"p-refreshed_page__header--mobile-title"},H,!H&&M.t("Sign Up"))),t.createElement("div",{className:"right-col"},K&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},M.t("Already have an account?"),t.createElement("br",null),t.createElement(m.A,{href:"/signin",className:"bold",autoClogProps:P,target:"_self"},M.t("Sign in instead"))),j&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},M.t("Don\u2019t have an account yet?"),t.createElement("br",null),t.createElement(m.A,{href:`/signup${l.J.location.search}`,className:"bold",autoClogProps:b,target:"_self"},M.t("Create an account"))),Q&&!re&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},q?M.t("Missing something?",{fallbackHash:"3cd1f507d7fa186b84b3a13e6a1a6dcbb4629f87"}):M.t("New to Slack?"),t.createElement("br",null),t.createElement(m.A,{href:Ee,className:"bold",autoClogProps:S,target:"_self"},q?M.t("Sign in to another account",{fallbackHash:"3f4f547d73646d774e8f690b36333e8c9572894b"}):M.t("Create an account"))),re&&t.createElement("div",{className:"p-refreshed_page__header_sidelink","data-qa":"dev-prog-create-account"},M.t("New to Slack\u2019s Developer Program?"),t.createElement("br",null),t.createElement(m.A,{href:"/developer-program/join",className:"bold",autoClogProps:S,target:"_self"},M.t("Create an account")))))},"RefreshedHeader");L.displayName="RefreshedHeader";const D=L;var k=e(5293342600),x=e(9769476932);const R=h(w=>{let{inviteDetails:K,children:j}=w;return!K||!(0,x.YB)(K)?j:t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},t.createElement(k.z,{invite:K,bottomMargin:!0}),t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},j))},"ExternalWorkspaceInviteBrandingWrapper");R.displayName="ExternalWorkspaceInviteBrandingWrapper";const U=R,F=h(w=>{let{children:K,showHorchataBackground:j,showSignInLink:Q,showCreateAccountLink:J,showCreateWorkspaceLink:z,hideRegionPicker:ie,clientTheme:ee,hideFooter:ne=!1,confirmedEmailPill:Z,hideHeader:te=!1,isSSBBrowserSignin:he=!1,showSfLogo:ue=!1,isWarningBannerDisplayed:de=!1,govSlackTheme:re=!1,isLandingPage:V=!1,joinerRedesignTreatment:H=!1,inviteDetails:X,isDevProgSignin:Y=!1,isMobileWebViewSignup:q=!1,mobileHeaderTitle:fe="",handleBackNavigation:ce,stepProgress:Ee,experimentOptimizeGetStartedFlowGroupTreatment:Ae}=w;return t.createElement(U,{inviteDetails:X},t.createElement(t.Fragment,null,!te&&t.createElement(D,{showSignInLink:Q,showCreateAccountLink:J,showCreateWorkspaceLink:z,showHorchataBackground:j,confirmedEmailPill:Z,isSSBBrowserSignin:he,showSfLogo:ue,hideLogo:ue,isWarningBannerDisplayed:de,govSlackTheme:re,isLandingPage:V,clientTheme:ee,joinerRedesignTreatment:H,isDevProgSignin:Y,isMobileWebViewSignup:q,mobileHeaderTitle:fe,handleBackNavigation:ce,stepProgress:Ee,experimentOptimizeGetStartedFlowGroupTreatment:Ae}),re?t.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},K):K,!ne&&t.createElement(s.A,{hideRegionPicker:ie,govSlackTheme:re,joinerRedesignTreatment:H})))},"RefreshedPageLayout");F.displayName="RefreshedPageLayout";const W=F},3767315291:(B,A,e)=>{"use strict";e.d(A,{EU:()=>s});var t=e(321010523),s;(function(a){a.Start="/",a.Find="/find",a.Create="/create",a.CreateNew="/createnew",a.Confirm="/confirm",a.Check="/check",a.FindAgain="/find_again",a.Email="/email",a.Error="/error",a.ConfirmationCode="/confirmemail",a.DomainClaimed="/domain",a.Landing="/landing",a.ConfirmTrust="/confirmtrust",a.IgnoreInvite="/ignoreinvite",a.SignIn="/signin",a.Workspaces="/workspaces",a.SharedInviteLoggedOut="/sharedinvite",a.SharedInviteLanding="/sharedinvitelanding",a.SelectWorkspaces="/select",a.AppleSignIn="/apple",a.AddName="/addname"})(s||(s={}));var o;(function(a){a.SharedChannelInviteAlreadyAccepted="invite_used",a.SharedChannelInviteInvlidLink="invalid_link",a.DirectMessageInviteInactive="inactive_invite",a.Generic="generic"})(o||(o={}));const n={[s.Start]:t.UiStep.START_WITH_A_WORKSPACE,[s.Create]:t.UiStep.CREATE_NEW_WORKSPACE,[s.CreateNew]:t.UiStep.CREATE_NEW_WORKSPACE,[s.Find]:t.UiStep.FIND_YOUR_WORKSPACE,[s.Check]:t.UiStep.CHECK_YOUR_EMAIL,[s.FindAgain]:t.UiStep.FIND_YOUR_WORKSPACE,[s.Email]:t.UiStep.ENTER_EMAIL,[s.Confirm]:t.UiStep.ENTER_EMAIL,[s.Error]:t.UiStep.GET_STARTED_ERROR,[s.ConfirmationCode]:t.UiStep.GET_STARTED_CONFIRM_CODE,[s.DomainClaimed]:t.UiStep.GET_STARTED_DOMAIN_CLAIMED,[s.Landing]:t.UiStep.GET_STARTED_CREATOR_LANDING,[s.SignIn]:t.UiStep.GET_STARTED_SIGN_IN,[s.Workspaces]:t.UiStep.GET_STARTED_WORKSPACES,[s.SharedInviteLoggedOut]:t.UiStep.SHARED_INVITE_LOGGED_OUT,[s.SharedInviteLanding]:t.UiStep.SHARED_INVITE_LANDING,[s.SelectWorkspaces]:t.UiStep.GET_STARTED_SELECT_WORKSPACES,[s.AppleSignIn]:t.UiStep.GET_STARTED_APPLE_SIGN_IN,[s.ConfirmTrust]:t.UiStep.GET_STARTED_CONFIRM_TRUST,[s.IgnoreInvite]:t.UiStep.GET_STARTED_IGNORE_INVITE,[s.AddName]:t.UiStep.GET_STARTED_ADD_NAME};var c;(function(a){a.Invited="invited",a.Joined="joined",a.Whitelisted="whitelisted"})(c||(c={}));var l;(function(a){a.Email="email",a.GoogleIdToken="google_id_token",a.Apple="apple_id_token"})(l||(l={}));const i={newUser:"new_user",existingUser:"existing_user"}},7992134375:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>E,UU:()=>f,lS:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(9477160860),l=e(6369345880),i=e(8823986650);const a=new n.Ay("team_creation");var r;(function(v){v.Unchecked="unchecked",v.Empty="empty-status",v.Processing="processing",v.Ratelimited="ratelimited",v.Expired="expired",v.RequestNewCode="request-new-code",v.Error="error",v.Blocked="ratelimited-blocked",v.GoogleTokenExpired="google-token-expired",v.Unknown="unknown",v.Success="success",v.CaptchaFailed="captcha-failed"})(r||(r={}));const m={RequestNewCode:"code_check_status_request_new_code_link"};class f extends t.Component{getStatusMessage(){const{status:g,onRequestNewCode:T}=this.props;let p=null;switch(g){case r.Unchecked:p=t.createElement("span",{className:"small_desc"},a.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case r.Processing:p=t.createElement(t.Fragment,null,t.createElement(l.A,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.createElement("span",{className:"c-alert__message"},a.t("Checking your code\u2026",{fallbackHash:"41a08e01909771ac149f5a8735eedeec3421261c"})));break;case r.Ratelimited:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,a.t("Whoa, you\u2019re going too fast!")),t.createElement("br",null),a.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case r.Error:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("That code wasn't valid. Give it another go!")));break;case r.Expired:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case r.Blocked:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,a.t("Temporarily blocked")),t.createElement("br",null),a.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case r.GoogleTokenExpired:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,O=>{let{text:y}=O;return t.createElement(i.A,{href:`/get-started${window.location.search}#create`},y)})));break;case r.RequestNewCode:T&&(p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},O=>{let{text:y}=O;return t.createElement(i.A,{"data-qa":m.RequestNewCode,onClick:T},y)}))));break;case r.Unknown:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("Oops! Looks like something went wrong.")));break;case r.Success:p=t.createElement("span",{className:"small_desc"},a.t("Success!"));break;default:break}return p}render(){const{status:g,isCentered:T,id:p,className:O}=this.props;if(!g)return null;const y=o()("c-alert confirmation_code_state_message",O,{"c-alert--boxed":g!==r.Unchecked,"c-alert--level_default":g===r.Processing,"c-alert--level_warning":g===r.Ratelimited||g===r.Expired||g===r.RequestNewCode,"c-alert--level_error":g===r.Error||g===r.Blocked||g===r.Unknown||g===r.CaptchaFailed,"invisible c-alert--level_default":g===r.Empty,"c-alert--align_center":T},g);return this.getStatusMessage()?t.createElement("div",{className:"confirmation_code_checker","data-state":g,"data-qa":g,id:p},t.createElement("p",{role:"alert",className:y},this.getStatusMessage())):null}}h(f,"CodeCheckStatus"),f.displayName="CodeCheckStatus";let u=h(class extends f{getStatusMessage(){const{status:g}=this.props;return g===r.RequestNewCode?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},T=>{let{text:p}=T;return t.createElement(i.A,{href:"#",onClick:this.handleNavigateBackToEmailEntry},p)}))):g===r.CaptchaFailed?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("Code confirmation timed out, can you <link>please enter your email again</link>",{"<link>":T=>{let{text:p}=T;return t.createElement(i.A,{href:"#",onClick:this.handleNavigateBackToEmailEntry},p)}}))):super.getStatusMessage()}constructor(...g){super(...g),this.handleNavigateBackToEmailEntry=T=>{T.preventDefault();const{navigate:p}=this.props;p(-1)}}},"CodeCheckStatusWithRouter");const E=(0,c.A)(u)},7080753947:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(9867500491),o=e(2947229296),n=e(4844578989),c=e.n(n),l=e(2688958968),i=e(1763568369),a=e(6592155914);function r(){return r=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(E[T]=g[T])}return E},r.apply(this,arguments)}h(r,"_extends");let d=h(class extends t.Component{render(){const{isDisabled:v,isInvalid:g=!1,ariaDescribedBy:T,className:p}=this.props;return t.createElement("div",{className:c()("split_input_item",p,{focused:this.props.hasFocus})},t.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":T,disabled:v,"aria-disabled":v,"aria-invalid":g}))}constructor(...v){super(...v),this.onKeyDown=g=>{switch(g.keyCode){case l.G_:{g.currentTarget.value||this.props.moveLeft();return}case l.UQ:return g.preventDefault(),this.props.moveLeft();case l.LE:return g.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=g=>{const{isNumbersOnly:T}=this.props;(T?!(0,i.A)(g.which):!(0,i.$)(g.which))&&g.charCode&&!(0,a.A)(g)&&g.preventDefault()},this.onChange=g=>{const T=g.target.value,{isNumbersOnly:p}=this.props;((p?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(T)||T==="")&&this.props.onChange(T.toUpperCase())},this.onPaste=g=>{g.preventDefault();const{isNumbersOnly:T}=this.props,p=window.clipboardData||g.clipboardData,O=p.getData("text")||p.getData("text/plain"),y=T?/\D/g:/[^a-zA-Z0-9]/g,C=O.replace(y,"");this.props.onPaste(C)}}},"CodeInput");d.displayName="CodeInput";const m=t.forwardRef((E,v)=>t.createElement(d,r({},E,{refToForward:v}))),f=new o.Ay("team_creation");let u=h(class extends t.Component{focusInput(v){const g=this.inputRefs[v];g&&g.current&&g.current.focus()}moveLeft(v){v<=0||this.focusInput(v-1)}moveRight(v){v>=this.state.values.length-1||this.focusInput(v+1)}isComplete(v){return!v.some(g=>!g)}clear(){this.setState(v=>({values:v.values.map(()=>"")})),this.focusInput(0)}onChange(v,g){const T=this.state.values.slice();T[v]=g,this.setState(()=>({values:T}),()=>{g&&!this.isComplete(this.state.values)&&this.moveRight(v)})}componentDidUpdate(v,g){if(!this.isComplete(g.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&g.values.join("")!==this.state.values.join("")){const T=this.state.values.join("");this.props.onFillCode(T)}else g.values.join(",")!==this.state.values.join(",")&&this.props.onChange();v.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(v,g){const{isDisabled:T,isNumbersOnly:p=!0,isInvalid:O=!1,ariaDescribedBy:y,govSlackTheme:C=!1}=this.props;return this.state.values.slice(v,g).map((I,M)=>{const _=M+v;return t.createElement(m,{isNumbersOnly:p,key:_,ref:this.inputRefs[_],moveLeft:()=>this.moveLeft(_),moveRight:()=>this.moveRight(_),onChange:P=>this.onChange(_,P),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:_})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===_,value:this.state.values[_],ariaLabel:f.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:_+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:y,isInvalid:O,isDisabled:T,className:C?"split_input_item--gov_slack":""})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50 split_input_item--container","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(v){super(v),this.onPaste=g=>{const T=this.state.focusedInputIndex;if(T===-1)return;const p=this.state.values.length-T,O=g.substring(0,p).split(""),y=this.state.values.slice();O.forEach((C,I)=>{const M=I+T;y[M]=C}),this.setState(()=>({values:y}),()=>{this.focusInput(Math.min(this.state.values.length-1,T+O.length))})},this.state={values:(0,s.A)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"SplitInput");u.defaultProps={isNumbersOnly:!0}},1763568369:(B,A,e)=>{"use strict";e.d(A,{$:()=>s,A:()=>t});function t(o){return o>=48&&o<=57}h(t,"isNumericKey");function s(o){const n=String.fromCharCode(o);return!!/[a-zA-Z0-9]/.test(n)}h(s,"isAlphaNumericKey")},3523843162:(B,A,e)=>{"use strict";e.d(A,{K_:()=>I,XR:()=>y,yb:()=>C});var t=e(2947229296),s=e(6849488129),o=e(3367211912),n=e(8021418369),c=e(6010046757),l=e(5689133621),i=e(6506860933),a=e(5406890873),r=e(2691514942),d=e(7414731323),m=e(542703974),f=e(4068857279),u=e(3392850123),E=e(8813793118);const v=new t.Ay("client"),g=h(M=>(0,d.iT)(M)?v.t("Calendar"):v.t("Huddles"),"huddlePageLabel"),T=h(M=>{const _=(0,E.k)(M),P=(0,m.iH)(M);return _?P?v.t("Get started"):v.t("Explore AI features"):v.t("Paid Plan Benefits")},"paidBenefitsPageLabel"),p={[i.c.Composer]:()=>v.t("New message"),[i.c.Drafts]:()=>v.t("Drafts & sent"),[i.c.EmailInbox]:M=>(0,o.w3)(M)?v.t("Emails"):"",[i.c.ScheduledMessages]:()=>v.t("Scheduled"),[i.c.Sent]:()=>v.t("Sent"),Pthread:()=>v.t("Thread"),[i.c.Empty]:()=>{},[i.c.Unreads]:()=>v.t("Unreads"),[i.c.Apps]:()=>v.t("Apps"),[i.c.Shortcuts]:()=>v.t("Workflows"),[i.c.BrowseWorkflowsManagedByYou]:()=>v.t("Workflows managed by you"),[i.c.BrowseYourWorkflowTemplates]:()=>v.t("Your workflow templates"),[i.c.BrowseWorkflowTemplates]:()=>v.t("Templates"),[i.c.WorkflowEditor]:M=>(0,a.Lh)(M)?v.t("Workflow Editor"):"",[i.c.WorkflowBeingCreated]:M=>(0,a.Lh)(M)?v.t("Workflow Creation"):"",[i.c.WorkflowDetails]:()=>v.t("Workflow Details",{ns:"workflow_builder"}),[i.c.Activity]:()=>v.t("Activity"),[i.c.Saved]:()=>v.t("Saved items"),[i.c.PaidBenefits]:M=>T(M),[i.c.BrowseChannels]:()=>v.t("All channels"),[i.c.SetupTeamName]:()=>v.t("Setup Team Name"),[i.c.SetupProfile]:()=>v.t("Profile"),[i.c.SetupChannels]:()=>v.t("Setup Channels"),[i.c.SetupInvites]:()=>v.t("Setup Invites"),[i.c.SetupCalendarContactImport]:()=>"Setup Contact Import",[i.c.SetupTada]:()=>"Setup Tada",[i.c.SetupWelcome]:()=>v.t("Setup Welcome"),[i.c.SetupPeople]:()=>v.t("Setup People"),[i.c.SetupStraightToPaidPlans]:()=>v.t("Setup Plans"),[i.c.JoinerLaunchpad]:M=>(0,u.lD)(M)?v.t("Your guide to Slack"):v.t("Get started"),[i.c.SalesAutoSlackLaunchpad]:()=>v.t("Get started"),[i.c.ResurrectedUserWelcome]:()=>v.t("Welcome back"),[i.c.TenuredTeamSolutions]:()=>v.t("Tips for how you work"),"Pbrowse-channels-prototype":()=>v.t("All channels"),[i.c.BrowseFiles]:()=>v.t("All files"),[i.c.Calendar]:M=>(0,s.A)(M)?v.t("Calendar"):"",[i.c.BrowsePeople]:()=>v.t("All people"),[i.c.BrowseExternalContacts]:()=>v.t("External people"),[i.c.BrowseUserGroups]:()=>v.t("User groups"),[i.c.BrowseExternalWorkspaces]:()=>v.t("Spaces"),[i.c.Search]:()=>v.t("Search Results"),[i.c.SlackConnect]:()=>v.t("Slack Connect"),[i.c.SlackConnectInvitation]:()=>v.t("Slack Connect Invitation"),[i.c.OfflineOutbox]:()=>"Offline outbox",[i.c.Huddles]:M=>g(M),[i.c.BrowseHuddles]:M=>g(M),[i.c.Today]:()=>"Today",[i.c.TodayV2]:()=>v.t("Today"),[i.c.Later]:()=>v.t("Later"),[i.c.BrowseOrgChart]:()=>v.t("Org chart"),"Pasync-modals":()=>"Modals",[i.c.BrowseCanvases]:()=>v.t("Canvases"),[i.c.BrowseLists]:()=>"Lists",[i.c.Todos]:()=>v.t("To-dos"),[i.c.Recents]:()=>v.t("Recently viewed"),[i.c.RecentPlatform]:()=>v.t("Recently viewed"),[i.c.DailyDigest]:()=>v.t("Recap"),[i.c.ActionItems]:()=>v.t("Action items"),[i.c.Inbox]:()=>v.t("Activity"),[i.c.BrowseUnifiedFiles]:()=>v.t("Docs"),[i.c.BrowseUnifiedFilesCanvases]:()=>v.t("Canvases"),[i.c.BrowseUnifiedFilesLists]:()=>v.t("Lists"),[i.c.BrowseUnifiedFilesExternalResults]:()=>v.t("All files"),[i.c.BrowseUnifiedFilesFolders]:()=>v.t("Folders"),[i.c.BrowseUnifiedFilesFolder]:()=>v.t("Folder",{fallbackHash:"30baa24967e08965d1594408031f0324ae11ccac",fallbackHashNs:"tabbed-channel"}),[i.c.ExplorePaidFeatures]:()=>v.t("Explore trial",{fallbackHash:"ca707507931434b140b7bdfd0f4dd0780d21165f"}),[i.c.BrowseUnifiedFilesGoogleDrive]:M=>(0,n.c)(M)?v.t("Google Drive"):"",[i.c.BrowseUnifiedFilesOnedrive]:M=>(0,n.c)(M)?v.t("OneDrive & SharePoint"):"",[i.c.SetupAppDownload]:()=>v.t("Get started"),[i.c.SetupBusinessChallenge]:M=>(0,f.R)(M)?v.t("Business Challenge"):"",[i.c.SetupDepartment]:M=>(0,f.R)(M)?v.t("Setup Department"):"",[i.c.SetupCollaboration]:M=>(0,f.R)(M)?v.t("Setup Collaboration"):"",[i.c.ChannelTemplates]:M=>{const _=(0,l.g)(M),P=(0,c.tb)(M);return _&&P?v.t("Channel Templates"):""}},O={};function y(M){return!M||!p[M]?((0,r.Wo)().error(`getLabelFunctionForPage called with invalid pageId: ${M}`),null):p[M]}h(y,"getLabelFunctionForPage");const C=h((M,_)=>y(_.id)(M),"getPageLabel");function I(M){if(M)return O[M]}h(I,"getAriaLabelFunctionForPage")},327178018:(B,A,e)=>{"use strict";e.d(A,{KH:()=>S,MC:()=>k,PL:()=>D,SV:()=>N,a$:()=>_,gO:()=>P});var t=e(6066600258),s=e(9662350539),o=e(3107123119),n=e(5856665040),c=e(2691514942),l=e(8309327671),i=e(4894634110),a=e(7188858884),r=e(1786688495),d=e(2435381582),m=e(1231006465),f=e(1242487384),u=e(9383537253),E=e(7844154218);const v="AWARENESS-MANAGER",g="AWARENESS-MANAGER-CHIME",T=`[${v}] unknown awareness subtype`,p=3e4,O=250,y=5e3,C=15,I=(0,i.Ay)("Query for awareness state from other users who are subscribed to the topic",async(R,U,F)=>{const W=U();if(!(0,E.ON)(W))return;const w=(0,f.WR)(W),K={channel:F,type:"awareness",subtype:m.Pz.QUERY,user:w};try{R((0,n.tN)(K))}catch(j){(0,c.Ay)({getState:U}).warn("Failed to send awareness query: ",j)}});I.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const M=(0,i.Ay)("Send awareness state to other users who are subscribed to the topic",async(R,U,F)=>{const W=U();if(!(0,E.ON)(W))return;const w=(0,f.WR)(W),K=(0,d.fL)(W,F,w),j={channel:F,type:"awareness",subtype:m.Pz.BROADCAST,user:w,awareness_state:K};try{R((0,n.tN)(j))}catch(Q){(0,c.Ay)({getState:U}).warn("Failed to send awareness query: ",Q)}});M.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const _=(0,i.Ay)("Temporarily subscribe to a topic for updates",(R,U,F)=>{const W=U();if((0,E.ON)(W))try{R((0,n.tN)({channel_id:F,type:"temp_channel_sub"}))}catch(w){(0,c.Ay)({getState:U}).warn("Failed to subscribe to awareness topic: ",w)}});_.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const P=(0,i.Ay)("Temporarily unsubscribe from topic updates",(R,U,F)=>{const W=U();if((0,E.ON)(W))try{R((0,n.tN)({channel_id:F,type:"temp_channel_unsub"}))}catch(w){(0,c.Ay)({getState:U}).warn("Failed to unsubscribe from awareness topic: ",w)}});P.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const b=(0,i.Ay)("Alert other users who are subscribed to the topic that a subscriber has left",async(R,U,F)=>{const W=U();if(!(0,E.ON)(W))return;const w=(0,f.WR)(W),K={channel:F,type:"awareness",subtype:m.Pz.CLOSE,user:w};try{R((0,n.tN)(K))}catch(j){(0,c.Ay)({getState:U}).warn("Failed to send awareness query: ",j)}});b.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class S{maybeSendCurrentAwarenessState(U){const F=(0,a.oK)(this.teamId);return F?(F.dispatch(M(U)),!0):!1}maybeSendAwarenessQuery(U){const F=(0,a.oK)(this.teamId);return F?(F.dispatch(I(U)),!0):!1}maybeSendAwarenessCloseState(U){const F=(0,a.oK)(this.teamId);return F?(F.dispatch(b(U)),!0):!1}constructor({teamId:U}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=U}}h(S,"RtmBroadcaster");class N{onDisconnectDataChannel(){var U;(U=this.audioVideoFacade)===null||U===void 0||U.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(U){this.audioVideoFacade=U,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,(0,c.Wo)().warn(g,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(U){}maybeSendCurrentAwarenessState(U){var F;if(!this.connected)return(0,c.Wo)().info(g,`${this.connected} ${U} Can't send yet, not connected`),!1;const W=(0,a.oK)(this.teamId);if(!W)return(0,c.Wo)().warn(g,`${this.connected} ${U} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const w=W.getState(),K=(0,f.WR)(w);W.dispatch((0,r.c6)({topicId:U,userId:K}));const j=(0,u.pL)(w),J=(0,d.fL)(w,U,K,j?"self":void 0).map(ie=>new s.Y.AwarenessPayload({fieldName:ie.field_name,fieldValue:ie.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!ie.field_timestamp_ms&&{fieldTimestampMs:ie.field_timestamp_ms}})),z=new s.Y.AwarenessBroadcast({channel:U,user:(0,f.WR)(W.getState()),awarenessState:J});return(F=this.audioVideoFacade)===null||F===void 0||F.realtimeSendDataMessage(this.dataChannelTopic,s.Y.encode(new s.Y({awarenessBroadcast:z})).finish()),!0}maybeSendAwarenessQuery(U){var F;if(!this.connected)return(0,c.Wo)().info(g,`${this.connected} ${U} Can't send yet, not connected`),!1;(0,c.Wo)().warn(g,`${this.connected} ${U} Sending awareness query`);const W=(0,a.oK)(this.teamId);if(!W)return(0,c.Wo)().warn(g,`${this.connected} ${U} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const w=new s.Y.AwarenessQuery({channel:U,user:(0,f.WR)(W.getState())});return(F=this.audioVideoFacade)===null||F===void 0||F.realtimeSendDataMessage(this.dataChannelTopic,s.Y.encode(new s.Y({awarenessQuery:w})).finish()),!0}maybeSendAwarenessCloseState(U){var F;if(!this.connected)return(0,c.Wo)().info(g,`${this.connected} ${U} Can't send yet, not connected`),!1;(0,c.Wo)().warn(g,`${this.connected} ${U} Sending awareness query`);const W=(0,a.oK)(this.teamId);if(!W)return(0,c.Wo)().warn(g,`${this.connected} ${U} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const w=new s.Y.AwarenessClose({channel:U,user:(0,f.WR)(W.getState())});return(F=this.audioVideoFacade)===null||F===void 0||F.realtimeSendDataMessage(this.dataChannelTopic,s.Y.encode(new s.Y({awarenessClose:w})).finish()),!0}constructor({teamId:U,peerId:F,topicId:W,isHuddlesAwarenessTimestampEnabled:w}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=U,this.peerId=F,this.connected=!1,this.topicId=W,this.isHuddlesAwarenessTimestampEnabled=!!w}}h(N,"ChimeChannelBroadcaster");class L{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(F=>{(0,c.Wo)().debug(v,`Running TTL for ${F}`);const W=(0,a.oK)(F);W&&W.dispatch((0,r._y)())}),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const U=(0,l.A)(C,-.25,.25);this.dirtyTopics.forEach(F=>{(0,t.A)(()=>{const W=this.dataChannels.get(F);W&&W.maybeSendCurrentAwarenessState(F)&&this.dirtyTopics.delete(F)},U)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(U=>{const F=this.dataChannels.get(U);F&&F.maybeSendCurrentAwarenessState(U)&&this.dirtyTopics.delete(U)}),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(U=>{if(this.topicToTeamMap.get(U)){const W=this.dataChannels.get(U);W&&W.maybeSendAwarenessQuery(U)&&this.dirtyTopics.delete(U)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(U){if(!this.watchedTopics.has(U)){(0,c.Wo)().info(v,`Ignoring topic change for unwatched topic ${U}`);return}this.dirtyTopics.add(U),this.dirtyBroadcastTimeoutId||((0,c.Wo)().info(v,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),O)),this.perodicBroadcastTimeoutId||((0,c.Wo)().info(v,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),p)),this.periodicTTLId||((0,c.Wo)().info(v,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),y))}removeTopicId(U){this.dirtyTopics.delete(U),this.watchedTopics.delete(U)}watch(U,F,W){this.watchedTopics.add(F),this.topicToTeamMap.set(F,U),this.dataChannels.set(F,W),this.markTopicChanged(F),this.query()}unwatch(U){this.broadcastChanges(),this.removeTopicId(U)}unwatchAll(){if(this.watchedTopics.size){const U=[...this.watchedTopics].join(" ");(0,c.Wo)().warn(v,`Clearing unexpected remaining topics: ${U}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}h(L,"AwarenessManager");const D=new L;class k{onConnectDatachannel(U){this.audioVideoFacade=U,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),(0,c.Wo)().warn(g,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(U){let F;try{F=s.Y.decode(U.data)}catch(W){(0,c.Wo)().debug(g,`Peer Message failed during decode, ignoring peer message.
				| Error: ${W}
				| Data Sender Attendee ID: ${U.senderAttendeeId}
				| Data Sender External Attendee ID: ${U.senderExternalUserId}
				| Topic: ${U.topic}`);return}if(F.awarenessQuery&&F.awarenessQuery.channel)D.markTopicChanged(F.awarenessQuery.channel);else if(F.awarenessBroadcast){const W=(0,a.oK)(this.teamId),w=(0,u.pL)(W.getState()),K=F.awarenessBroadcast.user,j=F.awarenessBroadcast.channel,Q=F.awarenessBroadcast.awarenessState;if(K&&j&&Q){const J=Q.map(ie=>{var ee,ne;return{field_name:(ee=ie.fieldName)!==null&&ee!==void 0?ee:"unknown_field",field_value:(ne=ie.fieldValue)!==null&&ne!==void 0?ne:"unknown_value",...!!ie.fieldTimestampMs&&{field_timestamp_ms:ie.fieldTimestampMs}}}),z={user:K,channel:j,awarenessEntries:J,...w&&{uniqueId:U.senderAttendeeId}};W&&W.dispatch((0,r.zZ)(z))}}else if(F.awarenessClose){const W=(0,a.oK)(this.teamId),w=(0,u.pL)(W.getState()),K=F.awarenessClose.user,j=F.awarenessClose.channel;K&&j&&W&&W.dispatch((0,r.DQ)({topicId:j,userId:K,...w&&{uniqueId:U.senderAttendeeId}}))}}constructor({teamId:U}){this.dataChannelTopic="awareness-sync-channel",this.teamId=U}}h(k,"ChimeChannelListener");const x=h((R,U,F)=>{const W=F(),w=(0,f.WR)(W),K=R.awareness_state;switch(R.subtype){case"query":w!==R.user&&D.markTopicChanged(R.channel);break;case"broadcast":if(K&&w!==R.user){const j={user:R.user,channel:R.channel,awarenessEntries:K};U((0,r.zZ)(j))}break;case"close":w!==R.user&&U((0,r.DQ)({topicId:R.channel,userId:R.user}));break;default:throw new Error(T)}},"onAwarenessEvent");(0,o.d1)("awareness",x)},4752038257:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(8859166048),s=e(1336112848),o=e(321010523),n=e(7397682160),c=e(4894634110),l=e(3351247794),i=e(4314744225);const a=(0,c.Ay)("Clogs a message sent or resent",function(d,m){let{channelId:f,msgTs:u,resent:E=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=m(),g=f?(0,l.OL)(v,f):null;let T={message_timestamp:u,channel_id:f,channel_type:f?f.charAt(0):null,channel_privacy_type:g?(0,t.K5)(g):null,is_file_channel:g?(0,s.jT)(g):null};const p=(0,i.ZR)(v);p!==null&&(T={...T,channel_session_id:p});const O=(0,n.e)({state:v}),y=E?o.EventId.MSG_RESENT:o.EventId.MSG_SENT;O.track(y,T)});a.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"};const r=a},3440221902:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(4711108074),s=e.n(t),o=e(3147649490),n=e(2520470986),c=e(4894634110);const l=(0,c.Ay)("Converts message ops array to rich text blocks prepared to be sent as a message",function(a,r){let{msgOps:d,channelId:m,inThread:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=r();if(!d||!d.length)return;const{processedDelta:E}=(0,o.A)(u,{channelId:m,inThread:f,delta:new(s())(d)})||{},v=(0,n.A)({delta:E,state:u});return v&&"blocks"in v?v.blocks:void 0});l.meta={name:"createThunk",key:"createThunkconverMsgOpsToRichTextMessage",description:"Converts message ops array to rich text blocks prepared to be sent as a message"};const i=l},3528894348:(B,A,e)=>{"use strict";e.d(A,{r:()=>m});var t=e(3134334389),s=e(2947229296),o=e(2652587076),n=e(5035254771),c=e(4317455038),l=e(4144342945),i=e(4894634110),a=e(9383537253),r=e(3698879540);const d=new s.Ay("huddles"),m=(0,i.Ay)("Copies Huddle link by Channel Id",(f,u,E,v)=>{let{channelId:g,suppressToast:T}=E;const{windowRef:p}=v(o.C),O=(0,a.Eo)(u());if(g&&(f((0,n.TE)({reason:"copy",channelId:g})).then(y=>{(0,l.x3)(y.link,p.deref())}),O&&!T)){const y={name:"check"};f((0,r.M)({element:t.createElement(c.A,{svgIconProps:y,duration:3e3},d.rt("Huddle link copied"))}))}});m.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},6082807633:(B,A,e)=>{"use strict";e.d(A,{Q:()=>Z});var t=e(362134992),s=e(7530630315),o=e(1985486637),n=e(2691514942),c=e(4894634110),l=e(9113979368),i=e(8840779375),a=e(4566917391),r=e(6915886995),d=e(9963560),m=e(8859166048),f=e(1240477450),u=e(1336112848),E=e(5887324738),v=e(5609294766),g=e(7197705638),T=e(3913394414),p=e(1011019370),O=e(1879993851),y=e(2319043816),C=e(9781069012),I=e(2958990453),M=e(297826076),_=e(7545409097),P=e(3351247794),b=e(9746734072),S=e(2101927269),N=e(154969123),L=e(8917463831);const D=(0,c.Ay)(L.rd.BULK_UPDATE_CHANNELS,function(he,ue){let{channels:de}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const re=ue();if(!de||!de.length||!(0,b.A)(de))return;const V=(0,S.A)(de,"id"),H=[],X=!1;V.length&&(V.forEach(Y=>{if(Y.id){const q=(0,P.OL)(re,Y.id,X);H.push({...q,...Y,id:Y.id})}}),he((0,N.U)({channels:H,reason:L.rd.BULK_UPDATE_CHANNELS})))});D.meta={name:"createThunk",key:"createThunkbulkUpdateChannels",description:L.rd.BULK_UPDATE_CHANNELS};var k=e(7104086192),x=e(7844154218),R=e(2651270852),U=e(8571983633),F=e(1569551036),W=e(4438870757);const w=(0,c.Ay)("Update the unread counts in response to client.counts",(he,ue,de)=>{if(!de)return;const re=ue(),V={},H={},X={},Y=(0,a.Gn)(re);de.forEach(q=>{const{id:fe,unread_cnt:ce,unread_highlight_cnt:Ee}=q,Ae=Y&&!(0,U.A)(q==null?void 0:q.vip_count)?q==null?void 0:q.vip_count:void 0;V[fe]={unreadCnt:ce||0,unreadHighlightCnt:Ee||0,unreadVIPMentionCnt:Y?Ae||0:void 0};const le=(0,P.OL)(re,fe);if(!ce&&!Ee||!(0,F.F)(re,le))return;(0,v.d$)(re,le)&&(X[fe]=!0);const oe=(0,F.v)(re,le)?ce:Ee,me=(0,y.tp)(re,fe),pe=(0,x.UJ)(re);me!=null&&me.reachedEnd&&pe?H[fe]=(0,W.Lh)(re,fe):H[fe]={unreadCnt:ce,unreadHighlightCnt:oe||Ee,unreadVIPMentionCnt:Y?Ae:void 0}}),he((0,R.SO)({initialUnreads:V,countsPerChannel:H,channelsToSuppress:X}))});w.meta={name:"createThunk",key:"createThunkinitializeUnreadCountsFromChannels",description:"Update the unread counts in response to client.counts"};const K="COUNTS",j=(0,c.Ay)("Apply counts to channel objects and update stores",async(he,ue,de)=>{let{counts:re=[]}=de,V=ue();const H=[],X=[],Y={},q=[],fe=(0,x.UJ)(V),ce=(0,x.yf)(V),Ee=(0,a.Gn)(V),Ae=(0,T.t)(V),le=re.map(Me=>({channelId:Me.id,ts:Me.last_read})),oe=re.filter(Me=>{let{latest:Ue}=Me;return Ue!==void 0});let me=re;Ae?me=oe:me.length!==oe.length&&(0,n.Ay)({state:V}).error(K,`Unexpectedly received ${me.length-oe.length} channels with undefined latest values`),(0,n.Ay)({state:V}).info(K,`Applying counts to channels. wasLastConnectFast: ${ce} isConnected: ${fe} applying: ${me.length} out of total: ${re.length}`);const pe=me.filter(Me=>{let{has_unreads:Ue,mention_count:xe}=Me;return Ue||xe}).filter(function(){let{id:Me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(0,P.hh)(V,Me)}).map(function(){let{id:Me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Me});pe.length&&(await he((0,r.pX)({ids:pe,reason:"apply-counts-to-channels/ensure-channels",callSource:r.aI.ApplyCounts})),V=ue());const Te=(0,y.jg)(V);me.forEach(Me=>{const Ue=(0,P.OL)(V,Me.id,!1);if(!Ue||(0,m.QR)(Ue)){if(!Me.has_unreads&&!Me.mention_count)return;(0,n.Ay)({state:V}).warn(K,{id:Me.id,has_unreads:Me.has_unreads,nonExistent:(0,m.QR)(Ue)},"applyCountsToChannels_missing_channel");return}if((0,f.F)(Ue)||(0,m.rW)(Ue)&&!(0,E.bl)(Ue))return;if((0,u.jT)(Ue)){var xe;he((0,k.k)({channelId:Ue.id,mentionCount:(xe=Me.mention_count)!==null&&xe!==void 0?xe:0,shouldSuppress:(0,v.d$)(V,Ue)}));return}const Ne={},ke=Me.has_unreads?1:0;let Ke=0,$=0,ae=0,Ge=!1;(0,m.LI)(Ue)||(0,m.LI)(Me)||(0,m.yz)(Ue)||(0,m.yz)(Me)?Ke=Me.mention_count||ke:(Ge=!0,Ke=ke,$=Me.mention_count||0,ae=(Me==null?void 0:Me.vip_count)||0),!Ke&&$&&((0,n.Ay)({state:V}).warn(K,`Ignoring positive mention_count_display because has_unreads == false for ${Ue.id}`,{subtype:"ignoring_positive_mention_count_display"}),$=0),Y[Ue.id]={unreadCnt:Ke,unreadHighlightCnt:$,unreadVIPMentionCnt:Ee?ae:void 0},Ke!==(0,d.$M)(Ue)&&(Ne.unread_cnt=Ke),Ee&&ae!==(0,d.OJ)(Ue)&&(Ne.vip_count=ae),Ge&&$!==(0,d.BP)(Ue)&&(Ne.unread_highlight_cnt=$),Me.updated&&Me.history_invalid&&(X.push({channelId:Ue.id,historyInvalidTs:Me.history_invalid,updatedTs:Me.updated}),Te!=null&&Te[Ue.id]&&he((0,p.A)({channelId:Ue.id,newHistoryInvalidTs:Me.history_invalid,newUpdatedTs:Me.updated}))),(0,l.A)(Ne)||(Ne.id=Ue.id,H.push(Ne))}),(0,l.A)(H)||he(D({channels:H})),(0,l.A)(X)||he((0,_.Lv)(X)),he((0,M.M)(me)),he((0,O.f)(le)),(0,I.Tw)(V)||he((0,C.T)(le)),he((0,R.iz)(Y)),he(w((0,i.A)(Y,(Me,Ue)=>{let{unreadCnt:xe,unreadHighlightCnt:Ne,unreadVIPMentionCnt:be}=Me;return{id:Ue,unread_cnt:xe,unread_highlight_cnt:Ne,vip_count:Ee?be:void 0}}))),q.forEach(Me=>{he((0,g.T)({channelId:Me}));const Ue=(0,P.OL)(ue(),Me,!1);if(Ue){const xe={unreadCnt:(0,d.$M)(Ue),unreadHighlightCnt:(0,d.BP)(Ue),unreadVIPMentionCnt:(0,d.OJ)(Ue)};(0,n.Ay)({state:V}).info(K,`Recounted ${Me}; initial: ${JSON.stringify(Y[Me])}; after: ${JSON.stringify(xe)}`)}})});j.meta={name:"createThunk",key:"createThunkapplyCountsToChannels",description:"Apply counts to channel objects and update stores"};var Q=e(1242487384),J=e(1346994925),z=e(7140884419),ie=e(470470705),ee=e(8601158927);const ne="COUNTS",Z=(0,c.Ay)("Apply counts to channels and threads",function(he,ue){let{channels:de,ims:re,mpims:V,threads:H,alerts:X,saved:Y,fileChannels:q,channelBadges:fe,countsLastFetched:ce,todos:Ee}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ae=ue();if(!(0,Q.TZ)(Ae))return o.S.resolve();he((0,R.iz)({})),he((0,ee.y)(X||{})),he((0,R.t)(ce||void 0));const le=te(q),oe=(0,t.A)((0,s.A)(de,re,V,le));return he(j({counts:oe})).then(()=>{const me=(0,n.Ay)({getState:ue});H&&(me.info(ne,`Threads has_unreads:${H.has_unreads} mention_count:${H.mention_count}`),he((0,ie._)({threadsHasUnreads:!!H.has_unreads,threadsUnreadCountByChannel:H.unread_count_by_channel,threadsMentionCountByChannel:H.mention_count_by_channel||{}}))),Y&&he((0,J.yO)(Y)),Ee&&he((0,z.yO)(Ee)),fe&&he((0,R.$m)(fe)),me.info(ne,"Completed counts processing")})});Z.meta={name:"createThunk",key:"createThunkapplyCountsToChannelsAndThreads",description:"Apply counts to channels and threads"};function te(he){if(!he||!he.quip)return[];const ue=he.quip.mention_count_by_channel;return Object.keys(ue).map(V=>({id:V,mention_count:ue[V],has_unreads:!0}))}h(te,"transformFileChannels")},3913394414:(B,A,e)=>{"use strict";e.d(A,{t:()=>s});var t=e(205540855);function s(o){return(0,t._Z)(o,"client_counts_omit_unchanged_fe")==="on"}h(s,"isOmitUnchangedClientCountsEnabled")},5707983015:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(3297051565),s=e.n(t),o=e(1985486637),n=e(3889517373),c=e(9204569428),l=e(3320534337);const i=(0,l.A)("API call for slack-action:// URL",(u,E,v)=>{let{botId:g,payload:T}=v;return u((0,c.apiCall)({method:"chat.action",args:{bot:g,payload:decodeURIComponent(T)}}))});i.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},i.propTypes={botId:s().string.isRequired,payload:s().string.isRequired};const a=i;var r=e(1158363045),d=e(4894634110);const m=(0,d.Ay)("Execute slack-action:// URL",(u,E,v)=>{if((0,r.A)(v)){const g=v.replace(n.Rw,"").split("/"),T=g.shift(),p=g.join("/");return u(a({botId:T,payload:p}))}return o.K.reject(new Error("Not a Slack action URL"))});m.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},m.propTypes=s().string.isRequired;const f=m},8173917350:(B,A,e)=>{"use strict";e.d(A,{b:()=>v});var t=e(9035338428),s=e(3366578852),o=e(4450607233),n=e(4174959060),c=e(6563296078),l=e(4458861846),i=e(4894634110),a=e(1242487384),r=e(205540855),d=e(2652587076),m=e(6060782303),f=e(5888893001);const u=(0,i.Ay)("Opens member profile in the huddle window flexpane if the window is open",(g,T,p,O)=>{let{memberId:y}=p;const{windowRef:C,windowId:I}=O(d.C);return(0,m.u)(I)&&!!C.deref()?(g((0,f.Zx)({userId:y})),!0):!1});u.meta={name:"createThunk",key:"createThunkopenProfileInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};var E=e(6766178921);const v=(0,i.Ay)("Show the member profile",async function(g,T){let{memberId:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3?arguments[3]:void 0;var y;const C=T(),{channelId:I}=O(o.j),M=await g((0,n.I)()),_=(0,E.nv)(C,p),P=(0,r._Z)(C,"app_flexpane")==="on",S=(0,s.mr)(C)&&(0,t.u)(_),N=p||(0,a.WR)(C);if(!g(u({memberId:N})))return P&&(!(_==null||(y=_.profile)===null||y===void 0)&&y.bot_id)&&!S?g((0,c.o)((0,l.tp)({appId:_.profile.api_app_id,serviceId:_.profile.bot_id,memberId:p}))):g(M&&I?(0,c.o)((0,l.sL)((0,l.Fo)({memberId:N}),I,M.id)):(0,c.o)((0,l.Fo)({memberId:N})))});v.meta={name:"createThunk",key:"createThunkshowMemberProfile",description:"Show the member profile"}},392783670:(B,A,e)=>{"use strict";e.d(A,{q:()=>n});var t=e(6563296078),s=e(4458861846),o=e(4894634110);const n=(0,o.Ay)("Opens the user group details flexpane",(c,l,i)=>{let{groupId:a}=i;c((0,t.o)((0,s.cu)(a)))});n.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},1011019370:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(2691514942),s=e(4894634110),o=e(7874250141),n=e(8983568556),c=e(5535077364),l=e(2319043816),i=e(7545409097);const a=(0,s.Ay)("Possibly purge or invalidate channel history .",(d,m,f)=>{let{channelId:u,newHistoryInvalidTs:E,newUpdatedTs:v}=f;const g=m(),{historyInvalidTs:T,updatedTs:p}=(0,i.Dk)(g,u);E!=="0000000000.000000"&&(!T||E>T)?((0,t.Ay)({state:g}).info("COUNTS",`purging cached history for channel ${u} since counts history_invalid ${E} > cached historyInvalidTs ${T}`),d((0,n.bz)({channelId:u,includeThreads:!0}))):v!=="0000000000.000000"&&(!p||v>p)&&((0,t.Ay)({state:g}).info("COUNTS",`invalidating history for channel ${u} since counts updated ${v} > cached updatedTs ${p}`),(0,c.D1)((0,o.ZT)(g),u,(0,l.m3)(g,u)))});a.meta={name:"createThunk",key:"createThunkmaybePurgeChannelHistoryAfterMutations",description:"Possibly purge or invalidate channel history ."};const r=a},121333136:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(5375489720),o=e(3258187649),n=e(5478938623),c=e(321010523),l=e(7397682160),i=e(4894634110),a=e(7874250141),r=e(1242487384),d=e(5876603232),m=e(3666777625);const f=(0,i.Ay)("Opens the apps browser modal",function(E,v){let{initialTab:g,emojiNameSuggestion:T,elementName:p,emojiUrl:O,megaphoneEventOnClose:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const C=v(),I=(0,a.JY)(C);let M;I&&(0,s.JV)(I)?M=(0,m.H2)(C):(0,r.u8)(C)&&(M=(0,n.mf)((0,m.H7)(C))),(0,l.e)({getState:v}).track(c.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:p}}}}),E((0,d.q)({element:t.createElement(o.A,{showEmojiPacks:!O,orgName:M,initialTab:g,emojiNameSuggestion:T,emojiUrl:O,megaphoneEventOnClose:y}),isStackable:!0}))});f.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"};const u=f},3537507126:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Triggers a side-effect that opens the Auto Charge Trial Entry Modal");s.meta={name:"createAction",key:"createActionopenAutoChargeTrialEntryModalCircular",description:"Triggers a side-effect that opens the Auto Charge Trial Entry Modal"};const o=s},3722187186:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Triggers a side-effect that opens the compare plans modal in client");s.meta={name:"createAction",key:"createActionopenComparePlansModalCircular",description:"Triggers a side-effect that opens the compare plans modal in client"};const o=s},1429786247:(B,A,e)=>{"use strict";e.d(A,{U:()=>_});var t=e(1357872363),s=e(9524650809),o=e(7499216588),n=e(8393538104),c=e(4894634110),l=e(7923480392),i=e(7878638721),a=e(8187244214),r=e(579422651),d=e(2252221836),m=e(7418708689);const f=(0,c.Ay)("Opens the conversation create modal",async function(P,b){let{draftId:S,shouldOpenInTile:N=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const L=b();let D=S;const k=D?(0,r.YI)(L,D):void 0;if(!(0,n.W)(D)||!k)try{D=await P((0,d.A)({client_draft_id:D??(0,s.A)(o.D.ConversationCreate)})),P((0,a.OA)({draftId:D,metadata:{selectedPrivate:!0}}))}catch{return}if(N){const x={[m.mq.Primary]:{id:D,viewType:o.D.ConversationCreate,params:{draftId:D}}};P((0,i.A)({viewSet:x,shouldShowSearch:!1}));return}P((0,l.m)({draftId:D}))});f.meta={name:"createThunk",key:"createThunkopenConversationCreateFlow",description:"Opens the conversation create modal"};var u=e(6563296078),E=e(4458861846),v=e(5356737675),g=e(321010523),T=e(7397682160),p=e(2691514942),O=e(3284738829),y=e(15516208),C=e(6371559681),I=e(3228638226),M=e(7213239456);const _=(0,c.Ay)("Opens the composer page",async(P,b,S)=>{let{draftId:N,fromKeyboardShortcut:L,origin:D,shouldOpenInTile:k=!1}=S;var x,R;const U=b(),F=(0,p.Ay)({state:U,label:"COMPOSER"});if((0,O.H)(U)&&!N){P(f({shouldOpenInTile:k}));return}const W=(0,I.e6)(U);if(((x=(0,I.F8)(U,{tab:W,container:m.mq.Primary}))===null||x===void 0?void 0:x.id)==="Pcomposer"&&!N){const J=(0,M.A)(U),z=(0,r.YI)(U,J);if(z&&(0,v.A)(U,z)){F.info(`Composer page is already open with an empty draft ${J}`);return}}let j;if(N)j=N;else try{j=await P((0,d.A)()),F.info(`Creating a new composer draft ${j}`),L&&(0,T.e)({state:U}).track(g.EventId.COMPOSE_FLOW,{draft_type:"composer",contexts:{ui_context:{action:g.UiAction.KEYDOWN,step:g.UiStep.COMPOSE_FLOW_CREATE}}})}catch{return}const Q=(0,C.$)(U);if(D?P((0,y.j)(D)):Q&&P((0,y.j)(null)),F.info(`Opening the composer page to the following draft ${j}`),k){P((0,t.s)({viewId:"Pcomposer",params:{draftId:j}}));return}(R=P((0,u.o)((0,E.D0)(j))))===null||R===void 0||R.catch(J=>{F.error("Could not open composer page",J)})});_.meta={name:"createThunk",key:"createThunkopenComposerPage",description:"Opens the composer page"}},7923480392:(B,A,e)=>{"use strict";e.d(A,{m:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Triggers a side-effect that opens the conversation creation modal in client");s.meta={name:"createAction",key:"createActionopenConversationCreateModalCircular",description:"Triggers a side-effect that opens the conversation creation modal in client"}},7878638721:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(4458861846),s=e(8370946575),o=e(3299124106),n=e(2042516736),c=e(4894634110),l=e(7418708689);const i=(0,c.Ay)("Opens a channel in a new window",async(r,d,m)=>{let{viewSet:f,shouldNavigateInContext:u,shouldShowSearch:E,containerOrigin:v,initialColumnMode:g,clogParams:T,childWindowDimensions:p}=m;const O=d(),y=f[l.mq.Primary];if(y&&(0,n.n3)(O)){var C;if((y.id==="thread"||y.id==="comment_thread")&&(!((C=y.params)===null||C===void 0)&&C.threadId)){const{channelId:I}=(0,s.Sb)(y.params.threadId),M=y.params.entityId,_=y.id==="comment_thread"?M:I;r((0,o.Bb)({viewSet:{[l.mq.Primary]:(0,t.pr)(_??y.params.entityId),[l.mq.Secondary]:{id:y.id,params:y.params,viewType:y.viewType}},shouldNavigateInContext:u,containerOrigin:v,initialColumnMode:g,clogParams:T}))}else r((0,o.Bb)({viewSet:f,shouldNavigateInContext:u,shouldShowSearch:E,clogParams:T,childWindowDimensions:p}))}});i.meta={name:"createThunk",key:"createThunkopenInDetachedWindow",description:"Opens a channel in a new window"};const a=i},3908486291:(B,A,e)=>{"use strict";e.d(A,{U:()=>I});var t=e(9035338428),s=e(3366578852),o=e(4450607233),n=e(4174959060),c=e(7819259683),l=e(6563296078),i=e(4458861846),a=e(7197636798),r=e(4894634110),d=e(7874250141),m=e(9934171440),f=e(4113850533),u=e(7566379697),E=e(440724602),v=e(7091481521),g=e(9238137835),T=e(5340972829),p=e(205540855),O=e(6766178921),y=e(7418708689);const C=(0,r.Ay)("Shows message pane for bots",async function(M,_){let{memberId:P,serviceId:b,botProfile:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var N;const{member:L,bot:D,memberIsHuman:k}=(0,g.Od)(_(),{userId:P,botId:b,botProfile:S}),x=(0,s.mr)(_()),R=(0,E.T)(_()),U=(0,d.ZT)(_())||"",F=!k||b?(0,a.AW)({member:L||void 0,bot:D,botProfile:S,currentTeamId:U}):void 0,W=R?(0,v.sO)(_(),{appId:D==null?void 0:D.app_id,memberId:P,serviceId:b}):(0,u.G2)(_(),{serviceId:b,homeWorkspaceId:F,memberId:P,appId:D==null?void 0:D.app_id});var w;const K=(0,O.nv)(_(),P||((w=W==null||(N=W.app_user)===null||N===void 0?void 0:N.id)!==null&&w!==void 0?w:void 0)),j=(0,t.u)(K);if(x&&j){const{id:J}=await M((0,T.Z)({memberId:K.id,shouldNavigateToChannel:!1}));return M((0,f.T)({channelId:J,isSplitView:!1}))}var Q;return M((0,T.Z)({memberId:(Q=K==null?void 0:K.id)!==null&&Q!==void 0?Q:void 0}))});C.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const I=(0,r.Ay)("Shows the flexpane profile for humans or messages for bots",async(M,_,P,b)=>{let{memberId:S,serviceId:N,botProfile:L,triggerId:D}=P;const{channelId:k}=b(o.j),x=await M((0,n.I)()),{container:R}=b(c.U),U=_(),F=(0,s.mr)(U),W=(0,O.nv)(U,S),w=F&&(0,t.u)(W),K=(0,p._Z)(U,"workflow_sender_opens_details")==="on",j=(0,p._Z)(U,"app_flexpane")==="on";return S&&(0,g.wC)(_(),S)?x&&R!==y.mq.Split?M((0,l.o)((0,i.sL)((0,i.Fo)({memberId:S}),k,x.id))):M((0,l.o)((0,i.Fo)({memberId:S}))):M(j&&N&&!D&&!w?(0,l.o)((0,i.tp)({appId:L==null?void 0:L.app_id,serviceId:N,memberId:S})):K&&D?(0,m.u)({shortcutInfo:{triggerId:D},hermesLinkTriggerUIContext:{location:"flexpane",channelId:k}}):C({memberId:S,serviceId:N,botProfile:L}))});I.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},5400751332:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Triggers a side-effect that opens the remove member dialog");s.meta={name:"createAction",key:"createActionopenRemoveMemberDialogCircular",description:"Triggers a side-effect that opens the remove member dialog"};const o=s},6671230854:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Triggers a side-effect that opens the ShareContactModal in client (noop)");s.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"};const o=s},638638155:(B,A,e)=>{"use strict";e.d(A,{A:()=>g});var t=e(3134334389),s=e(2947229296),o=e(5181078482),n=e(9866037031),c=e(2869254699),l=e(8823986650),i=e(3451857649);const a=new s.Ay("message"),r=h(T=>{let{url:p,text:O,onClose:y,updateSuppressLinkWarning:C}=T;const[I,M]=(0,t.useState)(!1),_=O.length>25?`${O.substr(0,25)}\u2026`:O,P=p.length>50?`${p.substr(0,50)}\u2026`:p,b=a.t("Double-check this link"),S=a.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,R=>{let{tag:U}=R;return U==="label"?t.createElement(l.A,{href:p,onClick:y},_):t.createElement(l.A,{href:p,onClick:y},P)}),N=a.t("Continue"),L=a.t("Don\u2019t show this again"),D=(0,t.useCallback)(R=>{M(R.target.checked)},[]),k=(0,t.useCallback)(()=>{I&&C(),y()},[y,I,C]),x=a.t("Cancel");return t.createElement(i.dW,{closeModal:y,isOpen:!0,centered:!0},t.createElement(i.rQ,null,t.createElement(i.Rc,{title:b})),t.createElement(i.$m,null,t.createElement(i.qf,null,t.createElement("p",{className:"break_word"},S),t.createElement("p",null,t.createElement(c.A,{text:L,type:"inline",cursor:"pointer",className:"normal"},t.createElement(n.A,{id:"suppress_link_warning",name:"suppress_link_warning",value:I.toString(),checked:!!I,onChange:D}))))),t.createElement(i.jl,null,t.createElement(i.ox,null,t.createElement(i.s_,{type:"outline","aria-label":x},x),t.createElement(o.Ay,{type:"danger",href:p,onClick:k},N))))},"SuspiciousLinkWarning");r.displayName="SuspiciousLinkWarning";const d=r;var m=e(4894634110),f=e(2069063006),u=e(5876603232),E=e(2577163594);const v=(0,m.Ay)("Display a warning when clicking a suspicious link",(T,p,O)=>{let{text:y,url:C}=O;const I=t.createElement(d,{text:y,url:C,onClose:()=>{T((0,f.O)())},updateSuppressLinkWarning:()=>{T((0,E.AZ)({pref:"suppress_link_warning",value:!0}))}});T((0,u.q)({element:I}))});v.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};const g=v},9934171440:(B,A,e)=>{"use strict";e.d(A,{u:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Triggers a side-effect that opens the workflow details modal in client (noop)");s.meta={name:"createAction",key:"createActionopenWorkflowDetailsModalCircular",description:"Triggers a side-effect that opens the workflow details modal in client (noop)"}},6637594072:(B,A,e)=>{"use strict";e.d(A,{ET:()=>E,Fd:()=>g,Wb:()=>T,xz:()=>v});var t=e(5950652755),s=e(3677587543),o=e(3889517373),n=e(1979297240),c=e(5856665040),l=e(2691514942),i=e(4894634110),a=e(7874250141),r=e(7844154218);const d="PRESENCE-MANAGER",m={},f=h((O,y)=>{const C=(0,a.ZT)(y());if(!C)return;const I=Object.keys(m[C]),M=(0,l.Ay)({getState:y,label:d});M.debug(`Sending a 'presence_sub' event with the following ids: ${I}`),O((0,c.tN)({type:"presence_sub",ids:I})).catch(_=>{_.message!==n.qk&&M.error(new Error("Errored while sending 'presence_sub'"),{err:_,memberIds:I})})},"sendMessageEvent"),u=(0,t.A)(f,100,{leading:!1}),E=(0,i.Ay)('Send a "presence_sub" event with the list of members',(O,y)=>{if(!(0,r.ON)(y())){(0,l.Ay)({getState:y,label:d}).debug("The presence subscription changed while the WebSocket disconnected");return}u(O,y)});E.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:'Send a "presence_sub" event with the list of members'};const v=(0,i.Ay)("Adds the member to the presence subscription or increments the associated count",(O,y,C)=>{if(!C||C===o.Q$)return;const I=(0,a.ZT)(y());if(I){if(m[I]||(m[I]={}),m[I][C]){(0,l.Ay)({getState:y,label:d}).debug(`Increasing the count for ${C} by 1`),m[I][C]+=1;return}(0,l.Ay)({getState:y}).debug(d,`Adding ${C} to the presence subscription`),m[I][C]=1,O(E())}});v.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"};const g=(0,i.Ay)("Removes the member from the presence subscription or decrements the associated count",(O,y,C)=>{var I;if(!C)return;const M=(0,a.ZT)(y());if(!M||!(!((I=m[M])===null||I===void 0)&&I[C]))return;const _=(0,l.Ay)({getState:y,label:d});if(m[M][C]>1){_.debug(`Decreasing count for "${C}" by 1`),m[M][C]-=1;return}_.debug(`Unsubscribing from "${C}"`),delete m[M][C],O(E())});g.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"};const T=h(O=>m[O],"getPresenceSubscriptionByTeamId"),p={presenceSubscription:m,sendMessageEvent:f};(0,s.ul)("presenceManager",{getPresenceSubscriptionByTeamId:T})},5220161375:(B,A,e)=>{"use strict";e.d(A,{Ap:()=>n,Pv:()=>s,Ui:()=>o});var t=e(5685829294);const s=new t.a;function o(){return s.entries().filter(c=>c.value&&!c.value.isRejected()&&!c.value.isCancelled()).length}h(o,"getActiveCollabClientCount");const n=h(c=>{const l=s.get(c);return l!=null&&l.isFulfilled()?l.value():void 0},"getInitializedClient")},1098669366:(B,A,e)=>{"use strict";e.d(A,{cy:()=>g,jv:()=>O,hM:()=>v,Ex:()=>E,F$:()=>J,lb:()=>I,rW:()=>X,Kf:()=>D,Ai:()=>Q,Eg:()=>U,nK:()=>x,QV:()=>R,hB:()=>k,uF:()=>S,qz:()=>P,M:()=>K,SQ:()=>j,H6:()=>W,ed:()=>w,Uz:()=>Y});var t=e(3385422400),s=e(2947229296),o=e(5703352334),n=e(5313367493),c=e(9176700866),l=e(5248257622),i=e(1242487384),a=e(3351247794),r=e(6766178921);const d=h(q=>{const fe=(0,i.WR)(q),ce=[],Ae=(0,a._B)(q).map(pe=>(0,l.e)(pe)).filter(c.b);ce.push(...Ae);let le=ce[0];for(let pe=1;pe<ce.length&&(le=ce[pe],fe===le);pe++);const oe=(0,r.nv)(q,le);let me=oe._display_name_lc||oe._real_name_normalized_lc||oe._first_name_lc||oe.name||oe.real_name||"@";return me.includes("@")||(me=`@${me}`),me},"getRecentMentionForCurrentMember");var m=e(414484285),f=e(3666777625);const u=new s.Ay("slack_docs");var E;(function(q){q.CANVAS_SUMMARY="/canvas_summary",q.CANVAS_ACTION_ITEMS="/canvas_action_items",q.FAQ="/faq",q.WEEKLY_RECAP="/weekly_recap",q.CHANNEL_RECAP="/channel_recap",q.OVERVIEW="/overview",q.AGENDA="/agenda",q.BRAINSTORM="/brainstorm",q.TABLE="/table",q.OUTLINE="/outline",q.CREATE="/create",q.AGENDA_OPTION_001="/agenda_001",q.AGENDA_OPTION_002="/agenda_002",q.AGENDA_OPTION_003="/agenda_003",q.AGENDA_OPTION_004="/agenda_004",q.BRAINSTORM_OPTION_001="/brainstorm_001",q.BRAINSTORM_OPTION_002="/brainstorm_002",q.BRAINSTORM_OPTION_003="/brainstorm_003",q.BRAINSTORM_OPTION_004="/brainstorm_004",q.FAQ_OPTION_001="/faq_001",q.FAQ_OPTION_002="/faq_002",q.FAQ_OPTION_003="/faq_003",q.FAQ_OPTION_004="/faq_004",q.OUTLINE_OPTION_001="/outline_001",q.OUTLINE_OPTION_002="/outline_002",q.OUTLINE_OPTION_003="/outline_003",q.OUTLINE_OPTION_004="/outline_004",q.OVERVIEW_OPTION_001="/overview_001",q.OVERVIEW_OPTION_002="/overview_002",q.OVERVIEW_OPTION_003="/overview_003",q.OVERVIEW_OPTION_004="/overview_004",q.TABLE_OPTION_001="/table_001",q.TABLE_OPTION_002="/table_002",q.TABLE_OPTION_003="/table_003",q.TABLE_OPTION_004="/table_004"})(E||(E={}));var v;(function(q){q.CREATE="create",q.CREATE_FROM_LEGACY="create_from_legacy",q.REFINE="refine",q.AGENDA="agenda",q.BRAINSTORM="brainstorm",q.FAQ="faq",q.OUTLINE="outline",q.OVERVIEW="overview",q.TABLE="table",q.ACTION_ITEMS="current_canvas",q.SUMMARY="current_canvas"})(v||(v={}));var g;(function(q){q.CREATION="creation",q.CREATION_FROM_EMPTY_DOC="creation_from_empty_doc",q.CREATION_FROM_LEGACY="creation_from_legacy",q.CREATION_FROM_TABBED_CHANNEL="creation_from_tabbed_channel",q.CREATION_FROM_TABBED_CHANNEL_EMPTY="creation_from_tabbed_channel_empty",q.REFINEMENT="refinement",q.AGENDA="agenda",q.BRAINSTORM="brainstorm",q.FAQ="faq",q.OUTLINE="outline",q.OVERVIEW="overview",q.TABLE="table"})(g||(g={}));const T=new Map([[E.AGENDA,v.CREATE],[E.BRAINSTORM,v.CREATE],[E.CHANNEL_RECAP,v.CREATE],[E.WEEKLY_RECAP,v.CREATE],[E.FAQ,v.CREATE],[E.OUTLINE,v.CREATE],[E.OVERVIEW,v.CREATE],[E.TABLE,v.CREATE],[E.CANVAS_ACTION_ITEMS,v.CREATE],[E.CANVAS_SUMMARY,v.CREATE],[E.AGENDA_OPTION_001,v.AGENDA],[E.AGENDA_OPTION_002,v.AGENDA],[E.AGENDA_OPTION_003,v.AGENDA],[E.AGENDA_OPTION_004,v.AGENDA],[E.BRAINSTORM_OPTION_001,v.BRAINSTORM],[E.BRAINSTORM_OPTION_002,v.BRAINSTORM],[E.BRAINSTORM_OPTION_003,v.BRAINSTORM],[E.BRAINSTORM_OPTION_004,v.BRAINSTORM],[E.FAQ_OPTION_001,v.FAQ],[E.FAQ_OPTION_002,v.FAQ],[E.FAQ_OPTION_003,v.FAQ],[E.FAQ_OPTION_004,v.FAQ],[E.OUTLINE_OPTION_001,v.OUTLINE],[E.OUTLINE_OPTION_002,v.OUTLINE],[E.OUTLINE_OPTION_003,v.OUTLINE],[E.OUTLINE_OPTION_004,v.OUTLINE],[E.OVERVIEW_OPTION_001,v.OVERVIEW],[E.OVERVIEW_OPTION_002,v.OVERVIEW],[E.OVERVIEW_OPTION_003,v.OVERVIEW],[E.OVERVIEW_OPTION_004,v.OVERVIEW],[E.TABLE_OPTION_001,v.TABLE],[E.TABLE_OPTION_002,v.TABLE],[E.TABLE_OPTION_003,v.TABLE],[E.TABLE_OPTION_004,v.TABLE]]),p=new Map([[v.CREATE,g.CREATION],[v.CREATE_FROM_LEGACY,g.CREATION_FROM_LEGACY],[v.REFINE,g.REFINEMENT],[v.AGENDA,g.AGENDA],[v.BRAINSTORM,g.BRAINSTORM],[v.FAQ,g.FAQ],[v.OUTLINE,g.OUTLINE],[v.OVERVIEW,g.OVERVIEW],[v.TABLE,g.TABLE]]),O={name:"ai-sparkle",size:"20"},y=new Map([[E.AGENDA,{name:"calendar",size:"20"}],[E.BRAINSTORM,{name:"emoji-objects",size:"20"}],[E.CANVAS_ACTION_ITEMS,{name:"ai-check",size:"20"}],[E.CANVAS_SUMMARY,{name:"ai-summary",size:"20"}],[E.WEEKLY_RECAP,{name:"ai-summary",size:"20"}],[E.CHANNEL_RECAP,{name:"ai-summary",size:"20"}],[E.CREATE,{name:"sparkles",size:"20"}],[E.FAQ,{name:"book",size:"20"}],[E.OUTLINE,{name:"bulleted-list",size:"20"}],[E.OVERVIEW,{name:"ai-summary",size:"20"}],[E.TABLE,{name:"table",size:"20"}]]),C=new Map([[E.AGENDA,"\u{1F4C6}"],[E.BRAINSTORM,"\u{1F9E0}"],[E.FAQ,"\u2753"],[E.OUTLINE,"\u{1F4D6}"],[E.OVERVIEW,"\u{1F9F0}"],[E.TABLE,"\u{1F4CA}"],[E.CHANNEL_RECAP,"\u21AA\uFE0F"],[E.WEEKLY_RECAP,"\u21AA\uFE0F"],[E.CANVAS_ACTION_ITEMS,"\u2705"],[E.CANVAS_SUMMARY,"\u2728"]]),I=h(q=>C.get(q)||"","getEmojiById"),M=h(q=>{switch(q){case E.AGENDA:return u.t("Draft a meeting agenda\u2026");case E.BRAINSTORM:return u.t("Brainstorm ideas\u2026");case E.CREATE:return u.t("Write with AI");case E.FAQ:return u.t("Create FAQs\u2026");case E.OUTLINE:return u.t("Draft an outline\u2026");case E.OVERVIEW:return u.t("Write a project overview\u2026");case E.TABLE:return u.t("Create a table\u2026");case E.WEEKLY_RECAP:return u.t("Recap my past week in Slack");case E.CHANNEL_RECAP:return u.t("Recap the past week in # ",{fallbackHash:"1c4fed976a665813bba2c2be04d432d4c65919d2",fallbackHashNs:"slack_docs"});case E.AGENDA_OPTION_001:return u.t("Draft a meeting agenda for the weekly meeting in # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.AGENDA_OPTION_002:return u.t("Draft a meeting agenda for a 1:1 based on my recent conversations with @ ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.AGENDA_OPTION_003:return u.t("Draft a meeting agenda for an intro call with a potential customer");case E.AGENDA_OPTION_004:return u.t("Draft a meeting agenda for our next quarterly planning review");case E.BRAINSTORM_OPTION_001:return u.t("Brainstorm ideas about names for the new feature discussed in # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.BRAINSTORM_OPTION_002:return u.t("Brainstorm ideas about improving collaboration in # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.BRAINSTORM_OPTION_003:return u.t("Brainstorm ideas about social media posts for our Q3 release");case E.BRAINSTORM_OPTION_004:return u.t("Brainstorm ideas about team-building exercises for our next onsite");case E.FAQ_OPTION_001:return u.t("Create FAQs for # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.FAQ_OPTION_002:return u.t("Create FAQs for the launch of the new company website, including a timeline");case E.FAQ_OPTION_003:return u.t("Create FAQs for the upcoming office move");case E.FAQ_OPTION_004:return u.t("Create FAQs for our sales training program");case E.OUTLINE_OPTION_001:return u.t("Draft an outline for onboarding members of # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.OUTLINE_OPTION_002:return u.t("Draft an outline for a career planning session with @ ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.OUTLINE_OPTION_003:return u.t("Draft an outline for a new employee handbook");case E.OUTLINE_OPTION_004:return u.t("Draft an outline for a quarterly marketing report");case E.OVERVIEW_OPTION_001:return u.t("Write a project overview about # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.OVERVIEW_OPTION_002:return u.t("Write a project overview about the last project I worked on");case E.OVERVIEW_OPTION_003:return u.t("Write a project overview about the sales team\u2019s work in Q1");case E.OVERVIEW_OPTION_004:return u.t("Write a project overview about the recent mobile app redesign");case E.TABLE_OPTION_001:return u.t("Create a table for roles and responsibilities of people in channel # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.TABLE_OPTION_002:return u.t("Create a table for a competitive analysis of our primary competitors");case E.TABLE_OPTION_003:return u.t("Create a table for comparing our company\u2019s paid plans");case E.TABLE_OPTION_004:return u.t("Create a table for a project release schedule for # ",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case E.CANVAS_ACTION_ITEMS:return u.t("Create action items from this canvas",{fallbackHash:"6bee20ea331419999fbad70efa95d67b2540d5db",fallbackHashNs:"slack_docs"});case E.CANVAS_SUMMARY:return u.t("Summarize this canvas",{fallbackHash:"e11174a8c6a19244ed4b44f1b3614d1bcd74b667",fallbackHashNs:"slack_docs"});default:return""}},"getSuggestionName"),_=new Set([E.CANVAS_ACTION_ITEMS,E.CANVAS_SUMMARY]),P=h(q=>_.has(q),"isAutoSubmitSuggestionV2"),b=new Set([E.CANVAS_ACTION_ITEMS,E.CANVAS_SUMMARY,E.WEEKLY_RECAP,E.CHANNEL_RECAP]),S=h(q=>b.has(q),"isAutoSubmitSuggestion"),N=new Set([E.AGENDA,E.BRAINSTORM,E.FAQ,E.OUTLINE,E.OVERVIEW,E.TABLE]),L=h(q=>N.has(q),"isGuidedSuggestion"),D=h((q,fe,ce)=>{const Ee=ce??"";switch(!0){case q.startsWith(E.AGENDA):return u.t("Draft a meeting agenda for");case q.startsWith(E.BRAINSTORM):return u.t("Brainstorm ideas about");case q.startsWith(E.FAQ):return u.t("Create FAQs for");case q.startsWith(E.OUTLINE):return u.t("Draft an outline for");case q.startsWith(E.OVERVIEW):return u.t("Write a project overview about");case q.startsWith(E.WEEKLY_RECAP):return u.t("Recap my past week in Slack");case q.startsWith(E.CHANNEL_RECAP):return u.t("Recap the past week in {channelName} ",{channelName:Ee,fallbackHash:"1c4fed976a665813bba2c2be04d432d4c65919d2",fallbackHashNs:"slack_docs"});case q.startsWith(E.TABLE):return u.t("Create a table for");default:return fe?"":M(q)}},"getSuggestionHoverHint"),k=h(q=>D(q,!0)||"","getTextToHighlightById"),x=h(q=>S(q)||L(q)||P(q)?q:M(q),"getSuggestionInsertionText"),R=h(q=>{switch(q){case E.AGENDA:return u.t("Draft a meeting agenda for");case E.BRAINSTORM:return u.t("Brainstorm");case E.CANVAS_ACTION_ITEMS:return u.t("Create action items from this canvas",{fallbackHash:"6bee20ea331419999fbad70efa95d67b2540d5db",fallbackHashNs:"slack_docs"});case E.CANVAS_SUMMARY:return u.t("Summarize this canvas",{fallbackHash:"e11174a8c6a19244ed4b44f1b3614d1bcd74b667",fallbackHashNs:"slack_docs"});case E.FAQ:return u.t("Write FAQs about");case E.OUTLINE:return u.t("Draft an outline for");case E.OVERVIEW:return u.t("Write an overview for");case E.TABLE:return u.t("Create a table");default:return M(q)}},"getSuggestionSubmissionText"),U=h(q=>{const fe=new Map(Object.values(E).map(Ee=>[R(Ee).toLowerCase(),Ee]));var ce;return(ce=fe.get(q.toLowerCase()))!==null&&ce!==void 0?ce:null},"getSuggestionIdForSubmissionText"),F=h((q,fe,ce)=>!!(fe&&fe===(0,o.zd)({actionId:q},ce??!1)),"isCanvasAiAction"),W=h((q,fe)=>F(o.N2.REWRITE,q,fe),"isCanvasAiRewriteAction"),w=h((q,fe)=>F(o.N2.SUMMARIZE,q,fe),"isCanvasAiSummarizeAction"),K=h((q,fe)=>F(o.N2.ADD_ACTION_ITEMS,q,fe),"isCanvasAiAddActionItemsAction"),j=h(function(q){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!(q&&!W(q,fe)&&!w(q,fe)&&!K(q,fe))},"isCanvasAiRefineAction"),Q=h(q=>{const fe=new Map(Object.values(E).map(Ee=>[x(Ee).toLowerCase(),Ee]));var ce;return(ce=fe.get(q.toLowerCase()))!==null&&ce!==void 0?ce:null},"getSuggestionIdForInsertedText"),J=h(q=>{switch(q){case v.CREATE:return u.t("Suggestions");case v.REFINE:return u.t("Suggestions");default:return""}},"getCategoryLabel"),z=h(q=>{const fe=M(q),ce=T.get(q);return{id:q,category:ce,name:fe,canonicalName:`/${q}`,aliases:[ce]}},"getSuggestionObjectForId"),ie=new Set([E.AGENDA,E.FAQ,E.OVERVIEW]),ee=h(q=>ie.has(q),"isDefaultEmptyStateSuggestion"),ne=new Set([E.WEEKLY_RECAP]),Z=h(q=>ne.has(q),"isRecapWeeklySuggestion"),te=new Set([E.CHANNEL_RECAP]),he=h(q=>te.has(q),"isRecapChannelSuggestion"),ue=new Set([E.CANVAS_ACTION_ITEMS,E.CANVAS_SUMMARY]),de=h(q=>ue.has(q),"isContentRequiredSuggestion"),re=new Set([E.AGENDA,E.FAQ,E.OVERVIEW]),V=h(q=>re.has(q),"isEmptyCanvasSuggestion"),H=h(q=>{const fe=q===g.CREATION_FROM_EMPTY_DOC,ce=q===g.CREATION_FROM_TABBED_CHANNEL,Ee=q===g.CREATION_FROM_TABBED_CHANNEL_EMPTY,Ae=q===g.CREATION_FROM_LEGACY,le=Ee||ce||fe||Ae?g.CREATION:q;let oe=Object.values(E).filter(me=>{const pe=T.get(me);return pe&&p.get(pe)===le});return fe?oe=oe.filter(me=>!de(me)&&!he(me)):Ee?oe=oe.filter(me=>!de(me)&&!Z(me)):ce?oe=oe.filter(me=>!ee(me)&&!he(me)&&!Z(me)):Ae||(oe=oe.filter(me=>!ee(me)&&!he(me)&&!Z(me))),oe.map(me=>z(me))},"getSuggestions"),X=(0,t.Mz)([f.H7,()=>(0,m.JK)(),q=>(0,n.d)(q),q=>d(q),(q,fe)=>{let{searchViewContext:ce}=fe;return ce}],(q,fe,ce,Ee,Ae)=>{if(Ae!=null&&Ae.includes(g.REFINEMENT)){var le;return(le=H(g.REFINEMENT))===null||le===void 0?void 0:le.map($=>({...$,type:"client"}))}if(Ae!=null&&Ae.includes(g.CREATION_FROM_TABBED_CHANNEL_EMPTY)){var oe;return(oe=H(g.CREATION_FROM_TABBED_CHANNEL_EMPTY))===null||oe===void 0?void 0:oe.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.CREATION_FROM_TABBED_CHANNEL)){var me;return(me=H(g.CREATION_FROM_TABBED_CHANNEL))===null||me===void 0?void 0:me.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.CREATION_FROM_EMPTY_DOC)){var pe;return(pe=H(g.CREATION_FROM_EMPTY_DOC))===null||pe===void 0?void 0:pe.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.CREATION_FROM_LEGACY)){var Te;return(Te=H(g.CREATION_FROM_LEGACY))===null||Te===void 0?void 0:Te.map($=>({...$,type:"client"}))}if(Ae!=null&&Ae.includes(g.CREATION)){var Me;return(Me=H(g.CREATION))===null||Me===void 0?void 0:Me.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.AGENDA)){var Ue;return(Ue=H(g.AGENDA))===null||Ue===void 0?void 0:Ue.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.BRAINSTORM)){var xe;return(xe=H(g.BRAINSTORM))===null||xe===void 0?void 0:xe.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.FAQ)){var Ne;return(Ne=H(g.FAQ))===null||Ne===void 0?void 0:Ne.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.OUTLINE)){var be;return(be=H(g.OUTLINE))===null||be===void 0?void 0:be.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.OVERVIEW)){var ke;return(ke=H(g.OVERVIEW))===null||ke===void 0?void 0:ke.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}if(Ae!=null&&Ae.includes(g.TABLE)){var Ke;return(Ke=H(g.TABLE))===null||Ke===void 0?void 0:Ke.map($=>({...$,type:"client",recentChannel:ce,atMention:Ee}))}return[]}),Y=h(q=>T.get(q)===v.CREATE||T.get(q)===v.CREATE_FROM_LEGACY,"isSuggestionCreation")},9473548425:(B,A,e)=>{"use strict";e.d(A,{Aw:()=>y,Zj:()=>g,vK:()=>T});var t=e(3262078016),s=e(3385422400),o=e(2947229296),n=e(8455940947),c=e(8631406144),l=e(7011720980),i=e(3322552522),a=e(8679804389),r=e(414484285),d=e(3030430895),m=e(5478938623),f=e(205540855),u=e(7534154420),E=e(3666777625);const v=new o.Ay("quip_shortcut_handlers");var g;(function(C){C[C.BASICS=0]="BASICS",C[C.MEDIA=1]="MEDIA",C[C.SLACK=2]="SLACK",C[C.LAYOUT=3]="LAYOUT",C[C.AI=4]="AI",C[C.SALESFORCE=5]="SALESFORCE"})(g||(g={}));const T=h((C,I)=>({[g.BASICS]:v.t("Basics"),[g.MEDIA]:v.t("Media"),[g.SLACK]:v.t("Slack"),[g.LAYOUT]:v.t("Layout"),...C?{[g.AI]:v.t("AI")}:{},...I?{[g.SALESFORCE]:v.t("Salesforce")}:{}}),"getCategoryDetailsV2"),p=h(C=>{let{currentTeam:I,experimentCanvasCalloutsGroupOn:M,experimentCanvasAiContentCreationGroupOn:_,teamHasListsAccess:P,experimentCanvasLiveDataMentionsGroupOn:b,connectedSalesforceOrgs:S}=C;const N=(0,m.qR)(I),L=!!S.length&&b,D=T(_,b),k=D[g.AI],x=D[g.BASICS],R=D[g.MEDIA],U=D[g.SLACK],F=D[g.LAYOUT],W=D[g.SALESFORCE],w=h((K,j,Q,J)=>({id:K,name:j,canonicalName:Q,hideOnEmptyQuery:J,autocomplete:!0,icon:(0,n.P)(i.r.DATE_MENTION).name,category:g.BASICS}),"dateShortcut");return[..._?[{id:t.SlackShortcutCommandType.AI_ASSISTANT,name:v.t("Write with AI",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2"}),canonicalName:"/ai",autocomplete:!0,icon:"sparkles",category:g.AI,aliases:[k,v.t("assistant"),v.t("ask")]},{id:t.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_SUMMARY,name:v.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"}),canonicalName:"/aicanvassummary",autocomplete:!0,icon:"ai-summary",category:g.AI,aliases:[k,v.t("assistant"),v.t("ask"),v.t("summary")]},{id:t.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_ACTION_ITEMS,name:v.t("Add action items",{fallbackHash:"612b0b1d623ffd57874b9942f55a2baab60651d0"}),canonicalName:"/aicanvasactionitems",autocomplete:!0,icon:"ai-check",category:g.AI,aliases:[k,v.t("assistant"),v.t("ask"),v.t("actionitems")]}]:[],{id:t.SlackShortcutCommandType.CANVAS,name:(0,c.O)(i.r.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:(0,n.P)(i.r.CANVAS).name,category:g.BASICS,aliases:["canvas",x]},{id:t.SlackShortcutCommandType.CHECKLIST,name:(0,c.O)(i.r.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:(0,n.P)(i.r.CHECK_LIST).name,category:g.BASICS,aliases:["checklist",x]},{id:t.SlackShortcutCommandType.H1,name:(0,c.O)(i.r.H1),canonicalName:"/largeheading",autocomplete:!0,icon:(0,n.P)(i.r.H1).name,category:g.BASICS,aliases:["h1","heading",x]},{id:t.SlackShortcutCommandType.H2,name:(0,c.O)(i.r.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:(0,n.P)(i.r.H2).name,category:g.BASICS,aliases:["h2","heading",x]},{id:t.SlackShortcutCommandType.H3,name:(0,c.O)(i.r.H3),canonicalName:"/smallheading",autocomplete:!0,icon:(0,n.P)(i.r.H3).name,category:g.BASICS,aliases:["h3","heading",x]},{id:t.SlackShortcutCommandType.PLAIN,name:(0,c.O)(i.r.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:(0,n.P)(i.r.PARAGRAPH).name,category:g.BASICS,aliases:["plain",v.t("plain"),x]},{id:t.SlackShortcutCommandType.TABLE,name:(0,c.O)(i.r.TABLE),canonicalName:"/table",autocomplete:!0,icon:(0,n.P)(i.r.TABLE).name,category:g.BASICS,aliases:["table",v.t("grid"),v.t("spreadsheet"),x]},{id:t.SlackShortcutCommandType.DIVIDER,name:(0,c.O)(i.r.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:(0,n.P)(i.r.DIVIDER).name,category:g.BASICS,aliases:["divider",v.t("horizontal line"),x]},{id:t.SlackShortcutCommandType.BULLET_LIST,name:(0,c.O)(i.r.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:(0,n.P)(i.r.BULLET_LIST).name,category:g.BASICS,aliases:["list",x]},{id:t.SlackShortcutCommandType.ORDERED_LIST,name:(0,c.O)(i.r.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:(0,n.P)(i.r.ORDERED_LIST).name,category:g.BASICS,aliases:["list",x]},{id:t.SlackShortcutCommandType.BLOCKQUOTE,name:(0,c.O)(i.r.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:(0,n.P)(i.r.BLOCKQUOTE).name,category:g.BASICS,aliases:["blockquote",x]},...M?[{id:t.SlackShortcutCommandType.CALLOUT,name:(0,c.O)(i.r.CALLOUT),canonicalName:"/callout",autocomplete:!0,icon:(0,n.P)(i.r.CALLOUT).name,category:g.BASICS,aliases:["callout"]}]:[],{id:t.SlackShortcutCommandType.CODE,name:(0,c.O)(l.L.CODE),canonicalName:"/code",autocomplete:!0,icon:(0,n.P)(l.L.CODE).name,category:g.BASICS,aliases:["code",x]},{...w(t.SlackShortcutCommandType.DATE_GENERIC,(0,c.O)(i.r.DATE_MENTION),"/date"),aliases:["date",x]},{...w(t.SlackShortcutCommandType.DATE_TODAY,v.t("Today"),"/today",!0),aliases:["today"]},{...w(t.SlackShortcutCommandType.DATE_TOMORROW,v.t("Tomorrow"),"/tomorrow",!0),aliases:["tomorrow"]},{...w(t.SlackShortcutCommandType.DATE_YESTERDAY,v.t("Yesterday"),"/yesterday",!0),aliases:["yesterday"]},{...w(t.SlackShortcutCommandType.DATE_GENERIC,v.t("Reminder",{fallbackHash:"b87a1929f78bee9f6f3a2ac9e30465cd226ab5ec",fallbackHashNs:"slack_docs"}),"/reminder"),aliases:["reminder",x]},{id:t.SlackShortcutCommandType.VIDEO,name:(0,c.O)(i.r.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:(0,n.P)(i.r.VIDEO_CLIP).name,category:g.MEDIA,aliases:["video",R]},{id:t.SlackShortcutCommandType.AUDIO,name:(0,c.O)(i.r.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:(0,n.P)(i.r.AUDIO_CLIP).name,category:g.MEDIA,aliases:["audio",R]},{id:t.SlackShortcutCommandType.IMAGE,name:(0,c.O)(i.r.IMAGE),canonicalName:"/image",autocomplete:!0,icon:(0,n.P)(i.r.IMAGE).name,category:g.MEDIA,aliases:["image",R]},{id:t.SlackShortcutCommandType.FILE,name:(0,c.O)(i.r.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:g.MEDIA,aliases:["file",R]},...L?[{id:t.SlackShortcutCommandType.SALESFORCE_DATA_MENTION,name:(0,c.O)(i.r.SALESFORCE_DATA_MENTION,{experimentCanvasLiveDataMentionsGroupOn:b}),canonicalName:"/livedatamention",autocomplete:!0,icon:(0,n.P)(i.r.SALESFORCE_DATA_MENTION).name,category:g.SALESFORCE,aliases:["livedatamention",W]}]:[],{id:t.SlackShortcutCommandType.SALESFORCE_RECORD,name:(0,c.O)(i.r.SALESFORCE_RECORD,{experimentCanvasLiveDataMentionsGroupOn:b}),canonicalName:"/salesforcerecord",autocomplete:!0,icon:(0,n.P)(i.r.SALESFORCE_RECORD).name,category:g.SALESFORCE,aliases:["salesforcerecord",W],hideOnEmptyQuery:!0},...N?[{id:t.SlackShortcutCommandType.WORKFLOW,name:(0,c.O)(i.r.WORKFLOW),canonicalName:"/workflow",autocomplete:!0,icon:(0,n.P)(i.r.WORKFLOW).name,category:g.SLACK,aliases:["workflow",U]}]:[],...P?[{id:t.SlackShortcutCommandType.LIST,name:(0,c.O)(i.r.LIST),canonicalName:"/list",autocomplete:!0,icon:(0,n.P)(i.r.LIST).name,category:g.SLACK,aliases:["list",U]}]:[],{id:t.SlackShortcutCommandType.PROFILE,name:v.t("Profile"),canonicalName:"/profile",autocomplete:!0,icon:"user",category:g.SLACK,aliases:["user",U,v.t("user"),v.t("mention")]},{id:t.SlackShortcutCommandType.CHANNEL,name:v.t("Channel"),canonicalName:"/channel",autocomplete:!0,icon:"channel-add",category:g.SLACK,aliases:["channel",U]},{id:t.SlackShortcutCommandType.TWO_COLUMNS,name:(0,c.O)(i.r.LAYOUT_2_COLUMNS),canonicalName:"/twocolumns",autocomplete:!0,icon:(0,n.P)(i.r.LAYOUT_2_COLUMNS).name,category:g.LAYOUT,aliases:["layout",F]},{id:t.SlackShortcutCommandType.THREE_COLUMNS,name:(0,c.O)(i.r.LAYOUT_3_COLUMNS),canonicalName:"/threecolumns",autocomplete:!0,icon:(0,n.P)(i.r.LAYOUT_3_COLUMNS).name,category:g.LAYOUT,aliases:["layout",F]},{id:t.SlackShortcutCommandType.CODEBLOCK,name:(0,c.O)(i.r.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:(0,n.P)(i.r.CODE_BLOCK).name,category:g.LAYOUT,aliases:["code",F]}]},"getCommandsV2");function O(C){return{...C,type:"client"}}h(O,"formatShortcut");const y=(0,s.Mz)([E.H7,C=>(0,f._Z)(C,"canvas_callouts")==="on",C=>(0,f._Z)(C,"canvas_ai_inline_creation")==="on",C=>(0,d.teamHasFullListsAccess)(C),a.rF,u.mO,()=>(0,r.JK)(),(C,I)=>I],(C,I,M,_,P,b,S,N)=>p({currentTeam:C,experimentCanvasCalloutsGroupOn:I,experimentCanvasAiContentCreationGroupOn:M,teamHasListsAccess:_,experimentCanvasLiveDataMentionsGroupOn:P,connectedSalesforceOrgs:b}).map(O).filter(D=>N||!D.hideOnEmptyQuery))},4627303395:(B,A,e)=>{"use strict";e.d(A,{A:()=>o,h:()=>s});var t=e(3262078016);const s=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:t.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:t.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:t.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:t.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:t.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:t.CollabUrlType.SLACK_WORKFLOW},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/lists\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_LIST}];let o=h(class{constructor(){this.supportedUrlParsers=s}},"QuipUrlParsersProvider")},8514305816:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(8370946575),s=e(4894634110),o=e(1492487690),n=e(8983568556),c=e(5572453358),l=e(9132422875);const i=(0,s.Ay)("Remove a message and its timestamp",function(r,d){let{channelId:m,ts:f,threadTs:u,broadcastDelete:E=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!m||!f))if(E)r((0,c.E$)({channelId:m,ts:f}));else{r((0,n.Np)({channelId:m,timestamp:f}));const v=!1,g=(0,l.Ld)(d(),m,f,v),T=g&&g.thread_ts||u;if(T){const p=(0,t.Iu)(m,T)||"";r((0,n.Np)({channelId:p,timestamp:f}))}r((0,c.QN)({message:{channel:m,ts:f}})),r((0,o.A)({channelId:m,item:g}))}});i.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"};const a=i},1492487690:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(4414425352);const s=(0,t.Ay)("(noop) Remove a pinned item via side-effect");s.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"};const o=s},2477038095:(B,A,e)=>{"use strict";e.d(A,{A:()=>b});var t=e(6696292586),s=e(8086952004),o=e(12126472),n=e(3398586081),c=e(5950652755),l=e(4781929578),i=e(8370946575),a=e(2691514942),r=e(4894634110),d=e(7874250141),m=e(7188858884),f=e(873762449),u=e(1242487384),E=e(8983568556),v=e(3351247794),g=e(5572453358),T=e(710497338),p=e(7844154218),O=e(3176394887),y=e(3813017689);const C=1e3,I=h((N,L,D)=>{if(!N||!L)return Promise.resolve();if(L==="Vall_threads")return(0,m.Qw)(N,(0,f.r8)()),Promise.resolve();const k=!1;return(0,v.OL)((0,m.$D)(N),L,k)?D?M(N,L,D):(0,m.Qw)(N,(0,l.Ay)({channelId:L,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(R=>{let{msgs:U,hasMore:F,isLimited:W,pinCount:w,deleted:K}=R;const j=(0,m.$D)(N);(0,p.UJ)(j)&&!(0,O.N)(j,L)&&!(0,O.N)(j,(0,u.WR)(j))||((0,m.Qw)(N,(0,E.Jt)({channelId:L})),(0,m.Qw)(N,(0,y.A)({msgs:U,channelId:L,isLimited:W,hasMore:{hasMoreStart:F??!1,hasMoreEnd:!1},oldest:null,latest:null,deleted:K})),(0,t.A)(w)&&(0,m.Qw)(N,(0,T.K)({channelId:L,count:w})))}).catch(R=>{(0,a.Ay)({state:(0,m.$D)(N)}).error(`Failed to fetch offline history for ${L}: ${R}`)}):Promise.resolve()},"fetchOfflineHistory");function M(N,L,D){const k=(0,i.Iu)(L,D);return(0,m.Qw)(N,(0,l.$b)({channelId:L,threadTs:D,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(x=>{let{msgs:R,deleted:U,hasMore:F}=x;const W=(0,m.$D)(N);if((0,p.UJ)(W)&&!(0,O.N)(W,L)&&!(0,O.N)(W,(0,u.WR)(W)))return;let w=R;const K=(0,s.A)(R,{ts:D});F&&(w=(0,o.A)(R,{ts:D})),(0,m.Qw)(N,(0,E.Jt)({channelId:k})),(0,m.Qw)(N,(0,y.A)({msgs:w,channelId:k,hasMore:{hasMoreStart:F??!1,hasMoreEnd:!1},oldest:null,latest:null,deleted:U})),K&&(0,m.Qw)(N,(0,g.Kc)([K]))})}h(M,"fetchOfflineHistoryForThread");const _=(()=>{const N=(0,n.A)((L,D,k)=>(0,c.A)(()=>I(L,D,k),C),function(){for(var L=arguments.length,D=new Array(L),k=0;k<L;k++)D[k]=arguments[k];return JSON.stringify(D)});return(L,D,k)=>N(L,D,k)()})(),P=(0,r.Ay)("Request offline history",function(N,L){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{channelId:k,threadTs:x}=D;return _((0,d.ZT)(L()),k,x)});P.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"};const b=P,S={fetchOfflineHistory:I,fetchOfflineHistoryForThread:M}},8091212860:(B,A,e)=>{"use strict";e.d(A,{NU:()=>re,e8:()=>V,Ay:()=>Ae,IY:()=>fe});var t=e(2003990933),s=e(7174777686),o=e(3571452446),n=e(1649982175),c=e(5225990054),l=e(1236500105),i=e(620572118),a=e(3234482903),r=e(7715417323),d=e(1985486637),m=e(8479988974),f=e(2691514942),u=e(292027566),E=e(1244614944),v=e(7188858884);const g={},T="cse-message-send",p="cse-message-send";let O=h(class{_send(){var oe;const{message:me,trace:pe,parentSpanId:Te}=this._activeRequest||{};(0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${me==null?void 0:me.client_msg_id}`);const Me=h(()=>{var Ue;return(Ue=this._store)===null||Ue===void 0?void 0:Ue.dispatch((0,m.A)({message:me,traceId:pe==null?void 0:pe.getTraceId(),parentSpanId:Te}))},"postMessageP");return(oe=this._maybeTraceMessageSend(Me))===null||oe===void 0?void 0:oe.then(this._activeRequest?this._activeRequest.resolve:r.A).catch(this._activeRequest?this._activeRequest.reject:r.A).finally(()=>this.resolve(me))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:oe}=this._activeRequest||{};return oe==null||oe.addTags({count:this._queue.length}),oe==null||oe.close(),this._send(),(0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(oe){var me;if(!this.shouldTraceMessageSend())return oe();const pe=(me=this._tracer)===null||me===void 0?void 0:me.createTrace({traceName:T,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:E.nl.ALWAYS}}),Te=h(()=>{var Ue;pe&&((Ue=this._tracer)===null||Ue===void 0||Ue.clearTrace(pe))},"onResolve"),Me=h((Ue,xe)=>{var Ne;const be={state:E.$m.ERROR};xe.status&&(be.status=xe.status),xe.message&&(be.message=xe.message),xe.data&&xe.data.error&&(be.reason=xe.data.error),Ue==null||Ue.addTags(be),Ue==null||Ue.close(),pe&&((Ne=this._tracer)===null||Ne===void 0||Ne.reportTrace(pe))},"onError");return pe==null?void 0:pe.traceFn({name:p,onError:Me,onResolve:Te},oe)}enqueue(oe){let{trace:me,parentSpanId:pe}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new d.S((Te,Me)=>{const Ue=me==null?void 0:me.startSpan("message_send_attempt:enqueue",{parentSpanId:pe});this._queue.push({message:oe,messageEnqueueSpan:Ue,trace:me,parentSpanId:pe,resolve:Te,reject:Me}),(0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${oe.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(oe){return!oe||!this._activeRequest||!this._activeRequest.message||oe.client_msg_id!==this._activeRequest.message.client_msg_id?!1:((0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${oe.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){return this._tracer}constructor(oe){if(!oe)throw new Error("MessageQueue requires a teamId.");if(this._teamId=oe,this._activeRequest=null,this._queue=[],this._store=(0,v.oK)(oe),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${oe} found.`);const me=this._store.getState();this._tracer=(0,u.E)({state:me})}},"MessageQueue");function y(le){return g[le]||(g[le]=new O(le)),g[le]}h(y,"getInstance");const C={MESSAGE_SEND_TRACE_LABEL:T,MESSAGE_SEND_SPAN_LABEL:p};var I=e(8370946575),M=e(7411813784),_=e(182113039),P=e(4894634110),b=e(7874250141),S=e(4752038257),N=e(8514305816),L=e(2477038095),D=e(1242487384),k=e(8983568556),x=e(3351247794),R=e(528789042),U=e(205540855),F=e(4910871590),W=e(4010617374),w=e(5887868),K=e(5572453358),j=e(2359727678),Q=e(7844154218),J=e(3176394887);const z=6,ie=7,ee=8,ne="restricted_action_read_only_channel",Z="restricted_action_thread_only_channel",te="restricted_action_non_threadable_channel",he="ekm_access_denied",ue="dlp_user_warning",de="message_limit_exceeded";var re;(function(le){le.BLOCK_FILES_LINK_TYPE="slack_connect_file_link_sharing_blocked",le.BLOCK_CANVAS_CONTAIN_FILES_TYPE="slack_connect_canvas_contain_file_sharing_blocked",le.BLOCK_CANVAS_CONTAIN_EMBEDDED_FILES_TYPE="slack_connect_canvas_contain_embedded_files_blocked",le.BLOCK_LIST_CONTAIN_FILES_TYPE="slack_connect_list_contain_file_sharing_blocked"})(re||(re={}));var V;(function(le){le.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",le.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",le.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(V||(V={}));function H(le,oe){le((0,K.Kc)([oe]));const me={channelId:oe.channel,timestamps:[oe.ts],oldest:oe.ts,hasMore:!1,append:!0};if(le((0,k.VG)(me)),oe.thread_ts){const pe=(0,I.Iu)(oe.channel,oe.thread_ts);le((0,k.VG)({...me,channelId:pe}))}}h(H,"addMsgToEnd");const X={};function Y(le,oe,me){X[le]||(X[le]={}),X[le][oe]=me}h(Y,"addResolutionTimer");function q(le,oe){!X[le]||!X[le][oe]||(clearTimeout(X[le][oe]),delete X[le][oe])}h(q,"cancelResolutionTimer");function fe(le,oe,me,pe){const Te=(0,b.ZT)(le())||"",Me=(0,w.I)(le(),pe.client_msg_id);if(Me){(0,f.Ay)({getState:le}).action("MESSAGE",`Resolved a message with clientMsgId ${pe.client_msg_id} in ${me.channel} with ts ${pe.ts}`),oe((0,W.s)(Me.clientMsgId)),q(Te,Me.clientMsgId),oe((0,N.A)({channelId:Me.channelId,ts:Me.ts}));const Ue=!1;(0,x.OL)(le(),me.channel,Ue)&&oe((0,S.A)({channelId:me.channel,msgTs:me.ts,resent:!1}))}y(Te).resolve(pe)}h(fe,"resolveMessage");const ce="cse-message-send:send",Ee=(0,P.Ay)("Send a message",(le,oe,me)=>{let{messageSendTrace:pe,notificationTracePassthroughData:Te,skipDLPUserWarning:Me,...Ue}=me;const xe=(0,u.E)({getState:oe});let Ne,be;pe&&(Ne=pe.startSpan("message_send_attempt:send"),be=pe.startSpan("message_send_attempt:placeholder",{parentSpanId:Ne==null?void 0:Ne.getId()}));const ke=xe.createMetricsTrace({label:"cse-message-send"});ke.count({name:ce,label:"pending"}),xe.reportTrace(ke);const Ke=(0,c.A)(1),{channel:$,reply_broadcast:ae,thread_ts:Ge,client_msg_id:nt,xArgs:at}=Ue,Ve=(0,f.Ay)({getState:oe}),Se=(0,b.ZT)(oe())||"",Pe=Ge?{_hidden_reply:!0,_was_reply_broadcast:ae}:null,Fe=nt||(0,l.A)();Te&&(0,_.qe)(oe(),{notificationTracePassthroughData:Te,clientMsgId:Fe});const ge=(0,U._Z)(oe(),"fe_message_rendering_perf_m1")==="on",He=Ue.blocks,Qe={...Ue,...Pe,user:(0,D.WR)(oe()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:Fe,blocksProcessed:(0,j.R)({blocks:He,experimentFeMessageRenderingPerfM1GroupOn:ge})};Ve.action("MESSAGE",`Sent a message to ${$} via HTTP, clientMsgId: ${Fe}`);const _e={...Ue,...at,include_channel_perm_error:!0,client_msg_id:Fe,skip_dlp_user_warning:Me};Ke&&Y(Se,Fe,window.setTimeout(()=>{if((0,w.I)(oe(),Qe.client_msg_id)){const we=oe();(0,Q.UJ)(we)&&(0,M.Cy)({state:we}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const Le=y((0,b.ZT)(oe())||"").enqueue(_e,{trace:pe,parentSpanId:Ne==null?void 0:Ne.getId()});H(le,Qe),le((0,W.T)({clientMsgId:Qe.client_msg_id,channelId:Qe.channel,ts:Qe.ts}));const Ie=(0,U._Z)(oe(),"scroll_to_latest_on_msg_send")==="on";return Ge||le((0,F.A)({ts:Ie&&(_e==null?void 0:_e.ts)||null})),be==null||be.close(),Le.tap(()=>{const we=oe();(!(0,Q.UJ)(we)||(0,J.N)(we,$)||(0,J.N)(we,(0,D.WR)(we)))&&(le((0,L.A)({channelId:$,threadTs:Ge})),ae&&le((0,L.A)({channelId:$}))),ke.count({name:ce,label:"success"}),xe.reportTrace(ke),pe&&(pe.addTags({success:!0}),Ne==null||Ne.close(),xe.reportTrace(pe))}).catch(we=>{const ze=(0,t.A)(we,"data.error"),ut=(0,t.A)(we,"data.dlp_custom_message");ke.count({name:ce,label:"failure"}).setTag("error",ze||(we==null?void 0:we.message)),xe.reportTrace(ke);const _t=ze===he,yt=ze===ue,Ot=ze===de,It=Object.values(V).includes(ze)?ze:void 0,kt=Object.values(re).includes(ze)?ze:void 0;if(!ze&&!(0,w.I)(oe(),Qe.client_msg_id)){Ve.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}let gt=!0;const Gt=!0,Pt=[z,ie,ee,ne,Z,te];if((0,s.A)(Pt,ze)){const Bt="posting_permission_send_message_error";le((0,a._)({channel:$,reason:Bt})).then(dn=>{!dn||!dn.channel||le((0,R.F)({channel:dn.channel,reason:Bt}))}),gt=!1}_t&&(gt=!1),kt&&(gt=!1),Ot&&(gt=!1,le((0,i.A)())),It&&(gt=!1);const jt="Message failed to send",Qt=(0,o.A)(we,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);Qt.client_msg_id=Fe,Qt.channel=$,Qt.thread_ts=Ge;const Jt=we&&we.status===429?"message_send_ratelimit":"message_send_fail";Ve.error(Qt instanceof Error?Qt:new Error(jt),`${jt}: ${ze} | ${JSON.stringify(Qt)}`,{subtype:Jt});const Yt=ze?(0,n.A)(Qt,["response"]):we;Ve.error("MESSAGE",jt,ze,Yt);const Rt={...Qe,showResend:gt,showCancel:Gt,isEKMError:_t,isDLPUserWarningError:yt,canvasSharingError:It,blockFileLinkSharingError:kt,dlpCustomMessage:ut};(0,w.I)(oe(),Qe.client_msg_id)?le((0,K.Kc)([Rt])):H(le,Rt),!gt&&Ke&&q(Se,Qe.client_msg_id),pe&&(gt?(pe.addTags({success:!1}),Ne==null||Ne.close(),xe.reportTrace(pe)):xe.clearTrace(pe))})});Ee.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"};const Ae=Ee},3951996002:(B,A,e)=>{"use strict";e.d(A,{y:()=>i});var t=e(3889517373),s=e(2947229296),o=e(1236500105),n=e(5842744554),c=e(6245071961);const l=new s.Ay("emoji_picker"),i=h((a,r)=>{let{draftId:d,status:m=n.t.SENDING}=r;if(!d)return[];const f=(0,c.BH)(a),u=(0,c.pW)(a,{draftId:d,status:m});return Array.isArray(u)?u.map(E=>{let{fallback:v,image_url:g,image_width:T,image_height:p,image_bytes:O}=E;return{blocks:[{type:t.WP.image,block_id:(0,o.A)(),image_url:g,alt_text:v,image_width:T,image_height:p,image_bytes:O,is_animated:!0,fallback:v,title:{type:"plain_text",text:f?l.t("GIF"):"GIF",emoji:!0}}]}}):[]},"getImageBlockFromGifUnfurls")},3766524426:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(3134334389),s=e(6717879785),o=e(1367007952),n=e(2652587076),c=e(4894634110),l=e(7874250141),i=e(7188858884),a=e(76949914),r=e(5876603232),d=e(6865406402);function m(){return m=Object.assign||function(E){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(E[T]=g[T])}return E},m.apply(this,arguments)}h(m,"_extends");const u=h((E,v)=>(0,c.Ay)(`XWS open ${E.displayName} modal`,(g,T,p,O)=>{const{modalName:y,allowMultiple:C=!0,isStackable:I=!1,renderInChildWindow:M=!1}=v||{};let _,P=M;const b=O(n.C);if((b==null?void 0:b.windowRef.deref())!==s.J&&(b!=null&&b.windowId)&&(P=!0,_=b.windowId),!C&&y&&(0,a.wc)(T(),_).find(U=>{let{name:F}=U;return F===y}))return;const S=(0,l.ZT)(T()),N=(0,d.vB)(T()),L=(0,i.oK)(S);let D,k=t.createElement(E,m({},p,{closeModal:()=>D==null?void 0:D()}));P||(k=t.createElement(o.Kq,{store:L},k));let x;return P?x=g((0,r.q)({element:k,name:y||void 0,isStackable:I})):x=(0,i.Qw)(N,(0,r.q)({element:k,name:y||void 0,isStackable:I})),D=x==null?void 0:x.close,x}),"createXWSModalThunk")},7478094216:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(8571983633),s=e(9686962598),o=e(7059587421),n=e(7590062472),c=e(9395386914);const l=(0,n.Ay)("Logs helpful messages to the console if you do something incorrect",(a,r,d)=>{if((0,t.A)(d)||(0,s.A)(d))return c.Qs&&(0,o.z3)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(d.isThunkCreator||d.isActionCreator){if(c.Qs){const m=d.isThunkCreator?"thunk":"action",f=d.meta?d.meta.name:`${m}Creator`;(0,o.z3)(`
	It looks like you dispatched a ${m} creator instead of the ${m} itself!
	This is a common mistake, and the solution is to call dispatch(${f}(payload)) instead of just dispatch(${f}), note the extra parens at the end.
				`)}return null}return(0,c.ZR)(d),r(d)});l.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"};const i=l},9929257140:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(862210999),s=e(3677587543),o=e(1492910739),n=e(2691514942),c=e(7590062472);let l=[];const i=(0,n.Wo)(),a=(0,c.Ay)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(f,u,E)=>{const v=[],g=f.getState();l.forEach(O=>{v.push(O(g,E))});const T=u(E),p=f.getState();return l.forEach((O,y)=>{const C=O(p,E);if(v[y]!==C){const I=["Redux Watcher:",`Value has changed! 
Action: `,E,`
Before: `,v[y],`
After:  `,C];if(v[y]!==void 0&&C!==void 0){const M=v[y]===void 0?{}:v[y],_=C===void 0?{}:C;I.push(`
Diff: `,Object.keys({...M,..._}).filter(P=>M[P]!==_[P]).map(P=>({key:P,before:M[P],after:_[P]})))}if(i.warn(...I),(0,o.Cu)()||(0,o.b3)())debugger}}),T});a.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"};const r=a;function d(f){if(!(0,t.A)(f)){i.error("watcherFn passed in to addWatcher must be a function");return}l.push(f)}h(d,"addWatcher");function m(){l=[]}h(m,"clearAllWatchers"),(0,s.ul)("reduxWatcher",{addWatcher:d,clearAllWatchers:m})},6656755327:(B,A,e)=>{"use strict";e.d(A,{N:()=>f,A:()=>m});var t=e(1985486637),s=e(2691514942),o=e(2183213466),n=e(7590062472),c=e(7919365230);const l=(0,c.Ay)(u=>{var E;return u==null||(E=u.clientSideEffects)===null||E===void 0?void 0:E.clientSideEffectsMap});l.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:u=>{var E;return u==null||(E=u.clientSideEffects)===null||E===void 0?void 0:E.clientSideEffectsMap}};const i=(0,c.Ay)(u=>{var E;return u==null||(E=u.sideEffects)===null||E===void 0?void 0:E.sideEffectsMap});i.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:u=>{var E;return u==null||(E=u.sideEffects)===null||E===void 0?void 0:E.sideEffectsMap}};function a(){return(0,n.Ay)("Handle client side effects",(u,E,v)=>{var g;if(!((g=v.__test)===null||g===void 0)&&g.disableSideEffects)return E(v);const T=u.getState(),p=l(T);return d({store:u,action:v,sideEffectsMap:p}),E(v)})}h(a,"createClientSideEffectsMiddleware");function r(){return(0,n.Ay)("Handle side effects",(u,E,v)=>{var g;if(!((g=v.__test)===null||g===void 0)&&g.disableSideEffects)return E(v);const T=u.getState(),p=i(T);return d({store:u,action:v,sideEffectsMap:p}),E(v)})}h(r,"createSideEffectsMiddleware");function d(u){let{store:E,action:v,sideEffectsMap:g}=u;const T=g&&g[v.type],p=h(O=>((0,o.S$)(v,O),E.dispatch(O)),"wrappedDispatch");T!=null&&T.length&&t.S.resolve().then(()=>{T.forEach(O=>{if(!O)return;const{thunk:y}=O;try{p(y(v))}catch(C){(0,s.Ay)({getState:E.getState}).error("SIDE-EFFECTS",`Error in side effect for '${v.type}'`,C,{subtype:"side_effect_error"})}})})}h(d,"runSideEffects");const m=r(),f=a()},2485132878:(B,A,e)=>{"use strict";e.d(A,{g:()=>s});var t=e(5008770122);function s(o){const l={sideEffectsMap:{},clientSideEffectsMap:{}};return!o||!o.length?l:o.reduce((i,a)=>{const{actions:r,scope:d}=a;let m;switch(d){case t.RE.client:m=i.clientSideEffectsMap;break;default:case t.RE.workspace:m=i.sideEffectsMap;break}return r.forEach(f=>{var u;const E=f==null||(u=f.getType)===null||u===void 0?void 0:u.call(f);E&&(m[E]=m[E]||[],m[E].push(a))}),i},l)}h(s,"generateSideEffectsMaps")},9042150803:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(7523104273),s=e(625924380);const o={hasKeyboardFocus:!1},c=(0,t.Ay)({},o,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(s.w,function(l){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return l.hasKeyboardFocus===i?l:{...l,hasKeyboardFocus:i}})},6478627868:(B,A,e)=>{"use strict";e.d(A,{As:()=>c,N9:()=>s,V_:()=>o,WB:()=>d,X8:()=>n,bb:()=>a,c7:()=>m,dH:()=>i,lf:()=>r,og:()=>t,rf:()=>l});const t="(prefers-contrast: more)",s="useAriaApplicationForListViews",o="composerUpArrowShortcutBehavior",n="messageTextLineSpacing",c="messageSpacing",l="messageTextWordSpacing",i="conversationIncomingMessageSound",a="conversationSentMessageSound",r="conversationIncomingMessageAnnouncement",d="peeksEnabledOnMouseEnter",m=!0},2998455933:(B,A,e)=>{"use strict";e.d(A,{A:()=>M});var t=e(1137236691),s=e(7042186995),o=e(7523104273),n=e(5625262008),c=e(6478627868),l=e(6913752570),i=e(5512437437);let a=!1;(0,s.Nu)()?a=window.matchMedia(c.og).matches:(0,s.hk)()&&(a=(0,t.oQe)("settings","shouldUseHighContrastColors"));let r=!1;try{r=!!(0,i.W6)(c.N9)}catch{}let d;try{d=(0,i.W6)(c.V_)}catch{}let m;try{m=(0,i.W6)(c.X8)||1}catch{}let f;try{f=(0,i.W6)(c.As)||1}catch{}let u;try{u=(0,i.W6)(c.rf)||"0"}catch{}let E;try{var v;E=(v=(0,i.W6)(c.dH))!==null&&v!==void 0?v:""}catch{E=""}let g;try{var T;g=(T=(0,i.W6)(c.bb))!==null&&T!==void 0?T:""}catch{g=""}let p;try{p=(0,i.W6)(c.lf)}catch{p=void 0}let O;try{var y;O=(y=(0,i.W6)(c.WB))!==null&&y!==void 0?y:c.c7}catch{O=c.c7}const C={screenReaderEnabled:!1,shouldUseHighContrastColors:a,useARIAApplicationForListViews:r,composerUpArrowShortcutBehavior:d,messageTextLineSpacing:m,messageSpacing:f,messageTextWordSpacing:u,conversationIncomingMessageSound:E,conversationSentMessageSound:g,conversationIncomingMessageAnnouncement:p,peeksEnabledOnMouseEnter:O},M=(0,o.Ay)({},C,{storeKey:"accessibility",persistenceEnabled:!1}).on(l.rl,(_,P)=>P!=null&&P.message?{..._,announcerAPIAnnouncement:P}:_).on(l.Jq,(_,P)=>typeof P!="boolean"||P===_.screenReaderEnabled?_:{..._,screenReaderEnabled:P}).on(l.N,function(_){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof P!="boolean"||P===_.shouldUseHighContrastColors?_:{..._,shouldUseHighContrastColors:P}}).on(l.KQ,function(_){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{..._,useARIAApplicationForListViews:P}}).on(l.Tv,function(_){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.v.LIST;return{..._,composerUpArrowShortcutBehavior:P}}).on(l.C_,function(_){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{..._,messageTextLineSpacing:P}}).on(l.XE,function(_){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{..._,messageSpacing:P}}).on(l.Mq,function(_){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{..._,messageTextWordSpacing:P}}).on(l.Sr,(_,P)=>({..._,conversationIncomingMessageSound:P})).on(l.mw,(_,P)=>({..._,conversationSentMessageSound:P})).on(l.Ap,(_,P)=>({..._,conversationIncomingMessageAnnouncement:P})).on(l.V_,(_,P)=>({..._,peeksEnabledOnMouseEnter:P}))},5684618535:(B,A,e)=>{"use strict";e.d(A,{p:()=>l});var t=e(4894634110),s=e(8877220497),o=e(6478627868),n=e(6913752570),c=e(5512437437);const l=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(i,a,r)=>{if((0,s.A)(a()))try{(0,c.q9)(o.lf,r)}catch{}i((0,n.Ap)(r))});l.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},459806312:(B,A,e)=>{"use strict";e.d(A,{R:()=>l,r:()=>i});var t=e(4894634110),s=e(8877220497),o=e(6478627868),n=e(6913752570),c=e(5512437437);const l=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(a,r,d)=>{if((0,s.A)(r()))try{(0,c.q9)(o.dH,d)}catch{}a((0,n.Sr)(d))});l.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const i=(0,t.Ay)("Set the pref for the sound that plays when a message is sent to the focused conversation",(a,r,d)=>{if((0,s.A)(r()))try{(0,c.q9)(o.bb,d)}catch{}a((0,n.mw)(d))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},5625262008:(B,A,e)=>{"use strict";e.d(A,{v:()=>t});var t;(function(s){s[s.LIST=1]="LIST",s[s.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",s[s.EDIT=3]="EDIT"})(t||(t={}))},4824363037:(B,A,e)=>{"use strict";e.d(A,{D_:()=>c,H9:()=>n,WZ:()=>l,ZU:()=>o,ed:()=>i,h_:()=>s,iq:()=>a});var t=e(4414425352);const s=(0,t.Ay)("Sets the active view mode for the agent home DM view");s.meta={name:"createAction",key:"createActionsetAgentHomeViewMode",description:"Sets the active view mode for the agent home DM view"};const o=(0,t.Ay)("Sets the active thread ts for the agent home DM view");o.meta={name:"createAction",key:"createActionsetAgentHomeActiveThread",description:"Sets the active thread ts for the agent home DM view"};const n=(0,t.Ay)("Sets the state for the split view window");n.meta={name:"createAction",key:"createActionsetAgentSplitViewChannelId",description:"Sets the state for the split view window"};const c=(0,t.Ay)("Indicates if we are loading or not for the active view mode, only applies for active conversation");c.meta={name:"createAction",key:"createActionsetAgentHomeViewModeLoading",description:"Indicates if we are loading or not for the active view mode, only applies for active conversation"};const l=(0,t.Ay)("Sets metadata to send along with the next message sent by the user");l.meta={name:"createAction",key:"createActionsetAgentHomeMessageContextByChannelId",description:"Sets metadata to send along with the next message sent by the user"};const i=(0,t.Ay)("Sets the agent home state to the active conversation view mode state for the provided thread");i.meta={name:"createAction",key:"createActionsetAgentHomeActiveConversation",description:"Sets the agent home state to the active conversation view mode state for the provided thread"};const a=(0,t.Ay)("Sets the agent home state to the new conversation view mode state");a.meta={name:"createAction",key:"createActionsetAgentHomeNewConversation",description:"Sets the agent home state to the new conversation view mode state"}},4113850533:(B,A,e)=>{"use strict";e.d(A,{T:()=>r});var t=e(4894634110),s=e(5438842433),o=e(2652587076),n=e(6563296078),c=e(4458861846),l=e(4824363037),i=e(7418708689),a=e(8019437408);const r=(0,t.Ay)("Based on which toggles are active, navigates to the proper agent home",async(d,m,f,u)=>{let{channelId:E,threadTs:v,isSplitView:g,isFromAgentforceTab:T}=f;const p=m(),O=u(o.C),y=(0,s.oO)(p),C=(0,s.eF)(p),I=g?i.N2:O.windowId;y&&C?(d(v?(0,l.ed)({channelId:E,threadTs:v,isSplitView:g,windowId:I}):(0,l.iq)({channelId:E,isSplitView:g,windowId:I})),d(g?(0,a.p)({navProps:(0,c.bH)(E,{threadTs:v})}):(0,n.o)((0,c.bH)(E,{threadTs:v,isFromAgentforceTab:T})))):d((0,n.o)((0,c.bH)(E,{threadTs:v,isFromAgentforceTab:T})))});r.meta={name:"createThunk",key:"createThunknavigateToAgentHome",description:"Based on which toggles are active, navigates to the proper agent home"}},3574480006:(B,A,e)=>{"use strict";e.d(A,{e:()=>n});var t=e(7919365230);const s={summary:{name:"ai-summary"},"summary-off":{name:"ai-summary-off"},workflow:{name:"ai-workflow"},sparkles:{name:"ai-sparkle"},translate:{name:"ai-translate"}},o={summary:{name:"ai-summary-filled"},"summary-off":{name:"ai-summary-off-filled"},workflow:{name:"ai-workflow-filled"},sparkles:{name:"ai-sparkle-filled"},translate:{name:"ai-translate"}},n=(0,t.Ay)(function(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=l.type||"sparkles";return l.useFilledIcon?o[i]:s[i]});n.meta={name:"createSelector",key:"createSelectorgetSlackAiIconProps",description:function(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=l.type||"sparkles";return l.useFilledIcon?o[i]:s[i]}}},5586687994:(B,A,e)=>{"use strict";e.d(A,{Ar:()=>o,Cl:()=>i,G2:()=>n,MZ:()=>r,NW:()=>u,SK:()=>d,Zd:()=>a,c3:()=>s,cv:()=>c,t1:()=>f,y9:()=>l});var t=e(7919365230);const s=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.aiActivityTopics);s.meta={name:"createSelector",key:"createSelectorgetAiActivityTopics",description:p=>p&&p.aiTopics&&p.aiTopics.aiActivityTopics};const o=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.isFetchingAiActivityTopics);o.meta={name:"createSelector",key:"createSelectorgetIsFetchingAiActivityTopics",description:p=>p&&p.aiTopics&&p.aiTopics.isFetchingAiActivityTopics};const n=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.suggestedTopics);n.meta={name:"createSelector",key:"createSelectorgetAiSuggestedTopics",description:p=>p&&p.aiTopics&&p.aiTopics.suggestedTopics};const c=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.isFetchingAiSuggestedTopics);c.meta={name:"createSelector",key:"createSelectorgetIsFetchingAiSuggestedTopics",description:p=>p&&p.aiTopics&&p.aiTopics.isFetchingAiSuggestedTopics};const l=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.activityItems);l.meta={name:"createSelector",key:"createSelectorgetActivityItems",description:p=>p&&p.aiTopics&&p.aiTopics.activityItems};const i=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.aiActivityTopics.filter(O=>O.isUnread).length);i.meta={name:"createSelector",key:"createSelectorgetAiActivityTopicsUnreadCount",description:p=>p&&p.aiTopics&&p.aiTopics.aiActivityTopics.filter(O=>O.isUnread).length};const a=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.isUnreadsMode);a.meta={name:"createSelector",key:"createSelectorgetIsActivityUnreadsModeActive",description:p=>p&&p.aiTopics&&p.aiTopics.isUnreadsMode};const r=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.userTopics);r.meta={name:"createSelector",key:"createSelectorgetUserTopics",description:p=>p&&p.aiTopics&&p.aiTopics.userTopics};const d=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.isFetchingUserTopics);d.meta={name:"createSelector",key:"createSelectorgetIsFetchingUserTopics",description:p=>p&&p.aiTopics&&p.aiTopics.isFetchingUserTopics};const m=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.updatingTopics);m.meta={name:"createSelector",key:"createSelectorgetUpdatingTopics",description:p=>p&&p.aiTopics&&p.aiTopics.updatingTopics};const f=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.aiActivityNextCursor);f.meta={name:"createSelector",key:"createSelectorgetAiActivityNextCursor",description:p=>p&&p.aiTopics&&p.aiTopics.aiActivityNextCursor};const u=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.aiActivityTotalFetchCount);u.meta={name:"createSelector",key:"createSelectorgetAiActivityTotalFetchCount",description:p=>p&&p.aiTopics&&p.aiTopics.aiActivityTotalFetchCount};const E=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.aiDmTopics);E.meta={name:"createSelector",key:"createSelectorgetAiDmTopics",description:p=>p&&p.aiTopics&&p.aiTopics.aiDmTopics};const v=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.isFetchingAiDmTopics);v.meta={name:"createSelector",key:"createSelectorgetIsFetchingAiDmTopics",description:p=>p&&p.aiTopics&&p.aiTopics.isFetchingAiDmTopics};const g=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.aiDmNextCursor);g.meta={name:"createSelector",key:"createSelectorgetAiDmNextCursor",description:p=>p&&p.aiTopics&&p.aiTopics.aiDmNextCursor};const T=(0,t.Ay)(p=>p&&p.aiTopics&&p.aiTopics.aiDmTotalFetchCount);T.meta={name:"createSelector",key:"createSelectorgetAiDmTotalFetchCount",description:p=>p&&p.aiTopics&&p.aiTopics.aiDmTotalFetchCount}},816793206:(B,A,e)=>{"use strict";e.d(A,{i:()=>i});var t=e(1736757092),s=e(4128196744),o=e(5847671819),n=e(5586687994),c=e(4894634110);const l=3,i=(0,c.Ay)("fetchAndProcessAiActivityTopics",async function(a,r){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!(0,t.UE)(r()))return;const f=(0,n.NW)(r()),u=(0,n.t1)(r()),E=d?l:1,v=(0,n.Zd)(r());if(d&&f>=E){a((0,o.Ln)(0)),a((0,o.pj)(void 0));return}const g={reason:"fetch-ai-activity-topics",mode:"unreads_first_v1",limit:50,types:["thread_v2","message_reaction","internal_channel_invite","list_record_edited","bot_dm_bundle","at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned","list_todo_notification","external_channel_invite","external_dm_invite","dm"]};d&&u&&(g.cursor=u),v&&(g.unreadOnly=!0);try{return a((0,o.e)(!0)),a((0,s.P)(g)).then(T=>{var p,O,y;if(T.ok){a((0,o.Vi)(T.items));var C;a((0,o.pj)((C=(p=T.response_metadata)===null||p===void 0?void 0:p.next_cursor)!==null&&C!==void 0?C:void 0)),a((0,o.Ln)(f+1)),d&&f<E&&(!((O=T.response_metadata)===null||O===void 0)&&O.next_cursor)&&((y=T.response_metadata)===null||y===void 0?void 0:y.next_cursor)!==u?a(i(!0)):(a((0,o.Ln)(0)),a((0,o.pj)(void 0)))}}).finally(()=>{a((0,o.e)(!1))})}catch{a((0,o.e)(!1))}});i.meta={name:"createThunk",key:"createThunkfetchAndProcessAiActivityTopics",description:"fetchAndProcessAiActivityTopics"}},873762449:(B,A,e)=>{"use strict";e.d(A,{FX:()=>l,X5:()=>c,ZY:()=>u,cD:()=>r,cQ:()=>d,cw:()=>a,dj:()=>m,fe:()=>n,hc:()=>E,lB:()=>f,qK:()=>s,r8:()=>i,s2:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Set the thread root keys");s.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"};const o=(0,t.Ay)("Append more thread root keys");o.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"};const n=(0,t.Ay)("Insert a thread at the beginning");n.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"};const c=(0,t.Ay)("Increments totalUnreadReplies");c.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"};const l=(0,t.Ay)("Sets totalNewThreads to 0");l.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"};const i=(0,t.Ay)("Increments allThreadsRefreshCounter");i.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"};const a=(0,t.Ay)("Set the thread key that should be focused");a.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"};const r=(0,t.Ay)("Set the thread timestamp that should be focused");r.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"};const d=(0,t.Ay)("Add a thread key to an array of threads that were manually marked unread");d.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"};const m=(0,t.Ay)("set object of threads that have been manually marked as unread");m.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"};const f=(0,t.Ay)("Remove a thread key from an array of threads that were manually marked unread");f.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"};const u=(0,t.Ay)("Sets manuallyMarkedUnread to empty");u.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"};const E=(0,t.Ay)("Sets selected tab in threads view");E.meta={name:"createAction",key:"createActionsetSelectedTab",description:"Sets selected tab in threads view"}},3546488528:(B,A,e)=>{"use strict";e.d(A,{S:()=>s});var t=e(7919365230);const s=(0,t.Ay)((o,n)=>o.ambientMessages[n]);s.meta={name:"createSelector",key:"createSelectorgetAmbientMessage",description:(o,n)=>o.ambientMessages[n]}},2790126290:(B,A,e)=>{"use strict";e.d(A,{AE:()=>L,p$:()=>z,L6:()=>de,yN:()=>j,xV:()=>Q,T9:()=>x,RQ:()=>R,rS:()=>re,QQ:()=>W,Db:()=>te,qc:()=>F,h1:()=>U,lE:()=>N,S_:()=>J,gc:()=>D,Es:()=>k,xo:()=>K,pl:()=>ee,ad:()=>w});var t=e(7919365230),s=e(5404505308),o=e(8444366841),n=e(7096307383),c=e(235108050),l=e(9113979368),i=e(9087248458),a=e(8628145494),r=e(4741230335),d=e(9866181557),m=e(7874250141),f=e(288519513),u=e(9176700866),E=e(9513040995),v=e(2691514942),g=e(9729010546);const T=["ra","regular","admin","owner","org_admin","org_owner"],p=h(V=>T.find(H=>V.includes(H)),"getMostPermissiveStringPrefValue"),O=h(V=>V.includes(!0),"getMostPermissiveBoolean"),y=h(V=>{const H=V.reduce((q,fe)=>((0,f.v)(fe,"type")&&q.type.push(...fe.type),(0,f.v)(fe,"user")&&q.user.push(...fe.user),(0,f.v)(fe,"subteam")&&q.subteam.push(...fe.subteam),q),{type:[],user:[],subteam:[]}),X=H.type.length>0?p(H.type):void 0,Y={...X&&{type:X},...H.user.length>0&&{user:(0,c.A)(H.user)},...H.subteam.length>0&&{subteam:(0,c.A)(H.subteam)}};return(0,l.A)(Y)?void 0:Y},"getMostPermissiveTeamPrefForTeamPrefsWithFields"),C=h((V,H)=>{if(!H||!(0,E.ss)(V)){const X=(0,m.ZT)(V);return X?[X]:[]}return H},"getTeamIdsToMapPrefsTo"),I=h((V,H,X)=>{const Y=C(V,X);if((0,m.VO)(V).length>0){var q;const ce=(q=(0,m.NB)(V))!==null&&q!==void 0?q:[];if(!((0,i.A)(ce,Y).length>0)){const Ae=(0,r.wc)(V,H);if(!(0,a.A)(Ae))return Ae;const le=(0,r.SI)(V,H);if(!(0,a.A)(le))return le}}const fe=Y.map(ce=>(0,d.xp)(V,H,ce)).filter(u.b);return fe.length!==Y.length&&((0,g.A)()||(0,v.Ay)({state:V}).warn(`Team ID's, ${Y.join(", ")}, are currently not valid team ID's to retrieve team prefs.`)),typeof fe[0]=="boolean"?O(fe):typeof fe[0]=="string"?p(fe):y(fe)},"getMostPermissiveTeamPrefForTeamIds");var M=e(6203840547),_=e(3943618138),P=e(7691907057),b=e(605568209),S=e(233532234);const N=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.searchInput});N.meta={name:"createSelector",key:"createSelectorgetSearchInput",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.searchInput}};const L=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.announcerSearchInput});L.meta={name:"createSelector",key:"createSelectorgetAnnouncerSearchInput",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.announcerSearchInput}};const D=(0,t.Ay)(V=>{var H;if((0,S.Y)(V)){var X;return(V==null||(X=V.appsIndex)===null||X===void 0?void 0:X.targetTeamId)||(0,m.ZD)(V)}return(V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.targetTeamId)||(0,m.E$)(V)});D.meta={name:"createSelector",key:"createSelectorgetTargetTeamId",description:V=>{var H;if((0,S.Y)(V)){var X;return(V==null||(X=V.appsIndex)===null||X===void 0?void 0:X.targetTeamId)||(0,m.ZD)(V)}return(V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.targetTeamId)||(0,m.E$)(V)}};const k=h((V,H)=>{const X=D(V),Y=(0,M.A)(V)&&X;return I(V,H,Y?[X]:void 0)},"getTeamPrefForTargetTeam"),x=h(V=>{const H=D(V),X=(0,M.A)(V);return(0,_.k)(V,X?H:void 0)},"getIsCurrentUserAppminForTargetTeam"),R=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.isLoading});R.meta={name:"createSelector",key:"createSelectorgetIsLoading",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.isLoading}};const U=(0,t.Ay)(V=>{var H,X;return!(V==null||(H=V.appsIndex)===null||H===void 0)&&H.results.length?V==null||(X=V.appsIndex)===null||X===void 0?void 0:X.results:(0,b.B4)()});U.meta={name:"createSelector",key:"createSelectorgetResults",description:V=>{var H,X;return!(V==null||(H=V.appsIndex)===null||H===void 0)&&H.results.length?V==null||(X=V.appsIndex)===null||X===void 0?void 0:X.results:(0,b.B4)()}};const F=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.nextCursor});F.meta={name:"createSelector",key:"createSelectorgetNextCursor",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.nextCursor}};const W=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.isShowingDefaultAppCategories});W.meta={name:"createSelector",key:"createSelectorgetIsShowingDefaultAppCategories",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.isShowingDefaultAppCategories}};const w=(0,t.Ay)(V=>!U(V).length&&!!L(V));w.meta={name:"createSelector",key:"createSelectorhasNoResults",description:V=>!U(V).length&&!!L(V)};const K=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.totalInstalledAppCount});K.meta={name:"createSelector",key:"createSelectorgetTotalInstalledAppCount",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.totalInstalledAppCount}};const j=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.displayedInstalledAppCount});j.meta={name:"createSelector",key:"createSelectorgetDisplayedInstalledAppCount",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.displayedInstalledAppCount}};const Q=(0,P.F)(U,V=>V.filter(H=>H.type===o.di.APP&&H.categoryId===o.wz.DEFAULT)),J=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.selectedFilter});J.meta={name:"createSelector",key:"createSelectorgetSelectedFilter",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.selectedFilter}};const z=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.currentPage});z.meta={name:"createSelector",key:"createSelectorgetCurrentPage",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.currentPage}};const ie=(0,t.Ay)(V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.totalPaginationAppCount});ie.meta={name:"createSelector",key:"createSelectorgetTotalPaginationAppCount",description:V=>{var H;return V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.totalPaginationAppCount}};const ee=(0,t.Ay)(V=>{var H;const X=V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.totalPaginationAppCount;return X?Math.ceil(X/o.xd):1});ee.meta={name:"createSelector",key:"createSelectorgetTotalPageCount",description:V=>{var H;const X=V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.totalPaginationAppCount;return X?Math.ceil(X/o.xd):1}};const ne=(0,t.Ay)(V=>{var H;const X=V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.currentPage;return X?(X-1)*o.xd+1:0});ne.meta={name:"createSelector",key:"createSelectorgetPageStartAppNum",description:V=>{var H;const X=V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.currentPage;return X?(X-1)*o.xd+1:0}};const Z=(0,t.Ay)(V=>{var H;const X=V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.currentPage;return X?X*o.xd:0});Z.meta={name:"createSelector",key:"createSelectorgetPageEndAppNum",description:V=>{var H;const X=V==null||(H=V.appsIndex)===null||H===void 0?void 0:H.currentPage;return X?X*o.xd:0}};const te=(0,t.Ay)(V=>{const H=U(V);return(0,s.A)(H,Y=>(Y==null?void 0:Y.type)===o.di.CATEGORY)});te.meta={name:"createSelector",key:"createSelectorgetLastCategoryIndex",description:V=>{const H=U(V);return(0,s.A)(H,Y=>(Y==null?void 0:Y.type)===o.di.CATEGORY)}};const he=(0,t.Ay)(V=>(0,n.s9)({currentPage:z(V),lastCategoryIndex:te(V)}));he.meta={name:"createSelector",key:"createSelectorgetPageStartAppIndexIncl",description:V=>(0,n.s9)({currentPage:z(V),lastCategoryIndex:te(V)})};const ue=(0,t.Ay)(V=>(0,n.$W)({currentPage:z(V),lastCategoryIndex:te(V)}));ue.meta={name:"createSelector",key:"createSelectorgetPageEndAppIndexExcl",description:V=>(0,n.$W)({currentPage:z(V),lastCategoryIndex:te(V)})};const de=(0,t.Ay)(V=>{const H=te(V);if(H<0)return[];const X=U(V),Y=he(V),q=ue(V);return z(V)===1?X.slice(Y,q):[X[H],...X.slice(Y,q)]});de.meta={name:"createSelector",key:"createSelectorgetCurrentPageResults",description:V=>{const H=te(V);if(H<0)return[];const X=U(V),Y=he(V),q=ue(V);return z(V)===1?X.slice(Y,q):[X[H],...X.slice(Y,q)]}};const re=(0,t.Ay)(V=>{const H=ee(V),X=W(V),Y=R(V);return X&&H>1&&!Y});re.meta={name:"createSelector",key:"createSelectorgetIsPaginationVisible",description:V=>{const H=ee(V),X=W(V),Y=R(V);return X&&H>1&&!Y}}},8444366841:(B,A,e)=>{"use strict";e.d(A,{G2:()=>n,di:()=>c,md:()=>t,wW:()=>o,wz:()=>l,xd:()=>s});const t=50,s=48,o=5,n=0;var c;(function(i){i.LOADING="loading",i.CATEGORY="category",i.APP="app",i.FILTER_EMPTY_STATE="filter-empty-state",i.FILTER_ZERO_APPS_STATE="filter-zero-apps-state"})(c||(c={}));var l;(function(i){i.DEFAULT="Ai01",i.APP_DIRECTORY="Ai02",i.CURATED_APP_SUGGESTIONS="Ai03",i.UNINSTALLED_WHITELISTED="Ai04",i.USER_RELEVANT="Ai05",i.UNINSTALLED_APP_DIRECTORY_FILTERED_CATEGORY="Ai06",i.APPROVED_APP_DIRECTORY_APP="Ai07"})(l||(l={}))},7096307383:(B,A,e)=>{"use strict";e.d(A,{$W:()=>n,LD:()=>c,s9:()=>o});var t=e(205540855),s=e(8444366841);function o(l){let{currentPage:i,lastCategoryIndex:a}=l;return i===1?0:a>-1?a+(i-1)*s.xd+1:-1}h(o,"calcPageStartAppIndexIncl");function n(l){let{currentPage:i,lastCategoryIndex:a}=l;return a>-1?a+i*s.xd+1:-1}h(n,"calcPageEndAppIndexExcl");function c(l){return(0,t._Z)(l,"app_launcher_pagination")==="on"}h(c,"experimentAppLauncherPaginationGroupOn")},1786688495:(B,A,e)=>{"use strict";e.d(A,{DQ:()=>c,Lm:()=>i,RZ:()=>r,S:()=>u,X$:()=>n,_y:()=>d,c6:()=>m,fv:()=>l,rk:()=>o,yT:()=>f,z7:()=>a,zZ:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Set Awareness State for another user");s.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const o=(0,t.Ay)("Set Awareness State for me");o.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const n=(0,t.Ay)("Remove Awareness State for me");n.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const c=(0,t.Ay)("Clear the full awareness state for a user");c.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const l=(0,t.Ay)("Set my screenshare view");l.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const i=(0,t.Ay)("Remove my screenshare view");i.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const a=(0,t.Ay)("Set my sticky reaction");a.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const r=(0,t.Ay)("Remove my sticky reaction");r.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const d=(0,t.Ay)("Clear any stale awareness entries");d.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const m=(0,t.Ay)("Sets updatedTimestamp for my awareness entries to current time");m.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const f=(0,t.Ay)("Set my active song");f.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const u=(0,t.Ay)("Remove my active song");u.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},2435381582:(B,A,e)=>{"use strict";e.d(A,{$G:()=>O,Ae:()=>C,Fb:()=>p,M3:()=>g,fL:()=>T,gV:()=>y,sW:()=>v,xP:()=>E});var t=e(7919365230),s=e(3385422400),o=e(6418055367),n=e(166097325),c=e(9113979368),l=e(605568209),i=e(1231006465),a=e(202458141);const r=(0,s.Ad)(o.UI,n.A),d=h(M=>{var _;return(M==null||(_=M.awareness)===null||_===void 0?void 0:_.awarenessEntries)||l.Ml},"selectAwarenessEntries"),m=(0,s.Mz)([d,(M,_)=>_,(M,_,P)=>P,(M,_,P,b)=>b],(M,_,P,b)=>{if(_===void 0)return l.t0;const S=M.filter(L=>{const D=L.channel===_,k=L.fieldName===P,x=b?L.uniqueId===b:!0,R=!(0,a.h)(L);return D&&k&&x&&R}).map(L=>[L.user,L.fieldValue]),N=Object.fromEntries(S);return(0,c.A)(N)?l.t0:N}),f=(0,s.Mz)([d,(M,_)=>_,(M,_,P)=>P],(M,_,P)=>{if(_===void 0)return l.t0;const b=M.filter(N=>{const L=N.channel===_,D=N.fieldName===P,k=!(0,a.h)(N);return L&&D&&k}).map(N=>[N.uniqueId,[N.user,N.fieldValue]]),S=Object.fromEntries(b);return(0,c.A)(S)?l.t0:S}),u=(0,s.Mz)([d,(M,_)=>_,(M,_,P)=>P],(M,_,P)=>{if(_===void 0)return l.t0;var b,S;const N=M.filter(D=>{const k=D.channel===_,x=D.fieldName===P,R=!(0,a.h)(D);return k&&x&&R}).sort((D,k)=>((b=D.fieldTimestampMs)!==null&&b!==void 0?b:Number.MAX_SAFE_INTEGER)-((S=k.fieldTimestampMs)!==null&&S!==void 0?S:Number.MAX_SAFE_INTEGER)).map(D=>[D.user,D.fieldValue]);return Object.fromEntries(N)}),E=(0,t.Ay)((M,_)=>{const P=u(M,_,i.p4.STICKYEMOJI);return(0,c.A)(P)?l.t0:P});E.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(M,_)=>{const P=u(M,_,i.p4.STICKYEMOJI);return(0,c.A)(P)?l.t0:P}};const v=(0,t.Ay)((M,_)=>m(M,_,i.p4.CONTENTVIEW));v.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(M,_)=>m(M,_,i.p4.CONTENTVIEW)};const g=(0,t.Ay)((M,_)=>f(M,_,i.p4.CONTENTVIEW));g.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(M,_)=>f(M,_,i.p4.CONTENTVIEW)};const T=(0,t.Ay)((M,_,P,b)=>{var S;return(M==null||(S=M.awareness)===null||S===void 0?void 0:S.awarenessEntries).filter(D=>{const k=D.channel===_,x=D.user===P,R=!b||(0,a.I)(D.fieldName)?!0:D.uniqueId===b,U=!(0,a.h)(D);return k&&x&&R&&U}).map(D=>({field_name:D.fieldName,field_value:D.fieldValue,...!!D.fieldTimestampMs&&{field_timestamp_ms:D.fieldTimestampMs}}))});T.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(M,_,P,b)=>{var S;return(M==null||(S=M.awareness)===null||S===void 0?void 0:S.awarenessEntries).filter(D=>{const k=D.channel===_,x=D.user===P,R=!b||(0,a.I)(D.fieldName)?!0:D.uniqueId===b,U=!(0,a.h)(D);return k&&x&&R&&U}).map(D=>({field_name:D.fieldName,field_value:D.fieldValue,...!!D.fieldTimestampMs&&{field_timestamp_ms:D.fieldTimestampMs}}))}};const p=(0,t.Ay)((M,_,P,b)=>{const S=T(M,_,P,b);for(const N of S)if(N.field_name===i.p4.STICKYEMOJI)return N;return null});p.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(M,_,P,b)=>{const S=T(M,_,P,b);for(const N of S)if(N.field_name===i.p4.STICKYEMOJI)return N;return null}};const O=(0,t.Ay)((M,_)=>{let{callId:P,userId:b,uniqueId:S}=_;return P?m(M,P,i.p4.STICKYEMOJI,S)[b]:void 0});O.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(M,_)=>{let{callId:P,userId:b,uniqueId:S}=_;return P?m(M,P,i.p4.STICKYEMOJI,S)[b]:void 0}};const y=(0,t.Ay)((M,_)=>{let{callId:P,userId:b}=_;if(!P)return;const S=m(M,P,i.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(S))return;if(b)return S[b];const N=Object.values(S);if(N.length!==0)return N[0]});y.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(M,_)=>{let{callId:P,userId:b}=_;if(!P)return;const S=m(M,P,i.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(S))return;if(b)return S[b];const N=Object.values(S);if(N.length!==0)return N[0]}};const C=r([d,(M,_,P,b,S)=>`${_},${P},${b},${S}`],(M,_)=>{const[P,b,S,N]=_.split(","),L=M.filter(D=>{const k=D.channel===P,x=D.user!==b,R=D.fieldName===i.p4.ACTIVE_CELL&&D.fieldValue&&D.fieldValue.rowId===S&&D.fieldValue.colId===N,U=!(0,a.h)(D);return k&&x&&R&&U}).map(D=>[[`${D.fieldValue.rowId},${D.fieldValue.colId}`],D.user]);return L.length?Object.fromEntries(L):l.t0}),I=(0,s.Mz)([d,(M,_)=>_],(M,_)=>_===void 0?l.Ml:M.filter(b=>{const S=b.channel===_,N=b.fieldName===i.p4.ACTIVE_CELL;return S&&N}).map(b=>b.user))},1231006465:(B,A,e)=>{"use strict";e.d(A,{Pz:()=>t,mO:()=>o,p4:()=>s});var t;(function(n){n.BROADCAST="broadcast",n.QUERY="query",n.CLOSE="close"})(t||(t={}));var s;(function(n){n.CONTENTVIEW="contentView",n.STICKYEMOJI="stickyEmoji",n.ACTIVE_CELL="activeCell",n.HUDDLE_ACTIVE_SONG="huddleActiveSong"})(s||(s={}));const o=60*1e3},202458141:(B,A,e)=>{"use strict";e.d(A,{I:()=>o,h:()=>s});var t=e(1231006465);const s=h(n=>{const c=Date.now();var l;return c-((l=n.updatedTimestamp)!==null&&l!==void 0?l:c)>=t.mO},"isAwarenessEntryExpired"),o=h(n=>n?[t.p4.HUDDLE_ACTIVE_SONG].includes(n):!1,"skipUniquenessCheck")},3446903445:(B,A,e)=>{"use strict";e.d(A,{Ol:()=>n,Yf:()=>o,w6:()=>c,x8:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Set what zoom value was set in the client when in BBM");s.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client when in BBM"};const o=(0,t.Ay)("Set if hover actions should persist in the client when in BBM");o.meta={name:"createAction",key:"createActionsetPersistentActionsInternal",description:"Set if hover actions should persist in the client when in BBM"};const n=(0,t.Ay)("Set if customer has seen onboarding");n.meta={name:"createAction",key:"createActionsetOnboardedInternal",description:"Set if customer has seen onboarding"};const c=(0,t.Ay)("Set if client should display breadcrumbs when in BBM");c.meta={name:"createAction",key:"createActionsetBreadcrumbsInternal",description:"Set if client should display breadcrumbs when in BBM"}},857979011:(B,A,e)=>{"use strict";e.d(A,{D5:()=>l,DP:()=>o,FC:()=>n,UY:()=>t,Yb:()=>c,iS:()=>s});const t="slack-zoom-bbm-setting",s="slack-persistent-actions-bbm-setting",o="slack-onboarded-setting",n="slack-breadcrumbs-bbm-setting",c=!0,l=!0},2711704238:(B,A,e)=>{"use strict";e.d(A,{Z:()=>E});var t=e(7523104273),s=e(3446903445),o=e(857979011),n=e(5512437437);let c;try{var l;c=(l=(0,n.W6)(o.UY))!==null&&l!==void 0?l:void 0}catch{}let i;try{var a;i=(a=(0,n.W6)(o.iS))!==null&&a!==void 0?a:o.Yb}catch{}let r;try{var d;r=(d=(0,n.W6)(o.DP))!==null&&d!==void 0?d:!1}catch{}let m;try{var f;m=(f=(0,n.W6)(o.FC))!==null&&f!==void 0?f:o.D5}catch{}const u={zoom:c,persistentActions:i,onboarded:r,breadcrumbs:m},E=(0,t.Ay)({},u,{storeKey:"bbmSettings",persistenceEnabled:!1}).on(s.x8,(v,g)=>({...v,zoom:g})).on(s.Yf,(v,g)=>({...v,persistentActions:g})).on(s.w6,(v,g)=>({...v,breadcrumbs:g})).on(s.Ol,v=>({...v,onboarded:!0}))},2025512944:(B,A,e)=>{"use strict";e.d(A,{IX:()=>s,N6:()=>o,Tr:()=>n,lz:()=>c});var t=e(7919365230);const s=(0,t.Ay)(l=>l.bbmSettings.zoom);s.meta={name:"createSelector",key:"createSelectorgetZoom",description:l=>l.bbmSettings.zoom};const o=(0,t.Ay)(l=>l.bbmSettings.persistentActions);o.meta={name:"createSelector",key:"createSelectorgetPersistentActions",description:l=>l.bbmSettings.persistentActions};const n=(0,t.Ay)(l=>l.bbmSettings.onboarded);n.meta={name:"createSelector",key:"createSelectorisOnboarded",description:l=>l.bbmSettings.onboarded};const c=(0,t.Ay)(l=>l.bbmSettings.breadcrumbs);c.meta={name:"createSelector",key:"createSelectorgetBreadcrumbs",description:l=>l.bbmSettings.breadcrumbs}},1184580840:(B,A,e)=>{"use strict";e.d(A,{Q:()=>i});var t=e(4894634110),s=e(8877220497),o=e(2691514942),n=e(3446903445),c=e(857979011),l=e(5512437437);const i=(0,t.Ay)("Set zoom value for client when in BBM",(a,r,d)=>{const{error:m}=(0,o.Wo)();(0,s.A)(r())||m(new Error("you must call setZoom for a client store"));try{(0,l.q9)(c.UY,d)}catch(f){m(new Error(`failed to store zoom in local storage: ${f}`))}a((0,n.x8)(d))});i.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client when in BBM"}},953241245:(B,A,e)=>{"use strict";e.d(A,{K:()=>o,z:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Enable big button mode");s.meta={name:"createAction",key:"createActionenableBBM",description:"Enable big button mode"};const o=(0,t.Ay)("Disable big button mode");o.meta={name:"createAction",key:"createActiondisableBBM",description:"Disable big button mode"}},8746243206:(B,A,e)=>{"use strict";e.d(A,{Y:()=>n});var t=e(7523104273),s=e(953241245);const o={enabled:!1},n=(0,t.Ay)({},o,{storeKey:"bbm",persistenceEnabled:!0,persistImmediately:!0}).on(s.z,c=>({...c,enabled:!0})).on(s.K,c=>({...c,enabled:!1}))},8983568556:(B,A,e)=>{"use strict";e.d(A,{CD:()=>a,DZ:()=>c,Jt:()=>l,Np:()=>o,VG:()=>s,bz:()=>n,fp:()=>i,hX:()=>r});var t=e(4414425352);const s=(0,t.Ay)("Add timestamps to channel history");s.meta={name:"createAction",key:"createActionaddTimestamps",description:"Add timestamps to channel history"};const o=(0,t.Ay)("Remove timestamps from channel history");o.meta={name:"createAction",key:"createActionremoveTimestamp",description:"Remove timestamps from channel history"};const n=(0,t.Ay)("Remove all history for a channel");n.meta={name:"createAction",key:"createActionremoveAllTimestamps",description:"Remove all history for a channel"};const c=(0,t.Ay)("Remove all history for multiple channels");c.meta={name:"createAction",key:"createActionbulkRemoveAllTimestamps",description:"Remove all history for multiple channels"};const l=(0,t.Ay)("Was disconnected; reset reachedEnd to false");l.meta={name:"createAction",key:"createActionresetReachedEnd",description:"Was disconnected; reset reachedEnd to false"};const i=(0,t.Ay)("Drop messages from before a given timestamp");i.meta={name:"createAction",key:"createActiontruncateChannelHistoryPriorToTimestamp",description:"Drop messages from before a given timestamp"};const a=(0,t.Ay)("Drop old messages if there are too many");a.meta={name:"createAction",key:"createActiontruncateChannelHistory",description:"Drop old messages if there are too many"};const r=(0,t.Ay)("Remove all history for every channel");r.meta={name:"createAction",key:"createActionclearChannelHistory",description:"Remove all history for every channel"}},5535077364:(B,A,e)=>{"use strict";e.d(A,{Hw:()=>Z,e3:()=>de,mY:()=>ie,D1:()=>ee,Zc:()=>ue,ez:()=>z});var t=e(3398586081),s=e(7715417323),o=e(7188858884),n=e(2187136646);function c(re,V){return`${re}:${V}`}h(c,"serialize_serialize");function l(re){const[V,H]=re.split(":");return{channelId:V,ts:H}}h(l,"deserialize");var i=e(3677587543),a=e(2208015175),r=e(1703559452),d=e(9816084745),m=e(8289365785),f=e(8786006583),u=e(1985486637),E=e(4894634110),v=e(2691514942),g=e(4846005180),T=e(4612528447),p=e(7714015126),O=e(3065828302),y=e(1573292888),C=e(8370946575),I=e(9132422875),M=e(6251135763),_=e(4781929578),P=e(12126472),b=e(3813017689);const S="HISTORY-CFM";function N(re,V){return h(function H(X){let{channelId:Y,oldest:q,latest:fe,cursor:ce="",msgsInRange:Ee=[],deletedInRange:Ae=[]}=X;const le={channelId:Y,oldest:q,latest:fe,cursor:ce,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return re((0,_.Ay)(le)).then(oe=>{let{msgs:me=[],deleted:pe=[],isLimited:Te,hasMore:Me,responseMetadata:Ue={}}=oe;return Ee.push(...me),Ae.push(...pe),Me&&!Te&&Ue.next_cursor?H({channelId:Y,oldest:q,latest:fe,cursor:Ue.next_cursor,msgsInRange:Ee,deletedInRange:Ae}):(re((0,b.A)({msgs:Ee,channelId:Y,isLimited:Te,latest:fe,oldest:q,deletedInRange:Ae})),u.S.resolve())})},"fetchHistoryRangeHelper")(V)}h(N,"fetchHistoryRange");function L(re,V){return h(function H(X){let{channelId:Y,threadTs:q,oldest:fe,latest:ce,cursor:Ee="",msgsInRange:Ae=[],deletedInRange:le=[]}=X;const oe={channelId:Y,threadTs:q,oldest:fe,latest:ce,cursor:Ee,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return re((0,_.$b)(oe)).then(me=>{let{msgs:pe=[],deleted:Te=[],hasMore:Me,responseMetadata:Ue={}}=me;if(Ae.push(...Ee?(0,P.A)(pe,{ts:q}):pe),le.push(...Te),Me&&Ue.next_cursor)return H({channelId:Y,threadTs:q,oldest:fe,latest:ce,cursor:Ue.next_cursor,msgsInRange:Ae,deletedInRange:le});const Ne=fe===q||ce===q?Ae:(0,P.A)(Ae,{ts:q});return re((0,b.A)({msgs:Ne,channelId:(0,C.Iu)(Y,q),latest:ce,oldest:fe,deletedInRange:le})),u.S.resolve()})},"fetchRepliesRangeHelper")(V)}h(L,"fetchRepliesRange");const D=(0,E.Ay)("Fetches a range of messages",(re,V,H)=>{let{channelId:X,oldest:Y,latest:q}=H;if((0,v.Ay)({getState:V,label:S}).info(`Re-fetching ${X} ${Y} - ${q}`),(0,M.A)(X))return N(re,{channelId:X,oldest:Y,latest:q});const{channelId:fe,threadTs:ce}=(0,C.Sb)(X);return L(re,{channelId:fe||"",threadTs:ce||"",oldest:Y,latest:q})});D.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var k=e(2319043816);function x(re){const V={};return re.forEach(H=>{const{channelId:X,ts:Y}=l(H);V[X]=V[X]||[],V[X].push(Y)}),V}h(x,"groupTimestampsByChannel");function R(re){let V,H;return(0,a.A)(re,(X,Y)=>{V===void 0&&(V=Y),H===void 0&&(H=Y),Y<V&&(V=Y),Y>H&&(H=Y)}),{minTs:V,maxTs:H}}h(R,"getMinAndMaxTs");function U(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.A)(V,(H,X)=>re[X])}h(U,"hasIntersection");function F(re,V){return(0,d.A)(V,(H,X)=>re[X])}h(F,"isSuperset");function W(re){let{ranges:V={},tsMaps:H=[]}=re;const X={...V};let Y=H[0];return H.forEach(q=>{Y!==q&&(U(Y,q)?F(Y,q)?delete X[q.rangeId]:F(q,Y)?(delete X[Y.rangeId],Y=q):(0,a.A)(q,(fe,ce)=>delete Y[ce]):Y=q)}),Object.values(X)}h(W,"dedupe");function w(re,V){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const X=(0,v.Ay)({state:re,label:S}),Y={},q=[];return H.sort().forEach(fe=>{const Ee=(0,I.Ld)(re,V,fe,!1);if(!Ee){X.warn(`No message for ${fe} in ${V}`);return}if((0,g.aw)(Ee)||(0,p.A)(Ee))return;const Ae=[];(!(0,y.n)(Ee)||(0,g.jX)(Ee)||(0,T.SM)(Ee))&&Ae.push(V),((0,g.jX)(Ee)||(0,y.n)(Ee))&&Ae.push((0,C.Iu)(V,(0,O.L)(Ee))),Ae.forEach(le=>{if(!le)return;const oe=(0,k.tp)(re,le,fe);if(!oe||oe===k.Vl)return;const{start:me,end:pe,timestamps:Te}=oe,Me=`${me}-${pe}`;if(!Y[Me]){const xe={};Object.defineProperty(xe,"rangeId",{enumerable:!1,value:Me}),Y[Me]={id:le,firstTs:(0,m.A)(Te),lastTs:(0,f.A)(Te),start:me||"",end:pe||"",tsMap:xe},q.push(xe)}const Ue=Y[Me];Ue.tsMap[fe]=!0})}),{ranges:Y,tsMaps:q}}h(w,"segment");function K(re,V){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(W(w(re,V,H))||[]).map(Y=>{let{id:q,firstTs:fe,lastTs:ce,start:Ee,end:Ae,tsMap:le}=Y;const{minTs:oe,maxTs:me}=R(le);return{id:q,oldest:oe===fe?Ee:oe,latest:me===ce?Ae:me}})}h(K,"rangify");const j=(0,E.Ay)("Fetches chunks of channel history for the given message IDs",(re,V,H)=>{let{ids:X}=H;const Y=x(X),q={};return(0,a.A)(Y,(fe,ce)=>{const Ee=K(V(),ce,fe);q[ce]=u.S.map(Ee,Ae=>{let{oldest:le,latest:oe,id:me}=Ae;return re(D({channelId:me,oldest:le,latest:oe}))})}),u.S.all(Object.values(q))});j.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"};const Q=j,J=(0,t.A)(()=>new n.Ay({storeKey:"channelHistory",fetch:(re,V)=>(0,o.Qw)(re,Q({ids:V})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:()=>!1})),z=h((re,V,H)=>J().maybeRefetch(re,c(V,H)),"maybeRefetch"),ie=h((re,V,H)=>J().markObjectsAsFresh(re,H.map(X=>c(V,X))),"markObjectsAsFresh"),ee=h((re,V,H)=>J().markObjectsAsStale(re,H.map(X=>c(V,X))),"markObjectsAsStale"),ne=h((re,V,H)=>J().isObjectFresh(re,serialize(V,H)),"isObjectFresh"),Z=h(re=>J().getFreshObjects(re).map(l),"getFreshObjects");(0,i.zv)("conditionalFetchManagerChannelHistory",J);const te="reachedEnd",he=(0,t.A)(()=>new n.Ay({storeKey:"channelHistory",fetch:s.A,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),ue=h(re=>he().markObjectsAsFresh(re,[te]),"markReachedEndAsFresh"),de=h(re=>he().isObjectFresh(re,[te]),"isReachedEndFresh")},9781069012:(B,A,e)=>{"use strict";e.d(A,{J:()=>s,T:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Set the date joined for a channel");s.meta={name:"createAction",key:"createActionsetChannelDateJoined",description:"Set the date joined for a channel"};const o=(0,t.Ay)("Bulk set inital last read values for channels when first loaded");o.meta={name:"createAction",key:"createActionbulkSetChannelInitLastReads",description:"Bulk set inital last read values for channels when first loaded"}},2958990453:(B,A,e)=>{"use strict";e.d(A,{Kh:()=>n,Rd:()=>o,Tw:()=>s});var t=e(7919365230);const s=(0,t.Ay)(c=>{var l;return(l=c.channelJoin)===null||l===void 0?void 0:l.initLastReadsLoaded});s.meta={name:"createSelector",key:"createSelectorgetInitLastReadsLoaded",description:c=>{var l;return(l=c.channelJoin)===null||l===void 0?void 0:l.initLastReadsLoaded}};const o=(0,t.Ay)((c,l)=>{var i,a,r;return((i=c.channelJoin)===null||i===void 0||(a=i.channelData)===null||a===void 0||(r=a[l])===null||r===void 0?void 0:r.dateJoined)||0});o.meta={name:"createSelector",key:"createSelectorgetDateJoinedByChannelId",description:(c,l)=>{var i,a,r;return((i=c.channelJoin)===null||i===void 0||(a=i.channelData)===null||a===void 0||(r=a[l])===null||r===void 0?void 0:r.dateJoined)||0}};const n=(0,t.Ay)((c,l)=>{var i,a,r;return(i=c.channelJoin)===null||i===void 0||(a=i.channelData)===null||a===void 0||(r=a[l])===null||r===void 0?void 0:r.initLastRead});n.meta={name:"createSelector",key:"createSelectorgetInitLastReadByChannelId",description:(c,l)=>{var i,a,r;return(i=c.channelJoin)===null||i===void 0||(a=i.channelData)===null||a===void 0||(r=a[l])===null||r===void 0?void 0:r.initLastRead}}},864707168:(B,A,e)=>{"use strict";e.d(A,{Y:()=>o,r:()=>s});var t=e(5445357135);const{addObjects:s,removeObjects:o}=t.o1},5445357135:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>l,Tp:()=>c,o1:()=>n});var t=e(9862702585);const s={storeKey:"channelLoading",persistenceEnabled:!1},{reducer:o,actions:n,selectors:c}=(0,t.A)(s,{idKey:"channelId",transform:i=>{const{channelId:a,...r}=i;return{id:a,object:r}}}),l=o},6769532273:(B,A,e)=>{"use strict";e.d(A,{Ah:()=>n,Qr:()=>c,c:()=>l});var t=e(7919365230),s=e(5445357135);const{getObjectById:o}=s.Tp,n=h((a,r)=>o(a,r),"innerGetChannelLoadingDataById"),c=(0,t.Ay)((a,r)=>{var d;return!!(!((d=n(a,r))===null||d===void 0)&&d.loading)});c.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(a,r)=>{var d;return!!(!((d=n(a,r))===null||d===void 0)&&d.loading)}};const l=(0,t.Ay)((a,r)=>{const d=n(a,r);return!!(d!=null&&d.loading&&(d!=null&&d.loadingOlder))});l.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(a,r)=>{const d=n(a,r);return!!(d!=null&&d.loading&&(d!=null&&d.loadingOlder))}};const i={innerGetChannelLoadingDataById:n}},9906096856:(B,A,e)=>{"use strict";e.d(A,{f:()=>o});var t=e(4894634110),s=e(864707168);const o=(0,t.Ay)("Finished loading history for a channel",(n,c,l)=>{const{channelId:i}=l||{};n((0,s.Y)({ids:[i]}))});o.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},6436034182:(B,A,e)=>{"use strict";e.d(A,{v:()=>n});var t=e(4894634110),s=e(6769532273),o=e(864707168);const n=(0,t.Ay)("Started loading history for a channel",(c,l,i)=>{const{channelId:a,loadingOlder:r,request:d}=i||{},m=(0,s.Ah)(l(),a);m&&m.loading&&m.request&&m.request.cancel(),c((0,o.r)({objects:[{channelId:a,loading:!0,loadingOlder:r,request:d}]}))});n.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},7545409097:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>d,Dk:()=>r,Lv:()=>a,UJ:()=>i});var t=e(605568209),s=e(4894634110),o=e(9862702585);const{actions:n,reducer:c,selectors:l}=(0,o.A)({persistenceEnabled:!0,storeKey:"channelMutationTimestamps"},{idKey:"channelId",transform:m=>{const{channelId:f,...u}=m;return{id:f,object:u}},update:(m,f)=>({...f,...m})}),i=(0,s.Ay)("Add or update a channel mutation timestamp",(m,f,u)=>{m(n.addObjects({objects:[u]}))});i.meta={name:"createThunk",key:"createThunkaddOrUpdateChannelMutationTimestamp",description:"Add or update a channel mutation timestamp"};const a=(0,s.Ay)("Bulk add or update a channel mutation timestamps",(m,f,u)=>{m(n.addObjects({objects:u}))});a.meta={name:"createThunk",key:"createThunkbulkAddOrUpdateChannelMutationTimestamps",description:"Bulk add or update a channel mutation timestamps"};const r=h((m,f)=>{var u;return(u=l.getObjectById(m,f))!==null&&u!==void 0?u:t.t0},"getChannelMutationTimestamp"),d=c},9660856761:(B,A,e)=>{"use strict";e.d(A,{E:()=>r});var t=e(7691907057),s=e(3351247794),o=e(8859166048),n=e(5803839746),c=e(8606055730),l=e(9658157503),i=e(2197677765),a=e(5438842433);const r=(0,t.F)(s.DM,c.Oe,n.N,c.vT,c.ZO,i.g,a.oO,l.mK,(d,m,f,u,E)=>{const v=d.filter(g=>!(0,o.cb)(g));return f&&u&&!E?v.filter(T=>m==null?void 0:m.includes(T.id)):v})},3457656052:(B,A,e)=>{"use strict";e.d(A,{v:()=>r});var t=e(7919365230),s=e(3666777625),o=e(7874250141),n=e(5478938623),c=e(9415067152),l=e(2322942398),i=e(8621572116),a=e(4741230335);const r=(0,t.Ay)((d,m)=>{let{channel:f,xwsAlpha:u=!1}=m;if(u&&(0,c.M)(f)){const v=(0,i.R)(d,f),g=(0,o.kN)(d),T=(0,a.wc)(d,"always_show_workspace_name"),p=T==null?void 0:T.filter(y=>g==null?void 0:g.includes(y)),O=v==null?void 0:v.map(y=>(0,s._J)(d,y)).filter(y=>p!=null&&p.length?!!(p!=null&&p.includes((0,n.ZT)(y)))&&!(0,n.t8)(y):!0).sort((y,C)=>{const I=(0,n.F1)(y),M=(0,n.F1)(C);return I.localeCompare(M)});if(O!=null&&O[0])return O[0]}const E=!(0,c.M)(f)&&(0,l.n)(d,f);return(E?(0,s._J)(d,E):void 0)||(0,s.H7)(d)});r.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(d,m)=>{let{channel:f,xwsAlpha:u=!1}=m;if(u&&(0,c.M)(f)){const v=(0,i.R)(d,f),g=(0,o.kN)(d),T=(0,a.wc)(d,"always_show_workspace_name"),p=T==null?void 0:T.filter(y=>g==null?void 0:g.includes(y)),O=v==null?void 0:v.map(y=>(0,s._J)(d,y)).filter(y=>p!=null&&p.length?!!(p!=null&&p.includes((0,n.ZT)(y)))&&!(0,n.t8)(y):!0).sort((y,C)=>{const I=(0,n.F1)(y),M=(0,n.F1)(C);return I.localeCompare(M)});if(O!=null&&O[0])return O[0]}const E=!(0,c.M)(f)&&(0,l.n)(d,f);return(E?(0,s._J)(d,E):void 0)||(0,s.H7)(d)}}},1293325440:(B,A,e)=>{"use strict";e.d(A,{a:()=>n});var t=e(7919365230),s=e(5478938623),o=e(3457656052);const n=(0,t.Ay)((c,l)=>{let{channel:i,xwsAlpha:a=!1}=l;const r=(0,o.v)(c,{channel:i,xwsAlpha:a});return(0,s.F1)(r)});n.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(c,l)=>{let{channel:i,xwsAlpha:a=!1}=l;const r=(0,o.v)(c,{channel:i,xwsAlpha:a});return(0,s.F1)(r)}}},1519232272:(B,A,e)=>{"use strict";e.d(A,{B:()=>n});var t=e(4894634110),s=e(528789042),o=e(8917463831);const n=(0,t.Ay)(o.rd.ADD_CHANNEL,function(c,l){let{channel:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!i||!i.id||c((0,s.F)({channel:i,reason:o.rd.ADD_CHANNEL}))});n.meta={name:"createThunk",key:"createThunkaddChannel",description:o.rd.ADD_CHANNEL}},299746410:(B,A,e)=>{"use strict";e.d(A,{t:()=>a});var t=e(1985486637),s=e(4894634110),o=e(6915886995),n=e(528789042),c=e(8917463831),l=e(6563296078),i=e(4458861846);const a=(0,s.Ay)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(r,d,m)=>{let{channelId:f,users:u,subteams:E,inviteAll:v,force:g,propagateInviteResult:T}=m;return r((0,o.wb)({channelId:f,reason:c.rd.CHILD_CHANNEL_CREATED})).then(function(){let{channel:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return r((0,n.F)({channel:p,reason:c.rd.CHILD_CHANNEL_CREATED})),r((0,l.o)((0,i.pr)(p.id))),T?v||u||E?r((0,o.Cw)({channelId:p.id,users:u,subteams:E,inviteAll:v,force:g})).then(O=>({channel:p,inviteResult:O})):t.S.resolve({channel:p,inviteResult:{ok:!0}}):(r((0,o.Cw)({channelId:p.id,users:u,subteams:E})),t.S.resolve({channel:p}))})});a.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},5340972829:(B,A,e)=>{"use strict";e.d(A,{Z:()=>o});var t=e(4894634110),s=e(609275055);const o=(0,t.Ay)("Create or open an IM",function(n,c){let{memberId:l,shouldNavigateToChannel:i=!0,reason:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=l?[l]:[];return n((0,s.r)({memberIds:r,shouldNavigateToChannel:i,reason:a}))});o.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},609275055:(B,A,e)=>{"use strict";e.d(A,{r:()=>f});var t=e(1985486637),s=e(9113979368),o=e(235108050),n=e(4894634110),c=e(1242487384),l=e(9963560),i=e(6915886995),a=e(4458861846),r=e(3351247794),d=e(528789042),m=e(6563296078);const f=(0,n.Ay)("Create or open an MPIM",function(u,E){let{memberIds:v,shouldNavigateToChannel:g=!0,isQuiet:T=!1,reason:p="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,s.A)(v))return t.S.resolve();const O=E(),y=h(M=>(u((0,m.o)((0,a.pr)(M.id))),t.S.resolve(M)),"navigateToChannel");let C,I;if(v.length===1)I=v,C=(0,r.Pu)(O,v[0]);else{const M=(0,c.WR)(O);I=(0,o.A)([M,...v]),C=(0,r.FB)(O,I)}return(0,l.nT)(C)?g?y(C):t.S.resolve(C):u((0,i.jP)({isQuiet:T,memberIds:I,reason:p})).then(M=>!M||!M.channel?t.S.reject(new Error("missing-channel")):(u((0,d.F)({channel:M.channel})),g?y(M.channel):t.S.resolve(M.channel)))});f.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},1499150365:(B,A,e)=>{"use strict";e.d(A,{CS:()=>d,HM:()=>n,IX:()=>u,JC:()=>T,JT:()=>I,Kv:()=>D,MC:()=>y,MD:()=>ie,Ov:()=>O,PV:()=>Q,RS:()=>_,Ri:()=>F,VM:()=>C,Xr:()=>E,Xu:()=>i,Y5:()=>J,Ye:()=>p,Yr:()=>s,Yy:()=>M,Z8:()=>j,_Q:()=>o,ai:()=>k,e0:()=>S,f:()=>w,fc:()=>b,fl:()=>v,ho:()=>R,i9:()=>a,kB:()=>f,ke:()=>g,l3:()=>W,mP:()=>L,mt:()=>z,qC:()=>P,r5:()=>K,r6:()=>m,rl:()=>U,uN:()=>r,vp:()=>c,yK:()=>N,yQ:()=>l,yg:()=>x});var t=e(4414425352);const s=(0,t.Ay)("Checkout Address Form Data Loaded");s.meta={name:"createAction",key:"createActioncheckoutAddressFormDataLoaded",description:"Checkout Address Form Data Loaded"};const o=(0,t.Ay)("Checkout Credit Card Form Loaded");o.meta={name:"createAction",key:"createActionupdateCheckoutCreditCardFormLoaded",description:"Checkout Credit Card Form Loaded"};const n=(0,t.Ay)("Checkout States and Countries Data Loaded");n.meta={name:"createAction",key:"createActioncheckoutStatesAndCountriesDataLoaded",description:"Checkout States and Countries Data Loaded"};const c=(0,t.Ay)("Checkout Company Address Data Loaded");c.meta={name:"createAction",key:"createActioncheckoutCompanyAddressDataLoaded",description:"Checkout Company Address Data Loaded"};const l=(0,t.Ay)("Checkout Action for setting isFetchingCurrencyAfterCountryChange");l.meta={name:"createAction",key:"createActionsetIsFetchingCurrencyAfterCountryChange",description:"Checkout Action for setting isFetchingCurrencyAfterCountryChange"};const i=(0,t.Ay)("Update Company Address Field");i.meta={name:"createAction",key:"createActionupdateCompanyAddressField",description:"Update Company Address Field"};const a=(0,t.Ay)("Update is country from auto detect");a.meta={name:"createAction",key:"createActionupdateIsCountryFromAutoDetect",description:"Update is country from auto detect"};const r=(0,t.Ay)("Company Address Validated");r.meta={name:"createAction",key:"createActioncompanyAddressValidated",description:"Company Address Validated"};const d=(0,t.Ay)("Company Address Form Field Validated");d.meta={name:"createAction",key:"createActioncompanyAddressFormFieldValidated",description:"Company Address Form Field Validated"};const m=(0,t.Ay)("Clear Company Address Form Field Validation Errors");m.meta={name:"createAction",key:"createActionclearCompanyAddressFormFieldValidationErrors",description:"Clear Company Address Form Field Validation Errors"};const f=(0,t.Ay)("Upgrade Response Received");f.meta={name:"createAction",key:"createActiononUpgradeResponseReceived",description:"Upgrade Response Received"};const u=(0,t.Ay)("Purchase Attempt Response Received");u.meta={name:"createAction",key:"createActiononPurchaseAttemptResponseReceived",description:"Purchase Attempt Response Received"};const E=(0,t.Ay)("Addon Purchase Attempt Response Received");E.meta={name:"createAction",key:"createActiononAddonPurchaseResponseReceived",description:"Addon Purchase Attempt Response Received"};const v=(0,t.Ay)("Purchase Attempt Confirmation Response Received");v.meta={name:"createAction",key:"createActiononPurchaseAttemptConfirmationResponseReceived",description:"Purchase Attempt Confirmation Response Received"};const g=(0,t.Ay)("Update Stripe API Key");g.meta={name:"createAction",key:"createActionupdateStripeApiKey",description:"Update Stripe API Key"};const T=(0,t.Ay)("Update Invoice Data Field");T.meta={name:"createAction",key:"createActionupdateInvoiceDataField",description:"Update Invoice Data Field"};const p=(0,t.Ay)("Invoice Data Validated");p.meta={name:"createAction",key:"createActioninvoiceDataValidated",description:"Invoice Data Validated"};const O=(0,t.Ay)("Invoice Form Field Validated");O.meta={name:"createAction",key:"createActioninvoiceDataFieldValidated",description:"Invoice Form Field Validated"};const y=(0,t.Ay)("Clear Any Existing Payment Status or Errors");y.meta={name:"createAction",key:"createActionclearPaymentStatus",description:"Clear Any Existing Payment Status or Errors"};const C=(0,t.Ay)("Self User Data Loaded");C.meta={name:"createAction",key:"createActionselfUserDataLoaded",description:"Self User Data Loaded"};const I=(0,t.Ay)("Update Is Processing Payment");I.meta={name:"createAction",key:"createActionupdateIsProcessingPayment",description:"Update Is Processing Payment"};const M=(0,t.Ay)("Update Payment Method Selected");M.meta={name:"createAction",key:"createActionupdatePaymentMethodSelected",description:"Update Payment Method Selected"};const _=(0,t.Ay)("Update Show App Disconnect Dialog");_.meta={name:"createAction",key:"createActionupdateIsAppDisconnectedDialogShown",description:"Update Show App Disconnect Dialog"};const P=(0,t.Ay)("Update Active Checkout Step");P.meta={name:"createAction",key:"createActionupdateActiveCheckoutStep",description:"Update Active Checkout Step"};const b=(0,t.Ay)("Update Active Checkout Step");b.meta={name:"createAction",key:"createActionupdateActiveSteppedCheckoutStep",description:"Update Active Checkout Step"};const S=(0,t.Ay)("Update Active Country");S.meta={name:"createAction",key:"createActionupdateActiveCountry",description:"Update Active Country"};const N=(0,t.Ay)("Checkout configuration data loaded");N.meta={name:"createAction",key:"createActioncheckoutConfigurationDataLoaded",description:"Checkout configuration data loaded"};const L=(0,t.Ay)("Update Checkout Flow API Error Indicator");L.meta={name:"createAction",key:"createActionupdateIsCheckoutFlowAPIError",description:"Update Checkout Flow API Error Indicator"};const D=(0,t.Ay)("Update checkout store values with configuration data");D.meta={name:"createAction",key:"createActionupdateCheckoutWithConfigData",description:"Update checkout store values with configuration data"};const k=(0,t.Ay)("Redeem partner promo code failed");k.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeFailed",description:"Redeem partner promo code failed"};const x=(0,t.Ay)("Redeem partner promo code success");x.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeSuccess",description:"Redeem partner promo code success"};const R=(0,t.Ay)("Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret");R.meta={name:"createAction",key:"createActionsetIsLoadingStripeCustomerAndPaymentMethods",description:"Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret"};const U=(0,t.Ay)("Sets Active Payment Method Id");U.meta={name:"createAction",key:"createActionsetActivePaymentMethodId",description:"Sets Active Payment Method Id"};const F=(0,t.Ay)("Sets Active Stripe Customer Id");F.meta={name:"createAction",key:"createActionsetActiveStripeCustomerId",description:"Sets Active Stripe Customer Id"};const W=(0,t.Ay)("Sets Active Stripe Customer Payment Method Types for UPE");W.meta={name:"createAction",key:"createActionsetPaymentMethodTypes",description:"Sets Active Stripe Customer Payment Method Types for UPE"};const w=(0,t.Ay)("Sets Payment Methods");w.meta={name:"createAction",key:"createActionsetPaymentMethods",description:"Sets Payment Methods"};const K=(0,t.Ay)("Sets the PaymentElementError, i.e. the error message");K.meta={name:"createAction",key:"createActionsetPaymentElementError",description:"Sets the PaymentElementError, i.e. the error message"};const j=(0,t.Ay)("Stripe UPE credit card form is complete");j.meta={name:"createAction",key:"createActionsetIsStripeUpeComplete",description:"Stripe UPE credit card form is complete"};const Q=(0,t.Ay)("Stripe UPE credit card form has interactiono");Q.meta={name:"createAction",key:"createActionsetHasUPEInteraction",description:"Stripe UPE credit card form has interactiono"};const J=(0,t.Ay)("Is address form collapsed and not editable");J.meta={name:"createAction",key:"createActionsetIsAddressFormCollapsed",description:"Is address form collapsed and not editable"};const z=(0,t.Ay)("Select or deselect an addon by type");z.meta={name:"createAction",key:"createActiontoggleSelectedAddon",description:"Select or deselect an addon by type"};const ie=(0,t.Ay)("Select or deselect an addon by type");ie.meta={name:"createAction",key:"createActionsetAddonsForPurchase",description:"Select or deselect an addon by type"}},7199409195:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>i,bE:()=>l,eM:()=>n,gW:()=>c,x:()=>s,xj:()=>o});const t={form:"form",review:"review",success:"success",addons:"addons",addon_success:"addon_success",trial_review:"trial_review",trial_success:"trial_success"},s={overview:"overview",address:"address",payment:"payment",review:"review"},o=200,n={educational:"educational",local:{brazil:"local_discount_real",india:"local_discount_rupee"},nonprofit:"nonprofit",tenured_teams:"tenured_teams_discount",wfh_bundle:"wfhbundle",atlassian_2020:"atlassian_2020",smart_discount:"smart_discount",paid_acquisition_self_serve:"paid_acquisition_self_serve",price_increase_churn_prevention:"price_increase_churn_prevention",sfdc_customer_coupon_2022:"sfdc_customer_coupon_2022",slack_grb_campaign_coupon_2022:"slack_grb_campaign_coupon_2022",straight_to_paid:"straight_to_paid",self_serve_affiliates:"self_serve_affiliates",pricing_and_packaging_promo:"pricing_and_packaging_promo",new_year_promo:"new_year_promo",data_deletion_discount:"evergreen_data_deletion_discount",downgrade_discount_discount_50_pct_3_months:"downgrade_discount_discount_50_pct_3_months",downgrade_discount_discount_25_pct_3_months:"downgrade_discount_discount_25_pct_3_months",downgrade_discount_discount_15_pct_12_months:"downgrade_discount_discount_15_pct_12_months",pnp_discount:"pnp_discount"},c="partner_growth",l={TEAM_INELIGIBLE:"team_ineligible",CODE_ALREADY_REDEEMED:"code_already_redeemed"},i=t},5195993608:(B,A,e)=>{"use strict";e.d(A,{$3:()=>T,BD:()=>le,Bj:()=>Z,Bo:()=>r,Cb:()=>pe,D5:()=>J,E$:()=>g,EX:()=>q,Ex:()=>U,GG:()=>Me,Hg:()=>Te,IK:()=>be,J5:()=>f,Ju:()=>Ue,M:()=>_,MA:()=>I,Oe:()=>V,S_:()=>i,U$:()=>u,VE:()=>D,VV:()=>m,Vs:()=>L,WP:()=>Q,Wq:()=>a,X:()=>ie,YW:()=>E,Yv:()=>l,Zl:()=>p,Zn:()=>W,bB:()=>O,bW:()=>ce,bm:()=>me,c9:()=>de,cR:()=>z,ch:()=>X,d2:()=>K,fD:()=>Ke,fx:()=>oe,gr:()=>M,h0:()=>ee,hy:()=>Ne,iD:()=>Y,k7:()=>v,kr:()=>te,lK:()=>re,oi:()=>x,oy:()=>R,p:()=>ue,qR:()=>he,qn:()=>b,r2:()=>xe,r8:()=>F,rn:()=>w,t5:()=>k,tG:()=>d,vO:()=>fe,wz:()=>y,y4:()=>ke,zj:()=>P});var t=e(7919365230),s=e(9866181557),o=e(9113979368),n=e(3362542648),c=e(605568209);const l=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress||!$.checkoutFlow.companyAddress.validationErrors?!1:Object.values($.checkoutFlow.companyAddress.validationErrors).some(ae=>ae));l.meta={name:"createSelector",key:"createSelectorhasAddressFormErrors",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress||!$.checkoutFlow.companyAddress.validationErrors?!1:Object.values($.checkoutFlow.companyAddress.validationErrors).some(ae=>ae)};const i=(0,t.Ay)($=>{var ae;return($==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.activeStripeCustomerId)||null});i.meta={name:"createSelector",key:"createSelectorgetActiveCustomerId",description:$=>{var ae;return($==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.activeStripeCustomerId)||null}};const a=(0,t.Ay)($=>{var ae;return($==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.isFetchingCurrencyAfterCountryChange)||!1});a.meta={name:"createSelector",key:"createSelectorgetIsFetchingCurrencyAfterCountryChange",description:$=>{var ae;return($==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.isFetchingCurrencyAfterCountryChange)||!1}};const r=(0,t.Ay)($=>{var ae,Ge;return!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.activeStripeCustomerId)||!(!($==null||(Ge=$.checkoutFlow)===null||Ge===void 0)&&Ge.activePaymentMethodIdMap)?null:$.checkoutFlow.activePaymentMethodIdMap[$.checkoutFlow.activeStripeCustomerId]});r.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodId",description:$=>{var ae,Ge;return!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.activeStripeCustomerId)||!(!($==null||(Ge=$.checkoutFlow)===null||Ge===void 0)&&Ge.activePaymentMethodIdMap)?null:$.checkoutFlow.activePaymentMethodIdMap[$.checkoutFlow.activeStripeCustomerId]}};const d=(0,t.Ay)($=>{var ae;return!$||!$.checkoutFlow?null:(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.activePaymentMethodIdMap});d.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodIdMap",description:$=>{var ae;return!$||!$.checkoutFlow?null:(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.activePaymentMethodIdMap}};const m=(0,t.Ay)($=>{var ae;return!$||!$.checkoutFlow?null:(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.paymentMethodTypes});m.meta={name:"createSelector",key:"createSelectorgetPaymentMethodTypes",description:$=>{var ae;return!$||!$.checkoutFlow?null:(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.paymentMethodTypes}};const f=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethods);f.meta={name:"createSelector",key:"createSelectorgetPaymentMethods",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethods};const u=(0,t.Ay)($=>{const ae=r($);if(!ae||(0,o.A)(ae))return null;const Ge=f($);return!ae||!Array.isArray(Ge)?null:Ge.find(nt=>nt.id===ae)});u.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethod",description:$=>{const ae=r($);if(!ae||(0,o.A)(ae))return null;const Ge=f($);return!ae||!Array.isArray(Ge)?null:Ge.find(nt=>nt.id===ae)}};const E=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress?null:$.checkoutFlow.companyAddress);E.meta={name:"createSelector",key:"createSelectorgetCompanyAddress",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress?null:$.checkoutFlow.companyAddress};const v=(0,t.Ay)($=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isAddressFormCollapsed)});v.meta={name:"createSelector",key:"createSelectorgetIsAddressFormCollapsed",description:$=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isAddressFormCollapsed)}};const g=(0,t.Ay)($=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isPaymentMethodSectionDisplayed)});g.meta={name:"createSelector",key:"createSelectorgetIsPaymentMethodSectionDisplayed",description:$=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isPaymentMethodSectionDisplayed)}};const T=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods);T.meta={name:"createSelector",key:"createSelectorgetIsLoadingStripeCustomerAndPaymentMethods",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods};const p=(0,t.Ay)($=>{var ae,Ge;return!($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.config)===null||Ge===void 0)&&Ge.countryMap?$.checkoutFlow.config.countryMap:null});p.meta={name:"createSelector",key:"createSelectorgetCountryMap",description:$=>{var ae,Ge;return!($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.config)===null||Ge===void 0)&&Ge.countryMap?$.checkoutFlow.config.countryMap:null}};const O=(0,t.Ay)($=>{var ae;return $==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.paymentElementError});O.meta={name:"createSelector",key:"createSelectorgetPaymentElementError",description:$=>{var ae;return $==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.paymentElementError}};const y=(0,t.Ay)($=>{const ae=E($);return ae?ae.country:null});y.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountry",description:$=>{const ae=E($);return ae?ae.country:null}};const C=(0,t.Ay)($=>{const ae=E($);return!ae||!ae.validationErrors||!ae.validationErrors.country?null:ae.validationErrors.country.errorText});C.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountryError",description:$=>{const ae=E($);return!ae||!ae.validationErrors||!ae.validationErrors.country?null:ae.validationErrors.country.errorText}};const I=(0,t.Ay)($=>{var ae,Ge,nt;return(ae=E($))===null||ae===void 0||(Ge=ae.validationErrors)===null||Ge===void 0||(nt=Ge.vatId)===null||nt===void 0?void 0:nt.errorText});I.meta={name:"createSelector",key:"createSelectorgetCompanyAddressVatIdError",description:$=>{var ae,Ge,nt;return(ae=E($))===null||ae===void 0||(Ge=ae.validationErrors)===null||Ge===void 0||(nt=Ge.vatId)===null||nt===void 0?void 0:nt.errorText}};const M=(0,t.Ay)($=>{const ae=E($);return ae?ae.postalCode:null});M.meta={name:"createSelector",key:"createSelectorgetCompanyAddressPostalCode",description:$=>{const ae=E($);return ae?ae.postalCode:null}};const _=(0,t.Ay)($=>{const ae=E($);return ae?ae.region:null});_.meta={name:"createSelector",key:"createSelectorgetCompanyAddressRegion",description:$=>{const ae=E($);return ae?ae.region:null}};const P=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.config?null:$.checkoutFlow.config);P.meta={name:"createSelector",key:"createSelectorgetConfig",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.config?null:$.checkoutFlow.config};const b=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?null:$.checkoutFlow.checkoutConfiguration);b.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfig",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?null:$.checkoutFlow.checkoutConfiguration};const S=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentTerm?null:$.checkoutFlow.checkoutConfiguration.currentTerm===n.ck.yearly);S.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigTermIsYearly",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentTerm?null:$.checkoutFlow.checkoutConfiguration.currentTerm===n.ck.yearly};const N=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:$.checkoutFlow.checkoutConfiguration.currentPlanLevel);N.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigPlanLevel",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:$.checkoutFlow.checkoutConfiguration.currentPlanLevel};const L=(0,t.Ay)($=>{var ae,Ge;return(Ge=$==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.isCheckoutConfigurationDataLoaded)!==null&&Ge!==void 0?Ge:!1});L.meta={name:"createSelector",key:"createSelectorisCheckoutPreConfigLoaded",description:$=>{var ae,Ge;return(Ge=$==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.isCheckoutConfigurationDataLoaded)!==null&&Ge!==void 0?Ge:!1}};const D=(0,t.Ay)($=>{var ae,Ge;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0)&&Ge.isFutureSwitch)});D.meta={name:"createSelector",key:"createSelectorselectIsFutureProductSwitch",description:$=>{var ae,Ge;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0)&&Ge.isFutureSwitch)}};const k=(0,t.Ay)($=>{var ae,Ge;return($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0?void 0:Ge.availableTerms)||null});k.meta={name:"createSelector",key:"createSelectorselectAvailableTerms",description:$=>{var ae,Ge;return($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0?void 0:Ge.availableTerms)||null}};const x=(0,t.Ay)($=>{var ae,Ge;return($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0?void 0:Ge.upeSelectedAvailableTerms)||null});x.meta={name:"createSelector",key:"createSelectorgetUpeSelectedAvailableTerms",description:$=>{var ae,Ge;return($==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0?void 0:Ge.upeSelectedAvailableTerms)||null}};const R=(0,t.Ay)($=>{var ae,Ge;return $==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0?void 0:Ge.redirectUrl});R.meta={name:"createSelector",key:"createSelectorselectRedirectUrl",description:$=>{var ae,Ge;return $==null||(ae=$.checkoutFlow)===null||ae===void 0||(Ge=ae.checkoutConfiguration)===null||Ge===void 0?void 0:Ge.redirectUrl}};const U=(0,t.Ay)($=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isCheckoutAddressFormDataLoaded)});U.meta={name:"createSelector",key:"createSelectorisCheckoutAddressFormDataLoaded",description:$=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isCheckoutAddressFormDataLoaded)}};const F=(0,t.Ay)($=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isCountryFromAutoDetect)});F.meta={name:"createSelector",key:"createSelectorgetIsCountryFromAutoDetect",description:$=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isCountryFromAutoDetect)}};const W=(0,t.Ay)($=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isCheckoutCreditCardFormLoaded)});W.meta={name:"createSelector",key:"createSelectorgetIsCheckoutCreditCardFormLoaded",description:$=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isCheckoutCreditCardFormLoaded)}};const w=(0,t.Ay)($=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isStripeUpeComplete)});w.meta={name:"createSelector",key:"createSelectorgetIsStripeUpeComplete",description:$=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.isStripeUpeComplete)}};const K=(0,t.Ay)($=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.hasUPEInteraction)});K.meta={name:"createSelector",key:"createSelectorgetHasUPEInteraction",description:$=>{var ae;return!!(!($==null||(ae=$.checkoutFlow)===null||ae===void 0)&&ae.hasUPEInteraction)}};const j=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentStatus);j.meta={name:"createSelector",key:"createSelectorgetPaymentStatus",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentStatus};const Q=(0,t.Ay)($=>{const ae=j($);return ae?ae.ok===!0&&!ae.error&&!ae.isActionRequiredOnPurchaseAttempt:!1});Q.meta={name:"createSelector",key:"createSelectordidUpgradeSucceed",description:$=>{const ae=j($);return ae?ae.ok===!0&&!ae.error&&!ae.isActionRequiredOnPurchaseAttempt:!1}};const J=(0,t.Ay)($=>{const ae=j($);return ae?ae.error&&ae.msg?ae.msg:ae.error:""});J.meta={name:"createSelector",key:"createSelectorgetUpgradeError",description:$=>{const ae=j($);return ae?ae.error&&ae.msg?ae.msg:ae.error:""}};const z=(0,t.Ay)($=>{const ae=j($);return!!(ae!=null&&ae.isProcessingPayment)});z.meta={name:"createSelector",key:"createSelectorselectIsProcessingPayment",description:$=>{const ae=j($);return!!(ae!=null&&ae.isProcessingPayment)}};const ie=(0,t.Ay)($=>{const ae=P($);return ae?ae.stripeApiKey:null});ie.meta={name:"createSelector",key:"createSelectorselectStripeApiKey",description:$=>{const ae=P($);return ae?ae.stripeApiKey:null}};const ee=(0,t.Ay)($=>{const ae=P($);return ae?ae.sourcesPayable:null});ee.meta={name:"createSelector",key:"createSelectorselectSourcesPayable",description:$=>{const ae=P($);return ae?ae.sourcesPayable:null}};const ne=(0,t.Ay)(($,ae)=>{if(ae===null)return{};const Ge=ee($);if(!Ge)return{};const nt=Object.values(Ge).find(at=>at.id===ae);return nt||{}});ne.meta={name:"createSelector",key:"createSelectorselectSourcePayableById",description:($,ae)=>{if(ae===null)return{};const Ge=ee($);if(!Ge)return{};const nt=Object.values(Ge).find(at=>at.id===ae);return nt||{}}};const Z=(0,t.Ay)($=>{const ae=P($);return!ae||!ae.user?!1:ae.user.is_owner});Z.meta={name:"createSelector",key:"createSelectorselectIsSelfUserOwner",description:$=>{const ae=P($);return!ae||!ae.user?!1:ae.user.is_owner}};const te=(0,t.Ay)($=>{const ae=P($);return!ae||!ae.user||!$||!$.checkoutFlow});te.meta={name:"createSelector",key:"createSelectorgetIsInvoiceFormLoading",description:$=>{const ae=P($);return!ae||!ae.user||!$||!$.checkoutFlow}};const he=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.invoiceData);he.meta={name:"createSelector",key:"createSelectorgetInvoiceData",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.invoiceData};const ue=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethodSelected);ue.meta={name:"createSelector",key:"createSelectorselectPaymentMethodSelected",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethodSelected};const de=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.isAppDisconnectedDialogShown);de.meta={name:"createSelector",key:"createSelectorselectIsAppDisconnectedDialogShown",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.isAppDisconnectedDialogShown};const re=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.activeCheckoutStep);re.meta={name:"createSelector",key:"createSelectorselectActiveCheckoutStep",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.activeCheckoutStep};const V=(0,t.Ay)($=>{var ae;return($==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.activeSteppedCheckoutStep)||null});V.meta={name:"createSelector",key:"createSelectorselectActiveSteppedCheckoutStep",description:$=>{var ae;return($==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.activeSteppedCheckoutStep)||null}};const H=(0,t.Ay)($=>{var ae;return $==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.promoCodeRedeem});H.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeem",description:$=>{var ae;return $==null||(ae=$.checkoutFlow)===null||ae===void 0?void 0:ae.promoCodeRedeem}};const X=(0,t.Ay)($=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.failed)||!1});X.meta={name:"createSelector",key:"createSelectorselectDidPromoCodeRedeemFail",description:$=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.failed)||!1}};const Y=(0,t.Ay)($=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.errorName)||""});Y.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemErrorName",description:$=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.errorName)||""}};const q=(0,t.Ay)($=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.discountName)||""});q.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountName",description:$=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.discountName)||""}};const fe=(0,t.Ay)($=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.discountPercentage)||0});fe.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountPercentage",description:$=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.discountPercentage)||0}};const ce=(0,t.Ay)($=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.discountDuration)||0});ce.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountDuration",description:$=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.discountDuration)||0}};const Ee=(0,t.Ay)($=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.attempted)||!1});Ee.meta={name:"createSelector",key:"createSelectorselectDidAttemptPromoCodeRedeem",description:$=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.attempted)||!1}};const Ae=(0,t.Ay)($=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.code)||null});Ae.meta={name:"createSelector",key:"createSelectorselectPromoCode",description:$=>{var ae;return((ae=H($))===null||ae===void 0?void 0:ae.code)||null}};const le=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.isCheckoutFlowAPIError);le.meta={name:"createSelector",key:"createSelectorselectIsCheckoutFlowAPIError",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.isCheckoutFlowAPIError};const oe=(0,t.Ay)($=>{const ae=j($);return!!(ae!=null&&ae.isActionRequiredOnPurchaseAttempt)});oe.meta={name:"createSelector",key:"createSelectorselectIsActionRequiredOnPurchaseAttempt",description:$=>{const ae=j($);return!!(ae!=null&&ae.isActionRequiredOnPurchaseAttempt)}};const me=(0,t.Ay)($=>{const ae=j($);return ae&&ae.intentSecret||""});me.meta={name:"createSelector",key:"createSelectorselectIntentSecret",description:$=>{const ae=j($);return ae&&ae.intentSecret||""}};const pe=(0,t.Ay)($=>{const ae=j($);return ae&&ae.billingItemId||""});pe.meta={name:"createSelector",key:"createSelectorselectBillingItemId",description:$=>{const ae=j($);return ae&&ae.billingItemId||""}};const Te=(0,t.Ay)($=>(0,s.xp)($,"self_serve_select"));Te.meta={name:"createSelector",key:"createSelectorselectCanViewEnterpriseSelect",description:$=>(0,s.xp)($,"self_serve_select")};const Me=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].id);Me.meta={name:"createSelector",key:"createSelectorselectAddonId",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].id};const Ue=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?!1:$.checkoutFlow.checkoutConfiguration.isPayingByInvoice);Ue.meta={name:"createSelector",key:"createSelectorselectIsPayingByInvoice",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?!1:$.checkoutFlow.checkoutConfiguration.isPayingByInvoice};const xe=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons.map(ae=>ae.id));xe.meta={name:"createSelector",key:"createSelectorselectArrayOfAddonIds",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons.map(ae=>ae.id)};const Ne=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].type);Ne.meta={name:"createSelector",key:"createSelectorselectAddonType",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].type};const be=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.selectedAddonTypes?c.Ml:$.checkoutFlow.selectedAddonTypes);be.meta={name:"createSelector",key:"createSelectorselectAddonsForPurchase",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.selectedAddonTypes?c.Ml:$.checkoutFlow.selectedAddonTypes};const ke=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate);ke.meta={name:"createSelector",key:"createSelectorselectAddonBillingDate",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate};const Ke=(0,t.Ay)($=>{var ae;return!$||!$.checkoutFlow?null:(ae=$.checkoutFlow.checkoutConfiguration)===null||ae===void 0?void 0:ae.isEligibleForDataDeletion});Ke.meta={name:"createSelector",key:"createSelectorselectIsEligibleForDataDeletion",description:$=>{var ae;return!$||!$.checkoutFlow?null:(ae=$.checkoutFlow.checkoutConfiguration)===null||ae===void 0?void 0:ae.isEligibleForDataDeletion}}},1662766283:(B,A,e)=>{"use strict";e.d(A,{l:()=>T});var t=e(4894634110),s=e(6619653240),o=e(1649982175),n=e(9113979368),c=e(8309078519),l=e(1985486637),i=e(7357481378),a=e(8337832081);const r=(0,t.Ay)("fetches all available pricing plans for the team.",(p,O,y)=>new l.S(C=>{p((0,i.iV)(y)).then(I=>{p((0,a.wt)(I)),C()})}));r.meta={name:"createThunk",key:"createThunkfetchPlansData",description:"fetches all available pricing plans for the team."};const d=r;var m=e(7199409195),f=e(1499150365),u=e(3362542648);const E=h(p=>{var O,y;const C=((O=p.product)===null||O===void 0?void 0:O.level)===p.current_product.level,I=((y=p.product)===null||y===void 0?void 0:y.term)===p.current_product.term,M=p.selected_payment_method===u.uq.CREDIT_CARD,_=p.current_product.is_invoice;return C&&I&&M&&!_?[u.uq.CREDIT_CARD]:p.allowed_payment_methods},"filterAllowedPaymentMethods"),v=h(p=>{var O,y;const C=((O=p.product)===null||O===void 0?void 0:O.level)===p.current_product.level,I=((y=p.product)===null||y===void 0?void 0:y.term)===p.current_product.term;return p.selected_payment_method===u.uq.INVOICE&&C?I?[u.ck.monthly]:[u.ck.yearly]:p.available_terms},"getUpeSelectedAvailableTerms"),g=(0,t.Ay)("Load configuration data for checkout",async(p,O,y)=>{let{checkoutConfigData:C}=y,I=(0,o.A)(C,["clientRequestId","requestId","args","method","ok"]);const M=!(0,n.A)(I);if(M){var _,P,b,S,N;I=Object.assign(I,{planLevel:(_=I.product)===null||_===void 0?void 0:_.level,term:(P=I.product)===null||P===void 0?void 0:P.term,isTrial:(b=I.product)===null||b===void 0?void 0:b.is_trial,isPayingByInvoice:I.current_product.is_invoice,currency:(S=I.product)===null||S===void 0?void 0:S.currency,productId:(N=I.product)===null||N===void 0?void 0:N.id,currentPlanLevel:I.current_product.level,currentTerm:I.current_product.term,currentIsTrial:I.current_product.is_trial,currentCurrency:I.current_product.currency,currentProductId:I.current_product.id,allowedPaymentMethods:E(I),upeSelectedAvailableTerms:v(I),isEligibleForDataDeletion:I.is_eligible_for_data_deletion}),delete I.product,delete I.current_product}I=(0,c.A)(I),p((0,f.yK)(I)),M&&(p((0,f.Kv)(I)),await p(d({checkout_step:m.Ay.form})))});g.meta={name:"createThunk",key:"createThunkloadCheckoutConfigurationData",description:"Load configuration data for checkout"};const T=(0,t.Ay)("Fetch configuration data for checkout",async(p,O,y)=>{let{productId:C=null}=y;const I="fetchConfigurationData",M=await p((0,s.n)(C?{productId:C,reason:I}:{reason:I}));await p(g({checkoutConfigData:M}))});T.meta={name:"createThunk",key:"createThunkfetchConfigurationData",description:"Fetch configuration data for checkout"}},9653002446:(B,A,e)=>{"use strict";e.d(A,{I:()=>l});var t=e(2774532222),s=e(3362542648),o=e(1318482837),n=e(5221609289);const c=h(a=>{const r=(0,n.Ay)(a),d=r&&r.pathname;return(0,o.D)(r)&&(0,t.A)(d,(0,s.hZ)())},"isPlansAppUrl"),l=h(a=>a&&!c(a),"shouldCheckoutRedirect"),i={isPlansAppUrl:c}},6999315437:(B,A,e)=>{"use strict";e.d(A,{LA:()=>n,Th:()=>c,kl:()=>o,yg:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Set the current theme field in redux (do not use this)");s.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const o=(0,t.Ay)("Set the OS system sync field in redux (do not use this)");o.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const n=(0,t.Ay)("Set the OS system theme field in redux (do not use this)");n.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"};const c=(0,t.Ay)("Set the client typeface");c.meta={name:"createAction",key:"createActionsetClientTypeface",description:"Set the client typeface"}},1239201275:(B,A,e)=>{"use strict";e.d(A,{C3:()=>o,k4:()=>t,u7:()=>s});const t="slack-client-theme",s="slack-client-theme-os-sync",o="client-typeface"},6145207350:(B,A,e)=>{"use strict";e.d(A,{A:()=>C});var t=e(1703559452),s=e(2691514942),o=e(3122619948),n=e(7607438329),c=e(1137236691),l=e(7523104273),i=e(7188858884),a=e(7281000332),r=e(1239201275),d=e(6999315437),m=e(873516440),f=e(5501780952),u=e(6499512541),E=e(2398473551),v=e(5512437437);let g="light",T=!1,p="light",O;try{O=(0,v.W6)(r.C3)||void 0}catch{}try{n.w2&&(0,o.A)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(I=>{const M=I.matches?"dark":"light";p=M,T&&(g=p);const _=(0,a.en)();if(_){const P=_.getState(),b=(0,E.getBootedWorkspaces)(P),S=(0,t.A)(b.map(N=>(0,n.Ay)((0,i.$D)(N))));_.dispatch((0,d.LA)(M)),S&&(0,m.FW)(P)&&_.dispatch((0,f.P)(M))}})}catch(I){(0,s.Wo)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",I)}try{const I=window.localStorage.getItem(r.k4),M=window.localStorage.getItem(r.u7);g=I||"light",n.w2&&(M?T=M==="true":T=!I,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(p="dark"),T&&(g=p)),(0,c.g9M)()&&((0,c.cGU)({name:"userTheme",value:g}),(0,c.cGU)({name:"systemThemeSyncEnabled",value:T}))}catch(I){(0,s.Wo)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",I)}const C=(0,l.Ay)({},{clientTheme:g,systemSync:T,systemTheme:p,clientTypeface:O},{storeKey:"clientTheme",persistenceEnabled:!1}).on(d.yg,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...I,clientTheme:M}}).on(d.kl,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...I,systemSync:M}}).on(d.LA,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...I,systemTheme:M}}).on(d.Th,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,u.kh)();return{...I,clientTypeface:M}})},5501780952:(B,A,e)=>{"use strict";e.d(A,{P:()=>l});var t=e(2691514942),s=e(1137236691),o=e(4894634110),n=e(1239201275),c=e(6999315437);const l=(0,o.Ay)("Set the current theme for the device",function(i,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(n.k4,r)}catch{(0,t.Wo)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}i((0,c.yg)(r)),(0,s.cGU)({name:"userTheme",value:r})});l.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},15516208:(B,A,e)=>{"use strict";e.d(A,{V:()=>o,j:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Sets the origin view the Composer page was opened from");s.meta={name:"createAction",key:"createActionsetComposerOrigin",description:"Sets the origin view the Composer page was opened from"};const o=(0,t.Ay)("Sets a value indicating whether email classification is supported in the composer");o.meta={name:"createAction",key:"createActionsetComposerEmailClassificationSupported",description:"Sets a value indicating whether email classification is supported in the composer"}},6371559681:(B,A,e)=>{"use strict";e.d(A,{$:()=>s});var t=e(7919365230);const s=(0,t.Ay)(n=>{var c;return n==null||(c=n.composerPage)===null||c===void 0?void 0:c.composerOrigin});s.meta={name:"createSelector",key:"createSelectorgetComposerOrigin",description:n=>{var c;return n==null||(c=n.composerPage)===null||c===void 0?void 0:c.composerOrigin}};const o=(0,t.Ay)(n=>(n==null?void 0:n.composerPage.composerEmailClassificationSupported)||!1);o.meta={name:"createSelector",key:"createSelectorgetComposerEmailClassificationSupported",description:n=>(n==null?void 0:n.composerPage.composerEmailClassificationSupported)||!1}},3366969827:(B,A,e)=>{"use strict";e.d(A,{$_:()=>v,Ci:()=>c,Dn:()=>n,F8:()=>d,MJ:()=>u,N2:()=>a,RX:()=>i,Xc:()=>E,ij:()=>o,pq:()=>m,qE:()=>l,rj:()=>f,sR:()=>s,vN:()=>r});var t=e(4414425352);const s=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound connect invites");s.meta={name:"createAction",key:"createActionresetConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound connect invites"};const o=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound pending connect invites");o.meta={name:"createAction",key:"createActionresetPendingConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound pending connect invites"};const n=(0,t.Ay)("Upserts a Slack Connect Invite");n.meta={name:"createAction",key:"createActionupsertConnectInvite",description:"Upserts a Slack Connect Invite"};const c=(0,t.Ay)("Upserts a pending Slack Connect Invite");c.meta={name:"createAction",key:"createActionupsertPendingConnectInvite",description:"Upserts a pending Slack Connect Invite"};const l=(0,t.Ay)("Removes a Slack Connect Invite");l.meta={name:"createAction",key:"createActionremoveConnectInvite",description:"Removes a Slack Connect Invite"};const i=(0,t.Ay)("Removes a pending Slack Connect Invite");i.meta={name:"createAction",key:"createActionremovePendingConnectInvite",description:"Removes a pending Slack Connect Invite"};const a=(0,t.Ay)("Sets freshness flag for Slack Connect invites");a.meta={name:"createAction",key:"createActionsetAreInvitesFresh",description:"Sets freshness flag for Slack Connect invites"};const r=(0,t.Ay)("Sets whether logged-in member's email has been verified for Slack Connect visibility purposes");r.meta={name:"createAction",key:"createActionsetIsEmailVerified",description:"Sets whether logged-in member's email has been verified for Slack Connect visibility purposes"};const d=(0,t.Ay)("Sets whether logged-in member's email verification has failed");d.meta={name:"createAction",key:"createActionsetIsUserVerificationFetchError",description:"Sets whether logged-in member's email verification has failed"};const m=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect channel invite");m.meta={name:"createAction",key:"createActionupsertChannelConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect channel invite"};const f=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect DM invite");f.meta={name:"createAction",key:"createActionupsertDmConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect DM invite"};const u=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect space invite");u.meta={name:"createAction",key:"createActionupsertSpaceConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect space invite"};const E=(0,t.Ay)("Upserts whether an acceptance attempt has failed for a specific Slack Connect invite");E.meta={name:"createAction",key:"createActionupsertHasConnectInviteAcceptanceFailed",description:"Upserts whether an acceptance attempt has failed for a specific Slack Connect invite"};const v=(0,t.Ay)("Sets whether we are currently switching workspaces");v.meta={name:"createAction",key:"createActionsetIsSwitchingWorkspaces",description:"Sets whether we are currently switching workspaces"}},9199256628:(B,A,e)=>{"use strict";e.d(A,{d:()=>a});var t=e(9954566755),s=e(617049308),o=e(1313031317),n=e(113809243),c=e(4894634110),l=e(3366969827),i=e(7148571106);const a=(0,c.Ay)("Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites",async(r,d,m)=>{let{reason:f}=m,u;const E=[s.k.Channel,s.k.Im];(0,n.i)(d())&&E.push(s.k.Workspace);const g=await r((0,t.O)({reason:f,inviteTypes:E,onlyPendingInvites:!0}));if(g!=null&&g.connect_invites){u=g.connect_invites;const T=u.filter(o.Ef),p=u.filter(o.I4);r((0,i.R)({connectInvites:u})),r((0,l.ij)({pendingInboundConnectInvites:T,pendingOutboundConnectInvites:p}))}return u||[]});a.meta={name:"createThunk",key:"createThunkfetchAndResetAllPendingConnectInvites",description:"Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites"}},9230316456:(B,A,e)=>{"use strict";e.d(A,{p:()=>a});var t=e(9954566755),s=e(6721693261),o=e(617049308),n=e(113809243),c=e(4894634110),l=e(3366969827),i=e(7148571106);const a=(0,c.Ay)("Fetch and upsert the result of connectInvites.list for inbound/outbound invites",async(r,d,m)=>{let{reason:f,direction:u,includeInviteRequests:E}=m,v;const g=[o.k.Channel,o.k.Im];(0,n.i)(d())&&g.push(o.k.Workspace);const p=await r((0,t.O)({reason:f,direction:u,inviteTypes:g,includeInviteRequests:E}));if(p!=null&&p.connect_invites){v=p.connect_invites,r((0,i.R)({connectInvites:v}));const O={inboundConnectInvites:u===s.D.Incoming?v:void 0,outboundConnectInvites:u===s.D.Outgoing?v:void 0};r((0,l.sR)(O))}return v||[]});a.meta={name:"createThunk",key:"createThunkfetchAndResetConnectInvites",description:"Fetch and upsert the result of connectInvites.list for inbound/outbound invites"}},7148571106:(B,A,e)=>{"use strict";e.d(A,{R:()=>n});var t=e(1313031317),s=e(4894634110),o=e(6550040765);const n=(0,s.Ay)("Upsert any non-local members referenced in the specified connect invites",async(c,l,i)=>{let{connectInvites:a}=i;const r=[];a.forEach(d=>{const m=(0,t.$N)(d);if((0,t.I4)(d)&&m&&m.forEach(f=>{r.push((0,t.mZ)(f))}),(0,t.Ef)(d)){r.push((0,t.y1)(d));const f=(0,t.kR)(d);f&&r.push(f)}}),c((0,o.Ay)({members:r}))});n.meta={name:"createThunk",key:"createThunkupsertMembersFromConnectInvites",description:"Upsert any non-local members referenced in the specified connect invites"}},2924147417:(B,A,e)=>{"use strict";e.d(A,{A8:()=>v,IC:()=>r,If:()=>E,S_:()=>f,Uf:()=>u,Z3:()=>O,cf:()=>a,nT:()=>y,tD:()=>d,zm:()=>g});var t=e(7919365230),s=e(3385422400),o=e(293248343),n=e(7822104609),c=e(2580172240),l=e(2691514942);const i=(0,t.Ay)(C=>{var I;return C==null||(I=C.siwsDomains)===null||I===void 0?void 0:I.domainsCollection});i.meta={name:"createSelector",key:"createSelectorgetDomains",description:C=>{var I;return C==null||(I=C.siwsDomains)===null||I===void 0?void 0:I.domainsCollection}};const a=(0,t.Ay)(C=>{var I;return C==null||(I=C.connectedApps)===null||I===void 0?void 0:I.loading});a.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:C=>{var I;return C==null||(I=C.connectedApps)===null||I===void 0?void 0:I.loading}};const r=h(C=>{const I=(0,o.ty)(C,"identity_links_prefs");if(I)try{return JSON.parse(I)}catch{return(0,l.Ay)({state:C}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),d=(0,s.Mz)(r,Object.keys),m=(0,t.Ay)(C=>{var I;return C==null||(I=C.connectedApps)===null||I===void 0?void 0:I.apps});m.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:C=>{var I;return C==null||(I=C.connectedApps)===null||I===void 0?void 0:I.apps}};const f=(0,s.Mz)(d,m,(C,I)=>C.filter(M=>!I[M])),u=(0,s.Mz)(r,m,n.pf,function(C,I){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(C).map(b=>I[b]?{...I[b].profile||{},...(0,c.XK)(C[b])||{},domain:M[b]||{}}:null).filter(b=>Boolean(b))}),E=(0,s.Mz)(u,C=>C.filter(I=>I==null?void 0:I.completedTransfer).sort((I,M)=>M.dateCompletedTransfer-I.dateCompletedTransfer)),v=(0,s.Mz)(u,C=>C.filter(I=>I==null?void 0:I.dateDisconnected).sort((I,M)=>M.dateDisconnected-I.dateDisconnected)),g=(0,s.Mz)(u,C=>C.filter(I=>(I==null?void 0:I.numSkipped)&&!(I!=null&&I.completedTransfer)).sort((I,M)=>M.dateLastSkipped-I.dateLastSkipped)),T=h(C=>{const I=(0,o.ty)(C,"identity_links_global_prefs");if(I)try{return(0,c.XK)(JSON.parse(I))}catch{return(0,l.Ay)({state:C}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),p=(0,s.Mz)(T,C=>C==null?void 0:C.dateDisabled),O=(0,s.Mz)(p,C=>!C),y=(0,t.Ay)(C=>{var I;return C==null||(I=C.connectedApps)===null||I===void 0?void 0:I.error});y.meta={name:"createSelector",key:"createSelectorselectError",description:C=>{var I;return C==null||(I=C.connectedApps)===null||I===void 0?void 0:I.error}}},7970529998:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(7523104273),s=e(9448664629);const o={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},c=(0,t.Ay)({},o,{storeKey:"connectivity",persistenceEnabled:!1}).on(s.pm,(l,i)=>({...l,serviceOnline:!!i})).on(s.Uj,l=>l===o?{...l,lastSocketActivity:Date.now()}:(l.lastSocketActivity=Date.now(),l)).on(s.p9,(l,i)=>({...l,clientOnline:!!i,lastClientConnection:Date.now()})).on(s.hM,l=>({...l,lastSocketConnection:Date.now()}))},8243073662:(B,A,e)=>{"use strict";e.d(A,{b:()=>o,k:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Set a value that represents whether we are currently in the boot phase");s.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const o=(0,t.Ay)("Set a value that represents whether we are currently performing a warm boot");o.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},1689854778:(B,A,e)=>{"use strict";e.d(A,{d:()=>o,f:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Remove prefs for a given channel");s.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const o=(0,t.Ay)("Set channel prefs associated with a given channel");o.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},4700030580:(B,A,e)=>{"use strict";e.d(A,{Dq:()=>f,YO:()=>u,im:()=>v});var t=e(3398586081),s=e(3677587543),o=e(1985486637),n=e(5019885664),c=e(2187136646),l=e(4894634110),i=e(7188858884),a=e(1689854778),r=e(6712392893);const d=(0,l.Ay)("Fetch and upsert channel list prefs",async(T,p,O)=>{let{channelId:y,teamId:C}=O;const I=await T((0,n.U)({channel:y,reason:"client_redux_store"})),{prefs:M}=I;T((0,a.d)({channelId:y,prefs:M})),E(C,y)});d.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const m=(0,t.A)(()=>new c.Ay({storeKey:r.U,fetch:(T,p)=>o.S.map(p,O=>(0,i.Qw)(T,d({channelId:O,teamId:T}))),isEnabled:()=>!0,metricsName:r.U})),f=h((T,p)=>m().markObjectsAsStale(T,[p]),"markConversationsListPrefsAsStale"),u=h((T,p)=>m().markObjectsAsStale(T,p),"markConversationsListPrefsAsStaleForMultipleChannels"),E=h((T,p)=>m().markObjectsAsFresh(T,[p]),"markConversationsListPrefsAsFresh"),v=h((T,p)=>m().maybeRefetch(T,p),"maybeRefetchConversationsListPrefs"),g={fetchAndUpsertConversationsListPrefs:d};(0,s.zv)("conditionalFetchManagerConversationsListPrefs",m)},6712392893:(B,A,e)=>{"use strict";e.d(A,{A:()=>l,U:()=>o});var t=e(7523104273),s=e(1689854778);const o="conversationsListPrefs",n={},l=(0,t.Ay)({},n,{storeKey:o,persistenceEnabled:!0}).on(s.f,(i,a)=>{let{channelId:r}=a;if(!r||!i[r])return i;const d={...i};return delete d[r],d}).on(s.d,(i,a)=>{let{channelId:r,prefs:d}=a;return r?{...i,[r]:d}:i})},5013046143:(B,A,e)=>{"use strict";e.d(A,{Q:()=>l});var t=e(3385422400),s=e(6251135763),o=e(7874250141),n=e(4700030580);const c=h((i,a)=>{var r;const d=(0,o.ZT)(i);if(!d||!(0,s.A)(a))return null;(0,n.im)(d,a);var m;return(m=i==null||(r=i.conversationsListPrefs)===null||r===void 0?void 0:r[a])!==null&&m!==void 0?m:null},"getConversationsListPrefsByChannelId"),l=(0,t.Mz)((i,a,r)=>c(i,r),(i,a)=>a,(i,a)=>i==null?void 0:i[a])},8709134018:(B,A,e)=>{"use strict";e.d(A,{Ot:()=>o,S9:()=>c,X8:()=>s,d$:()=>i,d1:()=>a,en:()=>l,gx:()=>n});var t=e(4414425352);const s=(0,t.Ay)("Adds the new set of custom emoji to the existing store");s.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const o=(0,t.Ay)("Resets the array of custom emoji in the store");o.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const n=(0,t.Ay)("Removes the specified custom emoji from the store");n.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const c=(0,t.Ay)("Renames a disabled custom emoji");c.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const l=(0,t.Ay)("Set the loading status for the API request when a new page is loading");l.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const i=(0,t.Ay)("Set the loading status for the API request when a user searches for emojis");i.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const a=(0,t.Ay)("Set the current sort category and direction for the table");a.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},2051220974:(B,A,e)=>{"use strict";e.d(A,{o:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Record that a message was deleted");s.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},4290224291:(B,A,e)=>{"use strict";e.d(A,{k:()=>s});var t=e(7919365230);const s=(0,t.Ay)((o,n)=>{let{channelId:c,ts:l}=n;return o&&o.deletedMessages&&o.deletedMessages[c]&&!!o.deletedMessages[c][l]});s.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(o,n)=>{let{channelId:c,ts:l}=n;return o&&o.deletedMessages&&o.deletedMessages[c]&&!!o.deletedMessages[c][l]}}},1218934354:(B,A,e)=>{"use strict";e.d(A,{$3:()=>a,Bt:()=>l,Ez:()=>o,LS:()=>d,Mk:()=>n,NN:()=>f,XF:()=>c,Y$:()=>u,Yv:()=>s,_F:()=>r,jC:()=>m,n9:()=>E,oR:()=>g,um:()=>v,yz:()=>i});var t=e(4414425352);const s=(0,t.Ay)("Sets the highlight property of a download");s.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const o=(0,t.Ay)("An update of the desktop state from the desktop app");o.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const n=(0,t.Ay)("An update of the window frame state");n.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const c=(0,t.Ay)("Starts a download on the desktop app");c.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const l=(0,t.Ay)("Pauses a download on the desktop app");l.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const i=(0,t.Ay)("Resumes a download on the desktop app");i.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const a=(0,t.Ay)("Cancels a download on the desktop app");a.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const r=(0,t.Ay)("Clears all stopped downloads for the active team");r.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const d=(0,t.Ay)("Removes a download on the desktop app");d.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const m=(0,t.Ay)("Retries a download on the desktop app");m.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const f=(0,t.Ay)("Opens a file downloaded by the desktop app");f.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const u=(0,t.Ay)("Shows the folder that contains the downloaded file");u.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const E=(0,t.Ay)("Toggles the performance monitor");E.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const v=(0,t.Ay)("Sets the currently active team in the SSB");v.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const g=(0,t.Ay)("Update canvas system text settings in the SSB");g.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},3543546565:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(7523104273),s=e(4103274853),o=e(3571452446),n=e(2003990933),c=e(7715417323),l=e(1137236691),i=e(1218934354);const a=h((u,E)=>(0,s.A)(u,(v,g)=>(0,s.A)(v,(T,p)=>E(g,p,T))),"mapDownloads"),r=h(u=>({...{app:{},environment:{},settings:{},...(0,o.A)(u,["app","settings","environment"]),windows:(0,s.A)((u==null?void 0:u.windows)||{},v=>({frame:(0,o.A)(v.frame,["isFullScreen","isFocused","isVisible","hasVibrancy","isCurrentlyAudible"])})),downloads:a((u==null?void 0:u.downloads)||{},(v,g,T)=>({...T,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:(0,n.A)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),d=(0,l.g9M)()?r((0,n.A)(window,"desktop.redux.getState",c.A)()):null,f=(0,t.Ay)({},d,{storeKey:"desktop",persistenceEnabled:!1}).on(i.Ez,(u,E)=>{const v=E.downloads?a(E.downloads,(g,T,p)=>({...p,highlight:(0,n.A)(u.downloads,[g,T,"highlight"],!1)})):u.downloads;return{...u,...E,downloads:v}}).on(i.Mk,(u,E)=>{let{windowId:v,property:g,value:T}=E;var p,O,y;return{...u,windows:{...u.windows,[v]:{...((p=u.windows)===null||p===void 0?void 0:p[v])||{},frame:{...((O=u.windows)===null||O===void 0||(y=O[v])===null||y===void 0?void 0:y.frame)||{},[g]:T}}}}}).on(i.Yv,(u,E)=>{let{fileId:v,teamId:g,highlight:T}=E;return(0,n.A)(u.downloads,[g,v])?{...u,downloads:{...u.downloads,[g]:{...u.downloads[g],[v]:{...u.downloads[g][v],highlight:T}}}}:u}).on(i.n9,u=>({...u,debug:{...u.debug,isPerformanceMonitorEnabled:!u.debug.isPerformanceMonitorEnabled}})).on(i.um,(u,E)=>E?{...u,activeTeamId:E}:u)},9341837877:(B,A,e)=>{"use strict";e.d(A,{y:()=>s});var t=e(9641049787);const s=h((o,n)=>(0,t.I$)(o,n),"getIsMemberDisconnectedById")},566873972:(B,A,e)=>{"use strict";e.d(A,{z:()=>l});var t=e(353071615),s=e(7143818704),o=e(9588678965),n=e(1230216522),c=e(6766178921);const l=(0,o.Mz)((i,a)=>{if(!a)return!1;const r=(0,c.nv)(i,a);return!r||(0,t.zU)(r)||(0,s.C)(r)?!1:!!(0,n.Vd)(i,a)});l.meta={name:"createSelector",key:"createSelectorshouldShowDndByMemberId",description:(i,a)=>{if(!a)return!1;const r=(0,c.nv)(i,a);return!r||(0,t.zU)(r)||(0,s.C)(r)?!1:!!(0,n.Vd)(i,a)}}},6720965148:(B,A,e)=>{"use strict";e.d(A,{D8:()=>c,QR:()=>l,cg:()=>a,y0:()=>d,Di:()=>m,Rg:()=>r});var t=e(3458206977),s=e(7919365230),o=e(3596980430),n=e(605568209);const c={CANT_UNFURL:"cant_unfurl",COMPLETE:"complete",ERROR:"error",FETCHING:"fetching",REMOVED:"removed"},l=(0,s.Ay)((f,u)=>{var E;return f==null||(E=f.draftContactUnfurls)===null||E===void 0?void 0:E[u]});l.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlEntriesForDraft",description:(f,u)=>{var E;return f==null||(E=f.draftContactUnfurls)===null||E===void 0?void 0:E[u]}};const i=(0,s.Ay)(function(f){let{draftId:u,contactUserId:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u||!E)return null;const v=l(f,u);return v?v[E]:null});i.meta={name:"createSelector",key:"createSelectorgetContactUnfurlEntryForDraft",description:function(f){let{draftId:u,contactUserId:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u||!E)return null;const v=l(f,u);return v?v[E]:null}};const a=(0,s.Ay)((f,u)=>{const E=l(f,u);return E?Object.keys(E):[]});a.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlIdsForDraft",description:(f,u)=>{const E=l(f,u);return E?Object.keys(E):[]}};const r=(0,s.Ay)((f,u)=>{let E=[];if(!u)return E;const v=l(f,u);return v&&(E=(0,t.A)(v,(g,T,p)=>{T&&T.status===c.REMOVED&&g.push(p)},[])),E});r.meta={name:"createSelector",key:"createSelectorgetRemovedContactUnfurlIdsForDraft",description:(f,u)=>{let E=[];if(!u)return E;const v=l(f,u);return v&&(E=(0,t.A)(v,(g,T,p)=>{T&&T.status===c.REMOVED&&g.push(p)},[])),E}};const d=(0,s.Ay)((f,u)=>{let E=[];if(!u)return E;const v=l(f,u);return v&&(E=(0,t.A)(v,(g,T,p)=>{T&&T.status===c.COMPLETE&&g.push(p)},[])),E});d.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlIdsForDraft",description:(f,u)=>{let E=[];if(!u)return E;const v=l(f,u);return v&&(E=(0,t.A)(v,(g,T,p)=>{T&&T.status===c.COMPLETE&&g.push(p)},[])),E}};const m=(0,s.Ay)((f,u)=>{if(!(0,o.Cq)(f)||!u)return n.Ml;const E=l(f,u);if(!E)return n.Ml;const v=(0,t.A)(E,(g,T)=>{T&&T.status===c.COMPLETE&&g.push(T.data)},[]);return v.length?v:n.Ml});m.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlsForDraft",description:(f,u)=>{if(!(0,o.Cq)(f)||!u)return n.Ml;const E=l(f,u);if(!E)return n.Ml;const v=(0,t.A)(E,(g,T)=>{T&&T.status===c.COMPLETE&&g.push(T.data)},[]);return v.length?v:n.Ml}}},3676539951:(B,A,e)=>{"use strict";e.d(A,{G:()=>n});var t=e(3596980430),s=e(4894634110),o=e(6720965148);const n=(0,s.Ay)("Gets contacts to unfurl and formats them as message attachments",function(c,l){let{draftId:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=l();if(!(0,t.Cq)(a))return[];if(!i)return[];const r=(0,o.y0)(a,i);if(!(r!=null&&r.length))return[];const d=r.map(m=>({contact_user_id:m}));return d!=null&&d.length?d:[]});n.meta={name:"createThunk",key:"createThunkgetContactUnfurlsForMessageSend",description:"Gets contacts to unfurl and formats them as message attachments"}},6657184031:(B,A,e)=>{"use strict";e.d(A,{GD:()=>l,Wz:()=>n,Xq:()=>a,dz:()=>o,ff:()=>i,ht:()=>s,r1:()=>r,v$:()=>t,yR:()=>c});const t="fetching",s="preview_pending",o="user_auth_required",n="complete",c="stale",l="no_attachment",i="error",a="removed",r=5},7775583161:(B,A,e)=>{"use strict";e.d(A,{E_:()=>P,uh:()=>_,EP:()=>C,at:()=>k,nz:()=>b,PC:()=>I,Ki:()=>N,Zv:()=>S,y3:()=>L,CN:()=>x});var t=e(7919365230),s=e(605568209),o=e(6657184031),n=e(205540855),c=e(8557984176),l=e(3458206977),i=e(9113979368),a=e(293248343),r=e(1434037758),d=e(4711108074),m=e.n(d),f=e(3078252698),u=e(2774532222),E=e(235108050),v=e(1867892340),g=e(5597511738);const p=h(R=>{if(!R||!R.length)return[];const U=[];return R.forEach(F=>{var W;if(!(0,g.Ay)(F))return;const w=F.insert,K=(W=F.attributes)===null||W===void 0?void 0:W.link;if(!(0,f.A)(w)||!(0,f.A)(K))return;const j=(0,v.A)(w),Q=(0,v.A)(K);(0,u.A)(Q??void 0,"http://")&&Q.slice(7)===j||(0,u.A)(Q??void 0,"https://")&&Q.slice(8)===j||!((0,u.A)(Q??void 0,"http://")||(0,u.A)(Q??void 0,"https://")||(0,u.A)(Q??void 0,"spotify:"))||U.push(K)}),(0,E.A)(U)},"getUrlsInOpsToUnfurl");var O=e(579422651),y=e(6497449120);const C=(0,t.Ay)((R,U)=>{var F;return R==null||(F=R.draftUnfurls)===null||F===void 0?void 0:F[U]});C.meta={name:"createSelector",key:"createSelectorgetAllUnfurlEntriesForDraft",description:(R,U)=>{var F;return R==null||(F=R.draftUnfurls)===null||F===void 0?void 0:F[U]}};const I=(0,t.Ay)(function(R){let{draftId:U,url:F}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!U||!F)return;const W=C(R,U);if(W)return W[F]});I.meta={name:"createSelector",key:"createSelectorgetUnfurlEntryForDraft",description:function(R){let{draftId:U,url:F}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!U||!F)return;const W=C(R,U);if(W)return W[F]}};const M=(0,t.Ay)((R,U)=>{const F=C(R,U);if(F)return Object.keys(F)});M.meta={name:"createSelector",key:"createSelectorgetAllUnfurlUrlsForDraft",description:(R,U)=>{const F=C(R,U);if(F)return Object.keys(F)}};const _=(0,t.Ay)((R,U)=>{const F=C(R,U);if(!F)return;const W=[];return Object.entries(F).forEach(w=>{let[K,j]=w;j.status!==o.yR&&W.push(K)}),W});_.meta={name:"createSelector",key:"createSelectorgetAllNonStaleUnfurlUrlsForDraft",description:(R,U)=>{const F=C(R,U);if(!F)return;const W=[];return Object.entries(F).forEach(w=>{let[K,j]=w;j.status!==o.yR&&W.push(K)}),W}};const P=(0,t.Ay)((R,U)=>{const F=C(R,U);if(!F)return;const W=[];return Object.entries(F).forEach(w=>{let[K,j]=w;j.status!==o.yR&&(0,c.a)(j.data)&&W.push(K)}),W});P.meta={name:"createSelector",key:"createSelectorgetAllNonStaleRemoteFileUnfurlUrlsForDraft",description:(R,U)=>{const F=C(R,U);if(!F)return;const W=[];return Object.entries(F).forEach(w=>{let[K,j]=w;j.status!==o.yR&&(0,c.a)(j.data)&&W.push(K)}),W}};const b=(0,t.Ay)((R,U)=>{if(!U)return;const F=C(R,U);if(F)return(0,l.A)(F,(W,w,K)=>{w&&w.status===o.Xq&&W.push(K)},[])});b.meta={name:"createSelector",key:"createSelectorgetRemovedUnfurlUrlsForDraft",description:(R,U)=>{if(!U)return;const F=C(R,U);if(F)return(0,l.A)(F,(W,w,K)=>{w&&w.status===o.Xq&&W.push(K)},[])}};const S=(0,t.Ay)((R,U)=>{let{ops:F}=U;if(!F||(0,i.A)(F))return s.Ml;const W=(0,a.ty)(R,"plain_text_mode");let w=F;if(W){const K=(0,r.Ay)(new(m())(F.slice()))||{};w=K&&K.ops}return p(w)});S.meta={name:"createSelector",key:"createSelectorgetUrlsInOpsToUnfurl",description:(R,U)=>{let{ops:F}=U;if(!F||(0,i.A)(F))return s.Ml;const W=(0,a.ty)(R,"plain_text_mode");let w=F;if(W){const K=(0,r.Ay)(new(m())(F.slice()))||{};w=K&&K.ops}return p(w)}};const N=(0,t.Ay)((R,U,F)=>{if(!U)return;const W=(0,O.YI)(R,U);var w;const K=(w=(0,y._l)(W))!==null&&w!==void 0?w:[],j=S(R,{ops:K});if(!j||(0,i.A)(j))return;const Q=j.map(J=>I(R,{draftId:U,url:J})).filter(J=>J&&F.includes(J.status)).map(J=>J==null?void 0:J.data);if(!(!Q||(0,i.A)(Q)))return Q});N.meta={name:"createSelector",key:"createSelectorgetUnfurlsInDraftOpsWithStatuses",description:(R,U,F)=>{if(!U)return;const W=(0,O.YI)(R,U);var w;const K=(w=(0,y._l)(W))!==null&&w!==void 0?w:[],j=S(R,{ops:K});if(!j||(0,i.A)(j))return;const Q=j.map(J=>I(R,{draftId:U,url:J})).filter(J=>J&&F.includes(J.status)).map(J=>J==null?void 0:J.data);if(!(!Q||(0,i.A)(Q)))return Q}};const L=(0,t.Ay)((R,U)=>N(R,U,[o.dz]));L.meta={name:"createSelector",key:"createSelectorgetUserAuthRequiredUnfurlsInDraftOps",description:(R,U)=>N(R,U,[o.dz])};const D=(0,t.Ay)((R,U)=>N(R,U,[o.Wz]));D.meta={name:"createSelector",key:"createSelectorgetCompleteUnfurlsInDraftOps",description:(R,U)=>N(R,U,[o.Wz])};const k=(0,t.Ay)((R,U)=>{const F=[o.Wz];return(0,n._Z)(R,"magic_unfurls")==="treatment"&&F.push(o.yR),(0,n._Z)(R,"composer_auth")==="treatment"&&F.push(o.dz),N(R,U,F)});k.meta={name:"createSelector",key:"createSelectorgetDisplayableUnfurlsInDraftOps",description:(R,U)=>{const F=[o.Wz];return(0,n._Z)(R,"magic_unfurls")==="treatment"&&F.push(o.yR),(0,n._Z)(R,"composer_auth")==="treatment"&&F.push(o.dz),N(R,U,F)}};const x=(0,t.Ay)((R,U)=>{const F=(0,O.YI)(R,U),W=(0,y._l)(F)||[],w=S(R,{ops:W});return(w==null?void 0:w.length)>o.r1});x.meta={name:"createSelector",key:"createSelectorhasReachedUnfurlLimit",description:(R,U)=>{const F=(0,O.YI)(R,U),W=(0,y._l)(F)||[],w=S(R,{ops:W});return(w==null?void 0:w.length)>o.r1}}},3911763109:(B,A,e)=>{"use strict";e.d(A,{a:()=>o});var t=e(4894634110),s=e(5276249735);const o=(0,t.Ay)("Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints",(n,c,l)=>{let{draftId:i,ops:a}=l;const r=n((0,s.f)({draftId:i,ops:a}));if(!r)return;let d;try{r.length&&(d=JSON.stringify(r))}catch{d=void 0}return d});o.meta={name:"createThunk",key:"createThunkgetCompleteUnfurlsInDraftOpsForDraftSync",description:"Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints"}},5276249735:(B,A,e)=>{"use strict";e.d(A,{f:()=>l});var t=e(4894634110),s=e(7775583161),o=e(9113979368),n=e(5980399196),c=e(8840779375);const l=(0,t.Ay)("Gets URLs to unfurl from ops for message sending APIs",function(i,a){let{draftId:r,ops:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=a();if(!r||!d)return;const f=(0,s.Zv)(m,{ops:d});if(!f||(0,o.A)(f))return[];const u=(0,s.nz)(m,r),E=(0,n.A)(f,u??[]);return(0,c.A)(E,g=>({url:g}))});l.meta={name:"createThunk",key:"createThunkgetDraftUnfurlsForMessageSend",description:"Gets URLs to unfurl from ops for message sending APIs"}},2252221836:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(1985486637),s=e(3134334389),o=e(1236500105),n=e(2691514942),c=e(1116493576),l=e(4894634110),i=e(7382618640),a=e(3698879540),r=e(2947229296),d=e(7264057664);const m=new r.Ay("drafts");function f(){return s.createElement(d.Ay,null,m.t("You\u2019ve reached the maximum number of drafts allowed"))}h(f,"DraftLimitToast"),f.displayName="DraftLimitToast";const u=(0,l.Ay)("Create a new composer draft",function(v,g){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=g();if((0,c.A)(p))return v((0,a.M)({element:s.createElement(f)})),(0,n.Ay)({state:p,label:"DRAFTS"}).info("Failed to create composer draft (max_num_drafts)"),t.S.reject(new Error("max_num_drafts"));const O=T.client_draft_id||(0,o.A)(),y={client_draft_id:O,is_from_composer:!0,...T};return v((0,i.i)({draft:y,reason:"createComposerDraft",sync:!1})),t.S.resolve(O)});u.meta={name:"createThunk",key:"createThunkcreateComposerDraft",description:"Create a new composer draft"};const E=u},2712287965:(B,A,e)=>{"use strict";e.d(A,{m:()=>E});var t=e(9113979368),s=e(4894634110),o=e(1985486637),n=e(2691514942),c=e(6996248869),l=e(9635544622),i=e(6497449120),a=e(9698310012),r=e(9844570768),d=e(1086139347),m=e(8187244214),f=e(579422651);const u=(0,s.Ay)("Creates a synced draft",function(g,T){let{draftId:p,reason:O,handleExistingAttachedDraft:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!p)return o.S.reject(new Error("Cannot sync draft creation due to a missing draft id"));const{error:C,info:I}=(0,n.Ay)({getState:T,label:"DRAFTS"}),M=(0,f.YI)(T(),p);return M?(0,r.sc)(T())?(I(`Syncing a new draft - ${p}`),(0,l.VE)(p),g((0,a.c)({draft:M,reason:O})).then(_=>{if(I(`New draft synced - ${p}`),!(_!=null&&_.draft)){C(`No draft received from the drafts.create response ${p}`);return}const P=(0,f.YI)(T(),p);if((0,t.A)(P)){I(`Draft no longer exists locally, skipping post API updates - ${p}`);return}const b=parseFloat(_.draft.last_updated_ts);g((0,m.nz)({client_draft_id:p,id:_.draft.id,last_updated_ts:b}))}).catch(_=>{(_==null?void 0:_.name)==="attached_draft_exists"&&y?y(p,M):C(`The drafts.create call failed - ${p}`,_)}).finally(()=>{(0,l.jb)(p)})):(I(`Deferring create draft API while offline (id: ${p})`),g((0,d.iZ)({draftClientId:p})),o.S.resolve()):(I(`No need to sync changes for a draft that no longer exists locally - ${p}`),o.S.resolve())});u.meta={name:"createThunk",key:"createThunksyncDraftCreate",description:"Creates a synced draft"};const E=(0,s.Ay)("Creates a draft locally and via API",function(g,T){let{draft:p,reason:O,syncImmediately:y=!1,handleExistingAttachedDraft:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,t.A)(p))return;const{error:I}=(0,n.Ay)({getState:T,label:"DRAFTS"}),M=(0,i.ue)(p);if(!M){I("Draft does not have an ID - an ID is required to create a draft");return}const _=h(()=>{const P={draftId:M,reason:O};C&&(P.handleExistingAttachedDraft=C),g(u(P))},"sync");y?_():(0,c.I8)({draftId:M,sync:_})});E.meta={name:"createThunk",key:"createThunkcreateDraft",description:"Creates a draft locally and via API"};const v={syncDraftCreate:u}},7382618640:(B,A,e)=>{"use strict";e.d(A,{i:()=>C});var t=e(9113979368),s=e(4894634110),o=e(2691514942),n=e(8187244214),c=e(579422651),l=e(2712287965),i=e(5591713608),a=e(8086952004),r=e(166097325),d=e(1236500105),m=e(8978332228),f=e(4361310107),u=e(794667355),E=e(6497449120),v=e(9984659043);const g=(0,s.Ay)("Recover from attached_draft_exists error",(I,M,_)=>{let{draft:P,draftId:b,syncImmediately:S,reason:N}=_;if((0,t.A)(P))return;const{error:L,info:D}=(0,o.Ay)({getState:M,label:"DRAFTS"});D(`The drafts.create call failed with attached_draft_exists - ${b} - attempting to recover by moving existing draft`),I((0,f.U)({reason:"attached_draft_exists:recovery",limit:100,isActive:!0})).then(k=>{const x=(k==null?void 0:k.drafts)||[],R=(0,a.A)(x,U=>{const F=(0,E.GP)(U);return F?(0,r.A)(F,(0,E.GP)(P)):!1});if(R){I((0,m.$)({draftId:(0,E.iS)(R),clientLastUpdatedTs:Date.now().toString(),reason:"attached_draft_exists:recovery"})).then(()=>{I((0,l.m)({draft:P,reason:N,syncImmediately:S}))});const{threadTs:U}=(0,E.GP)(R)||{};U||I((0,u.a)({blocks:JSON.stringify((0,E.lq)(R)),clientMsgId:(0,d.A)(),destinations:(0,E.l7)(R),fileIds:JSON.stringify((0,v.A)(R)||[]),isFromComposer:!0,attachments:JSON.stringify((0,E.aY)(R)),reason:"attached_draft_exists:recovery"}))}else L(`The drafts.create call failed due to attached_draft_exists and the existing draft could not be found - ${b}`)})});g.meta={name:"createThunk",key:"createThunkhandleExistingAttachedDraft",description:"Recover from attached_draft_exists error"};const T=g;var p=e(6245071961),O=e(9041802187),y=e(8151647750);const C=(0,s.Ay)("Stores and syncs draft changes",(I,M,_)=>{let{draft:P,reason:b,sync:S=!0,syncImmediately:N=!1,skipEqualityCheck:L=!1}=_;const D=M(),k=(0,E.ue)(P),x=(0,p.BH)(D)&&(0,p.bc)(D,{draftId:k}),R=(0,y.e)(D)&&(0,O.ck)(D,{draftId:k});if((0,t.A)(P)&&!x&&!R)return;const{error:U,info:F}=(0,o.Ay)({getState:M,label:"DRAFTS"});if(!k){U("Draft does not have an id - an id is required to create or update a draft");return}let W=(0,c.YI)(M(),k);if(!W&&(0,E.sC)(P)){const K=(0,E.EF)(P);K&&(W=(0,c.V4)(M(),K))}const w={...W,...P};if(!(!L&&(0,E.CV)(w,W))&&(F(`Storing draft changes locally - ${k}`),I((0,n.nz)({...w,last_updated:Date.now(),skipEqualityCheck:L})),S)){const K=(0,c.YI)(M(),k),j=(0,E.iS)(K);I(j?(0,i.j)({draft:K,reason:b,syncImmediately:N}):(0,l.m)({draft:K,reason:b,syncImmediately:N,handleExistingAttachedDraft:(Q,J)=>I(T({draftId:Q,draft:J,syncImmediately:N,reason:b}))}))}});C.meta={name:"createThunk",key:"createThunksetDraft",description:"Stores and syncs draft changes"}},5591713608:(B,A,e)=>{"use strict";e.d(A,{j:()=>E});var t=e(9113979368),s=e(4894634110),o=e(1985486637),n=e(2691514942),c=e(8187244214),l=e(579422651),i=e(6996248869),a=e(9635544622),r=e(6497449120),d=e(9844570768),m=e(1086139347),f=e(6868102245);const u=(0,s.Ay)("Syncs draft updates",function(g,T){let{draftId:p,reason:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!p)return o.S.reject(void 0);const{error:y,info:C}=(0,n.Ay)({getState:T,label:"DRAFTS"}),I=(0,l.YI)(T(),p);if(!I||(0,t.A)(I))return C(`No need to sync changes for a draft that no longer exists locally - ${p}`),o.S.resolve();if(!(0,d.sc)(T()))return C(`Deferring update draft API while offline (id: ${p})`),g((0,m.NJ)({draftClientId:p})),o.S.resolve();const M=(0,r.iS)(I),_=`client id: ${p} || server id: ${M}`;return C(`Syncing draft updates - ${_}`),(0,a.VE)(M),g((0,f.J)({draft:I,reason:O})).then(P=>{if(C(`Draft updates synced - ${_}`),!P.draft){y(`No draft received from the drafts.update response - ${_}`);return}const b=(0,l.YI)(T(),p);if((0,t.A)(b)){C(`Draft no longer exists locally, skipping post API updates - ${_}`);return}g((0,c.nz)({client_draft_id:p,last_updated_ts:parseFloat(P.draft.last_updated_ts)}))}).catch(P=>{y(`Draft updates failed to sync - ${_}`,P)}).finally(()=>{(0,a.jb)(M)})});u.meta={name:"createThunk",key:"createThunksyncDraftUpdates",description:"Syncs draft updates"};const E=(0,s.Ay)("Updates a draft locally and via API",function(g,T){let{draft:p,reason:O,syncImmediately:y=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,t.A)(p))return;const{error:C}=(0,n.Ay)({getState:T,label:"DRAFTS"}),I=(0,r.ue)(p);if(!I){C("Draft does not have an ID - an ID is required to update a draft");return}const M=h(()=>g(u({draftId:I,reason:O})),"sync");y?M():(0,i.I8)({draftId:I,sync:M})});E.meta={name:"createThunk",key:"createThunkupdateDraft",description:"Updates a draft locally and via API"};const v={syncDraftUpdates:u}},9635544622:(B,A,e)=>{"use strict";e.d(A,{VE:()=>i,eh:()=>l,jb:()=>a});var t=e(7174777686),s=e(8403493408),o=e(2691514942);const n="DRAFTS",c=[],l=h(d=>(0,t.A)(c,d),"shouldIgnoreDraftUpdateEvent");function i(d){if(!d||(0,t.A)(c,d))return;const{debug:m}=(0,o.Wo)({label:n});m(`Adding an id to the draft update event manager: ${d}`),c.push(d)}h(i,"addServerIdToUpdateEventManager");function a(d){if(!d||!(0,t.A)(c,d))return;const{debug:m}=(0,o.Wo)({label:n});m(`Removing an id from the draft update event manager: ${d}`),(0,s.A)(c,d)}h(a,"removeServerIdFromUpdateEventManager");const r={getTrackedIds:()=>c}},7576316740:(B,A,e)=>{"use strict";e.d(A,{$x:()=>c,H9:()=>s,at:()=>i,j_:()=>r,jy:()=>a,o2:()=>n,qw:()=>o,su:()=>l});var t=e(4414425352);const s=(0,t.Ay)("Mark emoji collections as fetch (or not fetched");s.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const o=(0,t.Ay)("Set and replace emoji collections");o.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const n=(0,t.Ay)("Signals that an emoji collection has been installed");n.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const c=(0,t.Ay)("Signals that an emoji collection has been uninstalled");c.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const l=(0,t.Ay)("Signals that badges should be added post-install");l.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const i=(0,t.Ay)("Signals that the message input badge should be removed");i.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const a=(0,t.Ay)("Signals that the message tab badge should be removed from the emoji picker");a.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const r=(0,t.Ay)("Increments emoji click count");r.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},461348709:(B,A,e)=>{"use strict";e.d(A,{Cs:()=>f,Ur:()=>g,_J:()=>T,_o:()=>E,fl:()=>p,nQ:()=>u,pG:()=>v,uI:()=>m});var t=e(2101927269),s=e(9113979368),o=e(2141441167),n=e(2048121586),c=e(6696292586),l=e(7919365230),i=e(3385422400),a=e(293248343);const r=60*60*24*14,d=(0,l.Ay)((O,y)=>O&&O.emojiCollections&&O.emojiCollections.collections&&O.emojiCollections.collections[y]);d.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(O,y)=>O&&O.emojiCollections&&O.emojiCollections.collections&&O.emojiCollections.collections[y]};const m=(0,l.Ay)(O=>O&&O.emojiCollections&&O.emojiCollections.collections);m.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:O=>O&&O.emojiCollections&&O.emojiCollections.collections};const f=(0,i.Mz)(m,O=>(0,t.A)(O,y=>y.installed)),u=(0,l.Ay)(O=>O&&O.emojiCollections&&O.emojiCollections.hasFetched);u.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:O=>O&&O.emojiCollections&&O.emojiCollections.hasFetched};const E=(0,l.Ay)(O=>O&&O.emojiCollections&&O.emojiCollections.inputBadge);E.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:O=>O&&O.emojiCollections&&O.emojiCollections.inputBadge};const v=(0,l.Ay)(O=>O&&O.emojiCollections&&O.emojiCollections.tabBadge);v.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:O=>O&&O.emojiCollections&&O.emojiCollections.tabBadge};const g=(0,l.Ay)(O=>O&&O.emojiCollections&&O.emojiCollections.emojiClickCount);g.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:O=>O&&O.emojiCollections&&O.emojiCollections.emojiClickCount};const T=(0,l.Ay)(O=>{const y=m(O);if((0,s.A)(y))return null;const C=(0,o.A)(y);return(0,n.A)(C,I=>I.date_create)});T.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:O=>{const y=m(O);if((0,s.A)(y))return null;const C=(0,o.A)(y);return(0,n.A)(C,I=>I.date_create)}};const p=(0,l.Ay)(O=>{const y=(0,a.ty)(O,"emoji_packs_most_recent_available_time");if(!(0,c.A)(y))return!1;const C=y+r;return Date.now()/1e3<C});p.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:O=>{const y=(0,a.ty)(O,"emoji_packs_most_recent_available_time");if(!(0,c.A)(y))return!1;const C=y+r;return Date.now()/1e3<C}}},8103802975:(B,A,e)=>{"use strict";e.d(A,{H:()=>u});var t=e(7156798807),s=e(4894634110),o=e(4642723549),n=e(1492910739),c=e(461348709),l=e(7576316740),i=e(2048121586),a=e(293248343),r=e(7713718206),d=e(2577163594);const m=(0,s.Ay)("handle updating prefs if new emoji pack has become available",(E,v,g)=>{let{collections:T}=g;const p=v(),O=(0,r.h3)(p),y=(0,a.ty)(p,"emoji_packs_most_recent_available_time")||0,C=(0,i.A)(T,P=>P.date_create),{date_create:I,installed:M}=C||{};(O||M)&&I>y&&E((0,d.Hj)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});m.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};const f=m,u=(0,s.Ay)("Process and add emoji collections",(E,v,g)=>{let{reason:T}=g;const p=v();(0,c.nQ)(p)||(E((0,l.H9)({hasFetched:!0})),E((0,o.KO)({reason:T})).then(O=>{const y=O.installed||[],C=O.available||[],I=(0,t.A)(y,"id"),M=C.map(_=>({..._,installed:!!I[_.id],localEmoji:I[_.id]?I[_.id].emoji:_.emoji}));E(f({collections:M})),(0,n.Cu)()?E((0,l.qw)({collections:M.filter(_=>!["1044122771874","11"].includes(_.id))})):E((0,l.qw)({collections:M}))}).catch(()=>{E((0,l.H9)({hasFetched:!1}))}))});u.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"}},3367202917:(B,A,e)=>{"use strict";e.d(A,{D:()=>n});var t=e(7874250141),s=e(4894634110),o=e(3542943043);const n=(0,s.Ay)("Checks and returns whether an emoji exists for a given team ID",(c,l,i)=>{const a=l(),r=(0,t.ZT)(a);return(0,o.ux)(a,{text:i,teamId:r})});n.meta={name:"createThunk",key:"createThunkdoesEmojiExist",description:"Checks and returns whether an emoji exists for a given team ID"}},4681558687:(B,A,e)=>{"use strict";e.d(A,{R:()=>s,t:()=>n});var t=e(7919365230);const s=(0,t.Ay)((l,i)=>{var a;return!!(!((a=l.externalTeamIds)===null||a===void 0)&&a[i])});s.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(l,i)=>{var a;return!!(!((a=l.externalTeamIds)===null||a===void 0)&&a[i])}};var o;const n=(0,t.Ay)(l=>!!Object.keys((o=l.externalTeamIds)!==null&&o!==void 0?o:{}).length);var c;n.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:l=>!!Object.keys((c=l.externalTeamIds)!==null&&c!==void 0?c:{}).length}},7698285476:(B,A,e)=>{"use strict";e.d(A,{Oq:()=>o,ZB:()=>s,eh:()=>c});var t=e(7919365230);const s=(0,t.Ay)((l,i,a)=>{var r,d,m;return l==null||(r=l.filePermissions)===null||r===void 0||(d=r.draftPermissions)===null||d===void 0||(m=d[i])===null||m===void 0?void 0:m[a]});s.meta={name:"createSelector",key:"createSelectorgetSelectedFilePermission",description:(l,i,a)=>{var r,d,m;return l==null||(r=l.filePermissions)===null||r===void 0||(d=r.draftPermissions)===null||d===void 0||(m=d[i])===null||m===void 0?void 0:m[a]}};const o=(0,t.Ay)((l,i)=>{var a,r;return l==null||(a=l.filePermissions)===null||a===void 0||(r=a.draftPermissions)===null||r===void 0?void 0:r[i]});o.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissionsByDraftId",description:(l,i)=>{var a,r;return l==null||(a=l.filePermissions)===null||a===void 0||(r=a.draftPermissions)===null||r===void 0?void 0:r[i]}};const n=(0,t.Ay)(l=>l==null?void 0:l.filePermissions);n.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissions",description:l=>l==null?void 0:l.filePermissions};const c=(0,t.Ay)((l,i)=>{var a;return(l==null||(a=l.filePermissions)===null||a===void 0?void 0:a.messageTs)===i});c.meta={name:"createSelector",key:"createSelectorgetMessageTsForPermissionRequest",description:(l,i)=>{var a;return(l==null||(a=l.filePermissions)===null||a===void 0?void 0:a.messageTs)===i}}},1411860453:(B,A,e)=>{"use strict";e.d(A,{j:()=>o});var t=e(4894634110),s=e(7698285476);const o=(0,t.Ay)("Get file permissions from draft file-permissions-store for message sending APIs",function(n,c){let{draftId:l}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=c();return Object.values((0,s.Oq)(i,l)||{}).map(d=>({grant:d.grant,file_id:d.fileId}))});o.meta={name:"createThunk",key:"createThunkgetFilePermissionsForMessageSend",description:"Get file permissions from draft file-permissions-store for message sending APIs"}},9696938475:(B,A,e)=>{"use strict";e.d(A,{f:()=>o});var t=e(4894634110),s=e(1411860453);const o=(0,t.Ay)("Creates JSON string of file permissions data submit to draft syncing endpoints",function(n,c){let{draftId:l}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=n((0,s.j)({draftId:l}));if(!i)return;let a;try{i.length&&(a=JSON.stringify(i))}catch{a=void 0}return a});o.meta={name:"createThunk",key:"createThunkgetFormattedFilePermissions",description:"Creates JSON string of file permissions data submit to draft syncing endpoints"}},7747492238:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(8086952004),s=e(3571452446),o=e(6217320234),n=e(6626377467);function c(l,i){if(!l||!i)return i;const a=i.comments||[],r=(0,t.A)(a,g=>g.id===l.id),d=(0,s.A)(r,["is_starred","_rxn_key"]),m={...r,...l,...d},f=(0,o.A)((0,n.A)([m,...a],"id"),"timestamp"),E=i.initial_comment&&l.id===i.initial_comment.id?m:i.initial_comment,v={...i,comments:f};return E&&(v.initial_comment=E),v}h(c,"addCommentToFile")},5823512943:(B,A,e)=>{"use strict";e.d(A,{n:()=>n});var t=e(4894634110),s=e(9588678965);const o=(0,s.Mz)(c=>c.fullscreenHistory);o.meta={name:"createSelector",key:"createSelectorgetFullscreenHistory",description:c=>c.fullscreenHistory};const n=(0,t.Ay)("Find view container for a specific window history entry",(c,l,i)=>{let{id:a}=i;return o(l())[a]});n.meta={name:"createThunk",key:"createThunkgetFullscreenContainerByHistoryId",description:"Find view container for a specific window history entry"}},5071084772:(B,A,e)=>{"use strict";e.d(A,{G:()=>c});var t=e(7523104273),s=e(2727060743),o=e(7418708689);const n={enabled:!1,containers:{}},c=(0,t.Ay)({},n,{storeKey:"fullscreen",persistenceEnabled:!1}).on(s.K$,l=>({...l,enabled:!0})).on(s.sM,l=>({...l,enabled:!1,containers:{}})).on(s.BR,(l,i)=>{let{container:a,windowId:r}=i;const d=r===o.N2?"main":r;if(l.containers[d]===a)return l;if(a)return{...l,containers:{...l.containers,[d]:a}};const m={...l};return delete m.containers[d],m})},4859725535:(B,A,e)=>{"use strict";e.d(A,{r:()=>t,u:()=>s});const t={openCount:0,unreadCount:0},s={issues:{},stats:t,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},3778507151:(B,A,e)=>{"use strict";e.d(A,{fE:()=>W,ZL:()=>j,Fb:()=>D,wB:()=>U,Cb:()=>x,sv:()=>R,wg:()=>F,tL:()=>w,aN:()=>Q,Mu:()=>K,Kb:()=>k,Eq:()=>J,PN:()=>z});var t=e(7919365230),s=e(7874250141),o=e(3398586081),n=e(2141441167),c=e(2187136646),l=e(7188858884),i=e(3860789973),a=e(4894634110),r=e(9573689842),d=e(7155352657),m=e(8309078519);const f=(0,a.Ay)("Fetch product release cards into the store",(ee,ne,Z)=>{let{locale:te}=Z;return ee((0,r.l)({count:3,type:"product_release_card",locale:te,reason:"client/fetch_published_product_release_cards"})).then(he=>{let{cards:ue}=he;ee((0,d.M0)((0,m.t)(ue)))})});f.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var u=e(3530559799);const E=(0,a.Ay)("Fetch helpdesk articles into the store",(ee,ne,Z)=>{let{locale:te,reason:he}=Z;return ee((0,u.a)({locale:te,reason:he})).then(ue=>{let{articles:de}=ue;ee((0,d.NX)((0,m.t)(de))),ee((0,d.a4)(te))})});E.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var v=e(2738283699);const g=(0,a.Ay)("Fetch help sections into the store",(ee,ne,Z)=>{let{categoryId:te,locale:he,reason:ue}=Z;return ee((0,v.h)({categoryId:te,locale:he,reason:ue})).then(de=>{let{sections:re}=de;return ee((0,d.CK)((0,m.t)(re)))})});g.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var T=e(1884870561);const p=(0,a.Ay)("Fetch help categories into the store",(ee,ne,Z)=>{let{locale:te,reason:he}=Z;return ee((0,T.G)({locale:te,reason:he})).then(ue=>{let{categories:de}=ue;ee((0,d.KO)((0,m.t)(de))),ee((0,d.WL)(te))})});p.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const O=(0,o.A)(()=>new c.Ay({storeKey:"help",fetch:ee=>(0,l.Qw)(ee,(0,i.w)()),isEnabled:()=>!0})),y=(0,o.A)(ee=>new c.Ay({storeKey:"help",fetch:ne=>(0,l.Qw)(ne,f({locale:ee})),isEnabled:()=>!0})),C=(0,o.A)((ee,ne)=>new c.Ay({storeKey:"help",fetch:Z=>(0,l.Qw)(Z,E({locale:ee,reason:ne})),isEnabled:()=>!0})),I=(0,o.A)((ee,ne,Z)=>new c.Ay({storeKey:"help",fetch:te=>(0,l.Qw)(te,g({categoryId:ee,locale:ne,reason:Z})),isEnabled:()=>!0}),(ee,ne)=>(0,n.A)([ee,ne]).join("_")),M=(0,o.A)((ee,ne)=>new c.Ay({storeKey:"help",fetch:Z=>(0,l.Qw)(Z,p({locale:ee,reason:ne})),isEnabled:()=>!0}));var _=e(4859725535),P=e(7831811348),b=e(2947229296);const S=new b.Ay("help"),N="",L=(0,t.Ay)(ee=>ee&&ee.help||_.u);L.meta={name:"createSelector",key:"createSelectorgetHelpState",description:ee=>ee&&ee.help||_.u};const D=(0,t.Ay)((ee,ne)=>{const Z=(0,s.ZT)(ee),te=(0,P.db)();return L(ee).zdLocale!==te&&C(te,ne).markObjectsAsStale(Z,[te]),C(te,ne).maybeRefetch(Z,te),L(ee).helpSearchArticles||[]});D.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(ee,ne)=>{const Z=(0,s.ZT)(ee),te=(0,P.db)();return L(ee).zdLocale!==te&&C(te,ne).markObjectsAsStale(Z,[te]),C(te,ne).maybeRefetch(Z,te),L(ee).helpSearchArticles||[]}};const k=(0,t.Ay)(ee=>{const ne=(0,s.ZT)(ee),Z=(0,P.Yp)();return L(ee).locale!==Z&&y(Z).markObjectsAsStale(ne,[Z]),y(Z).maybeRefetch(ne,Z),L(ee).productReleaseCards||[]});k.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:ee=>{const ne=(0,s.ZT)(ee),Z=(0,P.Yp)();return L(ee).locale!==Z&&y(Z).markObjectsAsStale(ne,[Z]),y(Z).maybeRefetch(ne,Z),L(ee).productReleaseCards||[]}};const x=(0,t.Ay)(ee=>L(ee).helpNavigation||_.u.helpNavigation);x.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:ee=>L(ee).helpNavigation||_.u.helpNavigation};const R=(0,t.Ay)((ee,ne,Z)=>{var te,he;const ue=(0,s.ZT)(ee),de=(0,P.Yp)(),re=L(ee).locale,V=Z??((te=L(ee).helpNavigation)===null||te===void 0?void 0:te.categoryId),H=(he=L(ee).helpSections[0])===null||he===void 0?void 0:he.categoryId;return V?(H&&V!==H?(I(V,de,ne).markObjectsAsStale(ue,[V.toString()]),I(V,de,ne).maybeRefetch(ue,V.toString())):re!==de&&I(V,de,ne).markObjectsAsStale(ue,[de]),I(V,de,ne).maybeRefetch(ue,de),L(ee).helpSections||[]):L(ee).helpSections||[]});R.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(ee,ne,Z)=>{var te,he;const ue=(0,s.ZT)(ee),de=(0,P.Yp)(),re=L(ee).locale,V=Z??((te=L(ee).helpNavigation)===null||te===void 0?void 0:te.categoryId),H=(he=L(ee).helpSections[0])===null||he===void 0?void 0:he.categoryId;return V?(H&&V!==H?(I(V,de,ne).markObjectsAsStale(ue,[V.toString()]),I(V,de,ne).maybeRefetch(ue,V.toString())):re!==de&&I(V,de,ne).markObjectsAsStale(ue,[de]),I(V,de,ne).maybeRefetch(ue,de),L(ee).helpSections||[]):L(ee).helpSections||[]}};const U=(0,t.Ay)((ee,ne)=>{const Z=(0,s.ZT)(ee),te=(0,P.Yp)();return L(ee).locale!==te&&M(te,ne).markObjectsAsStale(Z,[te]),M(te,ne).maybeRefetch(Z,te),L(ee).helpCategories||[]});U.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(ee,ne)=>{const Z=(0,s.ZT)(ee),te=(0,P.Yp)();return L(ee).locale!==te&&M(te,ne).markObjectsAsStale(Z,[te]),M(te,ne).maybeRefetch(Z,te),L(ee).helpCategories||[]}};const F=(0,t.Ay)(ee=>L(ee).helpTour||_.u.helpTour);F.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:ee=>L(ee).helpTour||_.u.helpTour};const W=(0,t.Ay)(ee=>L(ee).anchorId||_.u.anchorId);W.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:ee=>L(ee).anchorId||_.u.anchorId};const w=(0,t.Ay)(ee=>L(ee).isArticleLoaded||_.u.isArticleLoaded);w.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:ee=>L(ee).isArticleLoaded||_.u.isArticleLoaded};const K=(0,t.Ay)(ee=>{var ne,Z;if(!((ne=ee.desktop)===null||ne===void 0||(Z=ne.app)===null||Z===void 0)&&Z.updateInfo){var te;const{releaseName:he}=ee.desktop.app.updateInfo;if(!((te=ee.desktop)===null||te===void 0)&&te.environment){const{appVersion:ue}=ee.desktop.environment;if(he.endsWith(ue))return null}return he}return null});K.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:ee=>{var ne,Z;if(!((ne=ee.desktop)===null||ne===void 0||(Z=ne.app)===null||Z===void 0)&&Z.updateInfo){var te;const{releaseName:he}=ee.desktop.app.updateInfo;if(!((te=ee.desktop)===null||te===void 0)&&te.environment){const{appVersion:ue}=ee.desktop.environment;if(he.endsWith(ue))return null}return he}return null}};const j=(0,t.Ay)(ee=>{if(ee.desktop&&ee.desktop.app&&ee.desktop.app.updateInfo){const{releaseName:ne,releaseNotes:Z,releaseDate:te}=ee.desktop.app.updateInfo;return{timestamp:te?te.getTime():Date.now(),title:ne,description:S.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:Z,url_title:S.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});j.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:ee=>{if(ee.desktop&&ee.desktop.app&&ee.desktop.app.updateInfo){const{releaseName:ne,releaseNotes:Z,releaseDate:te}=ee.desktop.app.updateInfo;return{timestamp:te?te.getTime():Date.now(),title:ne,description:S.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:Z,url_title:S.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const Q=(0,t.Ay)(ee=>{const ne=j(ee)||null;return ne?ne.timestamp:-1});Q.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:ee=>{const ne=j(ee)||null;return ne?ne.timestamp:-1}};const J=(0,t.Ay)(ee=>{const ne=(0,s.ZT)(ee);return O().maybeRefetch(ne,N),L(ee).stats||_.r});J.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:ee=>{const ne=(0,s.ZT)(ee);return O().maybeRefetch(ne,N),L(ee).stats||_.r}};const z=(0,t.Ay)(ee=>J(ee).unreadCount);z.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:ee=>J(ee).unreadCount};const ie=(0,t.Ay)(ee=>L(ee).isHelpTipHistoryTourActive||_.u.isHelpTipHistoryTourActive);ie.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:ee=>L(ee).isHelpTipHistoryTourActive||_.u.isHelpTipHistoryTourActive}},3860789973:(B,A,e)=>{"use strict";e.d(A,{w:()=>n});var t=e(4894634110),s=e(4019387120),o=e(7155352657);const n=(0,t.Ay)("Fetch and upsert ticket stats into the store",c=>c((0,s.I)({reason:"fetchAndUpsertTicketStats"})).then(l=>{const i={unreadCount:l.unread_count||0,openCount:l.open_count||0};return c((0,o.SX)(i)),i}));n.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},2493542956:(B,A,e)=>{"use strict";e.d(A,{P:()=>c,S:()=>l});var t=e(3398586081),s=e(2691514942),o=e(321010523);const n=h(i=>{try{return JSON.stringify(i)}catch(a){return(0,s.Wo)().error("stringify-error-constructing-link-trigger-context-from-message",a),""}},"stringifyObject"),c=(0,t.A)(i=>i!=null&&i.channelId?{location:"message",channelId:i.channelId,messageTs:(i==null?void 0:i.ts)||""}:{location:"markdown_link"},n),l=(0,t.A)((i,a)=>({eventId:o.EventId.HERMES_LINK_TRIGGER,uiComponentName:o.UiComponentName.LINK_TRIGGER_URL,entryPoint:i?"message":"other",workflowTriggerId:a.triggerId,channelId:i==null?void 0:i.channelId,onClick:{enableClogAction:!0}}),n)},2893389814:(B,A,e)=>{"use strict";e.d(A,{GF:()=>r,Tk:()=>d,UI:()=>g,X_:()=>m,iN:()=>v,pm:()=>u,t6:()=>T,vc:()=>f,xA:()=>E});var t=e(3385422400),s=e(9323019934),o=e(3701660703),n=e(3730178938),c=e(4743850398);const l=h((p,O)=>{var y;return O?(y=(0,o.Lp)(p,O))===null||y===void 0?void 0:y.localUpdated:null},"getFileLocalUpdated"),i=h(p=>(0,c.lt)(p),"getFileId"),a=h(p=>(0,t.Mz)([O=>(0,c.JC)(O),O=>{const y=i(O);return l(O,y)},O=>{const y=i(O);return y?(0,o.Lp)(O,y):null}],(O,y,C)=>C!=null&&C.id&&(O===n.cM.CanvasFile||O===n.cM.QuipFile)?p(C):null),"selectFromUpdatedFile"),r=a(p=>p),d=a(p=>p==null?void 0:p.id),m=a(p=>p?(0,s.sJ)(p):!1),f=a(p=>p?(0,s.uO)(p):!1),u=a(p=>p?(0,s.WP)(p):null),E=a(p=>p==null?void 0:p.user),v=a(p=>!!p),g=a(p=>p?(0,s.l7)(p):!1),T=a(p=>p?(0,s.wL)(p):!1)},6883628922:(B,A,e)=>{"use strict";e.d(A,{x:()=>p});var t=e(8628145494),s=e(4894634110),o=e(7281000332),n=e(1874256115),c=e(3015119762),l=e(4743850398),i=e(3730178938),a=e(5888893001),r=e(5233827933),d=e(3785371303),m=e(1236500105),f=e(4357385957),u=e(321010523),E=e(7397682160),v=e(739275263),g=e(8671732147);const T=h((y,C,I,M)=>{const _=(0,o.Ry)(),P=(0,c.E9)(_),b=(0,f.$t)(C,{huddleId:P}),S=(0,f.kn)(_),N=(0,f.UE)(_),L=(0,r.Ec)(C,{huddleId:P});let D,k,x=null,R=null,U=null;if(I===i.cM.None)D=d.Hi.FOCUS_CLOSE,k=(0,r.U7)(C,{key:d.Hi.FOCUS_OPEN});else{var F;switch(D=d.Hi.FOCUS_OPEN,k=(0,m.A)(),U=(M==null||(F=M.item)===null||F===void 0?void 0:F.id)||null,I){case i.cM.Screenshare:x="focus_screenshare",R="screenshare";break;default:x="focus_file",R="file"}y((0,a.Mn)({key:d.Hi.FOCUS_OPEN,value:k}))}(0,E.e)({state:C}).track(u.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:L?L.toString():null,ui_properties:{element_name:D},action:u.UiAction.IMPRESSION},calls:N},...b,...S,interaction_id:k,canvas_dimension_marker:x,type:R,item_file_id:U})},"clogCanvasEvent"),p=(0,s.Ay)("Sets a user content view which represents what the user is focused on in the canvas",(y,C,I)=>{if(!I||(0,t.A)(I.contentViewType))return;const M=C(),_=I.contentViewType,P=(0,r.vu)(M),b=!1;if(_===i.cM.Screenshare){const N=(0,l.JC)(M),L=O(M);N===i.cM.None&&!(P||L)&&y((0,a.fI)({isThreadOpen:!1})),y((0,a.Zx)({userId:""}))}y((0,a.YC)({isFullscreen:b})),y((0,a.s7)({isNotesOpen:_===i.cM.QuipFile}));const S=I.contentViewType===i.cM.None||!I.contentViewConfig?{}:I.contentViewConfig;y((0,l.sK)({id:I.peerId,contentViewType:_,contentViewConfig:S})),(0,o.dispatchForClientStore)((0,n.xq)({contentViewType:_,contentViewConfig:S})),T(y,M,_,S)});p.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function O(y){const C=(0,o.Ry)(),I=(0,c.E9)(C),M=(0,c.hc)(C),_=(0,r.fG)(y,{huddleId:I});if(!(_!=null&&_.ts)||!M)return!1;const P=(0,v.zC)({viewContext:g.Y.HUDDLE_THREADS,channelId:M,threadTs:_.ts});return(P==null?void 0:P.hasFocus())||!1}h(O,"doesThreadInputHaveFocus")},8338674836:(B,A,e)=>{"use strict";e.d(A,{Lm:()=>n,T3:()=>o,U$:()=>c,WO:()=>s,dD:()=>i,h2:()=>l,jL:()=>a});var t=e(4414425352);const s=(0,t.Ay)("Enable huddle event log");s.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const o=(0,t.Ay)("Disable huddle event log");o.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const n=(0,t.Ay)("Set loading state for huddle event log");n.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const c=(0,t.Ay)("Add non-transcription event");c.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const l=(0,t.Ay)("Update with latest transcription events");l.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const i=(0,t.Ay)("Set enabled state for huddle captions side-by-side view");i.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const a=(0,t.Ay)("Set enabled state for huddle closed captions view");a.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},4271917222:(B,A,e)=>{"use strict";e.d(A,{u:()=>s,y:()=>t});const t=2e3,s=2e3},5295531317:(B,A,e)=>{"use strict";e.d(A,{Cb:()=>m,M3:()=>a,TP:()=>l,VN:()=>r,gL:()=>i,iv:()=>f});var t=e(3385422400),s=e(7919365230),o=e(4271917222),n=e(8725269550);const c=(0,s.Ay)(u=>u.huddleEvents);c.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:u=>u.huddleEvents};const l=(0,s.Ay)(u=>c(u).enabled);l.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:u=>c(u).enabled};const i=(0,s.Ay)(u=>c(u).isLoading);i.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:u=>c(u).isLoading};const a=(0,s.Ay)(u=>u.huddleEvents.isSideBySideEnabled);a.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:u=>u.huddleEvents.isSideBySideEnabled};const r=(0,s.Ay)(u=>u.huddleEvents.isClosedCaptionsEnabled);r.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:u=>u.huddleEvents.isClosedCaptionsEnabled};const d=(0,s.Ay)(u=>u.huddleEvents.isClosedCaptionsEnabled);d.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:u=>u.huddleEvents.isClosedCaptionsEnabled};const m=(0,t.Mz)(u=>c(u).events,u=>{const E=[];let v,g=[];const T=h(()=>{v&&E.push({...v,content:g.join(" ")})},"maybeCommit");return u.forEach(p=>{v&&p.type===n.v.TRANSCRIBE&&v.memberId===p.memberId&&p.timestampMs-v.endTimeMs<o.y?(g.push(p.content),v.endTimeMs=p.endTimeMs):(T(),p.type===n.v.TRANSCRIBE?(v={type:n.v.TRANSCRIBE,resultId:"",memberId:p.memberId,content:"",timestampMs:p.timestampMs,endTimeMs:p.endTimeMs},g=[p.content]):(v=null,g=[],E.push(p)))}),T(),E}),f=(0,t.Mz)(u=>m(u),u=>u.filter(E=>E.type===n.v.TRANSCRIBE||E.type===n.v.START_TRANSCRIPTION).slice(-5))},2090189789:(B,A,e)=>{"use strict";e.d(A,{A:()=>T});var t=e(4894634110),s=e(1752680116),o=e(1985486637),n=e(3403872308),c=e(7318064140),l=e(8338674836),i=e(5295531317),a=e(9857417027),r=e(7281000332),d=e(2691514942),m=e(3015119762),f=e(8725269550),u=e(8036425525),E=e(6441216756),v=e(6947306788);const g=(0,t.Ay)("Start transcription for current huddle",async(p,O)=>{if((0,i.TP)(O())||(0,i.gL)(O()))return o.S.resolve();const y=(0,r.Ry)(),C=(0,m.E9)(y);return C?(p((0,l.WO)()),p((0,l.Lm)(!0)),await(0,a.A)(),p((0,u.e)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),p((0,s.i)({reason:"start-event-log",callId:C})).catch(I=>{var M;if(((M=I.data)===null||M===void 0?void 0:M.error)==="permission_denied")return o.S.delay(5e3).then(()=>p((0,s.i)({reason:"start-event-log/retry",callId:C})));throw I}).catch(I=>{(0,d.Ay)({getState:O}).error(I),p((0,l.T3)())}).finally(()=>{p((0,l.Lm)(!1)),p((0,n.H)({focusKey:c.Ay.HUDDLE_CAPTIONS_TAB})),p((0,l.U$)({type:f.v.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:0}));const{huddleEventsTrace:I}=(0,E.A)().getAllTraceHandlers();I==null||I.update({name:v.p.TRANSCRIPT,type:v.G.START})})):o.S.reject(new Error("No active call ID for huddle"))});g.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"};const T=g},451657975:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(4894634110),s=e(3311224630),o=e(1985486637),n=e(8338674836),c=e(5295531317),l=e(7281000332),i=e(3015119762),a=e(6441216756),r=e(6947306788);const d=(0,t.Ay)("Stop transcription for current huddle",(f,u)=>{if(!(0,c.TP)(u())||(0,c.gL)(u()))return o.S.resolve();const E=(0,l.Ry)(),v=(0,i.E9)(E);return v?(f((0,n.T3)()),f((0,n.Lm)(!0)),f((0,s.W)({reason:"stop-event-log",callId:v})).finally(()=>{f((0,n.Lm)(!1));const{huddleEventsTrace:g}=(0,a.A)().getAllTraceHandlers();g==null||g.update({name:r.p.TRANSCRIPT,type:r.G.STOP})})):o.S.reject(new Error("No active call ID for huddle"))});d.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"};const m=d},8725269550:(B,A,e)=>{"use strict";e.d(A,{v:()=>t});var t;(function(s){s.JOIN="JOIN",s.LEAVE="LEAVE",s.SCREENSHARE_START="SCREENSHARE_START",s.SCREENSHARE_STOP="SCREENSHARE_STOP",s.TRANSCRIBE="TRANSCRIBE",s.SEND_REACTION="SEND_REACTION",s.START_TRANSCRIPTION="START_TRANSCRIPTION"})(t||(t={}))},1874256115:(B,A,e)=>{"use strict";e.d(A,{Ag:()=>w,B5:()=>fe,Bk:()=>N,Db:()=>H,Dj:()=>oe,Gx:()=>ne,HC:()=>_,HF:()=>M,Hg:()=>Ee,I9:()=>r,JM:()=>he,Jc:()=>v,Ko:()=>L,Lx:()=>re,M4:()=>m,OA:()=>V,QZ:()=>C,Rb:()=>S,Rh:()=>E,Rr:()=>I,Sd:()=>c,Sn:()=>O,TK:()=>Ae,VU:()=>o,WB:()=>k,WM:()=>F,WY:()=>de,YA:()=>y,Yi:()=>D,_H:()=>ie,_I:()=>l,_U:()=>j,_o:()=>ae,_u:()=>ue,aO:()=>U,bV:()=>Q,bk:()=>te,cx:()=>Z,f2:()=>R,fP:()=>p,hB:()=>g,kg:()=>ce,kn:()=>n,nI:()=>q,nU:()=>d,nw:()=>X,o9:()=>Y,og:()=>Ke,ol:()=>P,pl:()=>a,qW:()=>i,qr:()=>J,so:()=>f,t2:()=>le,u8:()=>T,wr:()=>$,xf:()=>u,xq:()=>K,yR:()=>b,yW:()=>Ge,yi:()=>ee});var t=e(4414425352),s=e(4894634110);const o=(0,t.Ay)("Set flag to indicate if Huddles is enabled.");o.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const n=(0,t.Ay)("Stores audio reference that will be passed to SDK");n.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const c=(0,t.Ay)("Start video shariing");c.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const l=(0,t.Ay)("Stop video shariing");l.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const i=(0,t.Ay)("Connect to Huddle media server");i.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const a=(0,t.Ay)("Leave the huddle and stop media transmission");a.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const r=(0,t.Ay)("Enable or disable local microphone");r.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const d=(0,t.Ay)("Send an emoji reaction");d.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const m=(0,t.Ay)("Send a sticky emoji reaction");m.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const f=(0,t.Ay)("Send a mute request");f.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const u=(0,t.Ay)("Insert new active huddle reference with teamId channelId, etc.");u.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const E=(0,t.Ay)("Upsert existing active huddle reference");E.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const v=(0,t.Ay)("Upsert existing active huddle channel");v.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const g=(0,t.Ay)("Set active huddle invite");g.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const T=(0,t.Ay)("Clear invite for given channel ID");T.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const p=(0,t.Ay)("Mark invite notifications as viewed by clearing them.");p.meta={name:"createAction",key:"createActionmarkInvitesSeenForTeam",description:"Mark invite notifications as viewed by clearing them."};const O=(0,s.Ay)("Mark invite notifications as viewed by clearing them after a delay",(nt,at,Ve)=>{let{delay:Se,teamId:Pe}=Ve;setTimeout(()=>{nt(p({teamId:Pe,markBeforeMs:Date.now()-Se}))},Se)});O.meta={name:"createThunk",key:"createThunkmarkInvitesReadOnDelay",description:"Mark invite notifications as viewed by clearing them after a delay"};const y=(0,t.Ay)("Start screen share for current user with given mediaSourceId");y.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const C=(0,t.Ay)("Stop screen share for current user");C.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const I=(0,t.Ay)("Notify peers of changes to isDrawEnabled");I.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const M=(0,t.Ay)("Enabled annotations for screen share host");M.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const _=(0,t.Ay)("Notify middleware that a new preferred device was selected");_.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const P=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");P.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const b=(0,t.Ay)("Notify middleware that noise suppression setting has changed");b.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const S=(0,t.Ay)("Notify middleware that video background setting has changed");S.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const N=(0,t.Ay)("Toggle global keyboard shortcut support for muting / unmuting a huddle");N.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const L=(0,t.Ay)("Internal store update for mini-panel visibility");L.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const D=(0,t.Ay)("Upsert join credentials for a channel");D.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const k=(0,t.Ay)("Clear the join credentials for a specific channel");k.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const x=(0,t.Ay)("Store and/or remote push Chime meeting events");x.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const R=(0,t.Ay)("Transition from the prejoin state to started");R.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const U=(0,t.Ay)("Action to update the store to either show or hide discovery banner");U.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const F=(0,t.Ay)("Toggle Video");F.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const W=(0,t.Ay)("Reporting CPU and memory usage stats");W.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const w=(0,t.Ay)("Set true to specify that lounge music is playing, false otherwise.");w.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const K=(0,t.Ay)("Set current focused view type");K.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const j=(0,t.Ay)("Set last huddle start time");j.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const Q=(0,t.Ay)("Set last huddle end time");Q.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const J=(0,t.Ay)("Set last huddle duration time");J.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const z=(0,t.Ay)("Toggle video background filter");z.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const ie=(0,t.Ay)("Starts the video preview on the video element using the specified device");ie.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const ee=(0,t.Ay)("Stops the video preview on the video element");ee.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const ne=(0,t.Ay)("Identifies which screenshare is being viewed in the mini-player");ne.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const Z=(0,t.Ay)("Resets the store");Z.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const te=(0,t.Ay)("Start the canvas jukebox using content share");te.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const he=(0,t.Ay)("Stop the canvas jukebox");he.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const ue=(0,t.Ay)("Set selected song");ue.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const de=(0,t.Ay)("Send jukebox active song");de.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const re=(0,t.Ay)("Request a jukebox song");re.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const V=(0,t.Ay)("Request the jukebox stops");V.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const H=(0,t.Ay)("Send recording start notification");H.meta={name:"createAction",key:"createActionsendRecordingStartNotification",description:"Send recording start notification"};const X=(0,t.Ay)("Sets whether the active invite card in the sidebar can be rendered");X.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const Y=(0,t.Ay)("Sets whether the huddle window of an active huddle is in focus or not.");Y.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const q=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");q.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const fe=(0,t.Ay)("Reports to the SDK when the client is offline");fe.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const ce=(0,t.Ay)("Sets whether audio only mode is active or not.");ce.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const Ee=(0,t.Ay)("Sets whether the camera was enabled when audio only mode was activated.");Ee.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const Ae=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");Ae.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const le=(0,t.Ay)("True if huddle mini player is hidden, false if shown.");le.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const oe=(0,t.Ay)("Asks for video permission and enumerates devices");oe.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const me=(0,t.Ay)("Execute readiness check for audio input");me.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const pe=(0,t.Ay)("Execute readiness check for audio output");pe.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const Te=(0,t.Ay)("Execute readiness check for video input");Te.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const Me=(0,t.Ay)("Execute readiness check for a particular camera resolution");Me.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const Ue=(0,t.Ay)("Execute readiness check for audio connectivity");Ue.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const xe=(0,t.Ay)("Execute readiness check for video connectivity");xe.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const Ne=(0,t.Ay)("Execute readiness check for content share connectivity");Ne.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const be=(0,t.Ay)("Execute readiness check for network UDP connectivity");be.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const ke=(0,t.Ay)("Execute readiness check for network TCP connectivity");ke.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Ke=(0,t.Ay)("Sets that the Huddle was joined via prejoin");Ke.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"};const $=(0,t.Ay)("Sets Huddle device based on preview entry");$.meta={name:"createAction",key:"createActionsetDeviceStateBasedOnPreviewEntry",description:"Sets Huddle device based on preview entry"};const ae=(0,t.Ay)("Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow");ae.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewChannel",description:"Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow"};const Ge=(0,t.Ay)("Sets the current background effect selected from the preview background picker");Ge.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewBackgroundEffect",description:"Sets the current background effect selected from the preview background picker"}},753191978:(B,A,e)=>{"use strict";e.d(A,{A:()=>c,p:()=>l});var t=e(3015119762),s=e(1874256115),o=e(4894634110);let n;const c=(0,o.Ay)("Temporarily show mini-panel",function(i,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(n),i((0,s.Ko)(!0)),n=setTimeout(()=>i((0,s.Ko)(!1)),r)});c.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const l=(0,o.Ay)("Temporarily pause mini-panel visibility transition",(i,a)=>{const r=a();(0,t.Ae)(r)&&clearTimeout(n)});l.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},3096333992:(B,A,e)=>{"use strict";e.d(A,{WS:()=>o,nq:()=>s,o7:()=>t});const t="HUDDLES",s=864e5,o=2},9102575680:(B,A,e)=>{"use strict";e.d(A,{A:()=>Ae});var t=e(3398586081),s=e(4743850398),o=e(6619783004),n=e(2172170811),c=e(7188858884),l=e(7281000332),i=e(1242487384),a=e(293248343),r=e(2090189789),d=e(8338674836),m=e(1874256115),f=e(7657476646),u=e(4894634110),E=e(7116672546);const v=(0,u.Ay)("Fetch channel membership info for huddle member",(le,oe,me)=>{let{channelId:pe,userId:Te}=me;return le((0,E.z)({channelId:pe,userIds:[Te]})).then(Me=>{let{membershipInfo:Ue}=Me;return Ue[Te]&&"isMember"in Ue[Te]?!Ue[Te].isMember:!0})});v.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var g=e(3096333992),T=e(5888893001),p=e(6277503403),O=e(9383537253),y=e(3666777625),C=e(1449209523),I=e(1330158417),M=e(6854947164),_=e(6027564436),P=e(9151352365),b=e(5035254771),S=e(1985486637),N=e(4357385957),L=e(5478938623),D=e(7397682160),k=e(321010523),x=e(9357779721),R=e(8467180395),U=e(3015119762),F=e(3677587543),W=e(2141441167),w=e(8309327671),K=e(2691514942),j=e(7411813784),Q=e(68453427),J=e(1236500105),z=e(4018727704),ie=e(4747441446);const ee=60*1e3,ne=15*1e3,Z=1e3*10,te=1e3*60,he=5e3;let ue=!1;const de=500,re=25;let V=h(class{async setTargetState(oe){this.targetState=oe;const{huddleState:me,huddleSubState:pe}=this.targetState;this.isValidHuddleSubState(me,pe)||(this.targetState.huddleSubState=this.getInitialSubStateForHuddleState(me)),(0,l.dispatchForClientStore)((0,m.Rh)(this.getOptimisticState(oe))),await this.process()}setTargetChannel(oe){this.targetState.channelId=oe}async setTargetSubState(oe){this.isValidHuddleSubState(this.targetState.huddleState,oe)&&(this.targetState.huddleSubState=oe,await this.process())}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:M.RJ.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}async waitForStartStop(){return this.startStopDeferred||S.S.resolve()}isProcessing(){var oe;return(oe=this.startStopDeferred)===null||oe===void 0?void 0:oe.isPending()}isTargetState(){const{teamId:oe,channelId:me,huddleState:pe}=this.getClientHuddleState();return(0,N.Ft)(this.targetState.huddleState)?pe===this.targetState.huddleState:oe===this.targetState.teamId&&me===this.targetState.channelId&&pe===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(oe){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>oe-de:!1}isValidHuddleSubState(oe,me){return oe===M.RJ.STARTED?me===void 0?!1:(0,W.A)(M.J_).includes(me):me===void 0}getInitialSubStateForHuddleState(oe){if(oe===M.RJ.STARTED)return M.J_.INITIAL_ALONE}async process(){if(this.isProcessing())return this.waitForStartStop();this.startStopDeferred=(0,x.u)();const oe=setTimeout(async()=>{var me;if(!((me=this.startStopDeferred)===null||me===void 0)&&me.isPending()){const pe=new S.S.TimeoutError("HuddleStateManager timeout");await this.handleErrorAndDisconnect(pe)}},this.startStopTimeout);try{await this.runLoop(),clearTimeout(oe),this.startStopDeferred.resolve()}catch(me){await this.handleErrorAndDisconnect(me)}finally{clearTimeout(oe)}this.startStopDeferred=null}async runLoop(){let oe=0;for(;!this.isTargetState();){if(!this.isProcessing())return;if(oe+=1,oe>re)throw new Error("runLoop was stuck");const{teamId:Te,channelId:Me,huddleState:Ue}=this.getClientHuddleState(),{teamId:xe,channelId:Ne,huddleState:be,callId:ke}=this.targetState;if(Te!==xe&&(delete this.clogger,delete this.logger,delete this.telemeter),[M.RJ.STARTED,M.RJ.PRE_JOINED].includes(be)){if(Te!==xe||Me!==Ne){switch(Ue){case M.RJ.PENDING:case M.RJ.STARTED:case M.RJ.PRE_JOINED:await this.goToNext(M.RJ.ENDING);break;default:await this.goToNext(M.RJ.STARTING)}continue}switch(Ue){case M.RJ.NOT_STARTED:await this.goToNext(M.RJ.STARTING);break;case M.RJ.STARTING:try{await this.goToNext(M.RJ.PENDING)}catch(Ke){var me;if(!((me=this.credentials)===null||me===void 0)&&me.isQuickJoinCredentials){if(delete this.credentials,await this.clearQuickJoinCredentials(),Ke.message===M.M6.ChimeMeetingEnded)throw Ke;if(ke){const at=(0,p.P_)(this.getState(),ke);if(at&&at.hasEnded)throw new Error(M.M6.ChimeMeetingEnded)}const $=Date.now(),ae=!0;await this.safelyDisconnect(ae);const nt=Date.now()-$;this.getLogger().info(`Disconnecting after failed attempt to join huddle added ${nt}ms to TTI`),await this.goToNext(M.RJ.STARTING)}else throw Ke}break;case M.RJ.PENDING:await this.goToNext(this.targetState.huddleState);break;case M.RJ.PRE_JOINED:await this.goToNext(M.RJ.COMPLETING_PRE_JOIN);break;case M.RJ.COMPLETING_PRE_JOIN:await this.completePrejoin({isStartMuted:this.targetState.muted}),await this.goToNext(M.RJ.STARTED);break;case M.RJ.STARTED:throw new Error("This should not be possible");case M.RJ.ENDING:case M.RJ.SURVEY:case M.RJ.SURVEY_GOOD:default:await this.goToNext(M.RJ.STARTING);break}continue}if([M.RJ.PENDING,M.RJ.STARTED,M.RJ.PRE_JOINED].includes(Ue)){await this.goToNext(M.RJ.ENDING);continue}await this.goToNext(be)}let pe=0;for(;!this.isTargetSubState();){if(pe+=1,pe>re)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:Te,huddleSubState:Me}=this.getClientHuddleState(),{huddleSubState:Ue}=this.targetState;if(!this.isValidHuddleSubState(Te,Ue)){const xe=this.getInitialSubStateForHuddleState(Te);this.targetState.huddleSubState=xe,await this.goToNextSubState(xe),this.getLogger().warn(g.o7,`attempted to reach invalid huddleSubstate (${Ue}) for the given huddleState (${Te})`);continue}if(Te===M.RJ.STARTED){switch(Me){case M.J_.INITIAL_ALONE:if(Ue===M.J_.INITIAL_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(Ue);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.INITIAL_ALONE_NOTICE_ACTIVE:if(Ue===M.J_.INITIAL_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(Ue);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.INITIAL_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.IN_PROGRESS_TOGETHER:await this.goToNextSubState(M.J_.IN_PROGRESS_ALONE);break;case M.J_.IN_PROGRESS_ALONE:if(Ue===M.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(Ue);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(Ue===M.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(Ue);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;default:await this.goToNextSubState(M.J_.INITIAL_ALONE)}continue}await this.goToNextSubState(void 0)}}async goToNext(oe){var me,pe,Te,Me;this.getLogger().info(`Marking huddle as ${oe} [${(Te=(me=this.targetState)===null||me===void 0?void 0:me.teamId)!==null&&Te!==void 0?Te:"N/A"}, ${(Me=(pe=this.targetState)===null||pe===void 0?void 0:pe.channelId)!==null&&Me!==void 0?Me:"N/A"}]`);const Ue=Date.now();this.timeOfLastStateChange=Ue,this.timeOfLastSubStateChange=Ue;const xe=this.getInitialSubStateForHuddleState(oe);if(oe===M.RJ.STARTING){var Ne,be;const $=this.assertTargetTeamAndChannel(M.RJ.STARTING),ae=this.getOptimisticState(this.targetState);this.getLogger().info(`Optimistic state: ${ae.optimisticHuddleState}`),(0,l.dispatchForClientStore)((0,m.xf)({huddleState:oe,huddleSubState:xe,...$,...ae,isPrejoin:((Ne=this.targetState)===null||Ne===void 0?void 0:Ne.huddleState)===M.RJ.PRE_JOINED,sessionId:(0,J.A)()})),this.credentials=await this.fetchCredentials(),(be=this.getTelemeter())===null||be===void 0||be.mark(_.Bq);return}if(oe===M.RJ.PENDING){const $=this.assert(this.credentials,"Expected credentials to be set before PENDING");(0,l.dispatchForClientStore)((0,m.Rh)({huddleState:oe,huddleSubState:xe,...this.assertTargetTeamAndChannel(M.RJ.PENDING),callId:$.roomId})),await this.connectToChime($,this.targetState),delete this.credentials;return}if(oe===M.RJ.STARTED){var ke;const $=this.assertTargetTeamAndChannel(M.RJ.STARTED);(0,l.dispatchForClientStore)((0,m.Rh)({huddleState:oe,huddleSubState:xe,optimisticHuddleState:null,...$,isPrejoin:!1})),(0,a.ty)(this.getState(),"huddles_set_status")&&this.scheduleHuddleStateExpirationIncrement(),this.setCoachmarkTimeout(xe),(ke=z.F.getInstance())===null||ke===void 0||ke.request()}else{var Ke;(Ke=z.F.getInstance())===null||Ke===void 0||Ke.release()}if(oe===M.RJ.PRE_JOINED&&(0,l.dispatchForClientStore)((0,m.Rh)({huddleState:oe,huddleSubState:xe,optimisticHuddleState:null,...this.assertTargetTeamAndChannel(M.RJ.PRE_JOINED)})),oe===M.RJ.ENDING){(0,l.dispatchForClientStore)((0,m.Rh)({huddleState:oe,huddleSubState:xe})),await this.safelyDisconnect();return}(0,l.dispatchForClientStore)((0,m.Rh)({huddleState:oe,huddleSubState:xe,optimisticHuddleState:null}))}async goToNextSubState(oe){oe===M.J_.IN_PROGRESS_ALONE&&setTimeout(()=>{var me;((me=this.getClientHuddleState())===null||me===void 0?void 0:me.huddleSubState)===M.J_.IN_PROGRESS_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(Z)&&this.setTargetSubState(M.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},Z),this.timeOfLastSubStateChange=Date.now(),(0,l.dispatchForClientStore)((0,m.Rh)({huddleSubState:oe}))}async handleErrorAndDisconnect(oe){var me;this.getLogger().error(oe);const{huddleState:pe}=this.getClientHuddleState();if([M.RJ.PENDING,M.RJ.STARTED].includes(pe))try{await S.S.race([new S.S((Te,Me)=>{setTimeout(()=>Me(new Error("HuddleStateManager disconnect timeout")),this.disconnectTimeout)}),this.safelyDisconnect()])}catch(Te){this.getLogger().error(Te)}(0,l.dispatchForClientStore)((0,m.Rh)({huddleState:M.RJ.NOT_STARTED,optimisticHuddleState:null})),await S.S.resolve(this.handleError(oe,pe)),(me=this.startStopDeferred)===null||me===void 0||me.reject(oe)}getInitialAloneInHuddleTimeOutValue(){if(ue)return he;const oe=this.getState(),me=(0,a.ty)(oe,ie.VW);return me?me*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),te)}setCoachmarkTimeout(oe){oe===M.J_.INITIAL_ALONE&&(setTimeout(()=>{var me;((me=this.getClientHuddleState())===null||me===void 0?void 0:me.huddleSubState)===M.J_.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.setTargetSubState(M.J_.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var oe;return!!(!((oe=(0,s.Ng)(this.getState()))===null||oe===void 0)&&oe.isMicrophoneEnabled)}getClientHuddleState(){const oe=(0,l.Ry)(),me=(0,U.EG)(oe),{channelId:pe,teamId:Te}=(0,U.Qn)(oe)||{};if(!me||me===M.RJ.NOT_STARTED)return{huddleState:M.RJ.NOT_STARTED,channelId:pe,teamId:Te};const Me=(0,U.EO)(oe);return{huddleState:me,huddleSubState:Me,channelId:pe,teamId:Te}}assertTargetTeamAndChannel(oe){const{teamId:me,channelId:pe}=this.targetState;return{teamId:this.assert(me,`Expected teamId to be set for ${oe}`),channelId:this.assert(pe,`Expeted channelId to be set for ${oe}`)}}getChannelIdOrDie(){const{channelId:oe}=this.getClientHuddleState(),{channelId:me}=this.targetState,pe=oe||me;return this.assert(pe,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:oe}=this.getClientHuddleState(),{threadTs:me}=this.targetState;return oe||me}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:oe}=this.getClientHuddleState(),{teamId:me}=this.targetState,pe=oe||me;return this.assert(pe,"No team ID or active huddle")}getCallIdOrDie(){const oe=(0,l.Ry)(),me=(0,U.E9)(oe);return this.assert(me,"No call ID or active huddle")}getHuddleState(){const{huddleState:oe}=this.getClientHuddleState();return oe}dispatch(oe){const me=this.getTeamIdOrDie();return(0,c.Qw)(me,oe)}getState(oe){const me=oe||this.getTeamIdOrDie();return(0,c.$D)(me)}assert(oe,me){if(oe==null)throw new Error(me);return oe}getClogger(){if(this.clogger)return this.clogger;const{teamId:oe}=this.getClientHuddleState();return this.clogger=oe?(0,D.e)({state:(0,c.$D)(oe)}):(0,D.e)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=(0,K.Wo)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:oe}=this.getClientHuddleState();return oe?this.telemeter=(0,j.Cy)({state:(0,c.$D)(oe)}):this.telemeter=(0,j.rh)(),this.telemeter}constructor({logLabel:oe=g.o7,startStopTimeout:me=ee,disconnectTimeout:pe=ne}={}){var Te=this;this.targetState={huddleState:M.RJ.NOT_STARTED},this.startStopDeferred=null,this.safelyDisconnect=async function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;try{await Te.disconnect(Me)}catch(Ue){Te.getLogger().error("Failed to disconnect from the Huddle. This may mean the user is still connected to the media server",Ue)}},this.scheduleHuddleStateExpirationIncrement=async()=>{if(this.isTargetState()&&this.targetState.huddleState!==M.RJ.STARTED)return;const Me=60*5,Ue={huddle_state_expiration_ts:new Date().getTime()/1e3+Me};await this.dispatch((0,Q.c)({profile:Ue,reason:"increment-huddle-state-expiration-ts"})),setTimeout(this.scheduleHuddleStateExpirationIncrement,(0,w.A)(24e4,-.1,.1))},this.logLabel=oe,this.startStopTimeout=me,this.disconnectTimeout=pe,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");(0,F.ul)("baseHuddleStateManager",{setShortTimeoutValue:()=>{ue=!0},resetShortTimeoutValue:()=>{ue=!1}}),Object.defineProperty({shouldUseDebugTimeout:ue},"shouldUseDebugTimeout",{get:()=>ue,set:()=>{ue=!0}});var X=e(9857417027),Y=e(5233827933),q=e(3725785328),fe=e(6441216756);class ce extends V{async start(oe,me,pe,Te,Me,Ue,xe){await this.startHuddleWithTargetState(M.RJ.STARTED,oe,me,pe,Te,Me,Ue,xe)}async prejoin(oe,me,pe,Te){await this.startHuddleWithTargetState(M.RJ.PRE_JOINED,oe,me,pe,Te,void 0)}async setOthersInHuddle(){await this.setTargetSubState(M.J_.IN_PROGRESS_TOGETHER)}async setAloneInHuddle(){await this.setTargetSubState(M.J_.IN_PROGRESS_ALONE)}async dismissAloneInHuddleWarning(oe){const me=oe?M.J_.INITIAL_ALONE_NOTICE_DISMISSED:M.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED;await this.setTargetSubState(me)}async startHuddleWithTargetState(oe,me,pe,Te,Me,Ue,xe,Ne){var be;!((be=this.currentHuddleDeferred)===null||be===void 0)&&be.isPending()||(this.currentHuddleDeferred=(0,x.u)()),await this.setTargetState({huddleState:oe,teamId:me,channelId:pe,muted:Te,callId:Me,threadTs:Ue,isMultiDevice:xe,experimentStandaloneHuddlesOn:Ne})}async stop(){var oe;const me=this.getState(),pe=this.getClientHuddleState(),Te=this.getHuddleState()!==M.RJ.PRE_JOINED&&(0,p.Cd)(me)&&!this.isProcessing();Te&&(this.getLogger().info(`Show huddle survey in ${this.getChannelIdOrDie()}`),this.dispatch((0,I.Cd)({timeSeen:new Date().toISOString()}))),await this.setTargetState({huddleState:Te?M.RJ.SURVEY:M.RJ.NOT_STARTED,teamId:pe.teamId,channelId:pe.channelId}),this.getHuddleState()===M.RJ.NOT_STARTED&&(!((oe=this.currentHuddleDeferred)===null||oe===void 0)&&oe.isPending())&&this.currentHuddleDeferred.resolve()}async enterTerminalState(oe){var me;!((me=this.pendingHuddleStart)===null||me===void 0)&&me.isPending()?this.pendingHuddleStart.reject(oe):await this.handleErrorAndDisconnect(oe)}waitForHuddleToEnd(){return S.S.resolve(this.currentHuddleDeferred)}handleError(oe,me){var pe;this.getLogger().error(oe);const Te=me===M.RJ.STARTING||me===M.RJ.PENDING;this.dispatch((0,P.A)({errorCode:(0,M.dJ)(oe.name)?oe.name:oe.message,isJoinError:Te})),!((pe=this.currentHuddleDeferred)===null||pe===void 0)&&pe.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(oe){let{teamId:me,channelId:pe,huddleState:Te}=oe;if([M.RJ.NOT_STARTED].includes(Te))return{optimisticHuddleState:M.RJ.ENDING};if([M.RJ.SURVEY].includes(Te))return{optimisticHuddleState:null};if(Te===M.RJ.PRE_JOINED)return{optimisticHuddleState:M.RJ.PRE_JOINED,isPrejoin:!0};if(Te===M.RJ.STARTED&&me){var Me,Ue;const xe=(0,c.$D)(me),Ne=(0,l.Ry)(),be=(0,U.aQ)(Ne),ke=(be==null?void 0:be.channelId)===pe||!((Me=(0,p.Yw)(xe,pe))===null||Me===void 0||(Ue=Me.activeParticipants)===null||Ue===void 0)&&Ue.length?null:M.RJ.STARTED;return(0,a.ty)(xe,"huddles_global_mute")&&(0,l.dispatchForClientStore)((0,m.Bk)(!0)),{isPrejoin:!1,optimisticHuddleState:ke}}return{}}async fetchCredentials(){const oe=this.getTeamIdOrDie(),me=this.getChannelIdOrDie(),pe=this.getThreadTsOrNothing(),Te=(0,l.Ry)(),Me=(0,p.Yw)(this.getState(),me),{ttiTrace:Ue}=(0,fe.A)().getAllTraceHandlers(),xe=(0,U.WL)(Te,me),Ne=this.getIsMultiDevice();if(Ue==null||Ue.createFetchCredentialsSpan(),xe){Ue==null||Ue.setCachedTag({cached:!0});const ke=(Me==null?void 0:Me.id)||(0,N.RW)(xe.credentials);if(ke){const Ke=(0,p.P_)(this.getState(),ke);if(Ke&&Ke.hasEnded)throw await this.clearQuickJoinCredentials(),new Error(M.M6.ChimeMeetingEnded)}return this.getTelemeter().count(_.K7),Ue==null||Ue.closeFetchCredentialsSpan(),{roomId:ke,server:xe.credentials,isQuickJoinCredentials:!0}}const be=(0,Y._6)(this.getState(),{channelId:me});if(be){const ke=(0,p.it)(this.getState(oe),me),Ke=(0,Y.G5)(this.getState(),{channelId:me}),$=(0,N.RW)(be);return ke&&Ke&&this.dispatch((0,C.KN)({channelId:me,threadTs:ke,lastRead:ke,reason:"huddles-rooms-join-kte"})),{roomId:$,server:be,isQuickJoinCredentials:!1}}return this.getTelemeter().mark(_.aW),Ue==null||Ue.setCachedTag({cached:!1}),this.dispatch((0,b.O3)({teamId:oe,channelId:me,shouldFetchRegion:!Me,traceId:Ue==null?void 0:Ue.getTTITraceId(),parentSpanId:Ue==null?void 0:Ue.getFetchCredentialsSpanId(),...pe&&{threadTs:pe},...Ne&&{isMultiDevice:Ne}})).then(ke=>{var Ke,$;if(!(!(ke==null||(Ke=ke.server)===null||Ke===void 0)&&Ke.meeting)||!(!(ke==null||($=ke.server)===null||$===void 0)&&$.attendee))throw new Error("create_meeting_failed");Ue==null||Ue.closeFetchCredentialsSpan(),this.getTelemeter().mark(_.bW);const ae=this.getTelemeter().measure(_.aW,_.iE,_.bW);this.getTelemeter().count(_.iE,ae),(0,q.jm)({roomsJoinTime:ae});let Ge=me;return this.getIsExperimentStandaloneHuddlesOn()&&ke.channelId&&(Ge=ke.channelId,this.setTargetChannel(Ge),(0,l.dispatchForClientStore)((0,m.Jc)(Ge))),(0,l.dispatchForClientStore)((0,m.Yi)({channelId:Ge,joinCredentials:ke.server,expiry:Date.now()+g.nq,fromInvite:!1})),ke.rootThreadTs&&ke.roomId&&(this.dispatch((0,T.ZL)({huddleId:ke.roomId,thread:{channelId:Ge,ts:ke.rootThreadTs}})),this.dispatch((0,C.KN)({channelId:Ge,threadTs:ke.rootThreadTs,lastRead:ke.rootThreadTs,reason:"canvas-rooms-join-api"})),this.dispatch((0,R.a)({channelId:Ge,threadTs:ke.rootThreadTs,oldest:ke.rootThreadTs}))),ke})}async connectToChime(oe,me){let{server:pe,roomId:Te}=oe,{muted:Me,huddleState:Ue}=me;const{ttiTrace:xe}=(0,fe.A)().getAllTraceHandlers();return xe==null||xe.createConnectToMediaServiceSpan(),(0,l.dispatchForClientStore)((0,m.qW)({callResult:{server:pe,roomId:Te,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:Me,waitForHuddleStart:(0,x.u)(),isPrejoin:Ue===M.RJ.PRE_JOINED})),this.pendingHuddleStart=(0,x.u)(),Ue===M.RJ.PRE_JOINED?S.S.resolve():this.pendingHuddleStart}async resolvePendingJoin(oe){try{var me;const Te=this.getChannelIdOrDie(),{ttiTrace:Me}=(0,fe.A)().getAllTraceHandlers(),Ue=this.getState(),xe=(0,l.Ry)(),{callId:Ne,optimisticHuddleState:be}=(0,U.Qn)(xe)||{},ke=(0,p.dy)(Ue);if(this.getLogger().info(`Resolve pending huddle (${Te}, optimisticHuddleState: ${be}, has optimisticTopic: ${!!ke})`),!(!((me=this.pendingHuddleStart)===null||me===void 0)&&me.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const Ke=this.assert(Ne,"Room ID is not defined for pending join"),$=(0,a.ty)(Ue,"huddles_cc_by_default");if((0,N.UA)(Ue,Te)&&$&&(this.dispatch((0,r.A)()),this.dispatch((0,d.dD)(!0)),this.dispatch((0,d.jL)(!0))),ke){try{await this.dispatch((0,b.xB)({roomId:Ke,name:ke})),this.dispatch((0,o.oU)({id:Ke,name:ke}))}catch(Ge){this.getLogger().error(Ge)}this.dispatch((0,f.Jc)(null))}(0,l.dispatchForClientStore)((0,m.u8)(Te)),Me==null||Me.closeConnectToMediaServiceSpan(),(0,D.e)({state:Ue}).track(k.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:Ke,duration_ms:Math.round(oe),channel_id:Te}}}),(0,q.jm)({audioConnectedTime:oe}),(0,l.dispatchForClientStore)((0,m.Rh)({isSelfJoined:!0})),this.pendingHuddleStart.resolve()}catch(Te){var pe;(pe=this.pendingHuddleStart)===null||pe===void 0||pe.reject(Te)}}async completePrejoin(oe){const me=this.getChannelIdOrDie(),pe=(0,l.Ry)(),{ttiTrace:Te}=(0,fe.A)().getAllTraceHandlers(),Me=(0,U.WL)(pe,me);return Te==null||Te.setCachedTag({cached:!!Me}),Te==null||Te.createConnectToMediaServiceSpan(),(0,l.dispatchForClientStore)((0,m.f2)({...oe}))}async clearQuickJoinCredentials(){const oe=(0,l.Ry)(),{channelId:me}=(0,U.Qn)(oe)||{};return(0,l.dispatchForClientStore)((0,m.WB)({channelId:me}))}async disconnect(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var me;const pe=this.getState(),Te=(0,l.Ry)(),{channelId:Me,teamId:Ue}=(0,U.Qn)(Te)||{};if(!oe)try{(0,fe.A)().cleanup()}catch(xe){this.getLogger().error(`Error cleaning up huddle tracing: ${xe}`)}try{(0,l.dispatchForClientStore)((0,m.Bk)(!1)),(0,O.lV)(pe)&&((0,l.dispatchForClientStore)((0,m.JM)()),(0,l.dispatchForClientStore)((0,m._u)({song:void 0}))),(0,l.dispatchForClientStore)((0,m.Rh)({isSelfJoined:!1}));const Ne=(0,i.WR)(pe),be=Me&&(0,p.Yw)(pe,Me);if(be&&Me){const ke=(be.activeParticipants||[]).filter($=>!((0,n.MZ)($)&&$.slackId===Ne));this.dispatch((0,o.oU)({id:be.id,activeParticipants:ke}));const Ke=(0,o.H6)(this.getState(),be.id);Ke&&this.dispatch((0,f.mr)({call:Ke,channelId:Me}))}if(Me){const ke=await(0,c.Qw)(Ue,v({channelId:Me,userId:Ne})),Ke=(0,y.H7)(pe),$=(0,L.tc)(Ke);(ke||$)&&await this.clearQuickJoinCredentials(),(0,l.dispatchForClientStore)((0,m.u8)(Me))}}catch(xe){this.getLogger().error("An error occurred cleaning up huddle redux state. Proceeding to disconnect from media server.",xe)}try{const xe=(0,x.u)();(0,l.dispatchForClientStore)((0,m.pl)({waitForHuddleEnd:xe})),await xe}catch(xe){this.getLogger().error("An error occurred while disconnecting from the media server.",xe)}this.dispatch((0,s.VL)({huddlesVideoActive:!1})),this.dispatch((0,T.np)()),(0,l.dispatchForClientStore)((0,m.cx)()),!((me=this.pendingHuddleStart)===null||me===void 0)&&me.isPending()&&this.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))}}h(ce,"HuddleStateManager");const Ae=(0,t.A)(()=>{const le=new ce;return(0,X.R)(le.waitForStartStop.bind(le)),le})},9857417027:(B,A,e)=>{"use strict";e.d(A,{A:()=>n,R:()=>o});var t=e(1985486637);let s;const o=h(c=>{s=c},"setWaitForStartStop"),n=h(()=>s?s():t.S.resolve(),"__WEBPACK_DEFAULT_EXPORT__")},9585046758:(B,A,e)=>{"use strict";e.d(A,{CE:()=>a,Gu:()=>r,Lu:()=>f,Qu:()=>u,lW:()=>m,vT:()=>s.vT});var t=e(4894634110),s=e(3875619380),o=e(7397682160),n=e(321010523);const c=3*1e3,l={[s.vT.NoUserAudioStream]:!0,[s.vT.NoUserVideoStream]:!0,[s.vT.NoAudioOutputAudioElementError]:!0,[s.vT.NoAudioOutputAudioLevelError]:!0,[s.vT.PeerMuteRequest]:!0};let i={};const a=(0,t.Ay)("Display alert message for huddle call",(v,g,T)=>{let{alert:p,peerId:O}=T;const y=(0,o.e)({getState:g});if(!i[p]){if(l[p]){i[p]=setTimeout(()=>{i[p]&&(clearTimeout(i[p]),delete i[p]),v((0,s.Sb)({alert:p,peerId:O})),y.track(n.EventId.HUDDLES_ALERT_SHOWN,{contexts:{ui_context:{ui_properties:{element_name:p},action:n.UiAction.IMPRESSION}}})},c);return}v((0,s.Sb)({alert:p,peerId:O})),y.track(n.EventId.HUDDLES_ALERT_SHOWN,{contexts:{ui_context:{ui_properties:{element_name:p},action:n.UiAction.IMPRESSION}}})}});a.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const r=(0,t.Ay)("Undisplay an alert message for huddle call",(v,g,T)=>{i[T]&&(clearTimeout(i[T]),delete i[T]),v((0,s.LL)(T))});r.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"};const d=h(function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const g=new Set;for(const[T,p]of Object.entries(i))v&&T===s.vT.PeerMuteRequest||p&&(clearTimeout(p),g.add(T));g.forEach(T=>{delete i[T]})},"clearPendingTimeouts"),m=(0,t.Ay)("Clear all alert messages for huddle call",(v,g)=>{d(),v((0,s.eV)())});m.meta={name:"createThunk",key:"createThunkclearAlerts",description:"Clear all alert messages for huddle call"};const f=(0,t.Ay)("Clear all video alert messages for huddle call",(v,g)=>{d(!0),v((0,s.GT)())});f.meta={name:"createThunk",key:"createThunkclearPossibleVideoAlerts",description:"Clear all video alert messages for huddle call"};const u=(0,t.Ay)("Clear all video alert messages for huddle call",(v,g)=>{d(!0),v((0,s.hF)())});u.meta={name:"createThunk",key:"createThunkclearPossibleAudioAlerts",description:"Clear all video alert messages for huddle call"},Object.defineProperty({alertTimeouts:i},"alertTimeouts",{get:()=>i,set:v=>{i=v}})},147459106:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(4894634110),s=e(9102575680);const o=(0,t.Ay)("Handle huddle error",(c,l,i)=>(0,s.A)().enterTerminalState(new Error(i.terminalState)));o.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"};const n=o},1138621501:(B,A,e)=>{"use strict";e.d(A,{N$:()=>Te,KD:()=>oe,kq:()=>le,HU:()=>me});var t=e(4894634110),s=e(7188858884),o=e(7281000332),n=e(4743850398),c=e(7320907804),l=e(8829981938),i=e(2441840696),a=e(1137236691),r=e(3096333992),d=e(6056523190),m=e(1231671841),f=e(3134334389),u=e(481313997),E=e(2947229296),v=e(9782733248),g=e(1106085704),T=e(4054311754),p=e(4378915552),O=e(8859166048),y=e(6928237551),C=e(4527069385),I=e(4921096872),M=e(1538129653),_=e(6369345880),P=e(6711107392),b=e(5464688500),S=e(9476265383),N=e(4374711907),L=e(8000769609),D=e(1609943317),k=e(3988784964),x=e(321010523),R=e(3766524426),U=e(280840163),F=e(3351247794),W=e(3015119762);function w(){return w=Object.assign||function(Me){for(var Ue=1;Ue<arguments.length;Ue++){var xe=arguments[Ue];for(var Ne in xe)Object.prototype.hasOwnProperty.call(xe,Ne)&&(Me[Ne]=xe[Ne])}return Me},w.apply(this,arguments)}h(w,"_extends");const K=new E.Ay("huddles"),j={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:x.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},Q={elementName:"huddles_invite_confirmation_dialog_ok",eventId:x.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function J(Me){let{closeModal:Ue,...xe}=Me;const{channelId:Ne,senderUserId:be}=xe,ke=(0,v.A)(Ne),{handleDecline:Ke,handleJoin:$,isLoading:ae,inviteText:Ge}=(0,g.lc)(xe),nt=(0,U.d4)(He=>(0,C.I)(He,be));let at=K.t("Huddle with {dmPersons}",{dmPersons:nt,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const Ve=(0,U.d4)(He=>(0,F.OL)(He,Ne)),Se=(0,U.d4)(He=>(0,p.uz)(Ve)?(0,y.SB)(He,Ve,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);Se&&(at=(0,O.JM)(Ve)?K.t("Huddle with {dmPersons}",{dmPersons:Se,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):K.t("Huddle in {channelName}",{channelName:Se,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Pe=(0,T.cw)(W.hc)===Ne;(0,f.useEffect)(()=>{Pe&&!ae&&(Ue==null||Ue())},[Pe,ae,Ue]);const Fe=(0,f.useCallback)(()=>{Ke(),Ue==null||Ue()},[Ue,Ke]),ge="huddle-invite-join-modal";return f.createElement(u.A,w({uiComponentName:x.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},ke),f.createElement(P.A,{labelledby:ge,dataQa:ge,closeModal:Ue,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},f.createElement(D.A,null,f.createElement(k.A,{title:at,id:ge})),f.createElement(b.A,null,f.createElement(S.A,null,Ge)),f.createElement(N.A,null,f.createElement(L.A,null,f.createElement(I.Ay,{type:"outline",onClick:Fe,"data-qa":"huddle_invite_join_cancel",autoClogProps:j},K.t("Not Now")),f.createElement(M.A,{type:"primary",loading:ae,onClick:$,"data-qa":"huddle_invite_join_go",autoClogProps:Q,autoFocus:!0,"aria-label":K.t("Join")},f.createElement(_.A,{type:"headphones"}),f.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},K.t("Join")))))))}h(J,"HuddleInviteJoinModal"),J.displayName="HuddleInviteJoinModal";const z={HuddleInviteJoinModal:J},ie=(0,R.A)(J);var ee=e(670498621),ne=e(1985486637),Z=e(2691514942),te=e(6251135763),he=e(2138802802),ue=e(1445062258),de=e(4357385957),re=e(7397682160),V=e(3659369705),H=e(6381329795),X=e(6854947164),Y=e(753191978),q=e(3228638226),fe=e(7418708689),ce=e(7819259683),Ee=e(7499216588);const Ae=h((Me,Ue,xe)=>{(0,re.e)({state:Me}).track(Ue,{contexts:{calls:(0,de.gG)(Me,xe),ui_context:{action:x.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),le=(0,t.Ay)("Start huddle in highlighted channel or current primary view",async(Me,Ue,xe)=>{let{highlightedChannelId:Ne}=xe;var be;const ke=(0,o.Ry)(),Ke=Ue(),$=(0,q.e6)(Ke),ae=(be=(0,q.F8)(Ke,{tab:$,container:fe.mq.Primary}))===null||be===void 0?void 0:be.id,Ge=Ne||ae,{channelId:nt,teamId:at}=(0,W.Ak)(ke)||{};if(nt&&at&&(!Ne||Ne===nt)){(0,s.Qw)(at,(0,d.A)()),Ae(Ke,x.EventId.HUDDLES_LEAVE,nt);return}const Ve=(0,W.aQ)(ke);if(Ve&&!Ne){const{channelId:Pe,senderUserId:Fe,callId:ge,teamId:He}=Ve;(0,s.Qw)(He,ie({channelId:Pe,senderUserId:Fe,callId:ge}));return}if(!Ge||!(0,te.A)(Ge)&&!(0,he.Ay)(Ge)){Me((0,ee.A)());return}const Se=(0,ue.Y)(Ke,Ge);Se&&(0,de.Bn)(Ke,Se)&&(Ae(Ke,x.EventId.HUDDLES_JOIN,Se.id),Me((0,H.A)({channelId:Se.id,forceFocus:!0,entryPoint:X.su.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});le.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const oe=(0,t.Ay)("Start huddle in the current view",async(Me,Ue,xe,Ne)=>{var be,ke;const Ke=Ue(),{isChildWindow:$,getViewSet:ae}=Ne(ce.U),Ge=ae(Ke);(!$||(Ge==null||(be=Ge[fe.mq.Primary])===null||be===void 0?void 0:be.viewType)!==Ee.D.Channel)&&Me(le({highlightedChannelId:void 0}));const nt=Ge==null||(ke=Ge[fe.mq.Primary])===null||ke===void 0?void 0:ke.id;Me(le({highlightedChannelId:nt}))});oe.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const me=(0,t.Ay)("Toggle microphone from current value to opposite value",(Me,Ue)=>{const xe=(0,o.Ry)(),{teamId:Ne,channelId:be}=(0,W.Ak)(xe)||{};if(!Ne)return;const ke=(0,s.$D)(Ne),Ke=(0,n.Ng)(ke),$=Ke==null?void 0:Ke.isMicrophoneEnabled;(0,s.Qw)(Ne,(0,m.A)(!$)),Me($?(0,c.Ho)():(0,c.qc)()),(0,Z.Ay)({state:ke}).info(r.o7,`Keyboard shortcut invoked -- toggling mic to ${$?x.EventId.HUDDLES_MUTE:x.EventId.HUDDLES_UNMUTE}`),be&&Ae(ke,$?x.EventId.HUDDLES_MUTE:x.EventId.HUDDLES_UNMUTE,be)});me.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let pe=!1;const Te=h(Me=>{var Ue;return(0,V.dY)("4.13.0")?(Me&&!pe&&((0,a.zin)(i.Sr.TOGGLE_MUTE,async()=>{const xe=(0,o.Ry)(),{teamId:Ne}=(0,W.Ak)(xe)||{};Ne&&((0,s.Qw)(Ne,me()),(0,l.Sr)((0,o.Ry)())||(0,o.dispatchForClientStore)((0,Y.A)()))}),pe=!0),(Ue=(0,a.wzE)(i.Sr.TOGGLE_MUTE,Me))===null||Ue===void 0?void 0:Ue.then(()=>Me)):ne.S.resolve(!1)},"maybeToggleGlobalMuteShortcut")},1330158417:(B,A,e)=>{"use strict";e.d(A,{uZ:()=>Q,Tn:()=>z,Cd:()=>J});var t=e(2691514942),s=e(4894634110),o=e(7281000332),n=e(2577163594),c=e(3096333992),l=e(1874256115),i=e(6854947164),a=e(5316128126),r=e(3134334389),d=e(6122756707),m=e(6313685253),f=e(480439070),u=e(2947229296),E=e(6948117092),v=e(3714956473),g=e(292027566),T=e(2084938045),p=e(1711868125),O=e(8610257504);const y="survey";var C;(function(ie){ie.Good="good",ie.Bad="bad",ie.Dismiss="dismiss"})(C||(C={}));const I="HUDDLES-SURVEY-TRACE",M=h(ie=>{let{teamId:ee,callId:ne,results:Z}=ie;const te=ee?(0,t.Ay)({label:I,teamId:ee}):(0,t.Wo)({label:I});if(!ee){te.warn("Missing team id. Exiting early");return}const he=(0,g.E)({teamOrEnterpriseId:ee}),ue=he.createTrace({traceName:v.Sq,tags:{__dataset:v.RN},samplingOptions:{sampleRate:1,sampleType:T.tS.SESSION}}),de=ue.startSpan(y),re={...Z};(0,E.A)(re,"comments");const{notOkResponses:V,summary:H}=re||{};if(!ne){te.warn("Missing callId. Exiting early");return}if(!H){te.warn("Missing summary. Exiting early");return}try{te.info(`Processing huddle survey response. callId: ${ne} - traceId: ${ue.getTraceId()} - results: ${JSON.stringify(re)}`)}catch(q){te.error(q)}const X={teamId:ee,callId:ne,surveySummary:H,surveyResponseCount:(V==null?void 0:V.length)||0,surveyResponses:V==null?void 0:V.join(" ")},Y=(0,O.tT)({...X,...(0,p.vP)()});de.addTags(Y),de.close(),te.info(`Reporting huddle survey trace with ${Object.keys(Y).length} tags (${ue.getTraceId()})`),te.debug("Tags attached",Y),he.reportTrace(ue),he.clearTrace(ue)},"reportHuddleSurveyResultsTrace");var _=e(5181078482),P=e(9866037031),b=e(2869254699),S=e(9315194960),N=e(8823986650),L=e(3451857649),D=e(7874250141),k=e(3766524426),x=e(280840163),R=e(6277503403);const U=new u.Ay("huddles");function F(ie){return(0,m.A)(ie,(ee,ne,Z)=>(ne&&ee.push(Z),ee),[])}h(F,"collectResponses");const W=h(ie=>{let{closeModal:ee,callId:ne}=ie;const Z=(0,x.d4)(D.ZT),[te,he]=(0,r.useState)({}),[ue,de]=(0,r.useState)(""),[re,V]=(0,r.useState)(!1),H=`https://${(0,f.qF)()}`,X=(0,d.wA)(),Y=(0,x.d4)(R.JC),q=[{value:a.p.NoAudioInput,text:U.t("Others couldn\u2019t hear me")},{value:a.p.NoAudioOutput,text:U.t("I couldn\u2019t hear others")},{value:a.p.DeviceSelectionError,text:U.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:a.p.LowAudioQuality,text:U.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:a.p.LowVideoQuality,text:U.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:a.p.VideoNotWorking,text:U.t("Video didn\u2019t work at all")},{value:a.p.Disconnected,text:U.t("I got disconnected from the Huddle")},{value:a.p.SomethingElse,text:U.t("Something else went wrong")}],fe=(0,r.useCallback)(()=>{V(!0);const oe={isOk:!1,notOkResponses:F(te),comments:ue,callId:ne,type:Y};X((0,a.S)(oe)).then(()=>{Z&&M({teamId:Z,callId:ne,results:{summary:C.Bad,...oe}}),V(!1),ee==null||ee()})},[ne,te,ee,Z,ue,X,Y]),ce=(0,r.useCallback)(()=>{X((0,a.S)({isOk:!1,notOkResponses:[a.p.Dismiss],callId:ne,type:Y})),ee==null||ee()},[ee,ne,Y,X]),Ee=(0,r.useCallback)(oe=>de(oe),[]),le=!!te[a.p.SomethingElse];return r.createElement(L.dW,{closeModal:ce,showCloseButton:!0,centered:!0,maxWidth:600},r.createElement(r.Fragment,null,r.createElement(L.rQ,null,r.createElement(L.Rc,{title:U.t("What went wrong?")})),r.createElement(L.$m,null,r.createElement(L.qf,null,q.map(oe=>{let{value:me,text:pe}=oe;return r.createElement(b.A,{text:pe,key:me,id:me,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},r.createElement(P.A,{name:me,value:me,checked:!!te[me],onChange:Te=>he(Me=>({...Me,[me]:Te.target.checked}))}))}),le&&r.createElement(b.A,{className:"padding_top_75",text:U.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},r.createElement(S.A,{name:"details",id:"details",onChange:Ee,value:ue})))),r.createElement(L.jl,null,r.createElement(N.A,{href:`${H}/privacy-policy`,target:"_blank"},U.t("Privacy Policy")),r.createElement(L.ox,null,r.createElement(_.$n,{onClick:ce,type:"outline"},U.t("Dismiss")),r.createElement(_.lV,{loading:re,onClick:fe,"aria-label":U.t("Send")},U.t("Send"))))))},"HuddleSurveyModal");W.displayName="HuddleSurveyModal";const w=(0,k.A)(W);var K=e(3015119762),j=e(7188858884);const Q=(0,s.Ay)("Close the mini survey after a positive response",(ie,ee,ne)=>{let{channelId:Z}=ne;(0,o.dispatchForClientStore)((0,l.Rh)({channelId:Z,optimisticHuddleState:null,huddleState:i.RJ.NOT_STARTED}))});Q.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a positive response"};const J=(0,s.Ay)("Set the date for when the user last saw the huddle survey",(ie,ee,ne)=>{let{timeSeen:Z}=ne;ie((0,n.AZ)({pref:"huddle_survey_last_seen",value:Z}))});J.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const z=(0,s.Ay)("Record the result of the mini survey we first display the user after a huddle ends.",(ie,ee,ne)=>{let{result:Z}=ne;const te=(0,o.Ry)(),he=(0,K.E9)(te),ue=(0,K.hc)(te),de=(0,K.l4)(te),re=(0,R.JC)((0,j.$D)(de));let V=i.RJ.NOT_STARTED,H;switch(Z){case"bad":he&&ie(w({callId:he}));break;case"good":V=i.RJ.SURVEY_GOOD,ie((0,a.S)({isOk:!0,callId:he,type:re})),H=C.Good;break;case"dismiss":H=C.Dismiss,ie((0,a.S)({isOk:!1,callId:he,notOkResponses:[a.p.Dismiss],type:re}));break;default:}H&&M({teamId:de,callId:he,results:{summary:H}}),(0,o.dispatchForClientStore)((0,l.Rh)({channelId:ue,optimisticHuddleState:null,huddleState:V})),(0,t.Ay)({getState:ee}).info(c.o7,`Marking huddle as ${V} in component: huddle-survey`)});z.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},1660737630:(B,A,e)=>{"use strict";e.d(A,{GD:()=>v,Ss:()=>T,iz:()=>O});var t=e(3398586081),s=e(6619783004),o=e(5035254771),n=e(1985486637),c=e(4378915552),l=e(2187136646),i=e(4894634110),a=e(7188858884),r=e(7281000332),d=e(3403872308),m=e(7318064140),f=e(3015119762),u=e(7657476646);const E=h((C,I)=>(0,a.Qw)(C,(0,o.Db)({callIds:I,reason:"all-calls-store/conditional-fetch"})).then(M=>M.map(_=>(0,a.Qw)(C,(0,s.oU)(_)))),"fetchAndUpsert"),v=(0,t.A)(()=>new l.Ay({storeKey:"allCalls",fetch:E,isEnabled:()=>!0})),g=h((C,I)=>{const M=I.map(_=>((0,a.Qw)(C,(0,s.oU)(_)),_.id));v().markObjectsAsFresh(C,M)},"upsertCalls"),T=(0,t.A)(()=>new c.Ay({fetch:(C,I)=>(0,a.Qw)(C,(0,o.Db)({callIds:I,reason:"all-calls-store/unknown-fetch"})),upsertKnown:g,upsertNonExistent:(C,I)=>g(C,I.map(M=>{let{id:_}=M;return{id:_,name:""}}))}));let p=0;const O=(0,i.Ay)("Set a huddle topic",(C,I,M)=>{let{channelId:_,topic:P}=M;const b=(0,r.Ry)();if((0,f.aS)(b))return C((0,u.Jc)(P)),n.S.resolve();const S=(0,f.E9)(b);if(!S)return n.S.reject(new Error(`No callId for channel ${_}`));C((0,u.Jc)(P)),p+=1;const N=p;return C((0,o.xB)({roomId:S,name:P})).then(()=>C((0,s.oU)({id:S,name:P}))).finally(()=>{N===p&&C((0,u.Jc)(null)),C((0,d.H)({focusKey:m.Ay.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});O.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const y={fetchAndUpsert:E}},418252839:(B,A,e)=>{"use strict";e.d(A,{A:()=>f});var t=e(5035254771),s=e(1985486637),o=e(4894634110),n=e(4743850398),c=e(7281000332),l=e(6277503403),i=e(3785371303),a=e(321010523),r=e(7397682160),d=e(4357385957);const m=(0,o.Ay)("Notify members to join huddle",async(u,E,v)=>{let{channelId:g,userIds:T}=v;const p=[];if(T&&T.length>0){T.forEach(P=>{u((0,n.oN)({userId:P})),p.push(new s.S((b,S)=>{u((0,t.OB)({userId:P,channelId:g,reason:"huddle-notify-member"})).then(b).catch(N=>{const L=new Error(N.message);L.invitedMemberId=P,L.inviteRejectionReason=N.name,S(L)})}))});const O=(0,c.Ry)(),y=E(),C=(0,l.Yw)(y,g),I=(0,d.$t)(y,{huddleId:C==null?void 0:C.id}),M=(0,d.kn)(O),_=(0,d.UE)(O);(0,r.e)({state:y}).track(a.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:i.Hi.INVITATION_SENT},action:a.UiAction.INVITE_PEOPLE},calls:_},invited_user_ids:T,...I,...M})}return s.S.all(p).then(O=>O)});m.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"};const f=m},3661753604:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>a,V3:()=>l,kb:()=>i});var t=e(4894634110),s=e(7281000332),o=e(6056523190),n=e(3015119762);const c=(0,t.Ay)("End huddle for channelId if any",(r,d,m)=>{const f=(0,s.Ry)(),u=(0,n.hc)(f);u&&u===m&&r((0,o.A)())});c.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const l=(0,t.Ay)("End last active huddle for channelId if any",(r,d,m)=>{var f;const u=(0,s.Ry)(),E=(f=(0,n.Qn)(u))===null||f===void 0?void 0:f.channelId,v=(0,n.Ak)(u);(E&&E===m||v===null&&E&&E!==m)&&r((0,o.A)())});l.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const i=(0,t.Ay)("End huddle for call Id and channelId if any",(r,d,m)=>{let{channelId:f,callId:u}=m;const E=(0,s.Ry)(),{channelId:v,callId:g}=(0,n.Qn)(E)||{};v&&v===f&&g===u&&r((0,o.A)())});i.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"};const a=c},7320907804:(B,A,e)=>{"use strict";e.d(A,{Gt:()=>b,Ho:()=>I,LW:()=>C,Md:()=>p,OF:()=>k,Ux:()=>_,Wf:()=>D,fH:()=>O,gA:()=>y,gV:()=>N,qc:()=>M,rV:()=>P,s5:()=>S});var t=e(5950652755),s=e(4894634110),o=e(3096333992),n=e(2691514942),c=e(6405523064),l=e(5884898564),i=e(293248343),a=e(1230216522),r=e(1288151115),d=e(9383537253),m=e(4216074246),f=e(7831811348);const u=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?l.Ji:l.o8,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),E=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?l.PV:l.CZ,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),v=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?l.DT:l.o,{loop:!1,useSlackPreferredSink:!0})},0,{leading:!0,trailing:!1}),g=(0,t.A)((x,R,U)=>{let F=R?l.sQ:l.wg;const W=.25,w=(0,m.L)(U),K=(0,d.DR)(U);R&&x==="gong"&&K&&w&&(F=l.o3);const j=(0,d.Ey)(U);R&&x==="duck"&&j&&w&&(F=l.nP),(0,c.ZH)(F,{loop:!1,volume:W,useSlackPreferredSink:!0})},5e3,{leading:!0,trailing:!1}),T=h(x=>!(0,i.ty)(x,"mute_huddle_sounds"),"canPlayHuddleSound"),p=(0,s.Ay)("Play sound when user joins",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playSoundOnUserJoin"),u(!1))});p.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const O=(0,s.Ay)("Play sound when user leaves",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playSoundOnUserLeft"),E(!1))});O.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const y=(0,s.Ay)("Play sound when you join",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playSoundOnYouJoin"),u(!0))});y.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const C=(0,s.Ay)("Play sound when you leave",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playSoundOnYouLeft"),E(!0))});C.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const I=(0,s.Ay)("Play sound when user mutes the mic using keyboard shortcut",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playSoundOnMicMute"),v(!0))});I.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const M=(0,s.Ay)("Play sound when user unmutes the mic using keyboard shortcut",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playSoundOnMicUnmute"),v(!1))});M.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const _=(0,s.Ay)("Play sound when reaction is received",(x,R,U)=>{let{emoji:F,isEffect:W}=U;const w=R();(0,i.ty)(w,"huddles_reactions_play_sound")&&T(w)?((0,n.Ay)({getState:R}).info(o.o7,"playSoundOnReaction"),g(F,W,w)):(0,n.Ay)({getState:R}).info(o.o7,"did not playSoundOnReaction")});_.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const P=(0,s.Ay)("Plays the huddle invite sound",(x,R)=>{const U=R();(0,a.ux)(U)||!T(U)||(0,c.ZH)((0,r.qF)(U),{useSlackPreferredSink:!1})});P.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"};const b=(0,s.Ay)("Plays the huddle new requester sound",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playHuddleNewRequesterSound"),(0,c.ZH)(l.rT,{loop:!1,useSlackPreferredSink:!0}))});b.meta={name:"createThunk",key:"createThunkplayHuddleNewRequesterSound",description:"Plays the huddle new requester sound"};const S=(0,s.Ay)("Plays the huddle request accepted sound",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playHuddleNewRequestAcceptedSound"),(0,c.ZH)(l.rT,{loop:!1,useSlackPreferredSink:!0}))});S.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestAcceptedSound",description:"Plays the huddle request accepted sound"};const N=(0,s.Ay)("Plays the huddle request expired sound",(x,R)=>{T(R())&&((0,n.Ay)({getState:R}).info(o.o7,"playHuddleNewRequestExpiredSound"),(0,c.ZH)(l.xE,{loop:!1,useSlackPreferredSink:!0}))});N.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestExpiredSound",description:"Plays the huddle request expired sound"};const L=h(x=>{let R={onSound:void 0,offSound:void 0};switch(x){case"ja-JP":R={onSound:l.Q6,offSound:l.uv};break;case"es-LA":case"es-ES":R={onSound:l.ll,offSound:l.PK};break;default:R={onSound:l.sH,offSound:l.IZ};break}return R},"getHuddleSounds"),D=(0,s.Ay)("Plays the huddle recording on sound",(x,R)=>{const U=(0,f.Yp)(),{onSound:F,offSound:W}=L(U);F&&W&&((0,c.ds)(F),(0,c.ds)(W),(0,c.ZH)(F,{loop:!1,useSlackPreferredSink:!0}))});D.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOnSound",description:"Plays the huddle recording on sound"};const k=(0,s.Ay)("Plays the huddle recording off sound",(x,R)=>{const U=(0,f.Yp)(),{onSound:F,offSound:W}=L(U);F&&W&&((0,c.ds)(F),(0,c.ds)(W),(0,c.ZH)(W,{loop:!1,useSlackPreferredSink:!0}))});k.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOffSound",description:"Plays the huddle recording off sound"}},9555060235:(B,A,e)=>{"use strict";e.d(A,{a:()=>g});var t=e(4894634110),s=e(7281000332),o=e(1874256115),n=e(5888893001),c=e(8725269550),l=e(8338674836),i=e(3730178938),a=e(4743850398),r=e(6441216756),d=e(6947306788),m=e(1242487384),f=e(3164011383),u=e(3542943043),E=e(7874250141),v=e(5167757130);const g=(0,t.Ay)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(T,p,O)=>{let{emoji:y,emojiUrl:C,reactionType:I=i.o.Standard}=O;if(I===i.o.Sticker)T((0,n.Kp)({emoji:y})),(0,s.dispatchForClientStore)((0,o.M4)(y));else{const P=p(),b=(0,E.ZT)(P);let S=C;if(!C&&!(0,f.A)(P,y)){var M;S=(M=(0,u.Ez)(P,{text:y,teamId:b,emojiMode:v.VZ.AS_TEXT,emojiSize:v.lw.MEDIUM}))!==null&&M!==void 0?M:void 0}(0,s.dispatchForClientStore)((0,o.nU)({emoji:y,reactionType:I,emojiUrl:S})),T((0,a._x)({peerId:"self",emoji:y,isEmoji:!0,reactionType:I,emojiUrl:S}));const{huddleEventsTrace:N}=(0,r.A)().getAllTraceHandlers();N==null||N.update({name:d.p.REACTION,type:d.G.ONCE,tags:{reactionType:I}})}const _=(0,m.WR)(p());_&&T((0,l.U$)({type:c.v.SEND_REACTION,memberId:_,timestampMs:Date.now(),emoji:y}))});g.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},1231671841:(B,A,e)=>{"use strict";e.d(A,{A:()=>y});var t=e(8571983633),s=e(4894634110),o=e(7188858884),n=e(7281000332),c=e(7874250141),l=e(3096333992),i=e(1874256115),a=e(8036425525),r=e(3015119762),d=e(3659369705),m=e(2691514942),f=e(2172170811),u=e(5888893001),E=e(5233827933),v=e(4743850398),g=e(6372862721),T=e(9585046758),p=e(2348458032);const O=(0,s.Ay)("Enable or disable local microphone",async(C,I,M)=>{const _=(0,n.Ry)(),P=I(),b=(0,m.Ay)({state:P}),S=(0,g.Hc)(P);if((0,E.RT)(P)||C((0,u.G4)({canShowMutedBanner:!0})),(0,d.y3)()||await(0,n.dispatchForClientStore)((0,p.e$)({mediaResourceType:f.mT.MICROPHONE})),b.info(l.o7,`Set microphone to ${M}`),S&&M){b.warn(l.o7,"Microphone could not be set to enabled as access to the device was blocked"),(0,d.y3)()?C((0,T.CE)({alert:T.vT.NoSystemAudio})):C((0,T.CE)({alert:T.vT.NoBrowserAudioPermission}));return}const{teamId:L}=(0,r.Qn)(_)||{};if(L&&L!==(0,c.ZT)(P)){(0,o.Qw)(L,O(M));return}(0,t.A)(M)||((0,n.dispatchForClientStore)((0,i.I9)(M)),M&&(0,r.wQ)(_)&&C((0,a.e)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),C((0,v.kT)({id:"self",isMicrophoneEnabled:M}))});O.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"};const y=O},6381329795:(B,A,e)=>{"use strict";e.d(A,{A:()=>P});var t=e(4894634110),s=e(1985486637),o=e(2691514942),n=e(7411813784),c=e(8492660032),l=e(2954506804),i=e(7281000332),a=e(4357385957),r=e(3015119762),d=e(3422865900),m=e(6027564436),f=e(511274957),u=e(5965044477),E=e(6084367285),v=e(3294279361),g=e(9383537253),T=e(7657476646),p=e(6854947164),O=e(4703206446),y=e(293248343),C=e(4747441446);const I="HUDDLES",M=(0,t.Ay)("Join/start huddle, but confirm with shouty rooster modal first",(b,S,N)=>{let{channelId:L,threadTs:D,muted:k,callId:x,forceFocus:R,entryPoint:U,forceConfirmation:F,markTelemeter:W,isMultiDevice:w,isStandaloneHuddle:K}=N,j=!1;if((0,g.Rk)(S())){const ee=(0,i.en)().getState(),ne=(0,r.J0)(ee),Z=(0,y.ty)(S(),C.aI)||!1;j=L!==void 0&&ne!==L&&Z}const J=h(()=>{var ie;W&&(0,n.Cy)({state:S()}).mark(m.qr),(ie=b((0,c.A)({channelId:L,threadTs:D,muted:k,callId:x,forceFocus:R,entryPoint:U,isMultiDevice:w,isStandaloneHuddle:K})))===null||ie===void 0||ie.catch(ee=>{(0,o.Ay)({getState:S}).error("Could not start huddle",ee)})},"onConfirm"),z=h(()=>{j&&L&&b((0,O._)({channelId:L,handleJoin:J}))},"showHuddlesJoinPreview");if((0,a.Qj)(S(),L,D)||F){D?b((0,v.iR)({event:{type:u.jo.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{(0,E.Hp)(S(),u.xu.LAUNCH_MODAL)===u.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?b((0,d.Wx)({channelId:L??"",onConfirm:J})):j?z():J()}):b((0,f.Oe)({channelId:L??"",onConfirm:J}));return}j?z():J()});M.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const _=(0,t.Ay)("Join/start huddle, but confirm if already in another huddle",(b,S,N)=>{const{channelId:L}=N,D=S(),k=(0,g.pL)(D),x=(0,i.Ry)(),R=(0,r.hc)(x),U=(0,r.EG)(x),F=(0,r.$V)(x),W=(0,a.r5)(D,{channelId:L});if(b((0,l.z)()),R&&L!==R&&!F){(0,o.Ay)({getState:S}).info(I,"Opening Huddle Switch Modal"),b((0,f.Y6)({prevChannelId:R,nextChannelId:L??"",onConfirm:()=>{b(M({...N,markTelemeter:!1}))}}));return}if(k&&W){(0,o.Ay)({getState:S}).info(I,"Opening Multi Device Flow"),b((0,T.$Z)({channelId:L??"",onConfirm:w=>{let{isMultiDevice:K}=w;return b(M({...N,markTelemeter:!1,isMultiDevice:K}))}}));return}return R&&L===R&&U===p.RJ.STARTED?((0,o.Ay)({getState:S}).info(I,"User attempted to start ongoing huddle again. Aborting."),s.S.resolve()):((0,o.Ay)({getState:S}).info(I,"Joining Huddle through Shouty Rooster"),b(M({...N,markTelemeter:!0})))});_.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"};const P=_},8492660032:(B,A,e)=>{"use strict";e.d(A,{A:()=>X});var t=e(2858838221),s=e(3134334389),o=e(481313997),n=e(480439070),c=e(2947229296),l=e(7262704521),i=e(3659369705),a=e(6259614693),r;(function(Y){Y.Error="error",Y.Warn="warn",Y.Ok="ok"})(r||(r={}));const d={major:4,minor:44,patch:63,pre:void 0,build:void 0},m={major:1,minor:0,patch:0,pre:void 0,build:void 0};function f(){if(!(0,i.y3)())return{supported:!0,level:r.Ok};const Y={...(0,l.su)(),pre:void 0,build:void 0};return(0,a.Z)(Y,m)<0?{supported:!1,level:r.Error}:(0,a.Z)(Y,d)<0?{supported:!0,level:r.Warn}:{supported:!0,level:r.Ok}}h(f,"isSupportedAppVersionForHuddles");var u=e(4071973151),E=e(8823986650),v=e(300722e3),g=e(321010523),T=e(280840163),p=e(205540855),O=e(4576178624);const y=new c.Ay("huddles");function C(Y){let{closeModal:q}=Y;const fe=(0,T.d4)(u.A),ce=(0,T.d4)(le=>(0,p._Z)(le,"adoption_instant_slack"))==="treatment";let Ee,Ae;if((0,t.yh)())Ee=y.t("Your browser does not support Huddles"),Ae=fe&&ce?y.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},le=>{let{text:oe}=le;return s.createElement(E.A,{href:"https://www.google.com/chrome"},oe)}):y.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},le=>{let{tag:oe,text:me}=le;switch(oe){case"desktop-link":return s.createElement(E.A,{href:`https://${(0,n.qF)()}/downloads`},me);case"chrome-link":return s.createElement(E.A,{href:"https://www.google.com/chrome"},me);default:return null}});else if((0,t.WT)())Ee=y.t("Please update Slack"),Ae=y.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else if(f().level===r.Error)Ee=y.t("Please update Slack"),Ae=y.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return s.createElement(o.A,{eventId:g.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:g.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},s.createElement(v.A,{onClose:q,onSubmit:q,showCancelButton:!1,showSubmitButton:!0,title:Ee,submitButtonText:y.t("OK")},Ae))}h(C,"HuddleUnsupportedAlert"),C.displayName="HuddleUnsupportedAlert";const I=(0,O.e)(C);var M=e(1985486637),_=e(4894634110),P=e(7657476646),b=e(9102575680),S=e(8338674836),N=e(7874250141),L=e(6619783004),D=e(1456171589);const k=(0,_.Ay)("End active call",(Y,q)=>{const fe=(0,L.J2)(q());if(fe){const ce=(0,L.Ms)(fe);ce&&!ce.isClosed()&&(0,D.R)(ce,"endActiveCall")}});k.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var x=e(3403872308),R=e(7318064140),U=e(1224515515),F=e(382506915),W=e(7281000332),w=e(6277503403),K=e(9655647811),j=e(9383537253),Q=e(1242487384),J=e(4216074246),z=e(3015119762),ie=e(6854947164),ee=e(3785371303),ne=e(7397682160),Z=e(4357385957),te=e(4724267513),he=e(1522654045),ue=e(160509973),de=e(1874256115),re=e(9585046758),V=e(6441216756);const H=(0,_.Ay)("Start huddle",async(Y,q,fe)=>{let{channelId:ce,threadTs:Ee,muted:Ae,callId:le,forceFocus:oe,entryPoint:me=ie.su.UNKNOWN,isMultiDevice:pe,isStandaloneHuddle:Te}=fe;const Me=q(),Ue=(0,te.Vo)(Me),xe=(0,p._Z)(Me,"hide_all_sidebars")==="on";if(!Ue&&!xe?(0,W.dispatchForClientStore)((0,de.t2)(!0)):(0,W.dispatchForClientStore)((0,de.t2)(!1)),Y(k()),Y((0,S.Lm)(!1)),Y((0,S.T3)()),(0,j.qh)(Me)){const Ve=f();if(!Ve.supported&&Ve.level===r.Error)return Y(I()),M.S.resolve();Ve.level===r.Warn&&Y((0,re.CE)({alert:re.vT.UpdateSlack}))}if((0,t.WT)()||(0,t.yh)())return Y(I()),M.S.resolve();Y((0,F.g6)({experimentHuddlesDiscoveryCallsGroupTreatment:(0,j.Ms)(Me),interactionType:U.X8.Click}));const be=(0,J.L)(Me),ke=(0,N.ZT)(Me);(0,V.A)().initializeTraces({teamId:ke,isTinySpeck:be});const Ke=!!(0,z.gj)((0,W.Ry)()),$=await K.A.getInstance().getNearestChimeMediaRegion(ke),{ttiTrace:ae,huddleEventsTrace:Ge}=(0,V.A)().getAllTraceHandlers();ae.addTTIMetaTags({entryPoint:me,preferredMediaRegion:$,isPrejoin:Ke,isCreate:!(0,w.Yw)(Me,ce)}),Ge==null||Ge.recordEntryPoint(me),ue.A.publish({type:he.lx.PreferredMediaRegion,update:{mediaRegionPreferred:$}});const nt=(0,b.A)(),at=(0,Q.WR)(Me);return nt.start(ke,ce??"",Ae,le,Ee,pe,Te).then(async()=>{const Ve=(0,W.Ry)(),Se=(0,Z.$t)(Me,{huddleId:le}),Pe=(0,Z.kn)(Ve),Fe=(0,Z.UE)(Ve);(0,ne.e)({state:Me}).track(g.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:me,ui_properties:{element_name:ee.Hi.CANVAS_JOIN},action:g.UiAction.TOGGLE},calls:Fe},...Se,...Pe}),Y((0,x.H)({focusKey:R.Ay.HUDDLE_SIDEBAR_FOOTER,forceFocus:oe})),Y((0,P.xb)(!1)),le&&Y((0,L.r_)({callId:le,userId:at}))})});H.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};const X=H},2954506804:(B,A,e)=>{"use strict";e.d(A,{z:()=>n});var t=e(4894634110),s=e(1288151115),o=e(6405523064);const n=(0,t.Ay)("Stop the huddle invite sound",(c,l)=>{(0,o.ds)((0,s.qF)(l()),{logFailure:!1})});n.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},8036425525:(B,A,e)=>{"use strict";e.d(A,{e:()=>r});var t=e(4894634110),s=e(2691514942),o=e(7396246880),n=e(1874256115),c=e(7281000332),l=e(3015119762),i=e(5888893001),a=e(5233827933);const r=(0,t.Ay)("Stops huddle lounge music from playing",(d,m,f)=>{let{clearOnEndedCallback:u,logContext:E,isStoppedByUser:v}=f;const g=m(),T=(0,s.Ay)({state:g}),p=(0,a.jr)(g),O=(0,a.K8)(g),y=(0,c.Ry)(),C=(0,l.E9)(y);o.Ay.getInstance().stopMusic({clearOnEndedCallback:u,logger:T,logContext:E}),(0,c.dispatchForClientStore)((0,n.Ag)(!1)),v&&C&&d((0,i.sH)({huddleId:C,hasUserStoppedLoungeMusic:v})),(v||O)&&p&&d((0,i.ju)({stopMusic:!0}))});r.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},6056523190:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(4894634110),s=e(9102575680),o=e(7281000332),n=e(8036425525),c=e(451657975),l=e(9383537253),i=e(1874256115),a=e(3875619380);const r=(0,t.Ay)("Stop the active huddle",(m,f)=>{const u=f(),E=(0,l.lV)(u);return(0,o.dispatchForClientStore)((0,i.yi)({})),m((0,c.A)()),m((0,n.e)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),E&&(0,o.dispatchForClientStore)((0,i.JM)()),m((0,a.LL)(a.vT.HiddenUserJoinedHuddle)),(0,s.A)().stop()});r.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"};const d=r},1711868125:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>H,vP:()=>de});var t=e(6313685253),s=e(9137897911),o=e(3398586081),n=e(716022512),c=e(6696292586),l=e(6717879785),i=e(6277503403),a=e(9520589283),r=e(4357385957),d=e(1137236691),m=e(3015119762),f=e(5295531317),u=e(2398473551),E=e(3351247794),v=e(7281000332),g=e(3435245823),T=e(5420942935),p=e(3228638226),O=e(4743850398),y=e(3730178938),C=e(6372862721),I=e(4406016077),M=e(7516783851),_=e(1382151596),P=e(9383537253),b=e(5233827933),S=e(117152908),N=e(3659369705),L=e(651151430),D=e(3037982922),k=e(7418708689),x=e(5478938623);function R(X){return X?(0,x.tc)(X)?"free":(0,x.r7)(X)?"enterprise":"pro":"unknown"}h(R,"getTeamTier");var U=e(3666777625),F=e(1492910739),W=e(205540855),w=e(3725785328),K=e(1242487384),j=e(3875619380),Q=e(735855716),J=e(4484802807),z=e(8342266486);const ie=navigator.hardwareConcurrency,ee=(0,N.zS)(),ne=(0,F.b3)(),Z=(0,F.$i)(),te=h(X=>(0,t.A)(X,(Y,q,fe)=>{if(fe===k.N2)return Y;const ce=fe.split(/-|_/).slice(0,-1).join("-"),Ee=(0,s.A)(`windows-${ce}-count`);return Y[Ee]?Y[Ee]+=1:Y[Ee]=1,Y},{}),"countWindowsByType"),he=h(X=>{if(!X)return"";let Y=X;const q=/Default -/g;Y=X.replace(q,"");const fe=/ *?\([^)]*?\) *?/g;return Y=Y.replace(fe,""),Y=Y.trim(),Y},"scrubDeviceLabelForReporting");let ue;const de=h(()=>ue,"getMostRecentStableTags"),re=(0,o.A)((X,Y)=>{let{teamState:q,clientState:fe}=X;var ce;const Ee=(0,m.E9)(fe),Ae=(0,m.hc)(fe),le=(0,I.OV)(q),oe=(0,P.MJ)(q),me=(0,P.nC)(q),pe=(0,P.ZI)(q),Te=(0,P.lz)(q),Me=T.zF.sdkVersion,Ue=(0,r.R8)(q),xe=(0,P.Qq)(q),Ne=(0,m.sQ)(fe),be=(0,P.Jf)(q),ke=(0,P.Ml)(q),Ke=(0,W._Z)(q,"huddles_filter_worker",!1),$=(0,m.l4)(fe),ae=(0,U.H7)(q),Ge=R(ae);var nt;const at=(nt=(ce=(0,u.getBootedWorkspaces)(fe))===null||ce===void 0?void 0:ce.length)!==null&&nt!==void 0?nt:0,Ve=(0,E.D5)(q),Se=(Ve==null?void 0:Ve.length)||0,Pe=(0,w.s2)()||{},Fe={teamId:$,huddleId:Ee,huddleChannelId:Ae,workspaceCount:at,chimeSdkVersion:Me,teamTier:Ge,isPreWarmed:xe,isPrejoin:Ne,isHuddlesIncreaseMaxParticipantsEnabled:me,isTranscriptAllowed:Ue,isChimeSdkExpEnabled:le,isHuddlesLaterEnabled:oe,isVideoQualityIncreaseEnabled:be,isPerfMetricsAveragesEnabled:ke,isDevicesExpEnabled:pe,osVersion:ee,envIsJsPath:ne,envIsQa:Z,xwsChannelCount:Se,filterWorkerGroup:Ke,isFilterWorkerEnabled:Te,...Pe};return ue=Fe,Fe},(X,Y)=>Y),H=h(X=>{let{state:Y,appMetrics:q}=X;var fe,ce,Ee,Ae,le,oe,me,pe;const Te=(0,v.en)().getState(),Me=(0,m.cN)(Te),Ue=(0,m.E9)(Te),xe=`${Me}${Ue??""}`,Ne=re({teamState:Y,clientState:Te},xe),{huddleId:be,huddleChannelId:ke,workspaceCount:Ke}=Ne,$={},ae=(0,p.e6)(Y),Ge=ae?(0,p.Le)(Y,{tab:ae}):{},{primary:nt,secondary:at,sidebar:Ve}=Ge||{};Object.assign($,{viewPrimary:nt==null?void 0:nt.viewType,viewSecondary:at==null?void 0:at.viewType,viewSidebar:Ve==null?void 0:Ve.viewType,viewTab:ae});const Se=(0,C.Hc)(Y),Pe=(0,C.AZ)(Y),Fe=(0,C.IO)(Y),ge=(0,C.JM)(Y),He=(0,C.SR)(Y),Qe=(0,C.f3)(Y),_e=(0,C.aA)(Y),Le={microphoneIsBlocked:Se,microphoneIsAvailable:Pe,cameraIsBlocked:He,cameraIsAvailable:Qe,isMicrophoneBluetooth:Fe,isSpeakerBluetooth:ge,isMicrophoneAndSpeakerOnSameDevice:_e},Ie=(0,a.fq)(Y),we={};if(Ie){const $t=Object.keys(Ie);Object.assign(we,{windowsTotalOpen:$t.length,windowsOpenTypes:$t.length?$t.join(" "):"",windowsTypeWithFocus:(0,n.A)(Ie,En=>!!En.isFocused),...te(Ie)})}const ze=(0,r.Fm)(Y),ut=ze&&ze.type===j.vT.ConnectionUnstable,_t=(0,S._R)(Y),yt=_t!==null,Ot={isTroubleshootingPanelOpen:yt,isAudioOnlyModeEnabled:(0,m.Rv)(Te),troubleshootingPanelTab:yt?(0,S.Eh)(Y):null,troubleshootingPillPage:(0,S.Wg)(Y),troubleshootingEntryPointWas:(0,S.qV)(Y),troubleshootingSessionId:yt?`${(0,K.WR)(Y)}${be}:${(0,S.$i)(Y)}`:null,troubleshootingBannerInView:ut,troubleshootingSource:_t},It=(0,i.UK)(Y),kt=(fe=(0,C.ql)(Y,M.lW.Camera))===null||fe===void 0?void 0:fe.label,gt=(ce=(0,C.ql)(Y,M.lW.Microphone))===null||ce===void 0?void 0:ce.label,Gt=(Ee=(0,C.ql)(Y,M.Q4))===null||Ee===void 0?void 0:Ee.label,{isScreenshareEnabled:Pt,isHostDrawEnabled:jt,isHostDrawRendererActive:Qt,isCameraEnabled:Jt,isMicrophoneEnabled:Yt,isConnected:Rt}=(0,O.Ng)(Y),Bt=!!Pt,dn=!!Jt,Mt=(0,O.fU)(Y,{id:"self"}),Ye=(0,O.MY)(Y),ot=Ye==="self",ht=It.filter($t=>$t.isCameraEnabled).length,tt=(0,g.H)(ke),ct=(0,D.Bh)(),rn=dn&&(ct==null||(Ae=ct.video)===null||Ae===void 0?void 0:Ae.effect)===L.t.Blur,ln=!!(!(ct==null||(le=ct.audio)===null||le===void 0)&&le.enableNoiseSuppression),on=ln&&ot,G=dn&&(ct==null||(oe=ct.video)===null||oe===void 0?void 0:oe.effect)===L.t.Background&&(ct==null||(me=ct.video)===null||me===void 0?void 0:me.effectBgKey)!==void 0,De=!!Ye,We=!!ht,Nt=(0,O.nD)(Y).length,sn=!!Nt,en=Nt+(Bt?1:0),_n=en===2,Dn=sn||Bt,On=(0,S.gA)(Y),In=(0,f.VN)(Y),bn=(0,f.M3)(Y),Hn=De?(pe=It.find($t=>$t.id===Ye))===null||pe===void 0?void 0:pe.userId:void 0,vn=(0,b.dj)(Y,{huddleId:be})||!1,Sn=(0,C.dM)(Y),gn=(0,C.RL)(Y),Rn=(0,Q.$S)(),Qn=(Rn==null?void 0:Rn.microphoneCount)||0,Yn=(Rn==null?void 0:Rn.speakerCount)||0,Jn=(Rn==null?void 0:Rn.cameraCount)||0,$n=(Rn==null?void 0:Rn.totalRecords)||0,_s=(Rn==null?void 0:Rn.webAudioDevices)||0,os=(Rn==null?void 0:Rn.webAudioSelectedDevices)||0,fs=(Rn==null?void 0:Rn.webAudioUsedDevices)||0,Vn=(0,J.p)().getDeviceChangeCountsAtStartOfHuddle(),Nn=Vn.audioInputDevicesChangedAtStartOfHuddleCount,xn=Vn.audioOutputDevicesChangedAtStartOfHuddleCount,Xn=Vn.videoInputDevicesChangedAtStartOfHuddleCount,Zn=(0,z._)(),vs=Zn.hasSelfAudioBeenDetected(),cs=Zn.getSelfAudioDetectionTime(),Ft=Zn.hasRemoteAudioBeenDetected(),Ze=Zn.getRemoteAudioDetectionTime(),st=Zn.haveBothSidesBeenDetected(),vt=l.J.document.visibilityState==="visible",At={isBackgroundBlurActive:rn,isNoiseSuppressionEnabled:ln,isNoiseSuppressionActive:on,isCustomVideoBackgroundActive:G,isClosedCaptionsEnabled:In,isSideBySideCaptionsEnabled:bn},Tt={callId:Ue,isMicrophoneEnabled:Yt,isActiveSpeaker:ot,isSomeoneSpeaking:De,isSomeoneSharingScreen:Dn,isVideoEnabledForSomeone:On,isSharingScreen:Bt,isHostDrawEnabled:jt,isHostDrawActive:Qt,isSelfVideoEnabled:dn,isPeerVideoEnabled:We,isHuddleWindowVisible:tt,selectedCamera:he(kt),selectedMicrophone:he(gt),selectedSpeakers:he(Gt),activeSpeakerUserId:Hn,isPeerSharingScreen:sn,isDualScreenshareActive:_n,cpuCount:ie,remotePeerCount:It.length,remotePeersWithVideoCount:ht,peersScreensharingCount:Nt,activeScreenshareCount:en,workspaceCount:Ke,huddleStartTimestamp:Me,isDisconnected:Rt===!1,isMainWindowVisible:vt,isHuddleSummaryActive:vn,audioInitPossiblyFailed:Sn,audioInitTime:gn,deviceRecordsAudioInputCount:Qn,deviceRecordsAudioOutputCount:Yn,deviceRecordsCameraCount:Jn,deviceRecordsTotalCount:$n,deviceRecordsWebAudioCount:_s,deviceRecordsWebAudioSelectedCount:os,deviceRecordsWebAudioUsedCount:fs,earlyDeviceChangeAudioInputCount:Nn,earlyDeviceChangeAudioOutputCount:xn,earlyDeviceChangeCameraCount:Xn,selfAudioDetected:vs,selfAudioDetectionTime:cs,remoteAudioDetected:Ft,remoteAudioDetectionTime:Ze,bothSidesAudioDetected:st};let Vt={};if(q){const{cpu:$t,memory:En,gpu:Tn,thermalState:tn,speedLimit:Fn}=q,jn=(0,c.A)($t)?Math.round($t*ie):void 0,rs=(0,c.A)(Tn)?Math.round(Tn*ie):void 0,ls=(0,d.oQe)("settings")||{};Vt={cpuUseRelative:$t?Math.round($t):void 0,cpuUse:jn,gpuUse:rs,memoryUse:(En==null?void 0:En.workingSetSize)||void 0,isHardwareAccelerationEnabled:!!ls.useHwAcceleration,osThermalState:tn,osSpeedLimit:Fn,osIsThrottlingCpu:(0,c.A)(Fn)&&Fn!==0?Fn<30:void 0}}let an={huddleViewMode:(0,b.HH)(Y,{huddleId:be})};if(tt){var qe;const $t=(0,b.Ec)(Y,{huddleId:be}),En=(0,b.SC)(Y,{huddleId:be,surface:$t});an={...an,huddleWindowSurface:$t,huddleWindowFocusedContentType:(Mt==null||(qe=Mt.item)===null||qe===void 0?void 0:qe.type)||y.cM.None,huddleWindowIsFullscreen:(0,b.g0)(Y),huddleWindowIsSelfDrawingEnabled:(0,b.ny)(Y),huddleWindowWindowHeight:En==null?void 0:En.height,huddleWindowWindowWidth:En==null?void 0:En.width}}const se=(0,_.Ay)(),Ce={batteryIsUsing:se.isUsingBatteryPower(),batteryPercentRemaining:se.getLevel()},{osIsThrottlingCpu:Oe,osThermalState:Be}=Vt,{batteryIsUsing:Je,batteryPercentRemaining:rt}=Ce,mn={powerThrottlingActive:!!Oe&&!!Je&&(0,c.A)(rt)&&rt<100,thermalThrottlingActive:!!Oe&&(Be==="critical"||Be==="serious")};return{...Tt,...At,...Vt,...an,...$,...Le,...Ce,...Ot,...we,...Ne,...mn}},"getHuddleStateSnapshot")},8282259428:(B,A,e)=>{"use strict";e.d(A,{o:()=>c});var t=e(9588678965),s=e(6277503403),o=e(7874250141),n=e(1660737630);const c=(0,t.Mz)((l,i)=>{const a=(0,s.dy)(l);if(a)return a;const r=(0,s.Yw)(l,i);if(!r)return null;const d=(0,o.ZT)(l);return r.name===void 0?((0,n.Ss)().fetchObjectWithId(d,r.id),null):((0,n.GD)().maybeRefetch(d,r.id),r.name)});c.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(l,i)=>{const a=(0,s.dy)(l);if(a)return a;const r=(0,s.Yw)(l,i);if(!r)return null;const d=(0,o.ZT)(l);return r.name===void 0?((0,n.Ss)().fetchObjectWithId(d,r.id),null):((0,n.GD)().maybeRefetch(d,r.id),r.name)}}},4018727704:(B,A,e)=>{"use strict";e.d(A,{F:()=>c});var t=e(8571983633),s=e(1985486637),o=e(2691514942),n=e(3096333992);class c{static getInstance(){if(!c.wakeLockManager)try{c.wakeLockManager=new c}catch(i){(0,o.Wo)({label:n.o7}).warn("Error instantiating WakeLockManager,",i.message)}return c.wakeLockManager}static doesInstanceExist(){return!(0,t.A)(c.wakeLockManager)}async request(){if(this.wakeLockSentinel)return s.S.resolve();this.wakeLockSentinel=await this.wakeLock.request("screen").catch(i=>(this.logger.warn("WakeLock acquire failed",i.message),null)),this.addHandlers()}async release(){if(!this.wakeLockSentinel)return s.S.resolve();this.shouldRemoveVisibilityHandler=!0,await this.wakeLockSentinel.release(),this.logger.info("WakeLock released")}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}async handleWakeLockReleased(){this.logger.info("WakeLock released by browser"),this.cleanupHandlers()}async handleDocumentVisibilityChange(){document.visibilityState==="visible"&&this.request()}constructor(){if(this.logger=(0,o.Wo)({label:n.o7}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}h(c,"WakeLockManager")},9945681457:(B,A,e)=>{"use strict";e.d(A,{Li:()=>u,ML:()=>c,Rt:()=>i,_6:()=>f,aS:()=>a,al:()=>l,bW:()=>d,it:()=>m,qO:()=>r});var t=e(4414425352),s=e(4894634110),o=e(160509973),n=e(1522654045);const c=(0,t.Ay)("Update the state of the active tab in the huddle troubleshooting panel");c.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveAccordionViewTrace",description:"Update the state of the active tab in the huddle troubleshooting panel"};const l=(0,t.Ay)("Makes troubleshoot panel V2 visible in source view or clears it");l.meta={name:"createAction",key:"createActionsetTroubleshootingSource",description:"Makes troubleshoot panel V2 visible in source view or clears it"};const i=(0,s.Ay)("Set the screen sharing of a peer.",(E,v,g)=>{o.A.publish({type:n.lx.TroubleshootingEntryPoint,update:(g==null?void 0:g.entryPoint)||null}),E(l(g))});i.meta={name:"createThunk",key:"createThunksetTroubleshootingSourceWithTrace",description:"Set the screen sharing of a peer."};const a=(0,t.Ay)("Sets active pill page for tracing.");a.meta={name:"createAction",key:"createActionsetTroubleshootingPillPageTrace",description:"Sets active pill page for tracing."};const r=(0,t.Ay)("Update stable metrics state");r.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const d=(0,t.Ay)("Update unstable metrics and warnings state");d.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const m=(0,t.Ay)("Update stable warnings state");m.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const f=(0,t.Ay)("Update stable alert state");f.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const u=(0,t.Ay)("Update unstable alert state");u.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},3212370162:(B,A,e)=>{"use strict";e.d(A,{V:()=>t});const t="identity_links_prefs"},2828368145:(B,A,e)=>{"use strict";e.d(A,{IC:()=>a,Kb:()=>u,LG:()=>E,R1:()=>m,SU:()=>v,Xe:()=>f,bm:()=>d});var t=e(7691907057),s=e(7919365230),o=e(293248343),n=e(7874250141),c=e(9866181557),l=e(2691514942),i=e(3212370162);const a=(0,t.F)(g=>(0,o.ty)(g,i.V),g=>(0,n.ZT)(g),function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",T=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(g)}catch(p){return(0,l.Ay)({teamId:T}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",p),{}}}),r=(0,s.Ay)(g=>(0,c.xp)(g,i.V));r.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:g=>(0,c.xp)(g,i.V)};const d=(0,s.Ay)(g=>{const T=r(g);var p;return(p=T==null?void 0:T.is_enabled)!==null&&p!==void 0?p:!1});d.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:g=>{const T=r(g);var p;return(p=T==null?void 0:T.is_enabled)!==null&&p!==void 0?p:!1}};const m=(0,s.Ay)((g,T)=>{const p=a(g);var O;return(O=p==null?void 0:p[T])!==null&&O!==void 0?O:!1});m.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(g,T)=>{const p=a(g);var O;return(O=p==null?void 0:p[T])!==null&&O!==void 0?O:!1}};const f=(0,s.Ay)((g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.date_opted_out)!==null&&O!==void 0?O:null});f.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.date_opted_out)!==null&&O!==void 0?O:null}};const u=(0,s.Ay)((g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.completed_transfer)!==null&&O!==void 0?O:!1});u.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.completed_transfer)!==null&&O!==void 0?O:!1}};const E=(0,s.Ay)((g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.num_skipped)!==null&&O!==void 0?O:0});E.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.num_skipped)!==null&&O!==void 0?O:0}};const v=(0,s.Ay)((g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.date_disconnected)!==null&&O!==void 0?O:null});v.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(g,T)=>{const p=m(g,T);var O;return(O=p==null?void 0:p.date_disconnected)!==null&&O!==void 0?O:null}}},8493446852:(B,A,e)=>{"use strict";e.d(A,{C:()=>d});var t=e(3134334389),s=e(4894634110),o=e(2691514942),n=e(7822104609),c=e(3909044024),l=e(5876603232),i=e(2924147417),a=e(4491782939),r=e(2828368145);const d=(0,s.Ay)("Handle a user clicking on an identity link",async(m,f,u)=>{let{url:E,channelId:v}=u;const g=(0,o.Ay)({getState:f}),T=(0,n.ND)(f(),E),p=(0,n.pF)(f(),E),O=(0,i.Z3)(f());if(!(0,n.w$)(f(),E)){window.open(E,"_blank","noopener,noreferrer");return}if(!T){g.error(`error getting appId for domain: ${p}`,E),window.open(E,"_blank","noopener,noreferrer");return}const y=(0,r.SU)(f(),T);if(!O||y){window.open(E,"_blank","noopener,noreferrer");return}if((0,r.Kb)(f(),T)){m((0,a.Ap)({appId:T,url:E,channelId:v,domain:p}));return}if((0,r.Xe)(f(),T)===null){m((0,l.q)({element:t.createElement(c.A,{appId:T,domain:p,url:E,channelId:v}),isStackable:!0}));return}window.open(E,"_blank","noopener,noreferrer")});d.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},4491782939:(B,A,e)=>{"use strict";e.d(A,{zL:()=>g,Ap:()=>v});var t=e(4894634110),s=e(2691514942),o=e(9095778707),n=e(8309078519),c=e(3320534337),l=e(6888290087);const i=(0,c.A)("Get SIWS transfer payload",(p,O,y)=>{let{appId:C,clientMsgId:I,url:M,channelId:_}=y;return p((0,o.o)({appId:C,clientMsgId:I,uri:M,reason:"siws-get-transfer-payload",channelId:_})).then(P=>({...(0,n.t)(P)})).catch(P=>{var b;throw((b=P.data)===null||b===void 0?void 0:b.error)==="invalid_client_cache"&&p((0,l._)()),P})});i.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};const a=i;var r=e(3659369705),d=e(3134334389),m=e(5876603232),f=e(3909044024);const u=(0,t.Ay)("opens the Identity Transfer Modal when we want to Reverify Email",async(p,O,y)=>{let{appId:C,domain:I,url:M,channelId:_}=y;p((0,m.q)({element:d.createElement(f.A,{appId:C,domain:I,url:M,channelId:_,reverifyEmail:!0}),isStackable:!0}))});u.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};const E={window:null,appId:void 0},v=(0,t.Ay)("Fetch and open the initialization URL for an identity link",async(p,O,y)=>{let{appId:C,url:I,domain:M,clientMsgId:_,shouldCloseWindowOnCompletion:P=!1,channelId:b}=y;const S=(0,s.Ay)({getState:O,label:"IDENTITY_LINKS"});let N=null;try{if((0,r.y3)()){const{initiateUrl:L}=await p(a({appId:C,clientMsgId:_,url:I,channelId:b}));window.open(L,"_blank","noopener,noreferrer")}else{N=window.open("","_blank");const{initiateUrl:L}=await p(a({appId:C,clientMsgId:_,url:I,channelId:b}));N.location.href=L,S.info(`opened identity transfer window for appId ${C}`),P&&(E.window=N,E.appId=C)}}catch(L){const D=L==null?void 0:L.data;S.error(`error getting transfer payload for link with appId ${C}`,D==null?void 0:D.error),(D==null?void 0:D.error)===o.V.EmailNotVerified?(N==null||N.close(),p(u({appId:C,channelId:b,domain:M,url:I}))):N?N.location.href=I:window.open(I,"_blank","noopener,noreferrer")}});v.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const g=(0,t.Ay)("Close the browser window used for the identity transfer flow with the given app, if it exists",(p,O,y)=>{let{appId:C}=y;const I=(0,s.Ay)({getState:O,label:"IDENTITY_LINKS"});if(I.info(`checking if there's an identity transfer window to close for appId ${C}`),C&&E.appId===C&&E.window){try{var M,_;E==null||(M=E.window)===null||M===void 0||(_=M.close)===null||_===void 0||_.call(M),I.info(`closed identity transfer window for appId ${C}`)}catch(P){I.error(`error attempting to close identity transfer window for appId ${C}`,P)}E.window=null,E.appId=void 0}});g.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const T={lastOpenedWindowRef:E}},7616658183:(B,A,e)=>{"use strict";e.d(A,{J:()=>i});var t=e(4894634110),s=e(2577163594),o=e(2691514942),n=e(1817891065),c=e(2828368145),l=e(3212370162);const i=(0,t.Ay)("Set all or some identity links user prefs in single call",(a,r,d)=>{let{appId:m,completedTransfer:f,dateOptedOut:u,numSkipped:E,dateLastSkipped:v}=d;const g=(0,c.IC)(r()),T=(0,c.R1)(r(),m);let p="{}";const O={completedTransfer:f,dateOptedOut:u,numSkipped:E,dateLastSkipped:v};try{p=JSON.stringify({...g,[m]:{...T,...(0,n.Ay)(O)}})}catch(y){(0,o.Ay)({getState:r}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",y)}return a((0,s.AZ)({pref:l.V,value:p}))});i.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},8584491274:(B,A,e)=>{"use strict";e.d(A,{E:()=>a});var t=e(382416922),s=e(9203699586),o=e(2691514942),n=e(8073468567),c=e(4894634110),l=e(4872684242),i=e(3347559665);const a=(0,c.Ay)("Fetch lists",async function(r,d){let{query:m,sort:f,reason:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const E=await(m?r((0,t.yz)({query:`type:list ${m}`,includeShares:!0,reason:u||"get-lists",bypassCache:!0})):r((0,s.jQ)({module:n.MT.FILES,query:"type:list",sort:f||i.VU.lastRead,reason:u||"get-lists",context:n.Oj.ListsDefault})).then(v=>{let{items:g}=v;return g}));r((0,l.b)({files:E}))}catch(E){(0,o.Ay)({label:"lists"}).error("error fetching lists",E)}});a.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},9117540773:(B,A,e)=>{"use strict";e.d(A,{D:()=>d});var t=e(2183297536),s=e(9627635097),o=e(3030430895),n=e(2691514942),c=e(3794844178),l=e(4894634110),i=e(7874250141),a=e(11357527),r=e(5548792011);const d=(0,l.Ay)("Fetch list records",async(m,f,u)=>{let{listId:E,currentUserId:v,archived:g=!1,includeSuggested:T=!1,applyNewHighlight:p=!1,preserveNewHighlight:O=!1}=u;const y=f(),C=(0,i.ZT)(y)||"",I=(0,o.isListsPerfEnabled)(y);try{const _=(await m((0,t.z)({listId:E,reason:g?"get-list-archived-records":"get-list-records",includeSubtasks:!0,archived:g,includeSuggested:T}))).records;(0,r.mY)(C,_.map(S=>S.id),E);const P=(0,s.yJ)({listId:E,state:y}),b=_.map(S=>(0,c.jG)(S,P));return g?m((0,a.yw)({listId:E,records:b})):I?m((0,a.oY)({listId:E,records:b,applyNewHighlight:p,preserveNewHighlight:O,currentUserId:v})):(m((0,a.VV)({listId:E,records:b})),m((0,a.fg)({listId:E,currentUserId:v}))),b}catch(M){(0,n.Ay)({label:"lists"}).error("error fetching list records",M)}return null});d.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},2752382156:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(4894634110),s=e(8087802044),o=e(3493336852),n=e(5965044477);const c=(0,t.Ay)("Close the message pane banner",(i,a,r)=>{i((0,s.a)({action:n.hw.DISMISS,reason:"close-banner",...r})),i((0,o.KT)({spaceName:n.xu.MESSAGE_PANE,channelId:r.channelId}))});c.meta={name:"createThunk",key:"createThunkcloseBanner",description:"Close the message pane banner"};const l=c},9905839656:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>u});var t=e(2691514942),s=e(4894634110),o=e(1985486637),n=e(5965044477),c=e(6084367285),l=e(3493336852),i=e(4412949501),a=e(5375489720),r=e(3294279361);const d=(0,s.Ay)("record a dismissal on a megaphone notification",(E,v,g)=>{const{spaceName:T,...p}=g,O=g.channelId||g.entityId,y=(0,t.Wo)();if(!T)return y.error(n.cK,"spaceName is required when dispatching recordAndClearNotification."),o.S.resolve();const C=v(),I=(0,c.Hp)(C,T,O);return(0,a.Ay)(O)&&g.entityType==="team"?E((0,l.pn)({spaceName:T,channelId:O})):E((0,l.KT)({spaceName:T,channelId:O})),E((0,i.A)({notificationName:I,...p}))});d.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"};const m=(0,s.Ay)("DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal",async function(E,v){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{megaphoneSpaces:T,channelSpaces:p}=(0,c.NI)(v()),{reload:O}=g;await Promise.all(Object.values(T).filter(y=>!!y).map(y=>E((0,i.A)({notificationName:y.notificationName,action:n.hw.DISMISS})))),await Promise.all(Object.values(p).filter(y=>!!y).map(y=>Promise.all(Object.values(y).map(C=>E((0,i.A)({notificationName:C.notificationName,action:n.hw.DISMISS})))))),O&&E((0,r.AD)({megaphoneReason:"dev-debug-force-refetch"}))});m.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearAllMegaphoneNotifications",description:"DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal"};const f=(0,s.Ay)("DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned",async(E,v,g)=>{const{notificationName:T,spaceName:p,event:O}=g;let y=!1,C=0;for(;!y&&C<10;){const I=(0,c.Hp)(v(),p);await E((0,i.A)({notificationName:I,action:n.hw.DISMISS})),O?await E((0,r.iR)({event:O})):await E((0,r.iR)({event:{type:n.jo.REQUEST_SPACES,spaces:[p]}}));const M=(0,c.Hp)(v(),p);(M===T||!M)&&(y=!0),C+=1}});f.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearSpaceUntilNotificationReturned",description:"DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned"};const u=d},4412949501:(B,A,e)=>{"use strict";e.d(A,{A:()=>m,j:()=>d});var t=e(2691514942),s=e(4894634110),o=e(8460987997),n=e(8087802044),c=e(1985486637),l=e(5965044477);const i=(0,s.Ay)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(f,u,E)=>{const{notificationName:v,...g}=E,T=(0,t.Wo)();var p;const O=(p=E.reason)!==null&&p!==void 0?p:"record-notification-event";if(!v)return T.error(l.cK,"notificationName is required when dispatching recordNotificationEvent."),c.S.resolve();const y={notification:v,...g,reason:O};return f((0,n.a)(y))});i.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const a=6e4,r=!1,d=(0,o.Ay)(i,a,r,void 0,!1),m=i},6504978273:(B,A,e)=>{"use strict";e.d(A,{h:()=>n});var t=e(2691514942),s=e(5965044477);const o=(0,t.Wo)(),n=h(c=>{let{spaceName:l,notificationName:i}=c;i&&o.error(s.cK,`${i} is not a recognized notification name for space ${l}.`)},"maybeLogUnrecognizedNotification")},4953088289:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(7919365230),s=e(353071615),o=e(6766178921),n=e(2660559006);const c=(0,t.Ay)((i,a)=>{const r=(0,o.nv)(i,a),{status_text_canonical:d}=r.profile;return d?(0,s.UM)(r):(0,n.K)(i,r)?0:(0,s.UM)(r)});c.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(i,a)=>{const r=(0,o.nv)(i,a),{status_text_canonical:d}=r.profile;return d?(0,s.UM)(r):(0,n.K)(i,r)?0:(0,s.UM)(r)}};const l=c},243903495:(B,A,e)=>{"use strict";e.d(A,{A:()=>i});var t=e(8086952004),s=e(7919365230),o=e(6766178921),n=e(1888670708),c=e(2660559006);const l=(0,s.Ay)((a,r)=>{const d=(0,o.nv)(a,r),{status_text_canonical:m}=d.profile;if(m){let f;const u=(0,n.A)(a);return u&&(f=((0,t.A)(u,E=>E.canonical===m)||{}).text||null),m.toLowerCase()==="on a call"&&(f=o.Ru.t("On a call")),f||d.profile.status_text||""}return(0,c.K)(a,d)?o.Ru.t("In a huddle"):d.profile.status_text||""});l.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(a,r)=>{const d=(0,o.nv)(a,r),{status_text_canonical:m}=d.profile;if(m){let f;const u=(0,n.A)(a);return u&&(f=((0,t.A)(u,E=>E.canonical===m)||{}).text||null),m.toLowerCase()==="on a call"&&(f=o.Ru.t("On a call")),f||d.profile.status_text||""}return(0,c.K)(a,d)?o.Ru.t("In a huddle"):d.profile.status_text||""}};const i=l},68453427:(B,A,e)=>{"use strict";e.d(A,{c:()=>d});var t=e(5797466484),s=e(4894634110),o=e(1985486637),n=e(3495018920),c=e(5060479402),l=e(9546963631),i=e(5748932541),a=e(5696416131),r=e(5232664166);const d=(0,s.Ay)("Submits changes to the current user\u2019s profile",(m,f,u)=>{let{profile:E,reason:v="submitProfileChange"}=u;if(!(0,t.A)(E))return o.S.resolve();const g={...E},T=f();return E.status_text&&(g.status_text=(0,n.A)(T,E.status_text)),(0,a.F)(T)&&(E!=null&&E.real_name)&&((0,r.lQ)(T)||m((0,l.S)({pref:i.h2,value:!0}))),m((0,c.n)({profile:JSON.stringify(g),reason:v}))});d.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},9004500274:(B,A,e)=>{"use strict";e.d(A,{p:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Upsert fetched ordered membership list for channel");s.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},6644942044:(B,A,e)=>{"use strict";e.d(A,{GD:()=>E,Nd:()=>g});var t=e(3398586081),s=e(1985486637),o=e(3889517373),n=e(7896495456),c=e(2187136646),l=e(2691514942),i=e(8309327671),a=e(4894634110),r=e(7874250141),d=e(8460987997),m=e(7188858884),f=e(9004500274);const u=1e4,E=(0,t.A)(()=>new c.Ay({storeKey:"membershipOrdered",fetch:(p,O)=>s.S.all(O.map(y=>(0,m.Qw)(p,T({channelId:y,count:o.Ql})))),isEnabled:()=>!0,metricsName:"member-list"})),v=(0,a.Ay)("marks objects as stale via CFM for Membership List",function(p,O){let{teamId:y,channelId:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};E().markObjectsAsStale(y,[C])});v.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const g=(0,d.Ay)(v,(0,i.A)(u,0,.5)),T=(0,a.Ay)("Fetches top members for the channel",function(p,O){let{channelId:y,count:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,n.ds)(p,O,y,C).then(I=>{const M=(0,r.ZT)(O());if(!M){(0,l.Wo)().info("MOS","No teamId found");return}return E().markObjectsAsFresh(M,[y]),p((0,f.p)({channelId:y,memberList:I}))})});T.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},5092593511:(B,A,e)=>{"use strict";e.d(A,{$:()=>c});var t=e(605568209),s=e(7919365230),o=e(7874250141),n=e(6644942044);const c=(0,s.Ay)((l,i)=>{const a=(0,o.ZT)(l);return a&&(0,n.GD)().maybeRefetch(a,i),l&&l.membershipOrdered&&l.membershipOrdered[i]?l.membershipOrdered[i]:t.Ml});c.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(l,i)=>{const a=(0,o.ZT)(l);return a&&(0,n.GD)().maybeRefetch(a,i),l&&l.membershipOrdered&&l.membershipOrdered[i]?l.membershipOrdered[i]:t.Ml}}},7116672546:(B,A,e)=>{"use strict";e.d(A,{z:()=>u});var t=e(7823346015),s=e(8403493408),o=e(1985486637),n=e(8859166048),c=e(5248257622),l=e(4894634110),i=e(7874250141),a=e(7188858884),r=e(1242487384),d=e(3351247794),m=e(1641547755),f=e(351799263);const u=(0,l.Ay)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(E,v){let{channelId:g,userIds:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=v(),[O,y]=(0,t.A)(T,M=>(0,m.wr)(p,g,M)),C=(0,d.OL)(p,g);if((0,n.LI)(C)){const M=(0,c.e)(C),_=(0,r.WR)(p);(0,s.A)(y,M,_),T!=null&&T.includes(M)&&O.push(M),T!=null&&T.includes(_)&&O.push(_)}const I={};return O.forEach(M=>{I[M]=(0,m.Ql)(p,g,M)}),y.length?(0,a.Qw)((0,i.ZT)(p),(0,f.R)({channelId:g,userIds:y})).then(M=>M&&M.payload&&M.payload.membershipInfo?{membershipInfo:{...M.payload.membershipInfo,...I}}:{membershipInfo:I}):o.S.resolve({membershipInfo:I})});u.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"}},4010617374:(B,A,e)=>{"use strict";e.d(A,{T:()=>s,s:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Add a placeholder to the store");s.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const o=(0,t.Ay)("Remove a placeholder from the store by client_msg_id");o.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},604659163:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(7919365230);const s=(0,t.Ay)(o=>o==null?void 0:o.messagePlaceholders);s.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:o=>o==null?void 0:o.messagePlaceholders}},5887868:(B,A,e)=>{"use strict";e.d(A,{I:()=>o});var t=e(7919365230),s=e(604659163);const o=(0,t.Ay)((n,c)=>{var l;return(l=(0,s.A)(n))===null||l===void 0?void 0:l[c]});o.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(n,c)=>{var l;return(l=(0,s.A)(n))===null||l===void 0?void 0:l[c]}}},8373725744:(B,A,e)=>{"use strict";e.d(A,{o:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Start delete animation for a message");s.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"}},643684609:(B,A,e)=>{"use strict";e.d(A,{h:()=>c});var t=e(7919365230),s=e(605568209);const o=(0,t.Ay)(i=>i==null?void 0:i.messagesMeta);o.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:i=>i==null?void 0:i.messagesMeta};var n;const c=(0,t.Ay)((i,a)=>{let{channelId:r,ts:d}=a;var m,f;return(n=(m=o(i))===null||m===void 0||(f=m[r])===null||f===void 0?void 0:f[d])!==null&&n!==void 0?n:s.t0});var l;c.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(i,a)=>{let{channelId:r,ts:d}=a;var m,f;return(l=(m=o(i))===null||m===void 0||(f=m[r])===null||f===void 0?void 0:f[d])!==null&&l!==void 0?l:s.t0}}},4002934744:(B,A,e)=>{"use strict";e.d(A,{j:()=>v});var t=e(4894634110),s=e(9132422875),o=e(3351247794),n=e(7819259683),c=e(3122619948),l=e(8514305816),i=e(8373725744),a=e(9520589283),r=e(6865406402);const d=(0,t.Ay)("Checks if the message is in an active view before doing the animation",function(g,T){let{channelId:p,ts:O,threadTs:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments.length>3?arguments[3]:void 0;const I=T(),{getViewSet:M}=C(n.U),_=!(0,c.A)()||(0,r.T2)(I),P=(0,a.ko)(I)&&_;var b;const{primary:S}=(b=M(I))!==null&&b!==void 0?b:{},N=S==null?void 0:S.id,L=h(()=>g((0,i.o)({channelId:p,ts:O})),"doAnimation");if(P&&N===p){L();return}g((0,l.A)({channelId:p,ts:O,threadTs:y}))});d.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};const m=d;var f=e(2051220974),u=e(643684609),E=e(2691514942);const v=(0,t.Ay)("Delete a message by channel ID and timestamp",function(g,T){let{deleted_ts:p,channel:O,_from_evt_log:y,previous_message:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var I;const M=T(),_=(0,E.Ay)({state:M});if(!p){_.error("Error in messageDeleted: no deleted_ts");return}if(!((0,o.gT)(M,O)&&(0,o.OL)(M,O))){_.error(`Unknown channelId: ${O}`);return}if((I=(0,u.h)(M,{channelId:O,ts:p}))===null||I===void 0?void 0:I.isDeleting)return;const S=!1,L=(0,s.Ld)(M,O,p,S)||C;g(L?m({channelId:O,ts:p,threadTs:L.thread_ts,fromEvtLog:y}):(0,l.A)({channelId:O,ts:p})),g((0,f.o)({channelId:O,ts:p}))});v.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"}},8514561428:(B,A,e)=>{"use strict";e.d(A,{J_:()=>a,QI:()=>E,Up:()=>c,V1:()=>u,Zs:()=>i,iN:()=>n,m3:()=>l,oh:()=>m,qA:()=>d,qj:()=>f,yw:()=>r});var t=e(605568209),s=e(7919365230);const o=(0,s.Ay)(v=>v.modernSelling.salesListViews);o.meta={name:"createSelector",key:"createSelectorgetSalesListViews",description:v=>v.modernSelling.salesListViews};const n=(0,s.Ay)(v=>o(v).listViewActiveObjectOption);n.meta={name:"createSelector",key:"createSelectorgetListViewActiveObjectOption",description:v=>o(v).listViewActiveObjectOption};const c=(0,s.Ay)(v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.listViewSearchResults});c.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.listViewSearchResults}};const l=(0,s.Ay)((v,g)=>{var T;const p=(T=o(v))===null||T===void 0?void 0:T.listViewIdSearchResultsMap;return(p==null?void 0:p[g])||t.t0});l.meta={name:"createSelector",key:"createSelectorgetListViewObjectMapByOrg",description:(v,g)=>{var T;const p=(T=o(v))===null||T===void 0?void 0:T.listViewIdSearchResultsMap;return(p==null?void 0:p[g])||t.t0}};const i=(0,s.Ay)((v,g,T)=>l(v,g)[T]||t.Ml);i.meta={name:"createSelector",key:"createSelectorgetListViewIdsByOrgAndObject",description:(v,g,T)=>l(v,g)[T]||t.Ml};const a=(0,s.Ay)(v=>{var g;return((g=o(v))===null||g===void 0?void 0:g.listViewActiveSearchResultIds)||t.Ml});a.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:v=>{var g;return((g=o(v))===null||g===void 0?void 0:g.listViewActiveSearchResultIds)||t.Ml}};const r=(0,s.Ay)(v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.listViewActiveSearchQuery});r.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.listViewActiveSearchQuery}};const d=(0,s.Ay)(v=>{var g;return((g=o(v))===null||g===void 0?void 0:g.adminSuggestedListViews)||t.Ml});d.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViewsForSidebar",description:v=>{var g;return((g=o(v))===null||g===void 0?void 0:g.adminSuggestedListViews)||t.Ml}};const m=(0,s.Ay)(v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.areAdminSuggestedListViewsForSidebarFresh});m.meta={name:"createSelector",key:"createSelectorgetAreAdminSuggestedListViewsForSidebarFresh",description:v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.areAdminSuggestedListViewsForSidebarFresh}};const f=(0,s.Ay)(v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.adminConfiguredObjects});f.meta={name:"createSelector",key:"createSelectorgetAdminConfiguredObjects",description:v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.adminConfiguredObjects}};const u=(0,s.Ay)(v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.selectedExplorerRowListViewId});u.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewId",description:v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.selectedExplorerRowListViewId}};const E=(0,s.Ay)(v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.selectedExplorerRowListViewType});E.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewType",description:v=>{var g;return(g=o(v))===null||g===void 0?void 0:g.selectedExplorerRowListViewType}}},5804929356:(B,A,e)=>{"use strict";e.d(A,{b:()=>r});var t=e(8907595748),s=e(8679804389),o=e(3947905742),n=e(4894634110),c=e(3638121193),l=e(8514561428),i=e(120625885),a=e(1817769549);const r=(0,n.Ay)("Search list views by query",(d,m,f)=>{let{isFullSearch:u=!1,objectType:E,query:v,salesforceOrgId:g}=f;const T=m(),p=u?t.Iq:t.TD;let O;const y=!(0,s.hx)(T)&&(0,o.ZK)(T);if(E)O=[E];else if(!y){const C=(0,l.qj)(T);C.length&&(O=C.map(I=>I.sobject_api_name))}return d((0,i.R)({limit:p,listviewObjectScopes:O,query:v,sobjects:[{sobjectApiName:"ListView",fields:["Name","LastViewedDate","SobjectType"]}],salesforceOrgId:g,reason:"list_view_search",skipSimpleArraySerializationInGetFormData:y})).then(C=>{let{records:I}=C;const M=I.map(P=>({id:P.value,label:P.label,objectType:P.extras.SobjectType,salesforceOrgId:g})),_=d((0,a.x)({listViews:M,salesforceOrgId:g}));return u&&d((0,c.hA)(_)),M})});r.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search list views by query"}},1817769549:(B,A,e)=>{"use strict";e.d(A,{x:()=>o});var t=e(4894634110),s=e(3638121193);const o=(0,t.Ay)("Upsert list views fetched by search or other API",(n,c,l)=>{let{listViews:i,salesforceOrgId:a}=l;const r=[],d={},m={};return i.forEach(f=>{const u=f.id,E=f.objectType;d[u]={id:u,label:f.label,lastViewedDate:f.lastViewedDate,objectType:E,salesforceOrgId:a,url:f.url},m[E]=m[E]||[],m[E].push(u),r.push(u)}),n((0,s.TO)(d)),n((0,s.KT)({salesforceOrgId:a,listViewObjMap:m})),r});o.meta={name:"createThunk",key:"createThunkupsertFetchedListViews",description:"Upsert list views fetched by search or other API"}},7650890047:(B,A,e)=>{"use strict";e.d(A,{KY:()=>c,p$:()=>s,rB:()=>o,x8:()=>n});var t=e(4414425352);const s=(0,t.Ay)("Set whether inverted sidebar was enabled before starting BBM");s.meta={name:"createAction",key:"createActionsetInvertedSidebarInternal",description:"Set whether inverted sidebar was enabled before starting BBM"};const o=(0,t.Ay)("Set whether peeks were enabled on mouse enter before starting BBM");o.meta={name:"createAction",key:"createActionsetPeeksEnabledOnMouseEnterInternal",description:"Set whether peeks were enabled on mouse enter before starting BBM"};const n=(0,t.Ay)("Set what zoom value was set in the client before starting BBM");n.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client before starting BBM"};const c=(0,t.Ay)("Set whether sidebar was visible before starting BBM");c.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Set whether sidebar was visible before starting BBM"}},7551169221:(B,A,e)=>{"use strict";e.d(A,{UY:()=>o,Vb:()=>t,_J:()=>s,xN:()=>n});const t="slack-inverted-sidebar-initial-setting",s="slack-peeks-enabled-on-mouse-enter-initial-setting",o="slack-zoom-initial-setting",n="slack-is-sidebar-visible-initial-setting"},5051819038:(B,A,e)=>{"use strict";e.d(A,{z:()=>s});var t=e(4414425352);const s=(0,t.Ay)("NOOP");s.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"}},8996998089:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(3677587543),s=e(7523104273),o=e(5051819038),n=e(7188858884),c=e(5228113015);const l=0,a=(0,s.Ay)({},l,{storeKey:"noop",persistenceEnabled:!1}).on(o.z,r=>r+1);(0,t.ul)("dispatchNoop",()=>{(0,n.Qw)((0,c.oI)(),(0,o.z)())})},1770653118:(B,A,e)=>{"use strict";e.d(A,{X:()=>n});var t=e(2755563660),s=e(4894634110),o=e(9328929055);const n=(0,s.Ay)("Fetch a user's onboarding data via API",async function(c,l){let{includeTeamData:i,reason:a=""}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=await c((0,t.l)({include_team_data:i,reason:a})),d={...r.user_data,...r.team_data||{}};return c((0,o.Uv)(d)),d});n.meta={name:"createThunk",key:"createThunkfetchAndSetOnboardingData",description:"Fetch a user's onboarding data via API"}},2519948627:(B,A,e)=>{"use strict";e.d(A,{l:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Relay observed overlays state from OverlaysContextProvider to Redux");s.meta={name:"createAction",key:"createActionrelayOverlays",description:"Relay observed overlays state from OverlaysContextProvider to Redux"}},7933471864:(B,A,e)=>{"use strict";e.d(A,{y:()=>l});var t=e(9588678965),s=e(2519948627),o=e(605568209);const n=o.t0,c={persistenceEnabled:!1,storeKey:"overlays"},l=(0,t.vy)({},n,c).on(s.l,(i,a)=>a)},8814052942:(B,A,e)=>{"use strict";e.d(A,{OI:()=>i,cg:()=>o,kK:()=>s,ot:()=>l,qH:()=>c,us:()=>n});var t=e(4414425352);const s=(0,t.Ay)("Sets the current loading state for a channel");s.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const o=(0,t.Ay)("Adds pinned item identifiers for files and messages to list of pinned items");o.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const n=(0,t.Ay)("Remove an item from the pinned items list for a channel");n.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const c=(0,t.Ay)("Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)");c.meta={name:"createAction",key:"createActionprependPinnedItem",description:"Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)"};const l=(0,t.Ay)("Clears the existing pinned items for a channel and sets the loading state");l.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const i=(0,t.Ay)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");i.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},3027391600:(B,A,e)=>{"use strict";e.d(A,{G:()=>i});var t=e(3398586081),s=e(1985486637),o=e(2187136646),n=e(7188858884),c=e(8814052942),l=e(3038140851);const i=(0,t.A)(()=>new o.Ay({storeKey:"pins",fetch:(a,r)=>s.S.map(r,d=>((0,n.Qw)(a,(0,c.ot)({channelId:d})),(0,n.Qw)(a,(0,l.b)({channelId:d})))),isEnabled:()=>!0,metricsName:"pins"}))},6743072080:(B,A,e)=>{"use strict";e.d(A,{R:()=>t,b:()=>s});const t={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},s={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},1617738883:(B,A,e)=>{"use strict";e.d(A,{$U:()=>d,A_:()=>m,Wt:()=>f,YG:()=>E,c7:()=>u,jR:()=>r});var t=e(9588678965),s=e(7874250141),o=e(9132422875),n=e(4612528447),c=e(3701660703),l=e(3027391600),i=e(6743072080),a=e(4950864742);const r=(0,t.Mz)(function(g,T){let{refetchIfNeeded:p=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p){const O=(0,s.ZT)(g);(0,l.G)().maybeRefetch(O,T)}return g&&g.pins&&g.pins.pinsByChannel[T]});r.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(g,T){let{refetchIfNeeded:p=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p){const O=(0,s.ZT)(g);(0,l.G)().maybeRefetch(O,T)}return g&&g.pins&&g.pins.pinsByChannel[T]}};const d=(0,t.Mz)((g,T)=>{var p,O;return g&&g.pins&&g.pins.pinsByChannel[T]?(p=g.pins.pinsByChannel)===null||p===void 0||(O=p[T])===null||O===void 0?void 0:O.length:0});d.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(g,T)=>{var p,O;return g&&g.pins&&g.pins.pinsByChannel[T]?(p=g.pins.pinsByChannel)===null||p===void 0||(O=p[T])===null||O===void 0?void 0:O.length:0}};const m=(0,t.Mz)((g,T)=>g&&g.pins&&g.pins.loadingStateByChannel[T]);m.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(g,T)=>g&&g.pins&&g.pins.loadingStateByChannel[T]};const f=(0,t.Mz)((g,T)=>{let{channelId:p,ts:O}=T;const y=!1,C=(0,o.Ld)(g,p,O,y);if(!C)return!1;if((0,n.m)(C)&&C.comment){const I=(0,c.yd)(g,C.file,C.comment.id);return I?!!(I.pinned_to&&I.pinned_to.includes(p)):!1}return!!(C.pinned_to&&C.pinned_to.includes(p))});f.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(g,T)=>{let{channelId:p,ts:O}=T;const y=!1,C=(0,o.Ld)(g,p,O,y);if(!C)return!1;if((0,n.m)(C)&&C.comment){const I=(0,c.yd)(g,C.file,C.comment.id);return I?!!(I.pinned_to&&I.pinned_to.includes(p)):!1}return!!(C.pinned_to&&C.pinned_to.includes(p))}};const u=h((g,T)=>{switch(T.type){case i.R.MESSAGE:return{...(0,o.Ld)(g,T.channel,T.ts),type:i.R.MESSAGE};case i.R.FILE:return{...(0,c.Lp)(g,T.id),type:i.R.FILE};case i.R.FILE_COMMENT:return{...(0,c.yd)(g,T.fileId,T.id),fileId:T.fileId,type:i.R.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),E=(0,a.eI)((g,T)=>{const p=r(g,T);return p?p.map(O=>u(g,O)):[]}),v=(0,t.Mz)(g=>g&&g.pins&&g.pins.popoverScrollTop);v.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:g=>g&&g.pins&&g.pins.popoverScrollTop}},3038140851:(B,A,e)=>{"use strict";e.d(A,{b:()=>E});var t=e(2691514942),s=e(6310131164),o=e(4872684242),n=e(4894634110),c=e(7874250141),l=e(7747492238),i=e(862261640),a=e(5572453358),r=e(6743072080),d=e(8814052942),m=e(710497338),f=e(3027391600),u=e(6480427851);const E=(0,n.Ay)("Fetch pinned items list for channel",(v,g,T)=>{const p=T.channelId;return v((0,d.kK)({loadingState:r.b.LOADING,channelId:p})),v((0,s.xs)({reason:"fetchPinsList",...T})).then(function(){let{items:O}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const y=O.filter(M=>M.type.includes(r.R.FILE)).map(M=>{if(M.type===r.R.FILE_COMMENT){const{comment:_,file:P,...b}=M,S=(0,l.A)(_,P);return{...b,file:S}}return M}),C=O.filter(M=>M.type===r.R.MESSAGE);if(y.length){const M=y.filter(P=>P.type!==r.R.FILE_COMMENT),_=y.filter(P=>P.type===r.R.FILE_COMMENT);v((0,o.b)({files:M.map(P=>P.file)})),v((0,o.b)({files:_.map(P=>P.file)}))}if(C.length){const M=C.map(P=>{let{message:b}=P;return b}),_=v((0,i.A)({imsgs:M,channelId:p}));v((0,a.Kc)(_))}v((0,m.K)({channelId:p,count:O.length})),v((0,d.cg)({items:O.map(u.B),channelId:p})),v((0,d.kK)({loadingState:r.b.LOADED,channelId:p}));const I=(0,c.ZT)(g());(0,f.G)().markObjectsAsFresh(I,[p])}).catch(O=>{throw v((0,d.kK)({loadingState:r.b.NOT_LOADED,channelId:p})),(0,t.Ay)({getState:g}).error(`Error in fetchPinsList: ${JSON.stringify(O)}`),O})});E.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},710497338:(B,A,e)=>{"use strict";e.d(A,{K:()=>i});var t=e(4894634110),s=e(1519232272),o=e(3351247794),n=e(2691514942),c=e(6743072080),l=e(1617738883);const i=(0,t.Ay)("update a pin count for a channel",(a,r,d)=>{let{channelId:m,count:f,forceUpdate:u=!1}=d;const E=r(),v={...(0,o.OL)(E,m)},g=(0,l.jR)(E,m,{refetchIfNeeded:!1}),T=(0,l.A_)(E,m),p=!u&&T===c.b.LOADED?g==null?void 0:g.length:f;if(p===v.pinned_items_count)return;(0,n.Ay)({state:E}).info("PINS",`Pins count updated for channel ${m}: ${p}`);const O={...v,pinned_items_count:p};a((0,s.B)({channel:O}))});i.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},6480427851:(B,A,e)=>{"use strict";e.d(A,{B:()=>s});var t=e(6743072080);const s=h(o=>{switch(o.type){case t.R.MESSAGE:var n;return{type:o.type,channel:o.channel,ts:(n=o.message)===null||n===void 0?void 0:n.ts};case t.R.FILE:var c,l;return{type:o.type,id:o.file?o.file.id:(c=o.files)===null||c===void 0||(l=c[0])===null||l===void 0?void 0:l.id};case t.R.FILE_COMMENT:var i;return{type:o.type,id:o.comment.id,fileId:(i=o.file)===null||i===void 0?void 0:i.id};default:return null}},"formatPinFromAPI")},498279955:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(7919365230),s=e(293248343);const o=(0,t.Ay)(c=>(0,s.ty)(c,"messages_theme")==="dense"?"dense":"light");o.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:c=>(0,s.ty)(c,"messages_theme")==="dense"?"dense":"light"};const n=o},2049899491:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(7919365230),s=e(5955725533),o=e(293248343),n=e(498279955);const c=(0,t.Ay)(i=>!(0,s.P)(i)&&!!(0,o.ty)(i,"jumbomoji")&&(0,n.A)(i)!=="dense");c.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:i=>!(0,s.P)(i)&&!!(0,o.ty)(i,"jumbomoji")&&(0,n.A)(i)!=="dense"};const l=c},8337832081:(B,A,e)=>{"use strict";e.d(A,{$n:()=>E,DS:()=>s,Eu:()=>r,JB:()=>u,Lk:()=>v,QU:()=>T,UR:()=>c,Ye:()=>d,aF:()=>g,cl:()=>i,dz:()=>n,gJ:()=>m,mC:()=>l,mo:()=>a,wt:()=>o,zG:()=>f});var t=e(4414425352);const s=(0,t.Ay)("Switch currently active plan");s.meta={name:"createAction",key:"createActionswitchPlans",description:"Switch currently active plan"};const o=(0,t.Ay)("Successfully fetched available plans");o.meta={name:"createAction",key:"createActionplansFetchSuccess",description:"Successfully fetched available plans"};const n=(0,t.Ay)("Successfully fetched cost for current plan");n.meta={name:"createAction",key:"createActioncostFetchSuccess",description:"Successfully fetched cost for current plan"};const c=(0,t.Ay)("Successfully fetched cost for current addon");c.meta={name:"createAction",key:"createActionaddonsCostFetchSuccess",description:"Successfully fetched cost for current addon"};const l=(0,t.Ay)("Received an API error");l.meta={name:"createAction",key:"createActionsetErrorState",description:"Received an API error"};const i=(0,t.Ay)("Plans and cost data loaded");i.meta={name:"createAction",key:"createActionplansAndCostDataLoaded",description:"Plans and cost data loaded"};const a=(0,t.Ay)("Mark plans and cost data as not loaded");a.meta={name:"createAction",key:"createActionmarkPlansAndCostDataAsNotLoaded",description:"Mark plans and cost data as not loaded"};const r=(0,t.Ay)("Set Plan Level");r.meta={name:"createAction",key:"createActionsetPlanLevel",description:"Set Plan Level"};const d=(0,t.Ay)("Set Payment Method");d.meta={name:"createAction",key:"createActionsetPaymentMethod",description:"Set Payment Method"};const m=(0,t.Ay)("Update Is Plans Data Loading");m.meta={name:"createAction",key:"createActionupdateIsPlansDataLoading",description:"Update Is Plans Data Loading"};const f=(0,t.Ay)("Update Is Cost Data Loading");f.meta={name:"createAction",key:"createActionupdateIsCostDataLoading",description:"Update Is Cost Data Loading"};const u=(0,t.Ay)("Load Plans Page Boot Data Success");u.meta={name:"createAction",key:"createActionloadPlansPageBootDataSuccess",description:"Load Plans Page Boot Data Success"};const E=(0,t.Ay)("Mark plans page boot data as not loaded");E.meta={name:"createAction",key:"createActionmarkPlansPageBootDataAsNotLoaded",description:"Mark plans page boot data as not loaded"};const v=(0,t.Ay)("Mark plan payment status data as not loaded");v.meta={name:"createAction",key:"createActionmarkPlanStatusDataAsNotLoaded",description:"Mark plan payment status data as not loaded"};const g=(0,t.Ay)("Set when toggling between base plan and Slack AI on plans page");g.meta={name:"createAction",key:"createActionsetIsSlackAiToggleSelected",description:"Set when toggling between base plan and Slack AI on plans page"};const T=(0,t.Ay)("Team plan status loaded");T.meta={name:"createAction",key:"createActionteamPlanStatusFetchSuccess",description:"Team plan status loaded"}},7695964394:(B,A,e)=>{"use strict";e.d(A,{g:()=>o});var t=e(205540855),s=e(7919365230);const o=(0,s.Ay)(n=>(0,t._Z)(n,"pnp_e2e",!1)==="on");o.meta={name:"createSelector",key:"createSelectorpnpE2eIsOn",description:n=>(0,t._Z)(n,"pnp_e2e",!1)==="on"}},2449324469:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(4894634110),s=e(7357481378),o=e(8337832081);const n=(0,t.Ay)("Load Plans Page Boot Data",l=>(l((0,o.$n)()),l((0,s.ib)()).then(i=>{let a=!0;return i!=null&&i.team_current_product&&i.team_current_product!==""&&(a=!1),l((0,o.aF)({isSelected:a})),l((0,o.JB)(i))})));n.meta={name:"createThunk",key:"createThunkloadPlansPageBootData",description:"Load Plans Page Boot Data"};const c=n},6556118908:(B,A,e)=>{"use strict";e.d(A,{L9:()=>g,aJ:()=>E,hb:()=>m,jv:()=>v,s:()=>p});var t=e(3278623468),s=e(1137236691),o=e(2754509362),n=e(5478938623),c=e(3362542648),l=e(7919365230),i=e(205540855),a=e(542703974),r=e(3666777625);const d=[{promoType:c.ZO.PaidFeatureTrial,promoSubtype:c.zG.MessageLimit},{promoType:c.ZO.PaidFeatureTrial,promoSubtype:c.zG.Vhq},{promoType:c.ZO.PaidFeatureTrial,promoSubtype:c.zG.Canvas},{promoType:c.ZO.PaidFeatureTrial,promoSubtype:c.zG.SharedChannels},{promoType:c.ZO.PaidFeatureTrial,promoSubtype:c.zG.List},{promoType:c.ZO.PaidFeatureTrial,promoSubtype:c.zG.WorkflowBuilder},{promoType:c.ZO.PaidFeatureTrial,promoSubtype:c.zG.SlackAI},{promoType:c.ZO.GlobalEntrypointTrial},{promoType:c.ZO.SolutionsGalleryPromo,promoSubtype:c.zG.SolutionsGalleryInProduct}],m=(0,l.Ay)(()=>!((0,t.z$)()||(0,o.Fr)()));m.meta={name:"createSelector",key:"createSelectorisAutoChargeTrialEnabled",description:()=>!((0,t.z$)()||(0,o.Fr)())};const f=(0,l.Ay)(O=>d.some(y=>{let{promoType:C,promoSubtype:I}=y;return(0,a.G)(O,C,I)}));f.meta={name:"createSelector",key:"createSelectorisCurrentTrialEligiblePromoCampaign",description:O=>d.some(y=>{let{promoType:C,promoSubtype:I}=y;return(0,a.G)(O,C,I)})};const u=(0,l.Ay)(O=>d.some(y=>{let{promoType:C,promoSubtype:I}=y;return(0,a.hq)(O,C,I)}));u.meta={name:"createSelector",key:"createSelectorisEligiblePromoCampaign",description:O=>d.some(y=>{let{promoType:C,promoSubtype:I}=y;return(0,a.hq)(O,C,I)})};const E=h(O=>{let{campaignType:y,campaignSubType:C}=O;return y?d.some(I=>{let{promoType:M,promoSubtype:_}=I;return M===y&&_===C}):!1},"checkIfEligiblePromoCampaign"),v=(0,l.Ay)(O=>{const y=(0,r.H7)(O);return!(0,n.tc)(y)&&(0,a.tV)(O)&&f(O)&&m(O)});v.meta={name:"createSelector",key:"createSelectorisCurrentlyOnAutoChargeFeatureTrial",description:O=>{const y=(0,r.H7)(O);return!(0,n.tc)(y)&&(0,a.tV)(O)&&f(O)&&m(O)}};const g=(0,l.Ay)(function(O){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const C=(0,r.H7)(O);return!(0,s.Z9F)()&&(0,n.tc)(C)&&!(0,a.iH)(O)&&(y||u(O))&&m(O)});g.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeFeatureTrial",description:function(O){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const C=(0,r.H7)(O);return!(0,s.Z9F)()&&(0,n.tc)(C)&&!(0,a.iH)(O)&&(y||u(O))&&m(O)}};const T=(0,l.Ay)(O=>g(O)&&(0,c.jo)());T.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeAndCheckoutRoute",description:O=>g(O)&&(0,c.jo)()};const p=(0,l.Ay)(O=>(0,i._Z)(O,"pnp_deferred")==="on"&&v(O));p.meta={name:"createSelector",key:"createSelectorisPnpAutoChargeTrial",description:O=>(0,i._Z)(O,"pnp_deferred")==="on"&&v(O)}},6168665379:(B,A,e)=>{"use strict";e.d(A,{F:()=>s});var t=e(7919365230);const s=(0,t.Ay)(o=>o&&o.promo&&o.promo.showTrialStartedCelebration);s.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:o=>o&&o.promo&&o.promo.showTrialStartedCelebration}},6763804501:(B,A,e)=>{"use strict";e.d(A,{r:()=>W});var t=e(3134334389),s=e(974173134),o=e(5325419257),n=e(6122756707),c=e(2523272975),l=e(2947229296),i=e(5709324800),a=e(7304344557),r=e(829941451),d=e(2634567209),m=e(6185607869),f=e(6906413301),u=e(3761406528),E=e(8402179405),v=e(50929051),g=e(321010523),T=e(1204205618),p=e(3362542648),O=e(3537507126),y=e(3722187186),C=e(280840163),I=e(2069063006),M=e(9872055788),_=e(8813793118),P=e(3666777625);const b=new l.Ay("trials"),S={eventId:g.EventId.UPGRDEXP_TRIAL,uiComponentName:g.UiComponentName.PRO_TRIAL_ENTRY_POINT_MODAL},N={elementName:"upgrade_now",onClick:{enableClogAction:!0}},L={elementName:"compare_plans",onClick:{enableClogAction:!0}},D=h(w=>{let{isEligibleForTrial:K,canUserPurchase:j,entryPoint:Q,promoType:J,promoSubtype:z}=w;const ie=(0,C.d4)(_.k),ee=(0,C.d4)(P.H7),ne=(0,n.wA)(),Z=(0,i.N)(),te=(0,C.d4)(Me=>(0,M.UO)(Me,p.i6.standard.name,p.ck.monthly)),{currency:he,primaryBaseCostPerMonth:ue,primaryDiscountCostPerMonth:de}=(0,u.A)(p.i6.standard.name),re=(0,t.useMemo)(()=>{if(!K&&j)return{text:b.t("Upgrade Now"),url:(0,p.Qn)({team:ee,productId:te,excludeDomain:!0,entryPoint:Q})};if(K&&j){const Me=(0,p.tc)({team:ee,productId:te,promoType:J,promoSubtype:z,entryPoint:Q});return{text:b.t("Try Pro for Free"),url:Me}}},[j,Q,K,te,z,J,ee]),V=(0,C.d4)(Me=>(0,p.m6)(Me,{action:"checkout",productLevel:p.i6.plus.id,entryPoint:"pro_trials_entry_point_compare_plans_modal"})),H=(0,t.useCallback)(()=>{if(ie){ne((0,y.A)({prices:Z,entryPoint:"pro_trials_entry_point_compare_plans_modal",planLevelToHighlight:p.F2.STD,planLevelsToDisplay:{free:!0,pro:!0,plus:!0},title:ie?b.t("Compare Pro and Business+ Plans"):"",subtitle:null,actionsByPlanLevel:re?{free:null,pro:{buttonText:re.text,href:re.url},plus:{buttonText:ie?b.t("Upgrade Now"):"",href:V}}:"default",onClickBackButton:()=>{if(!J){ne((0,I.O)());return}ne((0,O.A)({promoType:J,promoSubtype:z,entryPoint:"pro_trials_entry_point_compare_plans_modal"}))}}));return}ne((0,E.A)({canUserPurchase:j,trialEligible:K}))},[ie,ne,j,K,Z,re,V,J,z]),X=(0,m.d)(),Y=(0,d.s)(),q=(0,r.D)(),fe=(0,a.a)(),ce=(0,c.F)().getLocaleForLastViewedTeam(),Ee=(0,t.useMemo)(()=>[{key:"slack_ai_message_summaries",imgSrc:X.assets[ce].png,lottieSrc:X.assets[ce].lottie,title:b.t("Get up to speed at lightning speed"),subtitle:b.t("With unlimited message history and AI channel summaries."),theme:"aubergine"},{key:"external_partners",imgSrc:Y.assets[ce].png,lottieSrc:Y.assets[ce].lottie,title:b.t("Work with external partners"),subtitle:b.t("Create channels and direct message with external people."),theme:"cilantro"},{key:"unlimited_app_integrations",imgSrc:q.assets[ce].png,lottieSrc:q.assets[ce].lottie,title:b.t("Make every integration seamless"),subtitle:b.t("Get unlimited apps so your team never misses a beat."),theme:"lagoon"},{key:"slack_ai_huddles_notes",imgSrc:fe.assets[ce].png,lottieSrc:fe.assets[ce].lottie,title:b.t("Group meetings with instant notes"),subtitle:b.t("Hop on group calls in channel and leave the note-taking to AI."),theme:"sunflower"}],[fe.assets,q.assets,ce,Y.assets,X.assets]),Ae=b.t("Compare Plans"),le=(0,t.useMemo)(()=>({text:Ae,onClick:H}),[Ae,H]),oe=t.createElement(v.d,{plan:p.i6.standard.name},ie?b.t("per person per month"):""),me=(0,T.A)(de||ue,he);let pe=ie?b.rt("Explore the premium features of our most popular plan for free with a {featureTrialLength} day trial. After that, you\u2019ll be charged {formattedPrice} {perPersonPerMonth}.",{featureTrialLength:p.ew.PAID_FEATURE_TRIAL,formattedPrice:me,perPersonPerMonth:oe}):"";(!K||!j)&&(pe=ie?b.rt("Get the premium features of our most popular plan for {formattedPrice} {perPersonPerMonth}",{formattedPrice:me,perPersonPerMonth:oe}):"");let Te=ie?b.rt("Try Pro for {featureTrialLength} days",{featureTrialLength:p.ew.PAID_FEATURE_TRIAL}):"";return(!K||!j)&&(Te=b.rt("Do more with Slack Pro")),t.createElement(f.m,{autoClogProps:S,primaryCTAAutoClogProps:N,secondaryCTAAutoClogProps:L,title:Te,subtitle:pe,secondaryCTA:le,primaryCTA:re,carouselFeatures:Ee,entryPoint:Q})},"ProTrialsEntryPointModal");D.displayName="ProTrialsEntryPointModal";var k=e(315585246),x=e(4894634110),R=e(5876603232),U=e(2449324469),F=e(8717193059);const W=(0,x.Ay)("Open Auto Charge Trial entry modal",async(w,K,j)=>{let{promoType:Q,promoSubtype:J,entryPoint:z}=j;const ie=(0,_.k)(K()),ee=(0,M.Pr)(K()),{isEligible:ne}=await w((0,F.A)({campaignType:Q,campaignSubType:J,reason:"auto_charge_trial_entry"}));if(ie){const Z=(0,k.X)(K());return ee||(w((0,R.q)({element:t.createElement(s.A,{className:"p-trial_entry_point_modal__loading_modal"})})),await w((0,U.A)())),w((0,R.q)({element:t.createElement(D,{isEligibleForTrial:ne,canUserPurchase:Z,entryPoint:z,promoType:Q,promoSubtype:J})}))}return w((0,R.q)({element:t.createElement(o.J,{entryPoint:z||"auto_charge_trial_entry_point",isEligibleForTrial:ne,promoType:Q,promoSubtype:J})}))});W.meta={name:"createThunk",key:"createThunkopenAutoChargeTrialEntryModal",description:"Open Auto Charge Trial entry modal"}},3173295423:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(2034809228),s=e(1727933469),o=e(7819259683),n=e(7418708689),c=e(3449258574),l=e(84054721),i=e(3228638226),a=e(33414219),r=e(4894634110);const d=(0,r.Ay)("Open a document on a specific version",async(f,u,E,v)=>{const{fileId:g,windowId:T,version:p,isFromCloseActivityHistory:O,replaceHistoryState:y}=E,C=u(),{versionId:I,sequence:M}={...p};if(!g)return;const{isMainWindow:_,closeView:P,getViewSet:b}=v(o.U),S=(0,i.e6)(C),N=(0,s.xu)(C,T),{versionId:L,sequence:D}={...N},k=O?void 0:I||L,x=O?void 0:M||D;if(O||f((0,t.fw)({windowId:T,versionId:I||L})),y){const R=_?b(C):(0,i.hZ)(C,{windowId:T});if(R){const U=R[n.mq.Primary];if(U){const F={...R,[n.mq.Primary]:{...R[n.mq.Primary],params:{...U.params,versionId:k,sequence:x}}};f(_?(0,l.A)({windowId:n.N2,tab:S,viewSet:F}):(0,l.A)({childWindowId:T.toString(),viewSet:F}))}}}else{const R={id:(0,c.Lo)({id:g}),versionId:k,sequence:x,preserveExistingSecondaryView:!O};f(_?(0,a.IZ)({windowId:n.N2,tab:S,container:n.mq.Primary,params:R}):(0,a.IZ)({childWindowId:T.toString(),container:n.mq.Primary,params:R})),O&&P(n.mq.Secondary)}O&&f((0,t.NA)({windowId:T}))});d.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"};const m=d},2785849292:(B,A,e)=>{"use strict";e.d(A,{Bi:()=>o,d0:()=>c,oj:()=>n});var t=e(7919365230);const s=(0,t.Ay)(l=>l==null?void 0:l.quipDocEmbeds);s.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:l=>l==null?void 0:l.quipDocEmbeds};const o=(0,t.Ay)(l=>{const i=s(l);return i&&Object.keys(i).length>0});o.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:l=>{const i=s(l);return i&&Object.keys(i).length>0}};const n=(0,t.Ay)(l=>{const i=s(l);return Object.keys(i)});n.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:l=>{const i=s(l);return Object.keys(i)}};const c=(0,t.Ay)((l,i)=>{const a=s(l);var r;return((r=a[i])!==null&&r!==void 0?r:0)>0});c.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(l,i)=>{const a=s(l);var r;return((r=a[i])!==null&&r!==void 0?r:0)>0}}},7104086192:(B,A,e)=>{"use strict";e.d(A,{Kt:()=>i,al:()=>c,jw:()=>n,k:()=>s,uo:()=>o,z5:()=>l});var t=e(4414425352);const s=(0,t.Ay)("Store/replace client.counts for this channel");s.meta={name:"createAction",key:"createActionsetQuipUnreadCount",description:"Store/replace client.counts for this channel"};const o=(0,t.Ay)("increment mention count for the channel");o.meta={name:"createAction",key:"createActionincQuipUnreadCountForChannel",description:"increment mention count for the channel"};const n=(0,t.Ay)("Add canvases to hide on undo");n.meta={name:"createAction",key:"createActionsetCanvasesToHideOnClearAll",description:"Add canvases to hide on undo"};const c=(0,t.Ay)("clear new mention flag for the channel");c.meta={name:"createAction",key:"createActionclearNewMentionFlagForChannel",description:"clear new mention flag for the channel"};const l=(0,t.Ay)("Set the list of enterprise file channels (canvases) to exclude from total counts");l.meta={name:"createAction",key:"createActionsetCanvasesToSuppress",description:"Set the list of enterprise file channels (canvases) to exclude from total counts"};const i=(0,t.Ay)("Set the last seen timestamp for a badged canvas animation");i.meta={name:"createAction",key:"createActionsetLastSeenCanvasAnimationTimestamp",description:"Set the last seen timestamp for a badged canvas animation"}},8807931182:(B,A,e)=>{"use strict";e.d(A,{N:()=>a});var t=e(2947229296),s=e(5355117074),o=e(7570256687),n=e(5318639645),c=e(8471041027),l=e(758425580);const i=new t.Ay("file"),a=h((r,d,m)=>{var f;if(Array.isArray(m))return m.map(T=>a(r,d,T));const u=(0,c.g)(r,d),E=i.rt("Created by {creator}",{creator:typeof u=="string"?u:(f=u.props)===null||f===void 0?void 0:f.children});switch(m){case n.s.OWNER:var v;return(v=E.props)===null||v===void 0?void 0:v.children;case n.s.LAST_VIEWED:{const g=d.last_read||d.created,T=(0,o.Od)(g,{uncapitalizedRelativeDay:!0});return(0,o.rK)(g)?i.t("Last viewed {time}",{time:T}):i.t("Last viewed on {time}",{time:T})}case n.s.LAST_UPDATED:{const g=d.updated||d.created,T=(0,s.Ay)((0,o.YY)(g));return i.t("Updated {time}",{time:T})}case n.s.SHARED_TIMESTAMP:{const g=d.created,T=(0,o.Od)(g,{uncapitalizedRelativeDay:!0});return(0,o.rK)(g)?i.t("Shared {time}",{time:T}):i.t("Shared on {time}",{time:T})}case n.s.READ_TIME:return(0,l.O)(r,d);case n.s.CREATED_TIMESTAMP:default:{const g=d.created,T=(0,o.Od)(g,{uncapitalizedRelativeDay:!0});return(0,o.rK)(g)?i.t("Created {time}",{time:T}):i.t("Created on {time}",{time:T})}}},"getFileMetaForSyntheticView")},4068857279:(B,A,e)=>{"use strict";e.d(A,{R:()=>d,Y:()=>r});var t=e(2754509362),s=e(5478938623),o=e(5515335703),n=e(7919365230),c=e(5068081974),l=e(1808974675),i=e(9291826122),a=e(3666777625);const r=(0,n.Ay)(m=>{const f=(0,l.eJ)(m),u=(0,c.CC)(m);if((0,o.c)(m)||(0,t.Fr)())return!1;const E=(0,a.H7)(m);return!((0,s.r7)(E)||f||u)});r.meta={name:"createSelector",key:"createSelectorisEligibleForAiWorkspaceTeamCreation",description:m=>{const f=(0,l.eJ)(m),u=(0,c.CC)(m);if((0,o.c)(m)||(0,t.Fr)())return!1;const E=(0,a.H7)(m);return!((0,s.r7)(E)||f||u)}};const d=(0,n.Ay)(m=>!(!r(m)||!(0,i.lP)(m)));d.meta={name:"createSelector",key:"createSelectorisEligibleForAiWorkspaceTeamCreationExperiment",description:m=>!(!r(m)||!(0,i.lP)(m))}},9291826122:(B,A,e)=>{"use strict";e.d(A,{cY:()=>f,lP:()=>i});var t=e(7919365230),s=e(4894634110),o=e(7263227031),n=e(205540855);const c=(0,t.Ay)(u=>(0,n.ze)(u,"ai_workspace_team_creation_v1"));c.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1GetAssignment",description:u=>(0,n.ze)(u,"ai_workspace_team_creation_v1")};const l=(0,t.Ay)(u=>(0,n.ze)(u,"ai_workspace_team_creation_v1")==="control");l.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsControl",description:u=>(0,n.ze)(u,"ai_workspace_team_creation_v1")==="control"};const i=(0,t.Ay)(u=>(0,n.ze)(u,"ai_workspace_team_creation_v1")==="treatment");i.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsTreatment",description:u=>(0,n.ze)(u,"ai_workspace_team_creation_v1")==="treatment"};const a=(0,t.Ay)(u=>{var E;return["treatment"].includes((E=(0,n.ze)(u,"ai_workspace_team_creation_v1"))!==null&&E!==void 0?E:"")});a.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsAnyTreatment",description:u=>{var E;return["treatment"].includes((E=(0,n.ze)(u,"ai_workspace_team_creation_v1"))!==null&&E!==void 0?E:"")}};const r=(0,t.Ay)(u=>l(u)||a(u));r.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsExposed",description:u=>l(u)||a(u)};const d=(0,t.Ay)(u=>{var E;return["aa_control","aa_treatment"].includes((E=(0,n.ze)(u,"ai_workspace_team_creation_v1"))!==null&&E!==void 0?E:"")});d.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsAAExposed",description:u=>{var E;return["aa_control","aa_treatment"].includes((E=(0,n.ze)(u,"ai_workspace_team_creation_v1"))!==null&&E!==void 0?E:"")}};const m=h(function(u){let{sendImmediately:E=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=(0,n.KK)(u,"ai_workspace_team_creation_v1");v&&v.log_exposures&&(0,o.K)("ai_workspace_team_creation_v1",v,u,E)},"aiWorkspaceTeamCreationV1LogExposure"),f=(0,s.Ay)("Log exposure for the ai_workspace_team_creation_v1 experiment if it is exposed",function(u,E){let{sendImmediately:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=E();(r(g)||d(g))&&m(g,{sendImmediately:v})});f.meta={name:"createThunk",key:"createThunkaiWorkspaceTeamCreationV1MaybeLogExposure",description:"Log exposure for the ai_workspace_team_creation_v1 experiment if it is exposed"}},4580929411:(B,A,e)=>{"use strict";e.d(A,{KH:()=>f,RN:()=>i});var t=e(7919365230),s=e(4894634110),o=e(7263227031),n=e(205540855);const c=(0,t.Ay)(u=>(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades"));c.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesGetAssignment",description:u=>(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades")};const l=(0,t.Ay)(u=>(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades")==="control");l.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsControl",description:u=>(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades")==="control"};const i=(0,t.Ay)(u=>(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades")==="treatment");i.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsTreatment",description:u=>(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades")==="treatment"};const a=(0,t.Ay)(u=>{var E;return["treatment"].includes((E=(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades"))!==null&&E!==void 0?E:"")});a.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAnyTreatment",description:u=>{var E;return["treatment"].includes((E=(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades"))!==null&&E!==void 0?E:"")}};const r=(0,t.Ay)(u=>l(u)||a(u));r.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsExposed",description:u=>l(u)||a(u)};const d=(0,t.Ay)(u=>{var E;return["aa_control","aa_treatment"].includes((E=(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades"))!==null&&E!==void 0?E:"")});d.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAAExposed",description:u=>{var E;return["aa_control","aa_treatment"].includes((E=(0,n.ze)(u,"boost_bus_plus_awareness_and_upgrades"))!==null&&E!==void 0?E:"")}};const m=h(function(u){let{sendImmediately:E=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=(0,n.KK)(u,"boost_bus_plus_awareness_and_upgrades");v&&v.log_exposures&&(0,o.K)("boost_bus_plus_awareness_and_upgrades",v,u,E)},"boostBusPlusAwarenessAndUpgradesLogExposure"),f=(0,s.Ay)("Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed",function(u,E){let{sendImmediately:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=E();(r(g)||d(g))&&m(g,{sendImmediately:v})});f.meta={name:"createThunk",key:"createThunkboostBusPlusAwarenessAndUpgradesMaybeLogExposure",description:"Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed"}},1631152177:(B,A,e)=>{"use strict";e.d(A,{$J:()=>i,E5:()=>f});var t=e(7919365230),s=e(4894634110),o=e(7263227031),n=e(205540855);const c=(0,t.Ay)(u=>(0,n.ze)(u,"pnp_go"));c.meta={name:"createSelector",key:"createSelectorpnpGoGetAssignment",description:u=>(0,n.ze)(u,"pnp_go")};const l=(0,t.Ay)(u=>(0,n.ze)(u,"pnp_go")==="control");l.meta={name:"createSelector",key:"createSelectorpnpGoIsControl",description:u=>(0,n.ze)(u,"pnp_go")==="control"};const i=(0,t.Ay)(u=>(0,n.ze)(u,"pnp_go")==="treatment");i.meta={name:"createSelector",key:"createSelectorpnpGoIsTreatment",description:u=>(0,n.ze)(u,"pnp_go")==="treatment"};const a=(0,t.Ay)(u=>{var E;return["treatment"].includes((E=(0,n.ze)(u,"pnp_go"))!==null&&E!==void 0?E:"")});a.meta={name:"createSelector",key:"createSelectorpnpGoIsAnyTreatment",description:u=>{var E;return["treatment"].includes((E=(0,n.ze)(u,"pnp_go"))!==null&&E!==void 0?E:"")}};const r=(0,t.Ay)(u=>l(u)||a(u));r.meta={name:"createSelector",key:"createSelectorpnpGoIsExposed",description:u=>l(u)||a(u)};const d=(0,t.Ay)(u=>{var E;return["aa_control","aa_treatment"].includes((E=(0,n.ze)(u,"pnp_go"))!==null&&E!==void 0?E:"")});d.meta={name:"createSelector",key:"createSelectorpnpGoIsAAExposed",description:u=>{var E;return["aa_control","aa_treatment"].includes((E=(0,n.ze)(u,"pnp_go"))!==null&&E!==void 0?E:"")}};const m=h(function(u){let{sendImmediately:E=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=(0,n.KK)(u,"pnp_go");v&&v.log_exposures&&(0,o.K)("pnp_go",v,u,E)},"pnpGoLogExposure"),f=(0,s.Ay)("Log exposure for the pnp_go experiment if it is exposed",function(u,E){let{sendImmediately:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=E();(r(g)||d(g))&&m(g,{sendImmediately:v})});f.meta={name:"createThunk",key:"createThunkpnpGoMaybeLogExposure",description:"Log exposure for the pnp_go experiment if it is exposed"}},9089824056:(B,A,e)=>{"use strict";e.d(A,{_:()=>o});var t=e(7919365230),s=e(2198809278);const o=(0,t.Ay)(n=>{var c;return(c=(0,s.ax)(n,"is_new_human"))!==null&&c!==void 0?c:!1});o.meta={name:"createSelector",key:"createSelectorisNewHuman",description:n=>{var c;return(c=(0,s.ax)(n,"is_new_human"))!==null&&c!==void 0?c:!1}}},4512279704:(B,A,e)=>{"use strict";e.d(A,{i:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Adds a list of salesforce orgs to the store");s.meta={name:"createAction",key:"createActionupsertSalesforceOrgs",description:"Adds a list of salesforce orgs to the store"}},5255130258:(B,A,e)=>{"use strict";e.d(A,{Ob:()=>E,jt:()=>a,lF:()=>v,qp:()=>m});var t=e(2187136646),s=e(4378915552),o=e(7156798807),n=e(3398586081),c=e(7188858884),l=e(9906715974),i=e(4512279704);const a="SFDC_ORG_INFO_FETCH_ID";function r(g,T){(0,c.Qw)(g,(0,i.i)(T))}h(r,"upsertSalesforceOrgList");async function d(g){const T=await(0,c.Qw)(g,(0,l.k)({reason:"sfdc-org-info-conditional-fetch"}));return[{id:a,orgs:(0,o.A)(T.salesforce_orgs,"id")}]}h(d,"fetchSalesforceOrgList");function m(g){return d(g).then(T=>((0,c.Qw)(g,(0,i.i)(T)),T))}h(m,"fetchAndUpsertSalesforceOrgList");const f=(0,n.A)(()=>new t.Ay({fetch:m,metricsName:"sfdc-org-info",storeKey:"sfdcOrgInfo"})),u=(0,n.A)(()=>new s.Ay({fetch:d,upsertNonExistent:r,upsertKnown:(g,T)=>{r(g,T),f().markObjectsAsFresh(g,[a])}})),E=h(g=>{f().maybeRefetch(g,a)},"maybeRefetchSalesforceOrgs"),v=h(g=>u().fetchObjectWithId(g,a),"fetchSalesforceOrgs")},6951540153:(B,A,e)=>{"use strict";e.d(A,{Vb:()=>m,kO:()=>d,lH:()=>r});var t=e(7919365230),s=e(5221609289),o=e(7874250141),n=e(1360127216),c=e(5255130258);const l=Object.freeze((0,n.WQ)("INVALID_ORG_ID")),i=Object.freeze((0,n.WQ)("MISSING_ORG_ID"));function a(f){function u(E,v){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const T=(0,o.JY)(E)||"",p=E.sfdcOrgInfo.orgInfos[c.jt];return p?((0,c.Ob)(T),v&&(0,n.uz)(p)&&f(p.orgs,v)||i):g?v?(0,c.lF)(T):l:null}return h(u,"getSalesforceOrgInfoInner"),(0,t.Ay)(u)}h(a,"createSalesforceOrgInfoSelector");const r=(0,t.Ay)(f=>f.sfdcOrgInfo.orgInfos[c.jt]);r.meta={name:"createSelector",key:"createSelectorgetSalesforceOrgInfos",description:f=>f.sfdcOrgInfo.orgInfos[c.jt]};const d=a((f,u)=>f[u]),m=a((f,u)=>Object.values(f).find(E=>(0,s.Ay)(E.instance_url).hostname===u))},5471781340:(B,A,e)=>{"use strict";e.d(A,{N:()=>s,t:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Updates the domains collection from the server");s.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const o=(0,t.Ay)("Clears any domains currently stored on the client side");o.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},7822104609:(B,A,e)=>{"use strict";e.d(A,{pf:()=>v,Ls:()=>E,ND:()=>m,pF:()=>f,w$:()=>u});var t=e(7919365230),s=e(3385422400),o=e(9113979368),n=e(5289809856),c=e(5221609289);function l(g,T){var p;if((0,o.A)(g))return{appId:void 0,domain:""};const O=(0,c.Ay)(g),y=(0,n.Ww)(O,!0),C=O.hostname,I=C||y;let M=T==null||(p=T.domains)===null||p===void 0?void 0:p[I];if(!M){var _;const P=Object.keys((_=T==null?void 0:T.wildcards)!==null&&_!==void 0?_:{}).find(b=>C.endsWith(`.${b}`));P&&(M=T.wildcards[P])}return{appId:M,domain:I}}h(l,"getSIWSLinkInfo");var i=e(2050235080);function a(g,T){if((0,o.A)(g))return!1;const p=(0,c.Ay)(g);return r(p,T)}h(a,"isSIWSLink");function r(g,T){var p;if(g.protocol!=="http:"&&g.protocol!=="https:"||(0,i.gU)(g))return!1;const O=(0,n.Ww)(g,!0);if(!g.hostname||!O)return!1;const y=g.hostname,C=y.length>O.length+1,I=!!(!(T==null||(p=T.domains)===null||p===void 0)&&p[y]);var M;const _=C&&Object.keys((M=T==null?void 0:T.wildcards)!==null&&M!==void 0?M:{}).some(P=>y.endsWith(`.${P}`));return I||_}h(r,"isParsedUrlSIWSLink");const d=(0,t.Ay)(g=>{var T;return g==null||(T=g.siwsDomains)===null||T===void 0?void 0:T.domainsCollection});d.meta={name:"createSelector",key:"createSelectorgetDomains",description:g=>{var T;return g==null||(T=g.siwsDomains)===null||T===void 0?void 0:T.domainsCollection}};const m=(0,t.Ay)((g,T)=>{var p;return(p=l(T,d(g)))===null||p===void 0?void 0:p.appId});m.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(g,T)=>{var p;return(p=l(T,d(g)))===null||p===void 0?void 0:p.appId}};const f=(0,t.Ay)((g,T)=>{var p;return(p=l(T,d(g)))===null||p===void 0?void 0:p.domain});f.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(g,T)=>{var p;return(p=l(T,d(g)))===null||p===void 0?void 0:p.domain}};const u=(0,t.Ay)((g,T)=>a(T,d(g)));u.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(g,T)=>a(T,d(g))};const E=(0,t.Ay)((g,T)=>r(T,d(g)));E.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(g,T)=>r(T,d(g))};const v=(0,s.Mz)(d,function(g){let{domains:T,wildcards:p}=g;const O=Object.entries(T).map(C=>{let[I,M]=C;return{appId:M,domain:I,isWildcard:!1}});return[...Object.entries(p).map(C=>{let[I,M]=C;return{appId:M,domain:I,isWildcard:!0}}),...O].reduce((C,I)=>({...C,[I.appId]:{domain:I.domain,isWildcard:I.isWildcard}}),{})})},6888290087:(B,A,e)=>{"use strict";e.d(A,{_:()=>i});var t=e(4894634110),s=e(9204569428),o=e(3320534337);const n=(0,o.A)("Get SIWS registered domains list",a=>a((0,s.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(r=>({cacheTs:r.domains_ts,domains:r.domains,wildcardDomains:r.wildcard_domains})));n.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};const c=n;var l=e(5471781340);const i=(0,t.Ay)("Load remote domains into Redux",a=>{a(c()).then(r=>{let{cacheTs:d,domains:m,wildcardDomains:f}=r;const u=Date.now();a((0,l.N)({cacheTs:d,domains:m,lastGetDomainsTs:u,wildcardDomains:f}))})});i.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},1972801073:(B,A,e)=>{"use strict";e.d(A,{Ac:()=>n,Ic:()=>s,b7:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Set the result of the sharedInvites.canGetLink request");s.meta={name:"createAction",key:"createActionsetIsEligibleToSlackConnectDm",description:"Set the result of the sharedInvites.canGetLink request"};const o=(0,t.Ay)("Remove private channel conversion eligibility for a given SCMPDM");o.meta={name:"createAction",key:"createActionremoveConvertSlackConnectMpdmEligibility",description:"Remove private channel conversion eligibility for a given SCMPDM"};const n=(0,t.Ay)("Set whether or not the user can convert a given SCMPDM to a private channel");n.meta={name:"createAction",key:"createActionsetIsEligibleToConvertSlackConnectMpdm",description:"Set whether or not the user can convert a given SCMPDM to a private channel"}},6958227533:(B,A,e)=>{"use strict";e.d(A,{ED:()=>f,Xr:()=>u,ez:()=>m});var t=e(3398586081),s=e(8256037714),o=e(2187136646),n=e(2691514942),c=e(4894634110),l=e(7188858884),i=e(1972801073);const a="scdm_eligibility",r=(0,c.Ay)("Fetch and cache the result of sharedInvites.canGetLink",(v,g)=>v((0,s.d)({reason:"slack-connect-dm-eligibility-cfm"})).then(T=>T.ok?(v((0,i.Ic)({isEligible:T.is_eligible})),T.is_eligible):((0,n.Ay)({getState:g}).error("fetchSlackConnectDmEligibility sharedInvites.canGetLink not ok"),!1)).catch(T=>((0,n.Ay)({getState:g}).error("fetchSlackConnectDmEligibility sharedInvites.canGetLink rejected",T),!1)));r.meta={name:"createThunk",key:"createThunkfetchSlackConnectDmEligibility",description:"Fetch and cache the result of sharedInvites.canGetLink"};const d=(0,t.A)(()=>new o.Ay({storeKey:"slackConnectEligibility",fetch:v=>(0,l.Qw)(v,r()),isEnabled:()=>!0,metricsName:a})),m=h(v=>d().maybeRefetch(v,a),"maybeRefetch"),f=h(v=>d().markObjectsAsFresh(v,[a]),"markAsFresh"),u=h(v=>d().markObjectsAsStale(v,[a]),"markAsStale"),E=h(v=>d().isObjectFresh(v,a),"isObjectFresh")},488656012:(B,A,e)=>{"use strict";e.d(A,{Fl:()=>a,aJ:()=>l,qJ:()=>i});var t=e(5293834221),s=e(7919365230),o=e(7874250141),n=e(6958227533);const c={canCreate:!1},l=(0,s.Ay)(function(r){let{shouldRefetch:d=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var m;const f=(0,o.ZT)(r);return f?(d&&(0,n.ez)(f),r==null||(m=r.slackConnectEligibility)===null||m===void 0?void 0:m.dm.isEligible):!1});l.meta={name:"createSelector",key:"createSelectorgetIsEligibleToSlackConnectDm",description:function(r){let{shouldRefetch:d=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var m;const f=(0,o.ZT)(r);return f?(d&&(0,n.ez)(f),r==null||(m=r.slackConnectEligibility)===null||m===void 0?void 0:m.dm.isEligible):!1}};const i=(0,s.Ay)((r,d)=>{var m,f;return(f=r==null||(m=r.slackConnectEligibility)===null||m===void 0?void 0:m.mpdmConversion[d])!==null&&f!==void 0?f:c});i.meta={name:"createSelector",key:"createSelectorgetIsEligibleToConvertSlackConnectMpdm",description:(r,d)=>{var m,f;return(f=r==null||(m=r.slackConnectEligibility)===null||m===void 0?void 0:m.mpdmConversion[d])!==null&&f!==void 0?f:c}};const a=(0,s.Ay)(r=>!!(l(r,{shouldRefetch:!1})||(0,t.Tc)(r)));a.meta={name:"createSelector",key:"createSelectorgetSidebarShouldShowConnectLink",description:r=>!!(l(r,{shouldRefetch:!1})||(0,t.Tc)(r))}},8467180395:(B,A,e)=>{"use strict";e.d(A,{a:()=>u});var t=e(8086952004),s=e(12126472),o=e(6626377467),n=e(235108050),c=e(7530630315),l=e(5729325965),i=e(2240330919),a=e(3813017689),r=e(1985486637),d=e(4894634110),m=e(8370946575),f=e(4781929578);const u=(0,d.Ay)("gets thread replies from the API",(E,v,g)=>{const{channelId:T,threadTs:p,oldest:O,limit:y}=g;let C=g.latest;O===C&&C===g.threadTs&&(C=null);const I=(0,m.Iu)(T,p);return O&&C?r.S.all([E((0,f.$b)({channelId:T,threadTs:p,latest:C,limit:y})),E((0,f.$b)({channelId:T,threadTs:p,oldest:O,limit:y}))]).then(M=>{let[_,P]=M;const b=(0,t.A)(_.msgs,{ts:p})||(0,t.A)(P.msgs,{ts:p}),S=(0,s.A)(_.msgs,{ts:p}),N=(0,s.A)(P.msgs,{ts:p}),L=_.deleted,D=P.deleted,k=(0,o.A)(S.concat(N),"ts"),x=(0,n.A)((0,c.A)(L,D));!_.hasMore&&b&&k.unshift(b);const R=k.map(U=>U.ts);return E((0,a.A)({msgs:k,channelId:I,hasMore:{hasMoreStart:!!_.hasMore,hasMoreEnd:!!P.hasMore},oldest:(0,l.A)([O,(0,l.A)(R)]),latest:(0,i.A)([C,(0,i.A)(R)]),deleted:x})),{msgs:k}}):E((0,f.$b)({channelId:T,threadTs:p,oldest:O,latest:C,limit:y})).then(M=>{let{msgs:_,deleted:P,hasMore:b}=M;const S=C&&!b||O===p||C===p||!O&&!C&&!b;let N=_;S||(N=(0,s.A)(_,{ts:p}));let L=!!b;!O&&!C&&(L={hasMoreStart:!!b,hasMoreEnd:!1}),E((0,a.A)({msgs:N,channelId:I,hasMore:L,oldest:O,latest:C,deleted:P}));const D=(0,t.A)(_,{ts:p});return D&&O===p&&E((0,a.A)({msgs:[D],channelId:I,hasMore:!1,latest:p})),{msgs:N}})});u.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},7140884419:(B,A,e)=>{"use strict";e.d(A,{KU:()=>n,QG:()=>l,Ri:()=>c,ZG:()=>o,yO:()=>s});var t=e(4414425352);const s=(0,t.Ay)("Update to-dos counts in tab");s.meta={name:"createAction",key:"createActionupdateCounts",description:"Update to-dos counts in tab"};const o=(0,t.Ay)("updates the latest record id from which we received a `todo_due` rtm event");o.meta={name:"createAction",key:"createActionupdateLatestOverdueRecordId",description:"updates the latest record id from which we received a `todo_due` rtm event"};const n=(0,t.Ay)("set active tab in todos page");n.meta={name:"createAction",key:"createActionsetActiveTabInTodosByWindowId",description:"set active tab in todos page"};const c=(0,t.Ay)("Set search query for my todos");c.meta={name:"createAction",key:"createActionsetSearchQuery",description:"Set search query for my todos"};const l=(0,t.Ay)("Set record ids that should show up at the top of to-dos.");l.meta={name:"createAction",key:"createActionsetPinnedRecordIds",description:"Set record ids that should show up at the top of to-dos."}},470470705:(B,A,e)=>{"use strict";e.d(A,{_:()=>a});var t=e(9746734072),s=e(5238395322),o=e(2101927269),n=e(5609294766),c=e(4894634110),l=e(3351247794),i=e(2651270852);const a=(0,c.Ay)("Update the unread count for the all threads view",(r,d,m)=>{let{threadsHasUnreads:f,threadsUnreadCountByChannel:u,threadsMentionCountByChannel:E,threadsLastUpdatedTimestamp:v}=m;const g=(0,t.A)(E)?{}:E,T=d(),p=(0,s.A)((0,o.A)(g,(y,C)=>{const I=(0,l.OL)(T,C);return(0,n.WK)(T,I)&&!(0,n.fA)(T,I)}));let O=0;u?O=(0,s.A)((0,o.A)(u,(y,C)=>{const I=(0,l.OL)(T,C);return(0,n.WK)(T,I)})):O=f?1:0,r((0,i.LI)({threadsUnreadCount:O,threadsUnreadCountByChannel:u,threadsMentionCount:p,threadsMentionCountByChannel:g,threadsLastUpdatedTimestamp:v,suppressThreads:(0,n.dQ)(T)}))});a.meta={name:"createThunk",key:"createThunkthreadsUnreadCountChanged",description:"Update the unread count for the all threads view"}},8601158927:(B,A,e)=>{"use strict";e.d(A,{g:()=>s,y:()=>o});var t=e(4414425352);const s=(0,t.Ay)("Update unread counts for the specified user alert types");s.meta={name:"createAction",key:"createActionupdateUserAlertsUnreadCount",description:"Update unread counts for the specified user alert types"};const o=(0,t.Ay)("Reset the user alerts store to the specified alert counts map");o.meta={name:"createAction",key:"createActionresetAllUserAlertsUnreadCounts",description:"Reset the user alerts store to the specified alert counts map"}},644455339:(B,A,e)=>{"use strict";e.d(A,{D_:()=>o,FI:()=>s,Sr:()=>n,ry:()=>c});var t=e(4414425352);const s=(0,t.Ay)("Sets whether the mini player is open or not");s.meta={name:"createAction",key:"createActionsetIsDocked",description:"Sets whether the mini player is open or not"};const o=(0,t.Ay)("Sets mini video player config");o.meta={name:"createAction",key:"createActionsetMiniPlayerConfig",description:"Sets mini video player config"};const n=(0,t.Ay)("Clears mini video player config");n.meta={name:"createAction",key:"createActionclearMiniPlayerConfig",description:"Clears mini video player config"};const c=(0,t.Ay)("Set the video clip background image and selection key");c.meta={name:"createAction",key:"createActionsetBackgroundSelection",description:"Set the video clip background image and selection key"}},119975640:(B,A,e)=>{"use strict";e.d(A,{$t:()=>n,Fe:()=>r,KY:()=>l,SP:()=>s,hk:()=>o,ie:()=>c,mV:()=>i,yL:()=>a});var t=e(4414425352);const s=(0,t.Ay)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");s.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const o=(0,t.Ay)("Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)");o.meta={name:"createAction",key:"createActionsetSidebarWideColumnInternal",description:"Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)"};const n=(0,t.Ay)("Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)");n.meta={name:"createAction",key:"createActionsetSidebarExtraWideColumnInternal",description:"Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)"};const c=(0,t.Ay)("Set the user-specified secondary width and mode (use setSecondaryColumn instead)");c.meta={name:"createAction",key:"createActionsetSecondaryColumnInternal",description:"Set the user-specified secondary width and mode (use setSecondaryColumn instead)"};const l=(0,t.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");l.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const i=(0,t.Ay)("Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)");i.meta={name:"createAction",key:"createActionsetIsWorkspaceSwitcherVisibleInternal",description:"Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)"};const a=(0,t.Ay)("Set the user-specified split width and mode (use setSplitColumn instead)");a.meta={name:"createAction",key:"createActionsetSplitColumnInternal",description:"Set the user-specified split width and mode (use setSplitColumn instead)"};const r=(0,t.Ay)("Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)");r.meta={name:"createAction",key:"createActionsetCompactModeEnabledInternal",description:"Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)"}},4189521591:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(3750057149),s=e(1860446174),o=e(7523104273),n=e(119975640),c=e(8206521084),l=e(5512437437);const i={persistenceEnabled:!1,storeKey:"viewLayout"},a={sidebarWidthIntent:void 0,sidebarWidthMode:c.tR.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:c.tR.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:c.tR.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:c.tR.AUTO,splitWidthIntent:void 0,splitWidthMode:c.tR.AUTO,isSidebarVisible:c.fn,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1,isCompactModeEnabled:!1};try{a.sidebarWidthIntent=(0,l.W6)(s.ke)||void 0,a.sidebarWideWidthIntent=(0,l.W6)(s.u1)||void 0,a.sidebarExtraWideWidthIntent=(0,l.W6)(s.jt)||void 0,a.secondaryWidthIntent=(0,l.W6)(s.gN)||void 0,a.sidebarWidthMode=(0,l.W6)(s.ts)||c.tR.AUTO,a.splitWidthIntent=(0,l.W6)(s.qD)||void 0,a.splitWidthMode=(0,l.W6)(s.$D)||c.tR.AUTO,a.sidebarWidthMode=(0,l.W6)(s.ts)||c.tR.AUTO,a.sidebarWideWidthMode=(0,l.W6)(s.r1)||c.tR.AUTO,a.sidebarExtraWideWidthMode=(0,l.W6)(s.OR)||c.tR.AUTO,a.secondaryWidthMode=(0,l.W6)(s.Ts)||c.tR.AUTO;const m=(0,l.W6)(s.jG);a.isSidebarVisible=(0,t.A)(m)?m:c.fn;const f=(0,l.W6)(s.WU);a.isWorkspaceSwitcherVisible=(0,t.A)(f)?f:!1;const u=(0,l.W6)(s.RC);a.isCompactModeEnabled=(0,t.A)(u)?u:!1}catch{}const d=(0,o.Ay)({},a,i).on(n.SP,(m,f)=>{let{sidebarWidthIntent:u,sidebarWidthMode:E}=f;return{...m,sidebarWidthIntent:u,sidebarWidthMode:E}}).on(n.hk,(m,f)=>{let{sidebarWideWidthIntent:u,sidebarWideWidthMode:E}=f;return{...m,sidebarWideWidthIntent:u,sidebarWideWidthMode:E}}).on(n.$t,(m,f)=>{let{sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:E}=f;return{...m,sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:E}}).on(n.ie,(m,f)=>{let{secondaryWidthIntent:u,secondaryWidthMode:E}=f;return{...m,secondaryWidthIntent:u,secondaryWidthMode:E}}).on(n.yL,(m,f)=>{let{splitWidthIntent:u,splitWidthMode:E}=f;return{...m,splitWidthIntent:u,splitWidthMode:E}}).on(n.KY,(m,f)=>({...m,isSidebarVisible:f})).on(n.mV,(m,f)=>({...m,isWorkspaceSwitcherVisible:f})).on(n.Fe,(m,f)=>({...m,isCompactModeEnabled:f}))},4724267513:(B,A,e)=>{"use strict";e.d(A,{$c:()=>u,GM:()=>a,Ss:()=>g,Vo:()=>T,ZW:()=>O,c5:()=>r,eS:()=>m,nD:()=>d,rT:()=>v,rj:()=>f,v8:()=>p,vv:()=>i,wO:()=>E});var t=e(7919365230),s=e(7418708689),o=e(3228638226),n=e(9520589283),c=e(7281000332),l=e(8915855496);const i=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWidthIntent});i.meta={name:"createSelector",key:"createSelectorgetSidebarWidthIntent",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWidthIntent}};const a=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWidthMode});a.meta={name:"createSelector",key:"createSelectorgetSidebarWidthMode",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWidthMode}};const r=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWideWidthIntent});r.meta={name:"createSelector",key:"createSelectorgetSidebarWideWidthIntent",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWideWidthIntent}};const d=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWideWidthMode});d.meta={name:"createSelector",key:"createSelectorgetSidebarWideWidthMode",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarWideWidthMode}};const m=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarExtraWideWidthIntent});m.meta={name:"createSelector",key:"createSelectorgetSidebarExtraWideWidthIntent",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarExtraWideWidthIntent}};const f=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarExtraWideWidthMode});f.meta={name:"createSelector",key:"createSelectorgetSidebarExtraWideWidthMode",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.sidebarExtraWideWidthMode}};const u=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.secondaryWidthIntent});u.meta={name:"createSelector",key:"createSelectorgetSecondaryWidthIntent",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.secondaryWidthIntent}};const E=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.secondaryWidthMode});E.meta={name:"createSelector",key:"createSelectorgetSecondaryWidthMode",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.secondaryWidthMode}};const v=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.splitWidthIntent});v.meta={name:"createSelector",key:"createSelectorgetSplitWidthIntent",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.splitWidthIntent}};const g=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.splitWidthMode});g.meta={name:"createSelector",key:"createSelectorgetSplitWidthMode",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.splitWidthMode}};const T=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.isSidebarVisible});T.meta={name:"createSelector",key:"createSelectorgetIsSidebarVisible",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.isSidebarVisible}};const p=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.isWorkspaceSwitcherVisible});p.meta={name:"createSelector",key:"createSelectorgetIsWorkspaceSwitcherVisible",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.isWorkspaceSwitcherVisible}};const O=(0,t.Ay)(C=>{var I;return((I=(0,n.pA)((0,c.Ry)()))!==null&&I!==void 0?I:s.N2)!==s.N2||(0,l.V)(C)?!1:(0,o.e6)(C)===s.k6.Home});O.meta={name:"createSelector",key:"createSelectorgetCanToggleSidebar",description:C=>{var I;return((I=(0,n.pA)((0,c.Ry)()))!==null&&I!==void 0?I:s.N2)!==s.N2||(0,l.V)(C)?!1:(0,o.e6)(C)===s.k6.Home}};const y=(0,t.Ay)(C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.isCompactModeEnabled});y.meta={name:"createSelector",key:"createSelectorgetCompactModeEnabled",description:C=>{var I;return C==null||(I=C.viewLayout)===null||I===void 0?void 0:I.isCompactModeEnabled}}},3699217593:(B,A,e)=>{"use strict";e.d(A,{J:()=>l});var t=e(1860446174),s=e(4894634110),o=e(119975640),n=e(7281000332),c=e(5512437437);const l=(0,s.Ay)("Set the user-specified secondary width and mode",(i,a,r)=>{let{secondaryWidthIntent:d,secondaryWidthMode:m}=r;(0,c.q9)(t.gN,d),(0,c.q9)(t.Ts,m),i((0,o.ie)({secondaryWidthIntent:d,secondaryWidthMode:m})),(0,n.dispatchForClientStore)((0,o.ie)({secondaryWidthIntent:d,secondaryWidthMode:m}))});l.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},980999639:(B,A,e)=>{"use strict";e.d(A,{R:()=>l});var t=e(1860446174),s=e(4894634110),o=e(119975640),n=e(7281000332),c=e(5512437437);const l=(0,s.Ay)("Set the user-specified sidebar width and mode",(i,a,r)=>{let{sidebarWidthIntent:d,sidebarWidthMode:m}=r;(0,c.q9)(t.ke,d),(0,c.q9)(t.ts,m),i((0,o.SP)({sidebarWidthIntent:d,sidebarWidthMode:m})),(0,n.dispatchForClientStore)((0,o.SP)({sidebarWidthIntent:d,sidebarWidthMode:m}))});l.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},58865772:(B,A,e)=>{"use strict";e.d(A,{a:()=>l});var t=e(1860446174),s=e(4894634110),o=e(119975640),n=e(7281000332),c=e(5512437437);const l=(0,s.Ay)("Set the user-specified extra wide sidebar width and mode",(i,a,r)=>{let{sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:m}=r;(0,c.q9)(t.jt,d),(0,c.q9)(t.OR,m),i((0,o.$t)({sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:m})),(0,n.dispatchForClientStore)((0,o.$t)({sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:m}))});l.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},7976856223:(B,A,e)=>{"use strict";e.d(A,{q:()=>l});var t=e(1860446174),s=e(4894634110),o=e(119975640),n=e(7281000332),c=e(5512437437);const l=(0,s.Ay)("Set the user-specified wide sidebar width and mode",(i,a,r)=>{let{sidebarWideWidthIntent:d,sidebarWideWidthMode:m}=r;(0,c.q9)(t.u1,d),(0,c.q9)(t.r1,m),i((0,o.hk)({sidebarWideWidthIntent:d,sidebarWideWidthMode:m})),(0,n.dispatchForClientStore)((0,o.hk)({sidebarWideWidthIntent:d,sidebarWideWidthMode:m}))});l.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},5416212177:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(7499216588),s=e(866284723),o=e(2138802802),n=e(6251135763),c=e(6404336086),l=e(289822669);const i=h(v=>!!(v!=null&&v.includes(t.D.SalesCreateRecord)),"looksLikeSalesforceRecordCreateId");var a=e(8393538104),r=e(3794844178),d=e(1294198067),m=e(2100873507);const f={activity:t.D.ActivityList,threads:t.D.Threads,rimeto_profile:t.D.Profile,files:t.D.FileDetails,help:t.D.Help,shortcuts:t.D.KeyboardShortcuts,whats_new:t.D.WhatsNew,feedback:t.D.Feedback,comment_thread:t.D.QuipCommentThread,comment_stream:t.D.QuipCommentStream,activity_history:t.D.QuipActivityHistory,quip_automations_overview:t.D.QuipAutomationsOverview,channel_canvas:t.D.ChannelCanvas,thread:t.D.Thread,ai_summary_details:t.D.AiSummaryDetails,search_summary:t.D.SearchSummary,ai_app:t.D.AiApp,about_ai_app:t.D.AboutAiApp,multi_turn_search:t.D.MultiTurnSearch,workflow_details:t.D.WorkflowDetails,app_details:t.D.AppDetails,list_record:t.D.ListRecord,record:t.D.Record,Tasks:t.D.Tasks,[t.D.ActivityInbox]:t.D.ActivityInbox,huddle_transcript_details:t.D.HuddleTranscriptDetails,[t.D.AgentHomeConversation]:t.D.AgentHomeConversation},E=h(v=>v?(0,s.A)(v)?t.D.AppSpace:(0,o.Ay)(v)?t.D.Canvas:(0,n.A)(v)?t.D.Channel:(0,r.pI)(v)?t.D.List:(0,r.or)(v)?t.D.ListRecord:(0,d.T)(v)?(0,m.F8)(v):v&&v[0]==="V"?t.D.Threads:(0,c.A)(v)?t.D.Thread:(0,l.A)(v)?t.D.UserGroup:i(v)?t.D.SalesCreateRecord:(0,a.W)(v)?t.D.ConversationCreate:v===t.D.BrowseCanvases?v:f[v]?f[v]:t.D.Unknown:t.D.Unknown,"convertIdToViewType")},8838362992:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>g,cB:()=>u,ds:()=>f,w9:()=>E,wg:()=>m});var t=e(9113979368),s=e(498506970),o=e(1618349278),n=e(1649982175),c=e(7523104273),l=e(7418708689),i=e(3047404987);const a=100,r={},d={persistenceEnabled:!1,storeKey:"windowHistory"};function m(T){let{windowState:p,entry:O}=T;const y=p?p.stack:[],C=(0,t.A)(y)?null:1;return{stack:[(0,s.A)(O)].concat(y).slice(0,a),index:0,previousIndex:C}}h(m,"handlePushHistoryEntryForWindow");function f(T){let{windowState:p,index:O,previousIndex:y}=T;return{stack:p.stack,index:O,previousIndex:y}}h(f,"handleUpdateIndexForWindow");function u(T){let{windowState:p,index:O}=T;return{stack:(0,o.A)(p.stack,O),index:p.index,previousIndex:null}}h(u,"handlePopHistoryAboveIndexForWindow");function E(T){let{windowState:p,entry:O}=T;const y=[...p.stack];return y[p.index]=(0,s.A)(O),{...p,stack:y}}h(E,"handleReplaceCurrentHistoryEntryForWindowInternal");const g=(0,c.Ay)({},r,d).on(i.zA,(T,p)=>{let{windowId:O,entry:y}=p;return!O||!y?T:{...T,[O]:m({windowState:T[O],entry:y})}}).on(i.aV,(T,p)=>{let{windowId:O}=p;return(0,n.A)(T,O)}).on(i.Nr,(T,p)=>{let{windowId:O,index:y,previousIndex:C}=p;return{...T,[O]:f({windowState:T[O],index:y,previousIndex:C})}}).on(i.o1,(T,p)=>{let{windowId:O,entry:y}=p;return{...T,[O]:{stack:[(0,s.A)(y)],index:0,previousIndex:null}}}).on(i.s0,(T,p)=>{let{windowId:O,index:y}=p;return T[O]?{...T,[O]:u({windowState:T[O],index:y})}:T}).on(i.In,(T,p)=>{let{windowId:O,entry:y}=p;return T[O]?{...T,[O]:E({windowState:T[O],entry:y})}:T}).on(i.$Z,(T,p)=>{let{windowId:O,viewParams:y,index:C}=p;if(!T[O])return T;const M=[...T[O]?T[O].stack:[]];if(!M[C])return T;const{id:_,...P}=(0,s.A)(M[C]),b=P[l.mq.Primary];if(!(b!=null&&b.id))return T;const S={...P,[l.mq.Primary]:{...b,params:{...b.params,...y}}};return M[C]={id:_,...S},{...T,[O]:{...T[O],stack:M}}})},9371847545:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(7523104273),s=e(1793436462),o=e(7418708689);const n={[o.N2]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},l=(0,t.Ay)({},n,{storeKey:"window",persistenceEnabled:!1}).on(s._p,(i,a)=>{let{windowId:r=o.N2,...d}=a;if(!i[r])return i;const m={[o.N2]:{...i[o.N2]}};return m[r]={...i[r],...d},Reflect.ownKeys(i).forEach(f=>{f!==r&&d.isFocused&&(m[f]={...i[f],isFocused:!1})}),{...i,...m}}).on(s.w3,(i,a)=>{let{windowId:r=o.N2,...d}=a;return i[r]?{...i,[r]:{...i[r],isUnloading:d.isUnloading}}:i}).on(s.d1,(i,a)=>{let{windowId:r=o.N2,...d}=a;return{...i,[r]:{...i[r],...d,windowId:r}}}).on(s.pb,(i,a)=>{let{windowId:r=o.N2,...d}=a;return i[r]?{...i,[r]:{...i[r],bootType:d.bootType}}:i}).on(s.jO,(i,a)=>{let{windowId:r}=a;if(r===o.N2||!i[r])return i;const d={...i};return delete d[r],d}).on(s.NV,(i,a)=>{let{windowId:r,viewport:d}=a;return i[r]?{...i,[r]:{...i[r],viewport:d}}:i})},8251821370:(B,A,e)=>{"use strict";e.d(A,{C$:()=>o,JA:()=>s,PB:()=>f,RH:()=>u,U$:()=>E,YK:()=>c,b8:()=>n,gQ:()=>v,lP:()=>a,m9:()=>i,mu:()=>l,sJ:()=>r,xD:()=>m,yT:()=>d});var t=e(4414425352);const s=(0,t.Ay)("Upsert work objects into the store");s.meta={name:"createAction",key:"createActionupsertWorkObjects",description:"Upsert work objects into the store"};const o=(0,t.Ay)("Update work object loading state");o.meta={name:"createAction",key:"createActionupdateWorkObjectLoading",description:"Update work object loading state"};const n=(0,t.Ay)("Update work object syncing state");n.meta={name:"createAction",key:"createActionupdateWorkObjectSyncing",description:"Update work object syncing state"};const c=(0,t.Ay)("Update work object loading edit state");c.meta={name:"createAction",key:"createActionupdateWorkObjectLoadingEdit",description:"Update work object loading edit state"};const l=(0,t.Ay)("Update work object saving state");l.meta={name:"createAction",key:"createActionupdateWorkObjectSaving",description:"Update work object saving state"};const i=(0,t.Ay)("Modifies the edit mode state of a work object");i.meta={name:"createAction",key:"createActionupdateWorkObjectEditing",description:"Modifies the edit mode state of a work object"};const a=(0,t.Ay)("Update work object awaiting refresh state");a.meta={name:"createAction",key:"createActionupdateWorkObjectAwaitingRefresh",description:"Update work object awaiting refresh state"};const r=(0,t.Ay)("Upsert a work object summary");r.meta={name:"createAction",key:"createActionupsertWorkObjectSummary",description:"Upsert a work object summary"};const d=(0,t.Ay)("Update work object hasError state");d.meta={name:"createAction",key:"createActionupdateHasError",description:"Update work object hasError state"};const m=(0,t.Ay)("Update work object fieldErrors state");m.meta={name:"createAction",key:"createActionupdateFieldErrors",description:"Update work object fieldErrors state"};const f=(0,t.Ay)("Update work object errorMessage state");f.meta={name:"createAction",key:"createActionupdateErrorMessage",description:"Update work object errorMessage state"};const u=(0,t.Ay)("Upsert a file preview RTM event");u.meta={name:"createAction",key:"createActionupsertFilePreviewRTMEvent",description:"Upsert a file preview RTM event"};const E=(0,t.Ay)("Update work object pending changes state");E.meta={name:"createAction",key:"createActionupdatePendingChanges",description:"Update work object pending changes state"};const v=(0,t.Ay)("Update work object pending changes state");v.meta={name:"createAction",key:"createActionupdateShowModal",description:"Update work object pending changes state"}},8561574235:(B,A,e)=>{"use strict";e.d(A,{aY:()=>y,GD:()=>_,Ss:()=>b,BX:()=>L,WV:()=>N,nY:()=>S,vD:()=>k,e_:()=>D,mn:()=>x,Fy:()=>P});var t=e(3398586081),s=e(1985486637),o=e(1360127216),n=e(3800555055),c=e(6996845722),l=e(5780280082),i=e(2187136646),a=e(4378915552),r=e(4894634110),d=e(7874250141),m=e(7188858884),f=e(8251821370),u=e(4716157258),E=e(1895780242),v=e(483121783);const g=(0,t.A)(R=>{try{return JSON.parse(R)}catch{return null}}),T="workObjects",p=60*10;function O(R){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.$.FunctionNotFound;return{...(0,o.WQ)(R),error:U}}h(O,"makeNonExistentWorkObject");const y=Object.freeze(O("INVALID_WORK_OBJECT_ID")),C=(0,r.Ay)("fetch work object details",async(R,U,F)=>{let{recordId:W,lookupFunction:w,channelId:K,entityUrl:j,messageTs:Q,useLegacyUrl:J,reason:z}=F;R((0,f.C$)({entityId:W,isLoading:!0}));const ie=U();if((!(0,n.HZ)(ie)||!!J)&&w)try{return{...(await R((0,c.i)({recordId:W,lookupFunction:w,reason:"work-objects-conditional-fetch"}))).entity,id:W}}catch(Z){return O(W,Z.name)}finally{R((0,f.C$)({entityId:W,isLoading:!1})),R((0,E.x)({entityId:W}))}try{return await R((0,l.o)({reason:z??"work-objects-conditional-fetch",entityId:W,lookupFunction:w!=null&&w.inputs?w:void 0,channelId:K,entityUrl:j,messageTs:Q})),setTimeout(()=>{const te=(0,u.a)(U(),W);te&&S(te)&&(R((0,f.JA)([O(W)])),R((0,f.b8)({isSynced:!1,entityId:W})),R((0,f.C$)({entityId:W,isLoading:!1})))},1e4),{id:W,isUnknown:!0}}catch(Z){return R((0,f.C$)({entityId:W,isLoading:!1})),O(W,Z.name)}});C.meta={name:"createThunk",key:"createThunkfetchWorkObject",description:"fetch work object details"};const I=h((R,U,F)=>s.S.map(U,W=>{var w,K;const j=(K=F==null||(w=F.paramsById)===null||w===void 0?void 0:w[W])!==null&&K!==void 0?K:{};var Q;return(0,m.Qw)(R,C({...j,recordId:W,lookupFunction:(Q=g(j.lookupFunction))!==null&&Q!==void 0?Q:void 0,useLegacyUrl:j.useLegacyUrl==="true",reason:j.reason,entityUrl:j.entityUrl}))}),"fetchWorkObjectsForTeamId"),M=h((R,U)=>(0,m.Qw)(R,(0,f.JA)(U)),"upsertWorkObjects"),_=(0,t.A)(()=>new i.Ay({storeKey:"workObjects",maxAge:()=>p,metricsName:T,fetch:(R,U,F)=>I(R,U,F).then(W=>M(R,W))})),P=h((R,U)=>{const F=U.map(W=>W.id);_().markObjectsAsFresh(R,F),M(R,U)},"upsertWorkObjectsAndMarkAsFresh"),b=(0,t.A)(()=>new a.Ay({fetch:I,upsertNonExistent:P,upsertKnown:P}));function S(R){return(0,o.mX)(R)}h(S,"isUnknownWorkObject");function N(R){return(0,o.lv)(R)}h(N,"isNonExistentWorkObject");function L(R){return(0,o.uz)(R)}h(L,"isExistentWorkObject");const D=h((R,U)=>{_().markObjectsAsStale(R,U)},"markWorkObjectsAsStale"),k=h((R,U)=>_().isObjectFresh(R,U),"isWorkObjectFresh"),x=(0,r.Ay)("refresh work object details",async(R,U,F)=>{const W=U(),w=(0,d.ZT)(W);if(!w)return;const K=(0,v.l)(F,(0,n.CK)(W)),j=await R(C(K));P(w,[j])});x.meta={name:"createThunk",key:"createThunkrefreshWorkObject",description:"refresh work object details"}},4716157258:(B,A,e)=>{"use strict";e.d(A,{a:()=>s});var t=e(7919365230);const s=(0,t.Ay)((o,n)=>{var c,l;return(c=o.workObjects)===null||c===void 0||(l=c.workObjects)===null||l===void 0?void 0:l[n]});s.meta={name:"createSelector",key:"createSelectordangerouslyGetWorkObjectById",description:(o,n)=>{var c,l;return(c=o.workObjects)===null||c===void 0||(l=c.workObjects)===null||l===void 0?void 0:l[n]}}},4114246846:(B,A,e)=>{"use strict";e.d(A,{u1:()=>P,e3:()=>_,wr:()=>b,$1:()=>M,Zr:()=>S,xB:()=>N,nh:()=>I,Ne:()=>T,G1:()=>p,zz:()=>C,Vc:()=>y,j_:()=>E,rP:()=>g,Ro:()=>O,hA:()=>v});var t=e(3800555055),s=e(4471878238),o=e(7919365230),n=e(7874250141),c=e(8561574235),l=e(4716157258),i=e(9994335480),a=e(483121783),r=e(3398586081),d=e(8349789934);const m=(0,r.A)(L=>{try{return(0,d.v)(L)?JSON.stringify(L):null}catch{return null}}),f=h(L=>{let{lookupFunction:D,useLegacyUrl:k,...x}=L;const R={...x},U=m(D);return U&&(R.lookupFunction=U),typeof k=="boolean"&&(R.useLegacyUrl=String(k)),R},"stringifyFetchParams");function u(L,D){const{recordId:k,lookupFunction:x,fetchIfMissing:R=!0,entityUrl:U,reason:F}=D;if(!k||!x&&!U&&R)return c.aY;const W=(0,l.a)(L,k),w=(0,n.JY)(L)||"",K=f((0,a.l)({...D,recordId:k,reason:F,entityUrl:U},(0,t.CK)(L)));return W?((0,s.jH)(W)&&W.editMode===i.G.None&&(0,c.GD)().maybeRefetch(w,k,{params:K}),W):R?(0,c.Ss)().fetchObjectWithId(w,k,{params:K}):null}h(u,"getWorkObjectByIdSelector");const E=(0,o.Ay)((L,D)=>{var k,x,R;return Boolean((k=L.workObjects)===null||k===void 0||(x=k.workObjects)===null||x===void 0||(R=x[D])===null||R===void 0?void 0:R.isLoading)});E.meta={name:"createSelector",key:"createSelectorisWorkObjectFetching",description:(L,D)=>{var k,x,R;return Boolean((k=L.workObjects)===null||k===void 0||(x=k.workObjects)===null||x===void 0||(R=x[D])===null||R===void 0?void 0:R.isLoading)}};const v=(0,o.Ay)((L,D)=>{var k,x,R;return Boolean((k=L.workObjects)===null||k===void 0||(x=k.workObjects)===null||x===void 0||(R=x[D])===null||R===void 0?void 0:R.isSynced)});v.meta={name:"createSelector",key:"createSelectorisWorkObjectSynced",description:(L,D)=>{var k,x,R;return Boolean((k=L.workObjects)===null||k===void 0||(x=k.workObjects)===null||x===void 0||(R=x[D])===null||R===void 0?void 0:R.isSynced)}};const g=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)&&!!k.isLoadingEdit});g.meta={name:"createSelector",key:"createSelectorisWorkObjectLoadingEdit",description:(L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)&&!!k.isLoadingEdit}};const T=(0,o.Ay)(u);T.meta={name:"createSelector",key:"createSelectorgetWorkObjectById",description:u};const p=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D],x=(0,s.jH)(k)?k.editMode:void 0;return x??i.G.None});p.meta={name:"createSelector",key:"createSelectorgetWorkObjectEditMode",description:(L,D)=>{const k=L.workObjects.workObjects[D],x=(0,s.jH)(k)?k.editMode:void 0;return x??i.G.None}};const O=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)&&!!k.awaitingSave});O.meta={name:"createSelector",key:"createSelectorisWorkObjectSaving",description:(L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)&&!!k.awaitingSave}};const y=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.viewId});y.meta={name:"createSelector",key:"createSelectorgetWorkObjectViewId",description:(L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.viewId}};const C=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.serviceId});C.meta={name:"createSelector",key:"createSelectorgetWorkObjectServiceId",description:(L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.serviceId}};const I=(0,o.Ay)((L,D)=>{let{id:k}=D;return L.workObjects.summaryById[k]});I.meta={name:"createSelector",key:"createSelectorgetSummaryById",description:(L,D)=>{let{id:k}=D;return L.workObjects.summaryById[k]}};const M=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)?k.hasError:!1});M.meta={name:"createSelector",key:"createSelectorgetHasError",description:(L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)?k.hasError:!1}};const _=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.fieldErrors});_.meta={name:"createSelector",key:"createSelectorgetFieldErrors",description:(L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.fieldErrors}};const P=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.errorMessage});P.meta={name:"createSelector",key:"createSelectorgetErrorMessage",description:(L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.errorMessage}};const b=(0,o.Ay)((L,D)=>{var k;return(k=L.workObjects.filePreviewsRTMEventById)===null||k===void 0?void 0:k[D]});b.meta={name:"createSelector",key:"createSelectorgetFilePreviewRTMEventBySlackFileId",description:(L,D)=>{var k;return(k=L.workObjects.filePreviewsRTMEventById)===null||k===void 0?void 0:k[D]}};const S=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.pendingChanges});S.meta={name:"createSelector",key:"createSelectorgetPendingChanges",description:(L,D)=>{const k=L.workObjects.workObjects[D];if((0,s.jH)(k))return k.pendingChanges}};const N=(0,o.Ay)((L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)?k.showModal:!1});N.meta={name:"createSelector",key:"createSelectorgetShowModal",description:(L,D)=>{const k=L.workObjects.workObjects[D];return(0,s.jH)(k)?k.showModal:!1}}},1895780242:(B,A,e)=>{"use strict";e.d(A,{Z:()=>n,x:()=>c});var t=e(5091058320),s=e(4894634110),o=e(8251821370);const n=(0,s.Ay)("Start Work Object OAuth flow",async(l,i,a)=>{let{appId:r,providerKey:d,authUrl:m,reason:f="start_oauth_flow"}=a,u=m;!u&&d&&(u=(await l((0,t.$)({appId:r,providerKey:d,reason:f}))).authorization_url),u&&window.open(u,"_blank","popup,noopener,noreferrer")});n.meta={name:"createThunk",key:"createThunkstartWorkObjectAuth",description:"Start Work Object OAuth flow"};const c=(0,s.Ay)("Show the work object in a synced state",(l,i,a)=>{let{entityId:r}=a;const d=1600;setTimeout(()=>l((0,o.b8)({entityId:r,isSynced:!0})),0),setTimeout(()=>l((0,o.b8)({entityId:r,isSynced:!1})),d)});c.meta={name:"createThunk",key:"createThunkshowTemporarySyncedStatus",description:"Show the work object in a synced state"}},9994335480:(B,A,e)=>{"use strict";e.d(A,{G:()=>t,t:()=>s});var t;(function(o){o.None="NONE",o.Form="FORM"})(t||(t={}));var s;(function(o){o.FileViewer="FILE_VIEWER",o.Unfurl="UNFURL"})(s||(s={}))},483121783:(B,A,e)=>{"use strict";e.d(A,{l:()=>s});var t=e(8349789934);const s=h((o,n)=>{let{channelId:c,entityUrl:l,lookupFunction:i,messageTs:a,useLegacyUrl:r,recordId:d,reason:m}=o;const u={recordId:d,useLegacyUrl:r??!n,reason:m,entityUrl:l};return(0,t.v)(i)&&(u.lookupFunction=i),l&&(u.entityUrl=l,a&&c&&(u.messageTs=a,u.channelId=c)),u},"buildWorkObjectFetchParams")},8349789934:(B,A,e)=>{"use strict";e.d(A,{v:()=>s});var t=e(3398586081);const s=(0,t.A)(o=>Boolean((o==null?void 0:o.functionId)&&(o==null?void 0:o.inputs)))},2664439203:(B,A,e)=>{"use strict";e.d(A,{K$:()=>s,fw:()=>o,xW:()=>n});var t=e(4414425352);const s=(0,t.Ay)("Sets the focused workspaces from the client-store");s.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"};const o=(0,t.Ay)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");o.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"};const n=(0,t.Ay)("Sets the last tab for a given channel id");n.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"}},5968645835:(B,A,e)=>{"use strict";e.d(A,{M:()=>c,r:()=>l});var t=e(3122619948);const s=["files","downloads","whats_new","shortcuts","details","apps"],o=["search_results","activity","notifications","reactions","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top","huddle","filespane","help","tile","rimeto_profile","story","feedback","docs","huddles_captions","messages","contact_profile","record","comments","history","ai_summary_details"],n=["convo","groups","team","stars","mentions"],c=[...s,...(0,t.A)()?o:n],l={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",CANVAS:"canvas"}},3813017689:(B,A,e)=>{"use strict";e.d(A,{A:()=>C});var t=e(2101927269),s=e(8840779375),o=e(3750057149),n=e(605568209),c=e(8370946575),l=e(2691514942),i=e(7411813784),a=e(4216074246),r=e(6251135763),d=e(4894634110),m=e(7874250141),f=e(8091212860),u=e(8983568556),E=e(5535077364),v=e(9906096856),g=e(6436034182),T=e(4290224291),p=e(5572453358),O=e(4002934744);const y=(0,d.Ay)("Add messages from history",(I,M,_)=>{let{msgs:P,channelId:b,isLimited:S,latest:N,oldest:L,hasMore:D,loading:k,forceUnreadCount:x,deleted:R=[]}=_;const U=M(),F=(0,i.Cy)({getState:M});(0,a.L)(U)&&F.mark("rmsgs_addMessagesFromHistory");const W=(0,t.A)(P,Q=>{const J=b&&(0,T.k)(U,{channelId:b,ts:Q.ts});return J&&(0,l.Ay)({getState:M}).warn(`Filtering out ${Q.ts} in ${b} history response because it was deleted`),!J}),w=S?P.filter(Q=>Q.is_beyond_free_limit).map(Q=>Q.ts):n.Ml,K=(0,s.A)(W,"ts"),j=(0,r.A)(b)?b:(0,c.Sb)(b).channelId;j&&(0,E.mY)((0,m.ZT)(U),j,K),I((0,p.tT)(W)),I((0,u.VG)({channelId:b,timestamps:K,isLimited:S,blurredMessages:w,latest:N,oldest:L,hasMore:D,loading:k,forceUnreadCount:x})),(0,o.A)(k)&&b&&I(k?(0,g.v)({channelId:b,loadingOlder:!!N}):(0,v.f)({channelId:b})),(0,a.L)(U)&&F.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),j&&R.forEach(Q=>I((0,O.j)({deleted_ts:Q,channel:j}))),W.forEach(Q=>(0,f.IY)(M,I,Q,Q))});y.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"};const C=y},8399503736:(B,A,e)=>{"use strict";e.d(A,{Fj:()=>S,Vq:()=>b});var t=e(1985486637),s=e(3889517373),o=e(7792131998),n=e(6915886995),c=e(9762018042),l=e(4314470620),i=e(353071615),a=e(7492291136),r=e(6540138590),d=e(6182787245),m=e(1315591004),f=e(8716317086),u=e(907002960),E=e(289822669),v=e(4894634110),g=e(299746410),T=e(205540855),p=e(6766178921),O=e(1641547755);const y=h((N,L)=>L.map(D=>D.pasted&&!D.entity?{value:D.value,entity:(0,p.nv)(N,D.value)}:D),"getMemberInfoForPastedMembers"),C=h(N=>{const L=N.entity||{};return(0,u.A)(N==null?void 0:N.value)||(0,i.NB)(L)},"isAMember"),I=h(N=>{const L=N.entity;return(0,E.A)(N.value)||(0,m.PH)(L)},"isAUserGroup"),M={[s.IS.ALREADY_IN_CHANNEL]:!0,[s.IS.CANNOT_INVITE_SELF]:!0,[s.IS.ALREADY_IN_CHANNEL_UG]:!0},_={},P=h(N=>{let{shouldPreserve:L,teamId:D}=N;_[D]=L},"setShouldPreserveModalsOnNavigation"),b=h(N=>{let{teamId:L}=N;return _[L]},"getShouldPreserveModalsOnNavigation"),S=(0,v.Ay)("Add users and user groups to channel",async(N,L,D)=>{let{selectedMembers:k,addMemberMode:x,channel:R,keepChannelHistory:U,teamId:F,shouldSkipInitialStage:W}=D;const w={channelId:R.id,force:!0,reason:"submit-invite-channel-invite-modal"};let K,j;if(x===o.D.AllMembers)w.inviteAll=!0,K=[],j=[];else{const Z=y(L(),k),te=(0,c.A)(L(),R),he=(0,l.R)(L(),R);K=Z.reduce((ue,de)=>{if(de&&C(de)&&de.entity){const re=de,V=(0,O.Sv)(L(),R.id,re.value);if(!V.isKnown||!V.isMember){const H=(0,d.dQ)(re.entity),X=(0,r.S)(L(),re.entity,R);(he||(0,a.g)(re.entity)&&H&&te.includes(H)||X)&&ue.push(re.value)}}return ue},[]),w.users=K.join(","),j=k.reduce((ue,de)=>(de&&I(de)&&ue.push(de.value),ue),[]),w.subteams=j.join(",")}const Q=w.inviteAll||!!w.users||!!w.subteams,J=(0,T._Z)(L(),"shared_channel_invite_requested_event")==="on",z={addedExistingMembers:Q,userInviteResults:K.map(Z=>({ok:!0,invitee:Z,inviteeType:f.T0.User,accessType:f.BD.Member,error:""})),groupInviteResults:j.map(Z=>({ok:!0,invitee:Z,inviteeType:f.T0.UserGroup,accessType:f.BD.Member})),newChannelId:void 0};let ie;try{if(U)Q&&(await N((0,n.Cw)(w)).then(Z=>{const{requested_invites:te=[]}=Z;ie=te}),J&&(z.userInviteResults=z.userInviteResults.map(Z=>{const te=ie.find(he=>he.user_id===Z.invitee);return{...Z,accessType:te?f.BD.SharedChannel:Z.accessType,inviteeType:te?f.T0.Email:Z.inviteeType,...J&&{isRequestedInvite:!!te}}})));else{P({shouldPreserve:!W,teamId:F}),w.propagateInviteResult=!0;const{channel:Z}=await N((0,g.t)(w));z.newChannelId=Z.id,P({shouldPreserve:!1,teamId:F})}}catch(Z){var ee;P({shouldPreserve:!1,teamId:F});const te=Z==null||(ee=Z.data)===null||ee===void 0?void 0:ee.errors;if(!te){var ne;if(!M[Z==null||(ne=Z.data)===null||ne===void 0?void 0:ne.error])throw Z}te==null||te.forEach(he=>{if(M[he.error])return;const ue=z.userInviteResults.filter(re=>re.invitee===he.user);if(ue.length)ue[0].ok=!1,ue[0].error=he.error;else if(k.length===1&&!he.user&&W){var de;z.userInviteResults=[{ok:!1,invitee:(de=k[0])===null||de===void 0?void 0:de.value,inviteeType:f.T0.User,error:he.error,accessType:f.BD.Member}]}else z.userInviteResults.push({ok:!1,invitee:he.user,inviteeType:f.T0.User,error:he.error,accessType:f.BD.Member})})}return t.S.resolve(z)});S.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},7141701373:(B,A,e)=>{"use strict";e.d(A,{r:()=>l});var t=e(9915778310),s=e(4037738189),o=e(1928301588),n=e(4894634110),c=e(7281000332);const l=(0,n.Ay)("Go back in history",(i,a)=>{const r=a();if((0,t.yZ)(r)){(0,s.ud)((0,c.Ry)())||(0,c.dispatchForClientStore)((0,o.oX)());return}window.history.back()});l.meta={name:"createThunk",key:"createThunkgoBackInWindowHistory",description:"Go back in history"}},4837506835:(B,A,e)=>{"use strict";e.d(A,{h:()=>l});var t=e(9915778310),s=e(4037738189),o=e(1928301588),n=e(4894634110),c=e(7281000332);const l=(0,n.Ay)("Go forward in history",(i,a)=>{const r=a();if((0,t.yZ)(r)){(0,s.uV)((0,c.Ry)())||(0,c.dispatchForClientStore)((0,o.qu)());return}window.history.forward()});l.meta={name:"createThunk",key:"createThunkgoForwardInWindowHistory",description:"Go forward in history"}},7042186995:(B,A,e)=>{"use strict";e.d(A,{AL:()=>v,FR:()=>T,IE:()=>O,Nu:()=>d,Ow:()=>y,bF:()=>u,el:()=>E,hk:()=>m,mT:()=>f});var t=e(5801849507),s=e(3659369705),o=e(3858498257),n=e(205540855),c=e(293248343),l=e(6717879785),i=e(7418708689),a=e(4741230335),r;const d=h(()=>{var I,M;return(r=(I=l.J.matchMedia)===null||I===void 0||(M=I.call(l.J,"not all and (prefers-contrast), (prefers-contrast)"))===null||M===void 0?void 0:M.matches)!==null&&r!==void 0?r:!1},"browserSupportsHighContrastColors"),m=h(()=>(0,t.A)()&&((0,s.cX)()||(0,s.jy)())&&(0,s.dY)("4.20.0"),"desktopSupportsHighContrastColors"),f=h((I,M)=>(0,n._Z)(I,"a11y_message_replay")==="on"&&(0,o.xT)(I,M)&&(0,o.ot)(I,M||i.N2),"shouldTriggerMessageReplay"),u=h(I=>(0,n._Z)(I,"a11y_underline_button_link")==="on"&&!!(0,c.ty)(I,"underline_links"),"shouldShowUnderlineButtonLink"),E=h(I=>(0,n._Z)(I,"secondary_view_container_as_dialog")==="on","canSecondaryViewContainerBeDialog"),v=h(I=>!(0,s.cX)()&&(0,n._Z)(I,"aria_application_usage")==="on","isUsingApplicationMode"),g=h(I=>getGroupForUser(I,"bbm_nux_translations")==="on","isBBMNuxTranslationsSupported"),T=h(I=>(0,n._Z)(I,"a11y_charismatic_megafauna")==="on","isAltTextV2Supported"),p=h(I=>T(I)&&!!(0,c.ty)(I,"a11y_show_alt_text_reminders"),"isAltTextV2EnabledForUser"),O=h(I=>T(I)&&!!(0,a.SI)(I,"alt_text_reminders"),"isAltTextV2EnabledForTeam"),y=h(I=>O(I)||p(I),"isAltTextV2Enabled"),C=h(I=>T(I)&&!!getUserPref(I,"a11y_never_show_slackbot_alt_text_reminders"),"shouldNeverShowSlackBotAltTextRemindersMessage")},7740451057:(B,A,e)=>{"use strict";e.d(A,{I:()=>c,u:()=>n});var t=e(605568209),s=e(4873029336),o=e(3351247794);const n=h(l=>(l==null?void 0:l.name)||"","getActionName"),c=h((l,i,a)=>{const r=!a;let d=t.Ml;if(a){const m=(0,o.OL)(l,a);d=m&&(0,s.f)(l,m)||t.Ml}return i.teams&&(d.length||r)&&!i.isWorkspaceAgnostic?r?i.teams:i.teams.filter(f=>d.includes(f)):t.Ml},"getActionRelatedWorkspaces")},6203840547:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(9513040995),s=e(7874250141);function o(n){const c=(0,s.VO)(n);var l;return(0,t.ss)(n)&&((l=c==null?void 0:c.length)!==null&&l!==void 0?l:0)>1}h(o,"shouldShowAppsIndexTeamPicker")},2216791686:(B,A,e)=>{"use strict";e.d(A,{O4:()=>n,OB:()=>l});var t=e(3701660703),s=e(9866181557);const o="canvas_version_history_enabled",n=h(i=>(0,s.xp)(i,o),"getCanvasVersionHistoryEnabledTeamPref"),c=h((i,a)=>{const r=(0,t.Lp)(i,a);return r?r.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),l=h((i,a)=>a?!!n(i)&&!!c(i,a):!1,"isCanvasVersionHistoryEnabled")},1121493173:(B,A,e)=>{"use strict";e.d(A,{m:()=>s});var t=e(3905882879);const s=h(o=>o===t.VZ.DirectMessages||o===t.VZ.GroupDirectMessages,"isDmLikeSection")},3686012206:(B,A,e)=>{"use strict";e.d(A,{Z:()=>n});var t=e(8859166048),s=e(1240477450),o=e(9192970512);const n=h((c,l)=>!(0,t.JM)(l)&&!(0,s.F)(l)&&!(0,o.N)(l),"canBeExternallyShared")},8296806975:(B,A,e)=>{"use strict";e.d(A,{B2:()=>a,Bw:()=>v,CM:()=>u,FA:()=>d,Jr:()=>E,Kg:()=>y,OH:()=>g,QS:()=>i,Vp:()=>p,bS:()=>O,bw:()=>r,lz:()=>l,oP:()=>f});var t=e(3078252698),s=e(1492910739),o=e(2947229296),n=e(2691514942);const c=new o.Ay("channels"),l=80,i=250,a=250;function r(I){let{useFriendlyMpdmMaxLength:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t.A)(I)?I.length>(M?l:i):((0,s.Cu)()&&(0,n.Wo)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}h(r,"channelTopicExceedsLimit");const d="too_long",m="restricted_action",f="user_is_restricted",u="method_not_supported_for_channel_type",E="method_not_supported_for_dm";function v(I){let{useFriendlyMpdmMaxLength:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(I){case d:return c.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:M?l:i});case m:case f:return c.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case u:return c.t("It\u2019s not possible to set a topic here, unfortunately.");case E:return c.t("Regrettably, direct messages do not have topics.");default:return c.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}h(v,"getChannelTopicError");const g="too_long",T="restricted_action",p="user_is_restricted",O="method_not_supported_for_channel_type",y="method_not_supported_for_dm";function C(I){switch(I){case g:return c.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:a});case T:case p:return c.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case O:return c.t("It\u2019s not possible to set a purpose here, unfortunately.");case y:return c.t("Regrettably, direct messages do not have purposes.");default:return c.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}h(C,"getChannelPurposeError")},3134311726:(B,A,e)=>{"use strict";e.d(A,{q:()=>i});var t=e(8859166048),s=e(9192970512),o=e(5478938623),n=e(6251135763),c=e(3351247794),l=e(3666777625);const i=h((a,r)=>{if(!r||!(0,n.A)(r))return!1;const d=(0,l.H7)(a),m=(0,c.OL)(a,r),f=(0,t.JM)(m),u=(0,s.N)(m),E=(0,o.Ny)(d);return!(f||!E&&!u)},"doBroadcastKeywordPrefsApplyForChannel")},796726665:(B,A,e)=>{"use strict";e.d(A,{i:()=>o});var t=e(8859166048),s=e(4570606691);const o=h((n,c)=>{if((0,t.JM)(c)||!n)return!1;const l=(0,s.j)(c),i=l?n.get(l):null;return i?(i==null?void 0:i.length)>1:!1},"doesChannelHaveNonUniqueName")},2215959437:(B,A,e)=>{"use strict";e.d(A,{Z:()=>a,Y:()=>r});var t=e(605568209),s=e(5566149298),o=e(4527069385),n=e(6766178921),c=e(4378915552),l=e(5630795175);function i(d,m,f){const u=!f;var E;const v=(E=(0,n.nv)(d,m,{preferNonExistentToNull:!1,fetchIfMissing:u}))!==null&&E!==void 0?E:void 0;return!v||f&&(0,c.mX)(v)?m:(0,l.wg)(v)}h(i,"getRealMemberNameById");const a=h((d,m)=>m?m.map(f=>({id:f,name:(0,o.I)(d,f)})).sort((f,u)=>(0,s.Ay)(f.name,u.name)).map(f=>f.id):t.Ml,"getAlphabeticallySortedMemberIds"),r=h((d,m)=>!m||!m.length?t.Ml:m.map(f=>({id:f,name:i(d,f)})).sort((f,u)=>(0,s.Ay)(f.name,u.name)).map(f=>f.id),"getRealNameAlphabeticallySortedMemberIds")},5322812987:(B,A,e)=>{"use strict";e.d(A,{V:()=>n});var t=e(4378915552),s=e(8859166048),o=e(5887324738);function n(c){return(0,t.lv)(c)?!1:(0,s.rW)(c)||(0,s.rI)(c)||(0,o.bl)(c)}h(n,"isChannelViewable")},2788823752:(B,A,e)=>{"use strict";e.d(A,{I:()=>i});var t=e(1360127216),s=e(1336112848),o=e(9323019934),n=e(7295269717),c=e(7919365230),l=e(3701660703);const i=(0,c.Ay)((a,r)=>{if(!(0,s.K3)(a,r,{fetchFileIfMissing:!0}))return!1;const d=(0,n.l)(r.id),m=(0,l.Lp)(a,d);return!(0,t.lv)(m)&&!(0,o.Bp)(m)&&!(0,o.sR)(m)?(0,o.DQ)(m):!1});i.meta={name:"createSelector",key:"createSelectorisFileChannelForKnownCanvasFile",description:(a,r)=>{if(!(0,s.K3)(a,r,{fetchFileIfMissing:!0}))return!1;const d=(0,n.l)(r.id),m=(0,l.Lp)(a,d);return!(0,t.lv)(m)&&!(0,o.Bp)(m)&&!(0,o.sR)(m)?(0,o.DQ)(m):!1}}},2754509362:(B,A,e)=>{"use strict";e.d(A,{DK:()=>_,F2:()=>v,Fr:()=>P,O:()=>M,Rr:()=>T,hq:()=>b,nU:()=>I,sj:()=>S,u_:()=>p,zI:()=>g});var t=e(506684971),s=e.n(t),o=e(3659369705),n=e(7485328956),c=e(5566107789),l=e(6259614693),i=e(205540855),a=e(5297239210),r=e(7281000332),d=e(2783339162),m=e(6375290407),f=e(3299945751),u=e(6717879785);const E=h((N,L)=>(0,l.Z)((0,l.P)(N),(0,l.P)(L))<0,"lt");function v(N){return(0,i._Z)(N,m.CF.SystemsBlockingModals)==="on"&&!(0,a.A)((0,r.Ry)(),m.CF.SystemsBlockingModals,"off")}h(v,"shouldShowBlockingModal");function g(N){if((0,n.qN)(window.location.href).deprecation_will_be_deprecated_ssb)return f.H8.nonBlocking;if(!(0,o.y3)())return f.H8.false;const L=h(D=>!(0,o.dY)(D.slack),"isDeprecated");if(L(m.Ww.current)&&v(N))return f.H8.blocking;if((0,i._Z)(N,m.CF.Systems)==="on"&&L(m.Ww.next)){if((0,i._Z)(N,m.CF.SystemsPhaseThree)==="on"&&v(N))return f.H8.blocking;if((0,i._Z)(N,m.CF.SystemsPhaseOne)==="on")return f.H8.nonBlocking}return f.H8.false}h(g,"willBeDeprecatedSSB");function T(N){if((0,n.qN)(window.location.href).deprecation_will_be_deprecated_browser)return!0;if((0,o.y3)())return!1;const L=h(D=>!!(s().chrome&&E(s().version,D.chrome)||s().firefox&&E(s().version,D.firefox)||s().msedge&&E(s().version,D.edge)||s().safari&&E(s().version,D.safari)),"isDeprecated");return!!(L(m.Ww.current)||(0,i._Z)(N,m.CF.Systems)==="on"&&(0,i._Z)(N,m.CF.SystemsPhaseOne)==="on"&&L(m.Ww.next))}h(T,"willBeDeprecatedBrowser");const p=h(N=>{var L;if((0,n.qN)(u.J.location.href).deprecation_is_unsupported_browser)return!0;if((u.J===null||u.J===void 0||(L=u.J.navigator)===null||L===void 0?void 0:L.userAgent)==="slack_cli_tool/1.0"||(0,o.y3)())return!1;const D=(0,i._Z)(N,"admin_browser_deprecation_warning_july_2025")==="on";if(P())return!1;const k=(0,c.A)(),x=(k==null?void 0:k.indexOf("Edg/"))>-1;return D?s().chrome&&E(s().version,m.Ww.next.chrome)||s().firefox&&E(s().version,m.Ww.next.firefox)||x&&E(s().version,m.Ww.next.edge)||s().safari&&E(s().version,m.Ww.next.safari):!1},"getBrowserDeprecationWarningState"),O=h(()=>!!(jsonParseOrFallback(readCookie("c")||"")||{})[COOKIE_DEPRECATION_KEY],"hasSeenDeprecationBanner"),y=h(function(N){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return getGroupForUser(N,"activation_browser_deprecation_warning_july_2025")!=="on"&&!L||O()||isDesktopApp()?!1:!!(bowser.chrome&&E(bowser.version,deprecationVersions.next.chrome)||bowser.safari&&E(bowser.version,deprecationVersions.next.safari)||bowser.firefox&&E(bowser.version,deprecationVersions.next.firefox)||bowser.msedge&&E(bowser.version,deprecationVersions.next.edge))},"willBeDeprecatedBrowserActivationPages"),C=h(function(N){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return getGroupForUser(N,"browser_deprecation_red_banner_october_2025")==="on"||L},"showUrgentBrowserDeprecationBanner");function I(N){if((0,n.qN)(window.location.href).deprecation_will_be_outdated_os)return!0;if(!(0,o.y3)())return!1;const L=(0,c.A)(),D=h(k=>{if(!s().osname||s().osname.toLowerCase()==="unknown")return!1;if(s().osname==="macOS")return s().osversion?E(s().osversion,k.mac):!1;const x=(L==null?void 0:L.indexOf("OS_Product/Workstation"))>-1,R=!x;if(s().osname==="Windows"&&(x&&E(s().osversion,k.windowsWorkstation)||R&&E(s().osversion,k.windowsServer)&&!k.windowsServerLongTermVersions.includes(s().osversion)))return!0;if(s().osname==="Linux"){var U,F;const W=(U=L==null?void 0:L.match(/Ubuntu ((?:\d{1,5}\.?){1,3})/))===null||U===void 0?void 0:U[1];if(W&&E(W,k.ubuntu))return!0;const w=(F=L==null?void 0:L.match(/Red Hat (?:Enterprise )?Linux ((?:\d{1,5}\.?){1,3})/))===null||F===void 0?void 0:F[1];if(w&&E(w,k.redHat))return!0}return!1},"isDeprecated");return D(m.Ww.current)?!0:(0,i._Z)(N,m.CF.Systems)==="on"&&(0,i._Z)(N,m.CF.SystemsPhaseOne)==="on"&&D(m.Ww.next)?s().osname==="Windows"?(0,i._Z)(N,m.CF.SystemsWindows)==="on":s().osname==="Linux"?(0,i._Z)(N,m.CF.SystemsLinux)==="on":!0:!1}h(I,"willBeDeprecatedOS");const M=h(N=>{var L;if(!(0,o.y3)()||(0,i._Z)(N,m.CF.SystemsWoAUpgrade)!=="on")return!1;const D=(L=window.navigator)===null||L===void 0?void 0:L.userAgent;return D?(0,o.qu)(D)&&!D.includes("WindowsStore"):!1},"shouldShowWoaArchUpgrade"),_=h(N=>{var L;if(!(0,o.y3)()||(0,i._Z)(N,m.CF.SystemsRosettaUpgrade)!=="on")return!1;const D=(L=window.navigator)===null||L===void 0?void 0:L.userAgent;return D?(0,o.Tl)(D):!1},"shouldShowAppleRosettaUpgrade");function P(){return!!((0,n.qN)(window.location.href).deprecation_is_mobile||s().mobile||s().tablet)}h(P,"isMobile");function b(){return window.process&&window.process.mas||window.navigator.userAgent&&window.navigator.userAgent.includes("MacAppStore")||window.process&&window.process.windowsStore||window.navigator.userAgent&&window.navigator.userAgent.includes("WindowsStore")||window.navigator.userAgent&&window.navigator.userAgent.includes("Snap")}h(b,"isAppStore");function S(){var N;return!!(!((N=window.navigator.userAgent)===null||N===void 0)&&N.match(/\bMSI\b/))||!1}h(S,"isMSI")},1116493576:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3889517373),s=e(6497449120),o=e(1867878666);function n(c){return(0,o.Q)(c).filter(a=>(0,s.sC)(a)).length>=t.KD}h(n,"hasMaxComposerDrafts")},5767388934:(B,A,e)=>{"use strict";e.d(A,{H:()=>t});function t(s){return s&&s.emoji}h(t,"getEmojiCollectionEmoji")},6756122507:(B,A,e)=>{"use strict";e.d(A,{M:()=>t});function t(s){return s&&s.name}h(t,"getEmojiCollectionName")},7049019840:(B,A,e)=>{"use strict";e.d(A,{j:()=>t});function t(s){return s&&s.installed}h(t,"isEmojiCollectionInstalled")},9636620918:(B,A,e)=>{"use strict";e.d(A,{Y:()=>t});const t=h(s=>s&&s.name,"getEmojiName")},1093203675:(B,A,e)=>{"use strict";e.d(A,{$R:()=>L,BM:()=>ue,DC:()=>w,JC:()=>k,Jn:()=>ee,Kj:()=>J,NG:()=>he,RI:()=>Q,UF:()=>R,Wg:()=>ie,cG:()=>K,hP:()=>W,lL:()=>Z,p4:()=>de,qh:()=>te,rY:()=>F,y0:()=>z,yD:()=>x});var t=e(9113979368),s=e(8840779375),o=e(1703559452),n=e(9588678965),c=e(2727907536),l=e(3659369705),i=e(1242487384),a=e(3351247794),r=e(2319043816),d=e(9132422875),m=e(9866181557),f=e(6766178921),u=e(9819891010),E=e(3701660703),v=e(6987151047),g=e(8815644013),T=e(8370946575),p=e(9323019934),O=e(5796743689),y=e(6829584834),C=e(9963560),I=e(2271464237),M=e(2947229296),_=e(605568209),P=e(2207269998),b=e(9176700866),S=e(7713718206);const N=new M.Ay("stories_av"),L=h((re,V)=>{const H=!!V&&(0,g.ju)(V);let X=!0;return H?X=(0,m.xp)(re,"allow_video_clips")&&(0,m.xp)(re,"allow_video_clip_sharing_slack_connect"):X=(0,m.xp)(re,"allow_video_clips"),X},"isVideoClipSharingEnabledForChannel"),D=h((re,V,H)=>{const X=(0,a.OL)(re,V),Y=L(re,X);return(!V||!H&&(0,v.E)(re,V)||!!H&&(0,C.NI)(re,X))&&Y},"canDestinationReceiveVideoClips"),k=h((re,V,H)=>D(re,V,H),"canPostVideoClipInDestination"),x=h((re,V,H)=>D(re,V,H)&&k(re,V,H)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),R=h((re,V)=>{const H=!!V&&(0,g.ju)(V);let X=!0;return H?X=(0,m.xp)(re,"allow_audio_clips")&&(0,m.xp)(re,"allow_audio_clip_sharing_slack_connect"):X=(0,m.xp)(re,"allow_audio_clips"),X},"isAudioClipSharingEnabledForChannel"),U=h((re,V,H)=>{const X=(0,a.OL)(re,V),Y=R(re,X);return(!V||!H&&(0,v.E)(re,V)||!!H&&(0,C.NI)(re,X))&&Y},"canDestinationReceiveAudioClips"),F=h((re,V,H)=>U(re,V,H),"canPostAudioMessageInDestination"),W=h((re,V,H)=>U(re,V,H)&&F(re,V,H)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),w=h((re,V)=>{if(!ee(V))return!0;const H=(0,m.xp)(re,"allow_clip_downloads"),X=(0,i.WR)(re),Y=(0,c.qc)(re,X)||(0,S.Zo)(re)||(0,S.p2)(re)||(0,S.PY)(re);if(H==="anyone"||Y)return!0;const q=V.user!==null&&V.user===X;return!!(H==="creator_and_admins"&&q)},"canDownloadClip"),K=h((re,V)=>w(re,V)||(0,l.y3)(),"canOpenClipInNewWindow"),j=(0,n.Mz)((re,V)=>{if(!V)return!1;if((0,t.A)(V.files))return _.Ml;const H=(0,s.A)(V.files,X=>(0,E.Lp)(re,X));return(0,o.A)(H,O.A)});j.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(re,V)=>{if(!V)return!1;if((0,t.A)(V.files))return _.Ml;const H=(0,s.A)(V.files,X=>(0,E.Lp)(re,X));return(0,o.A)(H,O.A)}};function Q(re){let{state:V,threadKey:H,includeAllMessages:X=!1,startTs:Y}=re;const{channelId:q,threadTs:fe}=(0,T.Sb)(H),{timestamps:ce,reachedStart:Ee,reachedEnd:Ae}=(0,r.r7)(V,H,Y||fe)||{},le=ce!=null&&ce.length&&q?ce.map(oe=>(0,d.Ld)(V,q,oe)).filter(b.b):[];return{messages:X?le:le.filter(oe=>j(V,oe)),reachedStart:!!Ee,reachedEnd:!!Ae}}h(Q,"getMediaThread");function J(re){var V;return re!=null&&re.vtt?I.D.available:(re==null||(V=re.transcription)===null||V===void 0?void 0:V.status)==="processing"?I.D.processing:I.D.none}h(J,"getCaptionsAvailability");const z=h(re=>(0,m.xp)(re,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function ie(re,V){let H="";if(V.user){const Y=(0,f.nv)(re,V.user);H=Y?(0,u.sE)(re,Y):""}let X;return H?X=(0,y.A)(V)?N.t("Audio clip from {memberName}",{memberName:H}):N.t("Video clip from {memberName}",{memberName:H}):X=(0,y.A)(V)?N.t("Audio clip"):N.t("Video clip"),X}h(ie,"getLabelForClip");function ee(re){return re!=null&&re.subtype?ne(re.subtype):!1}h(ee,"isClip");function ne(re){let{clipsSubtypes:V=P.Y1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return V.includes(re)}h(ne,"isClipsSubtype");function Z(re){return re===P.iN}h(Z,"isAudioClipSubtype");function te(re){return re&&re.some(V=>ne(V.subtype))}h(te,"containsClip");function he(re){return re?re.filter(V=>ne(V.subtype)):[]}h(he,"findClips");function ue(re,V){const H=(0,i.WR)(re);return(V==null?void 0:V.user)===H}h(ue,"canRemoveTranscriptPreview");function de(re){return(0,p.pI)(re)?(re==null?void 0:re.aac)||(re==null?void 0:re.url_private):(re==null?void 0:re.mp4)||(re==null?void 0:re.url_private)}h(de,"getMediaSrc")},6652075354:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(4378915552);function s(o){return(0,t.mX)(o)}h(s,"isFileUnknown")},7161162988:(B,A,e)=>{"use strict";e.d(A,{Fh:()=>r,Iz:()=>a,gC:()=>i});var t=e(7919365230),s=e(3701660703),o=e(4328187452),n=e(3449258574),c=e(1360127216);const l=(0,t.Ay)((d,m)=>{const{fileIdOrQuipThreadId:f}=(0,n.EX)(m);if((0,o.A)(f)){var u;return(u=(0,s.Lp)(d,f))!==null&&u!==void 0?u:null}return null});l.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(d,m)=>{const{fileIdOrQuipThreadId:f}=(0,n.EX)(m);if((0,o.A)(f)){var u;return(u=(0,s.Lp)(d,f))!==null&&u!==void 0?u:null}return null}};const i=(0,t.Ay)((d,m)=>{const f=l(d,m);return f&&(0,c.uz)(f)?f:null});i.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(d,m)=>{const f=l(d,m);return f&&(0,c.uz)(f)?f:null}};function a(d){return d.linked_channel_id}h(a,"getLinkedChannelId");function r(d){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(d)}h(r,"isSampleCanvas")},5317324095:(B,A,e)=>{"use strict";e.d(A,{eY:()=>C,QX:()=>_,dL:()=>I,oG:()=>P,Lz:()=>M,L7:()=>k,J5:()=>D,XH:()=>b,nY:()=>S});var t=e(3278623468),s=e(1905218661),o=e(9156075779),n=e(4873029336),c=e(6545531717),l=e(8807955038),i=e(5478938623),a=e(5421660490),r=e(889517558),d=e(1425414404),m=e(8342776180),f=e(4369687334),u=e(1242487384);const E=h((x,R)=>{const U=(0,u.TZ)(x);if(R&&U){const W=(0,d.oI)(x,{permission:m.p.INVITE_GUEST});return(0,f.Vf)(R.id,W)}const F=(0,d.ox)(x,{permission:m.p.INVITE_GUEST});return(0,f.Jr)(F)},"canUserInviteGuests");var v=e(8716317086),g=e(3351247794),T=e(6766178921),p=e(1053178797),O=e(9866181557),y=e(3666777625);function C(x){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const U=(0,T.cA)(x),F=R??(0,y.H7)(x);if(!F)return!1;const W=(0,r.Me)(x,F.id),w=(0,p.cn)(x,{teamOrEnterpriseIds:[F.id]});return W||w?!0:(0,c.P)(U)?!1:(0,O.xp)(x,"invites_only_admins",R==null?void 0:R.id)?E(x,F):!0}h(C,"canUserInviteMembersToWorkspace");function I(x,R,U){const F=R||(0,T.cA)(x),W=U||(0,y.H7)(x);return!(!W&&!W||(0,c.P)(F)||!(0,O.xp)(x,"invite_requests_enabled",W.id))}h(I,"canUserRequestToInvite");function M(x){const R=(0,T.cA)(x),U=(0,y.H7)(x);return!U||(0,o.R)(x)?!1:(0,i.r7)(U)?!!(0,s.Mo)(x).filter(W=>I(x,R,W)||C(x,W)).length:!!(I(x,R,U)||C(x))}h(M,"canUserSeeInviteModal");function _(x,R){const U=(0,y.H7)(x);if(!U)return!1;const F=(0,g.OL)(x,R),W=(0,i.tc)(U),w=(0,i.r7)(U),K=(0,l.D7)(x,R),j=w?!S(x,F):M(x);return W&&j||!W&&(j||K)}h(_,"canUserInviteToChannelByEmail");function P(x,R){const U=(0,T.cA)(x),F=R?(0,y._J)(x,R):(0,y.H7)(x);return!F||(0,i.tc)(F)?!1:I(x,U,F)?!0:E(x,F)}h(P,"canUserSeeAccountTypeOptions");function b(x,R){let{ignoreGuestSettings:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const F=(0,T.cA)(x),W=R?(0,y._J)(x,R):(0,y.H7)(x);if(!(0,i.r7)(W))return!1;const w=(0,r.Me)(x,W.id),K=(0,p.cn)(x,{teamOrEnterpriseIds:[W.id]});return w||K||!(0,O.xp)(x,"invites_only_admins",W.id)||I(x,F,W)?!1:U?!0:E(x,W)}h(b,"shouldDisableFullMemberInviteOption");function S(x,R){const U=(0,n.f)(x,R);return!!(U!=null&&U.every(F=>b(x,F,{ignoreGuestSettings:!0})))}h(S,"shouldDisableFullMemberInviteOptionForChannel");function N(x){let{state:R,team:U,inviteType:F}=x,W=U;if(!U&&(W=getCurrentTeam(R),!W))return!1;const w=getTeamPref(R,"auth_mode"),K=w==="google"||w==="saml";return isEnterpriseOrEnterpriseWorkspace(W)&&F===AccessType.Member||K&&getTeamPref(R,"sso_auth_restrictions")===0}h(N,"shouldShowSsoAlert");function L(x){let{state:R,inviteType:U}=x;const F=getTeamPref(R,"auth_mode"),W=getTeamPref(R,"sso_auth_restrictions");return F==="google"?U===AccessType.Member&&(W===0||W===1)||(U===AccessType.MultiChannelGuest||U===AccessType.SingleChannelGuest)&&W===0:!1}h(L,"shouldShowGoogleDomainsNotice");function D(x){let{state:R,inviteType:U,team:F}=x;if(!U||!(0,v.LX)(U))throw new Error(`Invalid invite type: ${U}`);const W=F||(0,y.H7)(R);if(!W||(0,a.N)(F))return!1;const w=(0,O.xp)(R,"invites_only_admins",W==null?void 0:W.id),K=(0,r.Me)(R,W.id),j=(0,p.cn)(R,{teamOrEnterpriseIds:[W.id]}),Q=E(R,W);switch(U){case v.BD.Member:return K||j?!1:!!w;case v.BD.MultiChannelGuest:case v.BD.SingleChannelGuest:return!Q;default:return!0}}h(D,"isRequestingInvitesForType");function k(x){let{state:R}=x;const U=(0,y.H7)(R);return(0,t.z$)()?!0:(0,i.r7)(U)?!!(0,O.xp)(R,"hide_gsuite_invite_option"):!1}h(k,"isGoogleDirectoryDisabled")},6107500718:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3351247794),s=e(9963560);function o(n,c){const l=(0,t.Pu)(n,c&&c.id);return l?(0,s.$M)(l):null}h(o,"getImUnreadCountByMember")},6723862059:(B,A,e)=>{"use strict";e.d(A,{P:()=>l});var t=e(2003990933),s=e(7492291136),o=e(7874250141),n=e(6182787245),c=e(353071615);function l(i,a){if(!i||!a||(0,s.g)(a))return!1;const r=(0,n.QI)(a);return(0,c.dk)(a)&&(r===(0,o.jV)(i)||r===(0,t.A)(a,"enterprise_user.enterprise_id"))}h(l,"isMemberFromOrg")},6540138590:(B,A,e)=>{"use strict";e.d(A,{S:()=>a});var t=e(9415067152),s=e(8621572116),o=e(6182787245),n=e(7492291136),c=e(7524779262),l=e(6723862059),i=e(5281006549);const a=h((r,d,m)=>{if((0,n.g)(d))return!1;if((0,l.P)(r,d)){if((0,c.S)(m))return!0;if((0,t.t)(m))return(0,s.R)(r,m).some(E=>(0,o.nO)(d,E))}const f=(0,i.c)(m);return(0,o.nO)(d,f)},"isMemberOnSomeChannelWorkspace")},4169266603:(B,A,e)=>{"use strict";e.d(A,{A:()=>g});var t=e(2319043816),s=e(4781929578),o=e(9132422875),n=e(1641547755),c=e(1242487384),l=e(6766178921),i=e(353071615),a=e(1263278196),r=e(4846005180),d=e(106379984),m=e(6661085679),f=e(5092593511),u=e(5416456934),E=e(1230216522);const v=23;function g(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max((0,s.UL)(),O),C=arguments.length>4?arguments[4]:void 0;if(!(0,t.si)(T,p))return[];const I=(0,t.r7)(T,p);if(!I||!I.timestamps)return[];const M=(0,o.h8)(T,p),_=I.timestamps.slice(-y),P=(0,c.WR)(T);let b=[],S=[],N=!1;const L=[],D=[],k=[],x=[],R=[],U=[];let F=!1;for(let w=_.length-1;w>=0;w--){const K=M[_[w]],j=(0,r.Hr)(K);if(!j)continue;if(C&&j===P){F=!0;continue}if(!(C?L.includes(j)||k.includes(j)||R.includes(j):b.includes(j))&&!(0,m.A)(K)&&(0,d.A)(K,P)){const J=(0,n.Sv)(T,p,j),z=(0,l.nv)(T,j);if(N||(N=!(J!=null&&J.isKnown)||(0,i.t8)(z)),!N&&(J!=null&&J.isKnown)&&(J!=null&&J.isMember)&&!(0,a.A)(z)&&!(0,i.oy)(z)){if(C){if((0,u.gd)(T,j)==="active"?(0,E.Vd)(T,j)?(k.push(j),x.push(z)):(L.push(j),D.push(z)):(R.push(j),U.push(z)),D.length===O||k.length+U.length===v-O)break}else if(b.push(j),S.push(z),S.length===O)break}}}if(N)return[];if(C&&(D.length===O?(S=D,b=L):(S=D.concat(x.slice(0,O-D.length)),b=L.concat(k.slice(0,O-R.length)),S.length<O&&(S=S.concat(U.slice(0,O-D.length)),b=b.concat(R.slice(0,O-R.length))))),S.length>=O)return S;const W=(0,f.$)(T,p);if(!W.length)return[];for(let w=0;w<W.length;w++){const K=W[w];if(K&&!b.includes(K)&&(C&&K===P?F=!0:(b.push(K),S.push((0,l.nv)(T,K)))),S.length===O)break}return S.length===0&&F&&(b.push(P),S.push((0,l.nv)(T,P))),S}h(g,"getLastNRelevantMembersInChannel")},803196644:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3078252698),s=e(8289365785),o=e(6730916127),n=e(9323019934);function c(l,i){if(!l)return"";let a="";if(l&&l.subtype!=="tombstone"){a=(0,t.A)(l.text)?l.text:"";const r=(0,s.A)(l.attachments);if(r&&r.is_msg_unfurl&&(!a||(0,o.A)(l))){const d=typeof r.original_url=="string"?r.original_url:"";a=r.text||d||""}}if(!a&&i&&!(i!=null&&i.isNonExistent)){const r=(0,n.SB)(i);r&&(a=r)}return a}h(c,"getMessageRootText")},4542547804:(B,A,e)=>{"use strict";e.d(A,{A:()=>k});var t=e(2003990933),s=e(8289365785),o=e(3701660703),n=e(6766178921),c=e(3889517373),l=e(2369541067),i=e(9238137835),a=e(9323019934),r=e(4846005180),d=e(2947229296),m=e(8859166048),f=e(4357385957),u=e(5291811316),E=e(3351247794),v=e(6277503403);const g=new d.Ay("huddles"),p=h(x=>{let{msg:R,state:U,roomId:F}=x;var W;const w=(0,E.OL)(U,R.channel),K=(0,m.LI)(w),j=(0,m.yz)(w)||K;let Q=g.t("Huddles");const J=(0,f.Vh)({state:U,roomId:F}),z=(0,v.E$)(U,F),ie=(0,f.Qw)(U,F),ee=(0,v.xx)(U,F),ne=(0,v._5)(U,F),Z=(0,v.l)(U,F),te=ne.length+Z.length,he=(W=(0,v.Ej)(U,F))===null||W===void 0?void 0:W.trim();if(J&&!z)if(he){var ue;Q=(ue=g.rt("{huddleTopic} is happening",{huddleTopic:he}).props)===null||ue===void 0?void 0:ue.children}else if(!j||te===0)Q=g.t("A huddle is happening");else{const H=ne.slice(0,2),X=Z.slice(0,2);let Y,q;H.forEach(fe=>{Y?q||(q=(0,u.A)(U,fe)):Y=(0,u.A)(U,fe)}),X.forEach(fe=>{Y?q||(q=fe):Y=fe}),Q=g.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:te-1,firstParticipant:Y,secondParticipant:q})}if(J&&z)if(he){var de;Q=(de=g.rt("You joined {huddleTopic}",{huddleTopic:he}).props)===null||de===void 0?void 0:de.children}else Q=g.t("You joined the huddle");if(!J)if(ie)Q=g.t("You missed a huddle");else if(he&&ee.length){var re;Q=(re=g.rt("{huddleTopic} happened",{huddleTopic:he}).props)===null||re===void 0?void 0:re.children}else if(he&&!ee.length){var V;Q=(V=g.rt("{huddleTopic} happened, but no one joined",{huddleTopic:he}).props)===null||V===void 0?void 0:V.children}else Q=g.t("A huddle happened");return Q},"HuddleMessageUserName");var O=e(1242487384),y=e(9383537253);const C=new d.Ay("huddles"),M=h(x=>{let{schedule:R,state:U}=x;var F;if(!(0,y.MJ)(U)||!R)return null;const K=(0,O.WR)(U)===R.inviter_user_id;var j;const Q=(0,u.A)(U,(j=R.inviter_user_id)!==null&&j!==void 0?j:""),J=C.rt("You scheduled a huddle"),z=C.rt("{memberName} scheduled a huddle",{memberName:Q});let ie=K?J:z;const ee=R.topic;if(ee){const ne=C.rt("You scheduled {huddleTopic}",{huddleTopic:ee}),Z=C.rt("{memberName} scheduled {huddleTopic}",{memberName:Q,huddleTopic:ee});ie=K?ne:Z}return(F=ie.props)===null||F===void 0?void 0:F.children},"ScheduledHuddleUserName"),_=new d.Ay("huddles"),b=h(x=>{let{schedule:R,state:U}=x;if(!(0,y.MJ)(U))return"";let W=_.t("A scheduled huddle is canceled");const w=R==null?void 0:R.topic;return w&&(W=_.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:w})),W},"DeleteScheduledHuddleUserName");var S=e(4123531166),N=e(4612528447),L=e(9132422875);const D=new d.Ay("assistant");function k(x,R,U){let F=R.user||(0,t.A)(R,"comment.user");const W=R.document_comment;W&&(W.most_recent_editor?F=W.most_recent_editor:W.authors&&W.authors.length>0&&(F=W.authors[0]));const w=R.username;let K=null;const j=R.file||(0,s.A)(R.files),Q=U||(j?(0,o.Lp)(x,j):null);let J=R.bot_id||Q&&Q.bot_id;if(!J){const re=(0,n.nv)(x,F);var z;J=(z=(0,l.A)(x,re))!==null&&z!==void 0?z:void 0}let ie=null;J&&(K=(0,i.AF)(x,J),ie=K?K.app_id:null);const ee=(0,S.l)(x);if((0,r.mb)(R))return{username:p({msg:R,state:x,roomId:R.room_id}),isHuddleMsg:!0,huddleActivityStatus:(0,f.K8)(x,R.room_id)};if((0,N.Iu)(R)){var ne,Z;if((R==null||(ne=R.ai_context)===null||ne===void 0||(Z=ne.summary)===null||Z===void 0?void 0:Z.type)==="huddle"){var te;const re=D.t("AI huddle notes are ready");return{username:(R==null||(te=R.ai_context)===null||te===void 0?void 0:te.result_status)==="complete"?re:D.t("Slack AI"),isHuddleMsg:!0}}}if(ee&&(0,N.qZ)(R))return{username:"Slack Assistant",isAssistantThread:!0};if(ee&&(R!=null&&R.thread_ts)&&(R==null?void 0:R.user)==="USLACKBOT"&&(0,N.qZ)((0,L.Ld)(x,R==null?void 0:R.channel,R==null?void 0:R.thread_ts)))return{username:"Slack Assistant",isAssistantThread:!0};if((0,r.zv)(R)){const re=(0,y.MJ)(x);var he;const V=(he=R.schedule)!==null&&he!==void 0?he:null;return{username:re?M({schedule:V,state:x}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if((0,r.GO)(R)){const re=(0,y.MJ)(x);var ue;const V=(ue=R.schedule)!==null&&ue!==void 0?ue:null;return{username:re?b({schedule:V,state:x}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if((0,r.aH)(R)){var de;return{userId:(de=R.list_edit)===null||de===void 0?void 0:de.created_by,isListEditMsg:!0}}return(0,N.cb)(R)||(0,N.Ni)(R)?{username:"Canvas updated"}:(0,N.gA)(R)?{userId:R.tab_added_user_id}:(0,N.Lo)(R)?{userId:R.item_added_user_id}:F===c.Q$&&Q&&Q.bot_id?Q.filetype==="email"&&K&&K.name?{...(0,a.xR)(Q),botId:J,appId:ie}:{...(0,a.xR)(Q),username:w||Q.username,botId:J,appId:ie}:F?{appId:ie,botId:J,userId:F}:{appId:ie,botId:J,username:w}}h(k,"getMsgSenderEntity")},6730916127:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(9842572424),s=e(8289365785),o=e(1387877529),n=e(3411612397);function c(l){const i=(0,s.A)(l.attachments);if(!i||!i.is_msg_unfurl)return!1;const a=i.from_url;if((0,t.A)(l,!1)){const r=(0,s.A)(l.blocks);if(!r||!r.elements)return!1;const d=(0,o.A)(r.elements,{hasMsgLink:!1,hasOtherContent:!1},(m,f)=>f.type===n.Lv.LINK&&f.url===a&&(!f.text||f.text===a)?{...m,hasMsgLink:!0}:{...m,hasOtherContent:!0});return d.length===1&&d[0].hasMsgLink&&!d[0].hasOtherContent}return!l.text||l.text===`<${a}>`}h(c,"isSimpleMessageUnfurl")},6661085679:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(4846005180),s=e(3889517373);function o(n){return(0,t.Hr)(n)===s.Q$}h(o,"isSlackbotMessage")},3147649490:(B,A,e)=>{"use strict";e.d(A,{A:()=>M});var t=e(4711108074),s=e.n(t),o=e(293248343),n=e(3542943043),c=e(7831811348),l=e(7919365230),i=e(7640840193),a=e(3889517373),r=e(9636620918),d=e(5955725533),m=e(4570606691),f=e(4420780948),u=e(1434037758),E=e(1326631049),v=e(6298481129),g=e(3461808173),T=e(4541462795),p=e(6641183110),O=e(2326505157),y=e(1501622589),C=e(8667147762);const I=(0,l.Ay)((_,P)=>{const{channelId:b,inThread:S,useChannelTagging:N=!0,useColonEmojiConversion:L=!1,delta:D=new(s())}=P,k=(0,i.A)(_),x=L||(0,d.P)(_),R=S||!(0,g.A)(_,b||"")?[]:(0,v.A)(_,b||"");let U=D;const F=(0,o.ty)(_,"plain_text_mode");if(F&&(U=(0,u.Ay)(U,{ignoreUnbalancedParentheses:!0}),[y.A,O.A].forEach(K=>{U=U.compose(K(U,null,F))})),x){const K=(0,p.A)(D,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:(0,c.Yp)(),emojiNames:(0,n.CK)(_),replaceNativeEmoji:!1,usePlainTextMode:!!F,teamId:void 0});K.length()>0&&(U=D.compose(K))}const W={contents:U.ops},w=(0,f.A)({state:_,contents:new(s())(W.contents),highlightWords:k,isEmojiDisplayedAsText:x,useChannelTagging:N,searchFunc:(K,j)=>{if(!["member","channel"].includes(K))return[];if(!j)return[];if(K==="channel")return(0,T.G2)(_,{query:j,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(z=>(0,m.j)(z)===j);const Q=(0,E.dx)(R,j);return Q?[Q]:!x&&K==="emoji"?(0,T.G2)(_,{query:j,options:{entities:{emoji:!0},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(z=>(0,r.Y)(z)===j):(0,T.G2)(_,{query:j,options:{entities:{userGroups:{includeFromAnotherTeam:(0,C.J)(_)},members:{includeSelf:!0,includeSlackbot:!1}},limit:a.zE,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:(0,u.Ay)(w,{limitCodeBlockLinksToFullURLs:!0,ignoreExistingLinks:!0})}});I.meta={name:"createSelector",key:"createSelectorprepareMessage",description:(_,P)=>{const{channelId:b,inThread:S,useChannelTagging:N=!0,useColonEmojiConversion:L=!1,delta:D=new(s())}=P,k=(0,i.A)(_),x=L||(0,d.P)(_),R=S||!(0,g.A)(_,b||"")?[]:(0,v.A)(_,b||"");let U=D;const F=(0,o.ty)(_,"plain_text_mode");if(F&&(U=(0,u.Ay)(U,{ignoreUnbalancedParentheses:!0}),[y.A,O.A].forEach(K=>{U=U.compose(K(U,null,F))})),x){const K=(0,p.A)(D,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:(0,c.Yp)(),emojiNames:(0,n.CK)(_),replaceNativeEmoji:!1,usePlainTextMode:!!F,teamId:void 0});K.length()>0&&(U=D.compose(K))}const W={contents:U.ops},w=(0,f.A)({state:_,contents:new(s())(W.contents),highlightWords:k,isEmojiDisplayedAsText:x,useChannelTagging:N,searchFunc:(K,j)=>{if(!["member","channel"].includes(K))return[];if(!j)return[];if(K==="channel")return(0,T.G2)(_,{query:j,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(z=>(0,m.j)(z)===j);const Q=(0,E.dx)(R,j);return Q?[Q]:!x&&K==="emoji"?(0,T.G2)(_,{query:j,options:{entities:{emoji:!0},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(z=>(0,r.Y)(z)===j):(0,T.G2)(_,{query:j,options:{entities:{userGroups:{includeFromAnotherTeam:(0,C.J)(_)},members:{includeSelf:!0,includeSlackbot:!1}},limit:a.zE,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:(0,u.Ay)(w,{limitCodeBlockLinksToFullURLs:!0,ignoreExistingLinks:!0})}}};const M=I},2562626421:(B,A,e)=>{"use strict";e.d(A,{Du:()=>d,FI:()=>E,Fg:()=>a,H0:()=>v,QG:()=>r,Rn:()=>s,Vs:()=>g,hq:()=>u,p6:()=>o,rY:()=>f,wS:()=>n,yu:()=>c});var t=e(205540855);function s(T){return(0,t._Z)(T,"spaceship_posts_migration")==="on"}h(s,"isSpaceshipPostsMigrationEnabled");function o(T){return(0,t._Z)(T,"spaceship_inline_comments")==="on"}h(o,"isSpaceshipInlineCommentsEnabled");function n(T){return(0,t._Z)(T,"canvas_button_workflows")==="on"}h(n,"isCanvasButtonWorkflowsEnabled");function c(T){return(0,t._Z)(T,"canvas_convert_to_callout")==="on"}h(c,"isCanvasConvertToCalloutEnabled");function l(T){return getGroupForUser(T,"spaceship_automation_next")==="on"}h(l,"isCanvasAutomationNextEnabled");function i(T){return getGroupForUser(T,"spaceship_automation_variables_next")==="on"}h(i,"isCanvasAutomationVariablesNextEnabled");function a(T){return(0,t._Z)(T,"spaceship_automation_later")==="on"}h(a,"isCanvasAutomationLaterEnabled");function r(T){return(0,t._Z)(T,"canvas_smart_cards")==="on"}h(r,"isCanvasSmartCardsEnabled");function d(T){return(0,t._Z)(T,"canvas_channel_overview_creation")==="on"}h(d,"isCanvasChannelOverviewCreationEnabled");function m(T){return getGroupForUser(T,"canvas_expanded_rich_text")==="on"}h(m,"isCanvasExpandedRichTextEnabled");function f(T){return(0,t._Z)(T,"canvas_private_message_unfurl_speedbump_v2")==="on"}h(f,"isCanvasPrivateMessageSpeedbumpForTitlesEnabled");function u(T){return(0,t._Z)(T,"search_channel_canvases")==="on"}h(u,"isChannelCanvasSearchEnabled");function E(T){return(0,t._Z)(T,"canvas_comment_file_sharing")==="on"}h(E,"isCanvasCommentFileSharingEnabled");function v(T){return(0,t._Z)(T,"canvas_comment_content_improvements")==="on"}h(v,"isCanvasCommentContentImprovementsEnabled");function g(T){return(0,t._Z)(T,"canvas_readtime")==="on"}h(g,"isCanvasReadtimeEnabled")},882196998:(B,A,e)=>{"use strict";e.d(A,{l:()=>n});var t=e(6461200554),s=e(5478938623),o=e(3666777625);const n=h(c=>(0,t.F)(c)&&!(0,s.tc)((0,o.H7)(c)),"teamCanCreateStandaloneCanvas")},9841064735:(B,A,e)=>{"use strict";e.d(A,{J:()=>o});var t=e(93868421),s=e(3080816759);const o=h((n,c)=>{var l,i;let a,r,d;n&&(n.subtype==="file_comment"?[r,a]=["file_comment",n.comment]:(0,t.A)(n.subtype)?[r,a]=["file",c]:[r,a,d]=["message",n,n.channel]);const m=r==="message"?(l=a)===null||l===void 0?void 0:l.ts:(i=a)===null||i===void 0?void 0:i.id;return a&&(a._rxn_key||(0,s.B)(r,m,d))},"getReactionKey")},9955559678:(B,A,e)=>{"use strict";e.d(A,{t:()=>o});var t=e(7919365230),s=e(5691265838);const o=(0,t.Ay)(n=>!((0,s.Bf)(n)||!(0,s.pr)(n)));o.meta={name:"createSelector",key:"createSelectorshouldShowAppsLink",description:n=>!((0,s.Bf)(n)||!(0,s.pr)(n))}},4763572930:(B,A,e)=>{"use strict";e.d(A,{R:()=>r});var t=e(8859166048),s=e(9192970512),o=e(8815644013);const n=h((d,m)=>!(0,t.JM)(m)&&(0,o.ju)(m)&&!(0,s.N)(m),"canBeDisconnected");var c=e(9468484535),l=e(5478938623),i=e(2229026815),a=e(3666777625);function r(d,m){if(m&&!n(d,m))return!1;if(m&&(0,i.M)(d,m))return!0;const f=(0,a.H7)(d);return(0,l.tc)(f)?!0:(0,c.I)(d,m)}h(r,"canUserDisconnectExternalSharedChannel")},8821463613:(B,A,e)=>{"use strict";e.d(A,{RY:()=>r,cG:()=>c,l6:()=>a});var t=e(6784494601),s=e(4388212433),o=e(1732450184),n=e(3485109110);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalLimitedPref:Symbol("can_create_external_limited_pref"),WhoCanCreateExternalLimitedPref:Symbol("who_can_create_external_limited_pref")},l={ok:!1,reason:c.CanCreateExternalLimitedPref},i={ok:!1,reason:c.WhoCanCreateExternalLimitedPref},a=h(d=>{if(!(0,t.i)(d))return l;const f=o.yY.WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE;return(0,s.y)(d,f)?n.O:i},"canUserInviteExternalLimitedMembersWithReason"),r=h(d=>a(d).ok,"canUserInviteExternalLimitedMembers")},8807955038:(B,A,e)=>{"use strict";e.d(A,{D7:()=>O,JO:()=>g,NU:()=>p,wi:()=>m});var t=e(6027162153),s=e(3686012206),o=e(8859166048),n=e(4873029336),c=e(5209823364),l=e(5293834221),i=e(5478938623),a=e(3485109110),r=e(3351247794),d=e(3666777625);const m={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},f={ok:!1,reason:m.InvalidParams},u={ok:!1,reason:m.FreeTeam},E={ok:!1,reason:m.CannotRequest},v={ok:!1,reason:m.InvalidChannel},g=h((y,C)=>{if(!(0,o.jq)(C))return f;const I=(0,c.k)(y),M=(0,i.qR)((0,d.H7)(y));if(!I&&!M)return u;const P=(0,l.lR)(y,{mustEveryWorkspaceBeAllowed:!0,teamIds:(0,n.f)(y,C)});return!(P!=null&&P.ok)&&(0,t.A)(P==null?void 0:P.reasons,l.jM.UserCannotCreateChannel,l.jM.AllowedWorkspacePref).length>0?E:(0,s.Z)(y,C)?a.O:v},"canUserInviteExternalMembersToChannelWithReason"),T=h((y,C)=>{const M=(0,r.OL)(y,C,!1);return M?g(y,M):f},"canUserInviteExternalMembersToChannelWithReasonById"),p=h((y,C)=>g(y,C).ok,"canUserInviteExternalMembersToChannel"),O=h((y,C)=>T(y,C).ok,"canUserInviteExternalMembersToChannelById")},5293834221:(B,A,e)=>{"use strict";e.d(A,{jM:()=>O,Tc:()=>M,lR:()=>I});var t=e(5209823364),s=e(8821463613),o=e(54598432),n=e(5478938623),c=e(5252290642),l=e(9087248458),i=e(5980399196),a=e(1715996615),r=e(6549927270),d=e(205540855);const m=(0,a.A)((_,P)=>{const{teams:b,value:S}=P;switch(S){case"ONLY_SELECTED":return(0,l.A)(_,b).length===_.length;case"ALL_EXCEPT_SELECTED":return(0,i.A)(_,b).length===_.length;default:return!0}},2);function f(_){let{slackConnectAllowedWorkspacesPref:P,teamIds:b}=_;return b!=null&&b.length?m(b,P):!1}h(f,"isEveryTargetWorkspaceAllowedToHaveSharedChannelsStateless");function u(_,P){return!(0,t.k)(_)||(0,d._Z)(_,"sc_allowed_workspaces_pref_override")==="on"?!0:f({slackConnectAllowedWorkspacesPref:(0,r.a)(_),teamIds:P})}h(u,"isEveryTargetWorkspaceAllowedToHaveSharedChannels");var E=e(9282451668),v=e(6897174593),g=e(7874250141),T=e(3666777625);const p={ok:!0},O={...s.cG,...o.Xg,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),FreeTeam:Symbol("free_team"),NoOneCanManagePref:Symbol("who_can_manage_ext_shared_channels_pref_no_one"),UserCannotCreateChannel:Symbol("create_channel_restricted_action"),AllowedWorkspacePref:Symbol("slack_connect_allowed_workspaces_pref")},y=h((_,P,b)=>P?(0,E._t)(_,b):(0,E.Uq)(_,b),"channelCreationChecker"),C=h((_,P,b)=>P?u(_,b):(0,c.A)(_,b),"allowedWorkspacesChecker"),I=h(function(_){let{mustEveryWorkspaceBeAllowed:P,teamIds:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const S=[],N=(0,T.H7)(_),L=(0,t.k)(_),D=(0,n.qR)(N),k=!L&&!D;if((0,v.AB)(_)||(0,v.sV)(_))return S.push(O.UserIsRestricted),{ok:!1,reasons:S};var x;const R=(x=b??(0,g.kN)(_))!==null&&x!==void 0?x:[];y(_,P,R)||S.push(O.UserCannotCreateChannel),C(_,P,R)||S.push(O.AllowedWorkspacePref),k&&S.push(O.FreeTeam);const U=(0,s.l6)(_),F=(0,o._d)(_);return!U.ok&&!F.ok&&S.push(U.reason,F.reason),S.length>0?{ok:!!k,reasons:S}:p},"canUserInviteExternalMembersWithReason"),M=h((_,P)=>I(_,P).ok,"canUserInviteExternalMembers")},54598432:(B,A,e)=>{"use strict";e.d(A,{Xg:()=>c,_d:()=>a,ml:()=>r});var t=e(2714114576),s=e(4388212433),o=e(1732450184),n=e(3485109110);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalUnlimitedPref:Symbol("can_create_slack_connect_channel_pref"),WhoCanCreateExternalUnlimitedPref:Symbol("who_can_create_slack_connect_channel_pref")},l={ok:!1,reason:c.CanCreateExternalUnlimitedPref},i={ok:!1,reason:c.WhoCanCreateExternalUnlimitedPref},a=h(d=>{if(!(0,t.C)(d))return l;const f=o.yY.WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE;return(0,s.y)(d,f)?n.O:i},"canUserInviteExternalUnlimitedMembersWithReason"),r=h(d=>a(d).ok,"canUserInviteExternalUnlimitedMembers")},9468484535:(B,A,e)=>{"use strict";e.d(A,{I:()=>O,r:()=>p});var t=e(7174777686),s=e(9087248458),o=e(9963560),n=e(8859166048),c=e(5209823364),l=e(4678220906),i=e(6545531717),a=e(1732450184),r=e(9307797518),d=e(5478938623),m=e(889517558),f=e(7713718206),u=e(205540855),E=e(6766178921),v=e(1053178797),g=e(3666777625),T=e(5550559787);function p(y){const C=(0,u._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",I=(0,g.H7)(y);if(C)return(0,d.tc)(I)?!1:(0,v.es)(y);const M=(0,E.cA)(y),_=(0,r.u)(y);if(!(_!=null&&_.value))return!1;if((0,c.k)(y)){let P=[];switch(_.value){case a.GX.ALL_ADMINS_AND_OWNERS:return(0,m.EC)(y)||(0,l.n5)(M)||(0,l.rr)(M);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,l.n5)(M)||(0,l.rr)(M)?!0:(P=(0,T.QF)(y),!!((0,t.A)(_.users,M==null?void 0:M.id)||(0,s.A)(_.userGroups,P).length));case a.GX.EVERYONE:return!(0,i.Ez)(M);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,l.n5)(M)||(0,l.rr)(M)}}if((0,d.qR)(I))switch(_.value){case a.GX.TOPLEVEL_OWNERS:return(0,f.p2)(y);case a.GX.EVERYONE:return!(0,i.Ez)(M);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,f.p2)(y)||(0,f.Zo)(y)}return!1}h(p,"canUserManageExternalSharedChannels");function O(y,C){const I=(0,u._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",M=(0,g.H7)(y);if(I){if((0,d.tc)(M)||!(0,n.jq)(C))return!1;const b=(0,o.FB)(C);return(0,v.es)(y,{channelId:b})}const _=(0,E.cA)(y),P=(0,r.u)(y);if(!(P!=null&&P.value))return!1;if((0,c.k)(y)){let b=[];switch(P.value){case a.GX.ALL_ADMINS_AND_OWNERS:return(0,m.S4)(y,C);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,l.n5)(_)||(0,l.rr)(_)?!0:(b=(0,T.QF)(y),!!((0,t.A)(P.users,_==null?void 0:_.id)||(0,s.A)(P.userGroups,b).length));case a.GX.EVERYONE:return!(0,i.Ez)(_);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,l.n5)(_)||(0,l.rr)(_)}}if((0,d.qR)(M))switch(P.value){case a.GX.TOPLEVEL_OWNERS:return(0,f.p2)(y);case a.GX.EVERYONE:return!(0,i.Ez)(_);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,f.p2)(y)||(0,f.Zo)(y)}return!1}h(O,"canUserManageSlackConnectChannel")},1639431176:(B,A,e)=>{"use strict";e.d(A,{VX:()=>m});var t=e(353071615),s=e(3596980430),o=e(9871339690);function n(f){return f==null?void 0:f[o.bl]}h(n,"getMemberWhoCanShareContactCardPref");var c=e(7492291136),l=e(6766178921);function i(f,u){const E=(0,l.nv)(f,u);if(!E)return!1;const v=n(E);return v===o.X4.NO_ONE?!1:(0,c.g)(E)?v===o.X4.EVERYONE:!0}h(i,"isMemberContactInfoShareableById");var a=e(1242487384);const r={...s.BC,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function d(f,u){let E=[];(0,a.WR)(f)===u&&(E=E.concat(r.CONTACT_IS_SELF));const g=(0,l.nv)(f,u);(0,t.ls)(g)||(E=E.concat(r.CONTACT_NOT_ACTIVE_MEMBER));const T=(0,s.Hp)(f);return!T.ok&&T.reasons&&(E=E.concat(T.reasons)),i(f,u)||E.push(r.CONTACT_PREFS_RESTRICTED),E.length>0?{ok:!1,reasons:E}:{ok:!0}}h(d,"canUserShareContactByIdWithReasons");function m(f,u){return d(f,u).ok}h(m,"canUserShareContactById")},3596980430:(B,A,e)=>{"use strict";e.d(A,{BC:()=>i,Cq:()=>r,Hp:()=>a});var t=e(6545531717),s=e(6182787245),o=e(5478938623),n=e(1242487384),c=e(6766178921),l=e(3666777625);const i={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function a(d){const m=[],f=(0,n.WR)(d),u=(0,c.nv)(d,f),E=(0,s.Ux)(d,u);var v;const g=(v=(0,l._J)(d,E))!==null&&v!==void 0?v:null;return(0,t.Ez)(u)&&m.push(i.RESTRICTED_USER),(0,o.tc)(g)&&m.push(i.USER_IS_ON_FREE_TEAM),m.length>0?{ok:!1,reasons:m}:{ok:!0}}h(a,"canUserShareContactsWithReasons");function r(d){return a(d).ok}h(r,"canUserShareContacts")},1209276352:(B,A,e)=>{"use strict";e.d(A,{u:()=>c});var t=e(3686012206),s=e(8815644013),o=e(5478938623),n=e(3666777625);const c=h((l,i)=>{const a=(0,n.H7)(l);return(0,o.tc)(a)&&(0,s.ju)(i)&&(0,t.Z)(l,i)},"getIsCurrentTeamSponsoredInSlackConnectChannel")},7608550931:(B,A,e)=>{"use strict";e.d(A,{S:()=>l});var t=e(353071615),s=e(7492291136),o=e(4629886364),n=e(9341837877),c=e(6766178921);const l=h((i,a)=>{const r=(0,c.nv)(i,a);return(0,t.Zx)(r)?!1:(0,s.g)(r)?!!((0,o.bo)(i,a)&&(0,o.zP)(i,a)&&!(0,n.y)(i,a)):!0},"isMemberConnectedById")},6549927270:(B,A,e)=>{"use strict";e.d(A,{_:()=>l,a:()=>i});var t=e(2003990933),s=e(605568209),o=e(5209823364),n=e(7691907057),c=e(4741230335);const l={All:"ALL",AllExceptSelected:"ALL_EXCEPT_SELECTED",OnlySelected:"ONLY_SELECTED"},i=(0,n.F)(o.k,a=>(0,c.SI)(a,"slack_connect_allowed_workspaces"),(a,r)=>a?{value:(0,t.A)(r,"type[0]"),teams:(r==null?void 0:r.team)||s.Ml}:{value:l.All,teams:s.Ml})},6784494601:(B,A,e)=>{"use strict";e.d(A,{i:()=>i});var t=e(5209823364),s=e(1732450184),o=e(5478938623),n=e(4741230335),c=e(9866181557),l=e(3666777625);const i=h(a=>{const r=(0,t.k)(a),d=(0,l.H7)(a);return!r&&(0,o.tc)(d)?!1:(r?n.SI:c.xp)(a,s.yY.CAN_CREATE_EXTERNAL_LIMITED_INVITE)},"getCanCreateExternalLimitedInvitePref")},2714114576:(B,A,e)=>{"use strict";e.d(A,{C:()=>i});var t=e(5209823364),s=e(1732450184),o=e(5478938623),n=e(4741230335),c=e(9866181557),l=e(3666777625);const i=h(a=>{const r=(0,t.k)(a),d=(0,l.H7)(a);return!r&&(0,o.tc)(d)?!1:(r?n.SI:c.xp)(a,s.yY.CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE)},"getCanCreateSlackConnectChannelInvitePref")},4388212433:(B,A,e)=>{"use strict";e.d(A,{y:()=>g});var t=e(7530630315),s=e(235108050),o=e(7174777686),n=e(9087248458),c=e(5209823364),l=e(1732450184),i=e(16576676),a=e(5478938623),r=e(7713718206),d=e(6897174593),m=e(7874250141),f=e(1242487384),u=e(3666777625),E=e(5550559787);const v=h(p=>{if((0,d.sV)(p))return!1;const O=(0,m.jV)(p);if((0,r.V7)(p,O)||(0,r.PY)(p,O))return!0;const y=(0,m.ZT)(p),C=(0,t.A)(y,(0,m.kN)(p));return(0,s.A)(C).some(M=>!!((0,r.$G)(p,M)||(0,r.h3)(p,M)))},"isCurrentUserAnyAdminOrOwner"),g=h((p,O)=>{const y=(0,f.WR)(p);var C;const I=(C=(0,u.H7)(p))!==null&&C!==void 0?C:void 0;if((0,d.AB)(p)||(0,d.sV)(p))return!1;const M=(0,r.p2)(p),_=(0,r.Zo)(p),P=v(p),b=(0,c.k)(p),S=(0,a.qR)(I),N=(0,i.o)(p,O);if(b){const L=(0,r.hu)(p),D=(0,r.FQ)(p);switch(N.value){case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:return L||D;case l.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return L||D?!0:!!(0,o.A)(N.users,y);case l.GX.ALL_ADMINS_AND_OWNERS:return L||D||P;case l.GX.EVERYONE:return!0;default:return!1}}if(S)switch(N.value){case l.GX.TOPLEVEL_OWNERS:return M;case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:return M||_;case l.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return M||_||(0,o.A)(N.users,y)?!0:!!(0,n.A)(N.userGroups,(0,E.QF)(p)).length;case l.GX.EVERYONE:return!0;default:return!1}return!1},"isUserWhoCanDoSlackConnectPref"),T={isCurrentUserAnyAdminOrOwner:v}},1732450184:(B,A,e)=>{"use strict";e.d(A,{GX:()=>s,cM:()=>n,d5:()=>o,yY:()=>t});const t={CAN_CREATE_EXTERNAL_LIMITED_INVITE:"can_create_external_limited_invite",WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE:"who_can_create_external_limited_invite",CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"can_create_slack_connect_channel_invite",WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"who_can_create_slack_connect_channel_invite",CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"can_accept_slack_connect_channel_invites",WHO_CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"who_can_accept_slack_connect_channel_invites",WHO_CAN_MANAGE_SHARED_CHANNELS:"who_can_manage_ext_shared_channels",WHO_CAN_SLACK_CONNECT_DM:"who_can_dm_anyone"},s={TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},o={...s,NO_ONE:"NO_ONE",DEFAULT:s.EVERYONE},n={CAN_FREE_TEAMS_JOIN_SC_CHANNELS:"allow_sponsored_slack_connections"}},9307797518:(B,A,e)=>{"use strict";e.d(A,{u:()=>o});var t=e(1732450184),s=e(16576676);const o=h(n=>{const c=t.yY.WHO_CAN_MANAGE_SHARED_CHANNELS;return(0,s.o)(n,c)},"getWhoCanManageSharedChannelsPref")},16576676:(B,A,e)=>{"use strict";e.d(A,{o:()=>r});var t=e(605568209),s=e(5209823364),o=e(1732450184),n=e(5478938623),c=e(4741230335),l=e(9866181557),i=e(3666777625);const a={plan:"",value:"",users:t.Ml,userGroups:t.Ml},r=h((d,m)=>{var f;const u=(0,i.H7)(d),E=(0,s.k)(d);if(!E&&(0,n.tc)(u))return a;const v=(E?"enterprise":u.plan)||"",g=E?(0,c.SI)(d,m):(0,l.xp)(d,m),T=(g==null||(f=g.type)===null||f===void 0?void 0:f[0])||"",p=T===o.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,O=p&&(g==null?void 0:g.user)||a.users,y=p&&(g==null?void 0:g.subteam)||a.userGroups;return{plan:v,value:T,users:O,userGroups:y}},"getWhoCanPref")},9871339690:(B,A,e)=>{"use strict";e.d(A,{V1:()=>n,X4:()=>o,bl:()=>s});var t=e(293248343);const s="who_can_share_contact_card",o={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},n=h(c=>(0,t.ty)(c,s),"getWhoCanShareContactCardPref")},2297902669:(B,A,e)=>{"use strict";e.d(A,{KP:()=>n,KX:()=>l,jE:()=>c});var t=e(9420277174),s=e(5630795175),o=e(1326631049);function n(i){if(i.is_broadcast_keyword||i.is_usergroup)return"";let a="";return(0,s.Fh)(i)&&(a=(0,s.wg)(i)),a?`@${a}`:""}h(n,"getSecondaryNameForSearchResult");const c=(0,t.A)((i,a)=>i===(0,o.Pc)(l(a))||i===(0,o.Pc)(n(a)));function l(i){return i.is_broadcast_keyword?`@${i.name}`:i.is_usergroup?`@${i.handle}`:`@${(0,s.Gt)(i)}`}h(l,"getDisplayTextForSearchResult")},8481954889:(B,A,e)=>{"use strict";e.d(A,{DP:()=>ue,qc:()=>X,qA:()=>ce,Bs:()=>H,Hv:()=>re,fK:()=>de,tY:()=>Ee,GE:()=>q,b:()=>V,iH:()=>Ae,mE:()=>me});var t=e(7174777686),s=e(1137236691),o=e(9866181557),n=e(6766178921),c=e(3351247794),l=e(6545531717),i=e(3889517373),a=e(4216074246),r=e(7346792853),d=e(6459292110),m=e(704396957),f=e(8859166048),u=e(1336112848),E=e(4763572930),v=e(8815644013),g=e(5962112073);const T={...g.u9,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},p={ok:!1,reason:T.ChannelNotFound},O={ok:!1,reason:T.ChannelTypeNotSupported},y={ok:!1,reason:T.CantDisconnectExtShared},C={ok:!1,reason:T.WhoCanManagePref},I={ok:!0},M=h((Te,Me)=>(0,f.jq)(Me)?(0,u.K3)(Te,Me)?O:(0,v.ju)(Me)&&!(0,E.R)(Te,Me)?y:(0,g.iz)(Te,Me):p,"canUserArchiveChannelWithReasons"),_=h((Te,Me)=>M(Te,Me).ok,"canUserArchiveChannel");var P=e(4223021329),b=e(5317324095),S=e(5887324738),N=e(8296806975),L=e(3659369705),D=e(2947229296),k=e(2564569187),x=e(205540855);const R=h(Te=>Te&&(0,x._Z)(Te,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var U=e(2064636096),F=e(4873029336),W=e(6245071961),w=e(9090121920);const K=new D.Ay("cmd_handlers"),{UNKNOWN_COMMAND:j,UNSUPPORTED_IN_THREAD:Q,UNSUPPORTED_IN_SHORTCUTS_MENU:J,CUSTOM_ERROR:z}=i.gu,ie=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/gif","/active","/giphy","/iamcal","/mute","/remind"],ee=["/asana","/adobe-manage","/adobe-subscribe","/adobe-feedback","/adobe-help","/cohere-help","/cohere-settings","/cohere-summarize","/cohere-quiet","/augment","/dev-augment","/staging-augment"],ne=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],Z=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],te=["/slackaccessibility","/slackgov"],he=["/leave","/close","/part","/archive","/topic"],ue=h(Te=>Te&&Te.alias_of,"getCommandAliasOf"),de=h(Te=>Te&&Te.name,"getCommandName"),re=h(Te=>Te&&(Te.desc||Te.description),"getCommandDesc"),V=h(Te=>Te&&Te.usage,"getCommandUsage"),H=h(Te=>Te&&(Te.canonical_name||Te.name),"getCommandCanonicalName"),X=h(Te=>Te&&Te.aliases,"getCommandAliases"),Y=h(Te=>Te&&(Te==null?void 0:Te.is_runnable_from_thread),"getCommandIsRunnableFromThread"),q=h(Te=>Te&&Te.type,"getCommandType"),fe=h(Te=>Te&&Te.app,"getCommandApp"),ce=h(Te=>Te==null?void 0:Te.appName,"getCommandAppName"),Ee=h((Te,Me,Ue)=>{const xe=(0,c.OL)(Te,Ue),Ne=xe?(0,F.f)(Te,xe)||[]:[];return Me.teams&&Ne.length&&Me.appName!=="Slack"&&!Me.isWorkspaceAgnostic?Me.teams.filter(ke=>Ne.includes(ke)):[]},"getCommandRelatedWorkspaces"),Ae=h(function(Te,Me){let{channelId:Ue}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Me)return!1;const xe=H(Me);return xe==="/leave"?(0,d.Y9)(Te,Ue):xe==="/remove"?(0,r.Vj)(Te,Ue):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(xe)>-1?!1:!!Me.autocomplete},"isAutocompleteCommand"),le=h(Te=>!!(Te&&Te.isServer),"isServerCommand"),oe=h(function(Te){let Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(Te){case P.a_.InvalidDm:return K.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case P.a_.OwnerRequired:return K.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case P.a_.InvalidParams:return Me?K.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):K.t("You don\u2019t have permission to rename.");case P.a_.RestrictedUser:return Me?K.t("Your admins have limited who can rename multi-workspace channels."):K.t("You don\u2019t have permission to rename.");case P.a_.OrgSharedSettings:return Me?K.t("Your admins have limited who can rename multi-workspace channels."):K.t("You don\u2019t have permission to rename.");case P.a_.InvalidChannelType:return K.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return K.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),me=h(function(Te,Me){let{channelId:Ue,isThread:xe,isShortcutsMenu:Ne}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Te||!Me)return{isEnabled:!1,reason:j};const be=(0,w.i7)(Te),ke=H(Me),Ke=q(Me),$=(0,c.OL)(Te,Ue);if(!(0,a.L)(Te)&&(0,t.A)(Z,ke))return{isEnabled:!1,reason:j};if(!(0,L.y3)()&&(0,t.A)(te,ke))return{isEnabled:!1,reason:j};if((0,u.jT)($)&&(0,t.A)(he,ke))return{isEnabled:!1,reason:j};if(xe){if(be){if(!(0,t.A)(ie,ke)&&!Y(Me))return{isEnabled:!1,reason:Q}}else if(!((0,t.A)(ie,ke)||(0,t.A)(ee,ke)))return{isEnabled:!1,reason:Q}}if(Ne&&(0,t.A)(ne,ke))return{isEnabled:!1,reason:J};if(Ke==="custom"||Ke==="service"){const Ge=(0,o.xp)(Te,"commands_only_regular"),nt=(0,n.cA)(Te);if(Ge&&(0,l.Ez)(nt))return{isEnabled:!1,reason:j}}if(Me.teams){const Ge=(0,F.f)(Te,$)||[];if(!Me.teams.filter(at=>Ge.includes(at)).length){const at=`Command not run. No intersection found between channel teams (${Ge}) and command teams (${Me.teams})`;return{isEnabled:!1,reason:z,logString:at,feedback:K.t("This command is not available in this channel")}}}if(ke==="/open"||ke==="/feed"){const Ge=(0,n.cA)(Te);if((0,l.Ez)(Ge))return{isEnabled:!1,reason:j}}else if(ke==="/topic"){const{ok:Ge,reason:nt}=(0,m.X)(Te,Ue);if(!Ge)return{isEnabled:!1,reason:z,feedback:(0,N.Bw)(nt)}}else if(ke==="/invite"){const Ge=(0,n.cA)(Te);if((0,l.Yd)(Ge))return{isEnabled:!1,reason:j};if(!(0,S.bl)($))return{isEnabled:!1,reason:z,feedback:K.t("You don\u2019t have permission to invite people.")};if((0,l.Ez)(Ge)&&!(0,f.Zp)($)||(0,U.A)(Te,Ge,$))return{isEnabled:!1,reason:z,feedback:K.t("You don\u2019t have permission to invite people.")}}else if(ke==="/invite_people"){if(!(0,b.Lz)(Te))return{isEnabled:!1,reason:z,feedback:K.t("You don\u2019t have permission to invite people.")}}else if(ke==="/rename"){const{ok:Ge,reason:nt}=(0,P.be)(Te,Ue);if(!Ge)return{isEnabled:!1,reason:z,feedback:oe(nt)}}else if(ke==="/archive"){if(!_(Te,$))return{isEnabled:!1,reason:j}}else if(ke==="/call"){if(!(0,k.lp)(Te,Ue)||(0,k.tO)(Te))return{isEnabled:!1,reason:j}}else if(ke==="/slacktrace"){if(!(0,s.Rg4)())return{isEnabled:!1,reason:z,feedback:K.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(ke==="/feedback"){if(R(Te))return{isEnabled:!1,reason:j}}else if(ke==="/gif"&&!(0,W.BH)(Te))return{isEnabled:!1,reason:z,feedback:K.t("Attach a GIF is not enabled.")};return{isEnabled:!0}},"isSlashCommandEnabled"),pe={getRenameDisabledFeedback:oe,TS_ONLY_COMMANDS:Z,DESKTOP_APP_ONLY_COMMANDS:te}},5252290642:(B,A,e)=>{"use strict";e.d(A,{A:()=>r,O:()=>a});var t=e(9087248458),s=e(5980399196),o=e(1715996615),n=e(5209823364),c=e(6549927270),l=e(205540855);const i=(0,o.A)((d,m)=>{const{teams:f,value:u}=m;switch(u){case"ONLY_SELECTED":return!!(0,t.A)(d,f).length;case"ALL_EXCEPT_SELECTED":return!!(0,s.A)(d,f).length;default:return!0}},2);function a(d){let{slackConnectAllowedWorkspacesPref:m,teamIds:f}=d;return f!=null&&f.length?i(f,m):!1}h(a,"areSomeTargetWorkspacesAllowedToHaveSharedChannelsStateless");function r(d,m){return!(0,n.k)(d)||(0,l._Z)(d,"sc_allowed_workspaces_pref_override")==="on"?!0:a({slackConnectAllowedWorkspacesPref:(0,c.a)(d),teamIds:m})}h(r,"areSomeTargetWorkspacesAllowedToHaveSharedChannels")},6737358533:(B,A,e)=>{"use strict";e.d(A,{z:()=>n});var t=e(5478938623),s=e(7874250141),o=e(4681558687);function n(c,l){if(!c||!l)return!1;const i=(0,t.ZT)(l);if((0,s.Kc)(c)===i||(0,s.ZT)(c)===i)return!1;const a=(0,s.jV)(c);return a&&a===l.enterprise_id?!1:(0,o.R)(c,l.id)}h(n,"isTeamExternal")},7607438329:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>g,w2:()=>E});var t=e(7919365230),s=e(5801849507),o=e(3122619948),n=e(1946327395),c=e(5403430935),l=e(7951377368),i=e(6259614693);const r=h(()=>(0,s.A)(),"isDarkModeFeatureEnabled");var d=e(3659369705),m=e(506684971),f=e.n(m);const u=h(()=>{var p;const O=(0,d.y3)()||((p=window.matchMedia)===null||p===void 0?void 0:p.call(window,"(prefers-color-scheme)").media)!=="not all",y=(0,d.cX)()&&(0,i.Z)((0,i.P)(f().osversion),(0,i.P)("10.14"))>=0,C=(0,d.jy)(),I=(0,d.j9)()&&(0,d.dY)("4.36.136"),M=y||C||I,_=(0,d.y3)()||(0,o.A)()||(0,n.A)()||(0,c.A)()||(0,l.A)();return(0,s.A)()&&O&&M&&_},"computeSystemSyncIsSupportedOnBoot"),E=u(),v=(0,t.Ay)(()=>!!E&&!!r());v.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:()=>!!E&&!!r()};const g=v,T={computeSystemSyncIsSupportedOnBoot:u}},5303619577:(B,A,e)=>{"use strict";e.d(A,{L1:()=>n,d9:()=>s,s5:()=>o});var t=e(205540855);function s(c){return(0,t._Z)(c,"today_v2")==="on"}h(s,"isTodayV2Enabled");function o(c){return(0,t._Z)(c,"today_v2_next")==="on"}h(o,"isTodayV2NextEnabled");function n(c){return(0,t._Z)(c,"today_calendar")==="on"}h(n,"isTodayCalendarEnabled")},370806217:(B,A,e)=>{"use strict";e.d(A,{S:()=>o,z:()=>n});var t=e(1053178797),s=e(205540855);function o(c){return(0,s._Z)(c,"hermes_template_builder_role")==="on"?(0,t.T)(c):!0}h(o,"canUserCreateWorkflowTemplates");function n(c){return(0,s._Z)(c,"hermes_template_admin_permission")==="on"?(0,t.m8)(c):!0}h(n,"canUserPublishWorkflowTemplates")},4730429351:(B,A,e)=>{"use strict";e.d(A,{D:()=>s});var t=e(1053178797);const s=h(o=>(0,t.NH)(o),"canUserAddEmoji")},9610182816:(B,A,e)=>{"use strict";e.d(A,{S:()=>i});var t=e(3351247794),s=e(7424032557),o=e(205540855),n=e(2691514942),c=e(1053178797),l=e(8859166048);function i(a,r){const d=(0,o._Z)(a,"etf_escal_permission_fe_logs")==="on",m=(0,t.gT)(a,r)&&(0,t.OL)(a,r)||void 0;return d&&(0,n.Ay)({state:a,label:"escal-cannot-at-channel"}).error("debug escal errors for escal-cannot-at-channel in canUserAtChannelInChannelById",{channelId:`${r}`,isMpim:`${(0,l.yz)(m)}`,deprecatedIsPermittedToAtChannelMPIM:`${(0,c.De)(a)}`,deprecatedIsPermittedToAtChannel:`${(0,c.De)(a,{channelId:r})}`,shouldStopChannelMentions:`${(0,s.i)(a,m==null?void 0:m.id,{allowToAdmins:!0})}`}),((0,l.yz)(m)?(0,c.De)(a):(0,c.De)(a,{channelId:r}))&&!(0,s.i)(a,m==null?void 0:m.id,{allowToAdmins:!0})}h(i,"canUserAtChannelInChannelById")},7968188012:(B,A,e)=>{"use strict";e.d(A,{W:()=>a});var t=e(3351247794),s=e(7424032557),o=e(9192970512),n=e(1242487384),c=e(205540855),l=e(2691514942),i=e(1053178797);const a=h((r,d)=>{const m=(0,c._Z)(r,"etf_escal_permission_fe_logs")==="on",f=(0,t.gT)(r,d)&&(0,t.OL)(r,d)||void 0;return m&&(0,l.Ay)({state:r,label:"escal-cannot-at-channel"}).error("debug escal errors for escal-cannot-at-channel in canUserAtEveryoneInChannelById",{channelId:`${d}`,isChannelExistent:`${(0,t.gT)(r,d)}`,isGeneral:`${(0,o.N)(f)}`,pageNeedsEnterprise:`${(0,n.u8)(r)}`,deprecatedIsPermittedToAtEveryone:`${(0,i.Pj)(r,{channelId:d})}`,shouldStopChannelMentions:`${(0,s.i)(r,f==null?void 0:f.id,{allowToAdmins:!0})}`}),!d||!f||!(0,o.N)(f)?!1:(0,n.u8)(r)?(0,i.Pj)(r,{channelId:d})&&!(0,s.i)(r,f==null?void 0:f.id,{allowToAdmins:!0}):(0,i.Pj)(r,{channelId:d})},"canUserAtEveryoneInChannelById")},9282451668:(B,A,e)=>{"use strict";e.d(A,{MM:()=>c,Uq:()=>l,_t:()=>i});var t=e(3385422400),s=e(3623444386),o=e(1255650744),n=e(9156075779);const c=h(a=>((0,o.HV)(a)||(0,s.R)(a))&&!(0,n.R)(a),"canUserCreateChannelsInSomeWorkspace"),l=(0,t.Mz)(o.y5,s.S,(a,r)=>r,(a,r,d)=>d.some(m=>a.includes(m)||r.includes(m))),i=(0,t.Mz)(o.y5,s.S,(a,r)=>r,(a,r,d)=>d.every(m=>a.includes(m)||r.includes(m)))},3623444386:(B,A,e)=>{"use strict";e.d(A,{R:()=>l,S:()=>i});var t=e(4071973151),s=e(4369687334),o=e(1425414404),n=e(8342776180);const c=h(a=>!(0,t.A)(a),"isPermittedToPrecondition"),l=h(a=>{if(!c(a))return!1;const r=(0,o.ox)(a,{permission:n.p.CREATE_PRIVATE_CHANNEL});return(0,s.Jr)(r)},"canUserCreatePrivateChannelsInSomeWorkspace"),i=h(a=>{if(!c(a))return[];const r=(0,o.oI)(a,{permission:n.p.CREATE_PRIVATE_CHANNEL});return(0,s.n9)(r)},"getWorkspaceIdsOnWhichUserCanCreatePrivateChannels")},1255650744:(B,A,e)=>{"use strict";e.d(A,{HV:()=>m,YD:()=>u,y5:()=>f});var t=e(4071973151),s=e(8859166048),o=e(5887324738),n=e(4991183284),c=e(6330284479),l=e(889517558),i=e(4369687334),a=e(1425414404),r=e(8342776180);const d=h(E=>!(0,t.A)(E),"isPermittedToPrecondition"),m=h(E=>{if(!d(E))return!1;const v=(0,a.ox)(E,{permission:r.p.CREATE_PUBLIC_CHANNEL});return(0,i.Jr)(v)},"canUserCreatePublicChannelsInSomeWorkspace"),f=h(E=>{if(!d(E))return[];const v=(0,a.oI)(E,{permission:r.p.CREATE_PUBLIC_CHANNEL});return(0,i.n9)(v)},"getWorkspaceIdsOnWhichUserCanCreatePublicChannels"),u=h((E,v)=>{if(!(0,s.Zp)(v)||!d(E)||(0,c.A)(E,v))return!1;const g=(0,a.WB)(E,{permission:r.p.CONVERT_PRIVATE_TO_PUBLIC,channelId:v.id});return(0,i.Jr)(g)&&(0,o.bl)(v)||(0,l.yG)(E,v)||(0,s.rI)(v)&&(0,n.O)(E,v.id)?!0:!!(0,l.yG)(E,v)},"canUserCreatePublicChannelFromPrivateChannel")},2890325633:(B,A,e)=>{"use strict";e.d(A,{u:()=>n});var t=e(205540855),s=e(1053178797),o=e(488656012);const n=h(function(c){let{shouldRefetch:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t._Z)(c,"light_read_who_can_dm_anyone_pref_migration")==="on"?(0,s.Tt)(c):(0,o.aJ)(c,{shouldRefetch:l})},"canUserCreateSlackConnectDms")},7951031243:(B,A,e)=>{"use strict";e.d(A,{i:()=>r,q:()=>a});var t=e(9963560),s=e(5887324738),o=e(889517558),n=e(8859166048),c=e(3351247794),l=e(1053178797),i=e(8182458152);const a=h((d,m)=>{if(!(0,n.jq)(m))return!1;const f=(0,t.FB)(m);return(0,i.D)(d,m)&&((0,o.S4)(d,m)||(0,s.bl)(m)&&(0,l.Fk)(d,{channelId:f}))},"canUserInviteExternalUsersToChannel"),r=h((d,m)=>{const u=(0,c.OL)(d,m,!1);return u?a(d,u):!1},"canUserInviteExternalUsersToChannelById")},102523945:(B,A,e)=>{"use strict";e.d(A,{Q:()=>r,e:()=>d});var t=e(9963560),s=e(5887324738),o=e(8859166048),n=e(889517558),c=e(3351247794),l=e(205540855),i=e(1053178797),a=e(8182458152);const r=h((m,f)=>{const u=(0,l._Z)(m,"invite_to_channel_permission")==="on";if(!(0,o.jq)(f))return!1;const E=(0,t.FB)(f),v=(0,a.D)(m,f);return u&&(0,o.Zp)(f)?v&&((0,n.S4)(m,f)||(0,s.bl)(f)&&(0,i.jw)(m,{channelId:E})):v},"canUserInviteInternalUsersToChannel"),d=h((m,f)=>{const E=(0,c.OL)(m,f,!1);return E?r(m,E):!1},"canUserInviteInternalUsersToChannelById")},8182458152:(B,A,e)=>{"use strict";e.d(A,{D:()=>u,X:()=>E});var t=e(9156075779),s=e(9963560),o=e(8859166048),n=e(1240477450),c=e(4314470620),l=e(5887324738),i=e(9994173668),a=e(889517558),r=e(6897174593),d=e(3351247794),m=e(205540855),f=e(1053178797);const u=h((v,g)=>{const T=(0,m._Z)(v,"invite_to_channel_permission")==="on";if(!(0,o.jq)(g))return!1;const p=(0,s.FB)(g);return(0,r.AB)(v)||(0,n.F)(g)||!(0,i.V)(g)||(0,t.R)(v)&&(0,c.R)(v,g)?!1:T&&(0,o.Zp)(g)?(0,a.S4)(v,g)||(0,l.bl)(g)&&((0,f.jw)(v,{channelId:p})||(0,f.Fk)(v,{channelId:p})):(0,a.S4)(v,g)||(0,l.bl)(g)},"canUserInviteToChannel"),E=h((v,g)=>{const p=(0,d.OL)(v,g,!1);return p?u(v,p):!1},"canUserInviteToChannelById")},7346792853:(B,A,e)=>{"use strict";e.d(A,{CE:()=>E,Vj:()=>y,VJ:()=>O});var t=e(8859166048),s=e(1240477450),o=e(3485109110),n=e(3351247794);const c={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},l={ok:!1,reason:c.ArchivedChannel},i={ok:!1,reason:c.InvalidDm},a={ok:!1,reason:c.RequiredChannel};function r(C,I){const M=(0,n.gT)(C,I)?(0,n.OL)(C,I):null;return(0,s.F)(M)?l:(0,t.LI)(M)||(0,t.yz)(M)?i:(0,t.gx)(M)?a:o.O}h(r,"isChannelKickableWithReason");function d(C,I){return r(C,I).ok}h(d,"isChannelKickable");var m=e(8574401217),f=e(6897174593),u=e(1053178797);const E={...c,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},v={ok:!1,reason:E.InvalidParams},g={ok:!1,reason:E.UserIsRestricted},T={ok:!1,reason:E.RestrictedPublicChannel},p={ok:!1,reason:E.RestrictedPrivateChannel};function O(C,I){const M=(0,n.gT)(C,I)?(0,n.OL)(C,I):null;if(!(0,t.jq)(M))return v;if((0,f.sV)(C))return g;const _=r(C,I);if(!_.ok)return{ok:!1,reason:_.reason};const P=(0,u.J3)(C,{channelId:I}),b=(0,u.j)(C,{channelId:I}),S=(0,t.rW)(M)?"public":"private",N=S==="private"?m.Po:m.LI,L=S==="private"?m.tU:m.H7;return!(N(C)||L(C))&&!(S==="private"?b:P)?S==="private"?p:T:o.O}h(O,"canUserKickFromChannelWithReason");function y(C,I){return O(C,I).ok}h(y,"canUserKickFromChannel")},8574401217:(B,A,e)=>{"use strict";e.d(A,{H7:()=>m,LI:()=>r,Po:()=>d,tU:()=>f});var t=e(9866181557),s=e(3666777625),o=e(5209823364),n=e(5478938623),c=e(7713718206),l=e(4369687334),i=e(1425414404),a=e(8342776180);const r=h(u=>{if(!(0,o.k)(u))return!1;const E=(0,i.tA)(u,{permission:a.p.MANAGE_PUBLIC_CHANNELS});return(0,l.Jr)(E)},"canUserManagePublicChannelsInOrgDash"),d=h(u=>{if(!(0,o.k)(u))return!1;const E=(0,i.tA)(u,{permission:a.p.MANAGE_PRIVATE_CHANNELS});return(0,l.Jr)(E)},"canUserManagePrivateChannelsInOrgDash"),m=h(u=>{const E=(0,s.H7)(u);return(0,n.Ny)(E)?(0,c.h3)(u):!1},"canUserManagePublicChannelsInTeamSite"),f=h(u=>{const E=(0,s.H7)(u);if(!(0,n.Ny)(E)||(0,n.NB)(E)&&!(0,t.xp)(u,"has_compliance_export"))return!1;const v=(0,i.ox)(u,{permission:a.p.MANAGE_WORKSPACE_PRIVATE_CHANNELS});return(0,l.Jr)(v)},"canUserManagePrivateChannelsInTeamSite")},4223021329:(B,A,e)=>{"use strict";e.d(A,{JJ:()=>g,a_:()=>a,be:()=>E,rY:()=>v});var t=e(8859166048),s=e(8574401217),o=e(3485109110),n=e(1242487384),c=e(3351247794),l=e(6157880865),i=e(1053178797);const a={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},r={ok:!1,reason:a.InvalidParams},d={ok:!1,reason:a.InvalidDm},m={ok:!1,reason:a.InvalidChannelType},f={ok:!1,reason:a.UserHasNoPermissions},u=h((T,p)=>{if(!(0,t.jq)(p))return r;if((0,t.LI)(p)||(0,t.yz)(p))return d;if((0,t.rI)(p))return m;const O=(0,n.TZ)(T),y=(0,l.s)(T),C=(0,l.R)(T);return O?(0,i.JF)(T,{channelId:p.id})?o.O:f:y&&((0,t.Zp)(p)&&(0,s.Po)(T)||(0,t.rW)(p)&&(0,s.LI)(T))||C&&((0,t.Zp)(p)&&(0,s.tU)(T)||(0,t.rW)(p)&&(0,s.H7)(T))?o.O:f},"canUserRenameChannelWithReason"),E=h((T,p)=>{const y=(0,c.OL)(T,p,!1);return y?u(T,y):r},"canUserRenameChannelWithReasonById"),v=h((T,p)=>u(T,p).ok,"canUserRenameChannel"),g=h((T,p)=>E(T,p).ok,"canUserRenameChannelById")},5962112073:(B,A,e)=>{"use strict";e.d(A,{NG:()=>I,iz:()=>C,u9:()=>d});var t=e(9963560),s=e(8859166048),o=e(1240477450),n=e(5887324738),c=e(4763572930),l=e(8815644013),i=e(8024771386),a=e(889517558),r=e(1053178797);const d={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),NotAllowedHomeExternallyShared:Symbol("not_allowed_home_ext_shared"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},m={ok:!1,reason:d.ChannelNotFound},f={ok:!1,reason:d.ChannelTypeNotSupported},u={ok:!1,reason:d.CantArchiveGeneral},E={ok:!1,reason:d.NotInChannel},v={ok:!1,reason:d.AlreadyArchived},g={ok:!1,reason:d.NotAllowedHomeExternallyShared},T={ok:!1,reason:d.AwayExternallyShared},p={ok:!1,reason:d.UserHasNoPermissions},O={ok:!1,reason:d.DefaultOrgWideChannel},y={ok:!0},C=h((M,_)=>{if(!(0,s.jq)(_))return m;if((0,s.LI)(_)||(0,s.yz)(_))return f;if((0,s.gx)(_))return u;if((0,o.F)(_))return v;if((0,i.b)(M,_))return T;if(!(0,a.S4)(M,_)&&!(0,n.bl)(_))return E;const b=(0,t.FB)(_);return(0,l.ju)(_)&&!(0,i.b)(M,_)&&!(0,c.R)(M,_)?g:(0,r.xQ)(M,{channelId:b})?y:p},"canUserSeeArchiveChannelOptionWithReasons"),I=h((M,_)=>C(M,_).ok,"canUserSeeArchiveChannelOption")},704396957:(B,A,e)=>{"use strict";e.d(A,{P:()=>v,X:()=>E});var t=e(3351247794),s=e(5887324738),o=e(8296806975),n=e(8859166048),c=e(1240477450),l=e(6897174593),i=e(8815644013),a=e(6987151047),r=e(1053178797);const d={ok:!0},m={ok:!1,reason:o.CM},f={ok:!1,reason:o.Jr},u={ok:!1,reason:o.oP},E=h((g,T)=>{const p=(0,t.gT)(g,T)&&(0,t.OL)(g,T);return p?(0,n.JM)(p)&&(0,i.ju)(p)?f:(0,c.F)(p)?u:(0,r.YH)(g,{channelId:T})?d:!(0,s.bl)(p)||!(0,a.c)(g,p)||(0,l.sV)(g)||(0,l.AB)(g)?u:d:m},"canUserSetTopicForChannelWithReasonById"),v=h((g,T)=>E(g,T).ok,"canUserSetTopicForChannelById")},6330284479:(B,A,e)=>{"use strict";e.d(A,{A:()=>n,G:()=>o});var t=e(5412893350),s=e(7874250141);const o=h((c,l)=>{if(!c||!l)return!1;const i=(0,s.Kc)(c);return(0,t.A)(c,i,l)},"isExternalLimited"),n=o},8912223914:(B,A,e)=>{"use strict";e.d(A,{CH:()=>o,Rw:()=>l,gQ:()=>n,jU:()=>t,kP:()=>c});const t={OpenAddPeopleModal:"add_to_channel_open_add_people_modal",OpenInternalMemberSpeedbump:"add_to_channel_open_internal_member_speedbump",ClickBackButton:"add_to_channel_click_back_button"},s={BackButton:"back_button",SubmitButton:"submit_button",LearnMore:"learn_more",CloseModal:"close_modal",ConfirmExternalRadio:"confirm_external",ConfirmInternalRadio:"confirm_internal",SlackConnectRadio:"slack_connect",GuestRadio:"guest"},o={BackButton:"back_button",ShowSpeedBumpButton:"show_speed_bump_button",CancelSpeedBumpButton:"cancel_speed_bump_button",NextButton:"next_button",SubmitButton:"submit_button",PendingInvitesLink:"pending_invites_link",EmailPreviewButton:"email_preview_button",UpgradeButton:"see_upgrade_options_button"},n={Initial:1,InviteTypeExternal:3,SharedChannelNoteExternal:4,InviteTypeInternal:5,SharedChannelNoteInternal:6,Confirmation:7,SharedChannelExternalLimitedExternal:8,SharedChannelExternalLimitedInternal:9,InviteTypeInternalOrgMember:10,SelectWorkspace:11};var c;(function(i){i.CanvasTemplate="canvas_template",i.ChannelCreateModal="channel_create_modal",i.ChannelDetails="channel_details",i.ChannelInviteSuggestionsFileShareSlackbotMessage="channel_invite_suggestions_file_share_slackbot_message",i.ConnectedSection="connected_section",i.CreatorGuidedSetupInvitationCoachmark="creator_guided_setup_invitation_coachmark",i.EmailLinkMenu="email_link_menu",i.IADetailsPopover="popover_details",i.InviteToConversationShortcut="invite_to_conversation_shortcut",i.InviteToChannelReduxAction="invite_to_channel_redux_action",i.MembersInviteByEmail="members_invite_by_email",i.MessagePane="message_pane",i.NotConnectedSection="not_connected_section",i.SlackbotPrivateChannelSpeedbump="slackbot_private_channel_speedbump",i.SlackConnectAddToChannelModal="slack_connect_add_to_channel_modal",i.SlackConnectChannelModal="slack_connect_channel_modal",i.Unknown="unknown",i.ExternalLinkViaChannelCreateModal="external_link_via_channel_create_modal",i.AppMenuViaChannelCreateModal="app_menu_via_channel_create_modal",i.ChannelSidebarViaChannelCreateModal="channel_sidebar_via_channel_create_modal",i.ChannelSidebarStandardSectionViaChannelCreateModal="channel_sidebar_standard_section_via_channel_create_modal",i.ChannelBrowserViaChannelCreateModal="channel_browser_via_channel_create_modal",i.CalendarChannelCreateViaChannelCreateModal="calendar-channel-create_via_channel_create_modal",i.ShareChannelByEmailModalViaChannelCreateModal="share_channel_by_email_modal_via_channel_create_modal",i.ChannelSidebarAddMoreViaChannelCreateModal="channel_sidebar_add_more_via_channel_create_modal",i.ComposerDestinationMpdmAlertViaChannelCreateModal="composer_destination_mpdm_alert_via_channel_create_modal",i.ComposerEscapeHatchViaChannelCreateModal="composer_escape_hatch_via_channel_create_modal",i.DMBrowserViaChannelCreateModal="dm_browser_via_channel_create_modal",i.HomeHeaderViaChannelCreateModal="home_header_via_channel_create_modal",i.InviteToWorkspaceModalViaChannelCreateModal="invite_to_workspace_modal_via_channel_create_modal",i.TeamMenuViaChannelCreateModal="team_menu_via_channel_create_modal",i.ChannelSearchEduViaChannelCreateModal="channel_search_edu_via_channel_create_modal",i.ServiceChannelPickerViaChannelCreateModal="service_channel_picker_via_channel_create_modal",i.CreateChannelShortcutViaChannelCreateModal="create_channel_shortcut_via_channel_create_modal",i.SlackConnectDmTrialBannerViaChannelCreateModal="slack_connect_dm_trial_banner_via_channel_create_modal",i.TrialTrySlackConnectForChannelsModalViaChannelCreateModal="trial_try_slack_connect_for_channels_modal_via_channel_create_modal",i.GlobalActionsViaChannelCreateModal="global_actions_via_channel_create_modal",i.EmailObjectViaChannelCreateModal="email_object_via_channel_create_modal",i.DeepLinkViaChannelCreateModal="deep_link_via_channel_create_modal",i.ExternalConnectDeepLinkViaChannelCreateModal="external_connect_deeplink_via_channel_create_modal",i.SlashCommandViaChannelCreateModal="slash_command_via_channel_create_modal",i.OmniSwitcherViaChannelCreateModal="omniswitcher_via_channel_create_modal",i.InstantSlackChannelForeword="instant_slack_channel_foreword",i.SlackConnectChannelSidebarViaChannelCreateModal="slack_connect_channel_sidebar_via_channel_create_modal",i.SlackConnectHubHeaderViaChannelCreateModal="slack_connect_hub_header_via_channel_create_modal",i.OrganizationsEmptyStateViaChannelCreateModal="manage_shared_channels_org_empty_state_via_channel_create_modal",i.ChannelSidebarSlackConnectPlusViaChannelCreateModal="channel_sidebar_slack_connect_plus_via_channel_create_modal",i.MpdmDetailsViaChannelCreateModal="mpdm_details_via_channel_create_modal",i.ListChannelColumnViaChannelCreateModal="list_channel_column_via_channel_create_modal",i.ResurrectedUserWelcomeViaChannelCreateModal="resurrected_user_welcome_via_channel_create_modal",i.SolutionGuideViaChannelCreateModeal="solution_guide_via_channel_create_modal"})(c||(c={}));var l;(function(i){i.TrialEligible="trial_eligible",i.TrialIneligible="trial_ineligible",i.TrialActive="trial_active"})(l||(l={}))},8716317086:(B,A,e)=>{"use strict";e.d(A,{BD:()=>t,Cz:()=>n,LH:()=>c,LX:()=>l,T0:()=>s,UC:()=>o});const t={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},s={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},o={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},n={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class c{constructor(a){this.ok=a.ok,this.invitee=a.email,this.inviteeType=s.Email,this.accessType=a.inviteType||t.Member,this.error=a.error,this.expirationTs=a.expiration_ts}}h(c,"InviteResult");function l(i){return i===t.Member||i===t.MultiChannelGuest||i===t.SingleChannelGuest}h(l,"isBaseInviteType")},2271464237:(B,A,e)=>{"use strict";e.d(A,{D:()=>t});var t;(function(s){s[s.available=0]="available",s[s.processing=1]="processing",s[s.none=2]="none"})(t||(t={}))},3055809090:(B,A,e)=>{"use strict";e.d(A,{r:()=>t});var t;(function(s){s.Internal="internal",s.External="external",s.Invalid="invalid"})(t||(t={}))},3942761715:(B,A,e)=>{"use strict";e.d(A,{BD:()=>d,Be:()=>m,Bv:()=>t,K3:()=>c,KC:()=>l,MC:()=>a,S5:()=>o,V2:()=>r,tw:()=>f,xk:()=>i});var t;(function(u){u.ExternalDirectory="EXTERNAL_DIRECTORY",u.GoogleContacts="GOOGLE_CONTACTS",u.InviteForm="INVITE_FORM",u.SharedInviteLinkForm="SHARED_INVITE_LINK_FORM",u.Summary="SUMMARY",u.WorkspaceSelect="WORKSPACE_SELECT",u.EmailPreview="EMAIL_PREVIEW",u.PersonalizeInvite="PERSONALIZE_INVITE"})(t||(t={}));var s;(function(u){u.Manual="manual"})(s||(s={}));var o;(function(u){u.InvalidEmail="invalid_email",u.ExistingMember="existing_member"})(o||(o={}));var n;(function(u){u.GoogleDirectory="google_directory",u.OfficeDirectory="office_directory",u.GoogleContacts="google_contacts"})(n||(n={}));var c;(function(u){u.AdminEmail="admin_email",u.AiWorkspaceChannelForeword="ai_workspace_channel_foreword",u.AllCompanyNameTemplatesChannelForeword="all_company_name_templates_channel_foreword",u.CalendarDmCreateInternalInviteModal="calendar_dm_create-internal-invite-modal",u.ChannelInviteModal="channel_invite_modal",u.ChannelSidebar="channel_sidebar",u.CheckoutSuccessInviteUsers="checkout_success_invite_users",u.Composer="composer",u.CreatorGuidedSetupChannelForeword="creator_guided_setup_channel_foreword",u.DirectoryOAuthMissingScopesDeepLink="directory_oauth_missing_scopes",u.DirectoryPostOAuthDeepLink="directory_oauth_complete",u.DmUserInviteSection="dm_user_invite_section",u.EmailInboxThread="email_inbox_thread",u.EvergreenBootstrapPostOAuthDeepLink="evergreen_bootstrap_oauth_complete",u.ExternalWorkspaceInvite="external_workspace_invite",u.GoogleOauth="google_oauth",u.HuddlesPage="huddles_page",u.InvitePeopleSlashCommand="invite_people_slash_command",u.LegacyInvitesRedirectToConfirmationScreen="legacy_invites_redirect_to_confirmation_screen",u.LinkifyEmails="linkify_emails",u.MessageAttachment="message_attachment",u.OmniSwitcher="omni_switcher",u.OrgDashboardWorkspaceDetails="org_dashboard_workspace_details",u.OrgDashboardWorkspaceMembersTab="org_dashboard_workspace_members_tab",u.PeopleBrowser="people_browser",u.PeopleBrowserHero="people_browser_hero",u.QueryStringParameter="query_string_open_invite_members",u.ScdmInviteModalSpeedbump="scdm-invite-modal-speedbump",u.SetupComposerTip="setup_composer_tip",u.ShortcutsMenu="shortcuts_menu",u.SidebarCreateNewInvitePeople="sidebar_create_new_invite_people",u.SlackConnectHubSearch="slack_connect_hub_search",u.SocialTemplatesChannelForeword="social_templates_channel_foreword",u.SolutionsOnboardingChannelForeword="solutions_onboarding_channel_foreword",u.TeamMenu="team_menu",u.TeamSiteAdmin="team_site_admin",u.TeamSiteInvites="team_site_invites",u.UniversalClickHandler="universal_click_handler",u.DeeplinkCreatorOnboardingChannelForeword="deeplink_creator_onboarding_channel_foreword",u.SolutionGalleryChannelForeword="solution_gallery_channel_foreword"})(c||(c={}));var l;(function(u){u.EditInviteLinkSettings="edit_invite_link_settings",u.CopyInviteLink="copy_invite_link",u.CopyAndCreateInviteLink="copy_and_create_invite_link",u.InviteLinkExpiration="invite_link_expirtation",u.SlackbotMessage="slackbot_message",u.DeactivateLink="deactivate_link",u.SaveLinkSettings="save_link_settings",u.ConfirmDeactivateLink="confirm_deactivate_link",u.CancelDeactivate="cancel",u.Back="back",u.InviteFormError="invite_form_error",u.DirectoryCoachmark="directory_coachmark",u.DirectoryCoachmarkCloseButton="directory_coachmark_close_button",u.InviteLinkFormCancel="cancel",u.ForceMcgCheckbox="force_mcg_checkbox",u.ChannelSelect="channel_select",u.GuestExpirationSelect="guest_expiration_select",u.AddFromContactsButton="add_from_contacts_button",u.AddFromContactsCoachmark="add_from_contacts_coachmark",u.AddFromContactsCoachmarkCloseButton="add_from_contacts_coachmark_close_button"})(l||(l={}));var i;(function(u){u.OpenModal="invite_to_workspace_open_modal",u.ClickShowGoogleContactsSearchScreen="invite_to_workspace_click_show_google_contacts_search_screen",u.ClickShowGoogleSearchScreen="invite_to_workspace_click_show_google_search_screen",u.ClickRedirectToGoogle="invite_to_workspace_click_redirect_to_google",u.ClickRedirectToGoogleContacts="invite_to_workspace_click_redirect_to_google_contacts",u.ClickCopyInviteLink="invite_to_workspace_click_copy_invite_link",u.ClickEditLinkSettings="invite_to_workspace_click_edit_link_settings",u.ClickSaveInviteLink="invite_to_workspace_click_save_invite_link",u.ClickBackFromEditLinkSettings="invite_to_workspace_click_back_from_edit_link_settings",u.ClickCancelEditLinkSettings="invite_to_workspace_click_cancel_edit_link_settings",u.ClickDisableLink="invite_to_workspace_click_disable_link",u.ClickConfirmDisableLink="invite_to_workspace_click_confirm_disable_link",u.ClickSendInvites="invite_to_workspace_click_send_invites",u.ClickSharedChannelEscapeHatch="invite_to_workspace_click_shared_channel_escape_hatch",u.ClickInviteExternalWorkspaceMembers="invite_to_workspace_click_external_workspace_members",u.ClickCoachmarkClose="invite_to_workspace_click_coachmark_close",u.ClickForceMcgOption="invite_to_workspace_click_force_mcg_option",u.ClickNext="invite_to_workspace_click_next",u.HasReachedScgLimit="invite_to_workspace_has_reached_scg_limit",u.InviteHasChannels="invite_to_workspace_invite_has_channels",u.InviteHasCustomMessage="invite_to_workspace_invite_has_custom_message",u.NumInvitesAttempted="invite_to_workspace_num_invites_attempted",u.NumSuccessfulInvites="invite_to_workspace_num_successful_invites",u.NumFailedInvites="invite_to_workspace_num_failed_invites",u.NumRequestsAttempted="invite_to_workspace_num_requests_attempted",u.NumSuccessfulRequests="invite_to_workspace_num_successful_requests",u.NumFailedRequests="invite_to_workspace_num_failed_requets",u.NumMcgAttempted="invite_to_workspace_num_mcg_attempted",u.NumSuccessfulMcg="invite_to_workspace_num_successful_mcg",u.NumFailedMcg="invite_to_workspace_num_failed_mcg",u.NumScgAttempted="invite_to_workspace_num_scg_attempted",u.NumSuccessfulScg="invite_to_workspace_num_successful_scg",u.NumFailedScg="invite_to_workspace_num_failed_scg",u.NumMemberAttempted="invite_to_workspace_num_member_attempted",u.NumSuccessfulMember="invite_to_workspace_num_successful_member",u.NumFailedMember="invite_to_workspace_num_failed_member",u.RequestHasReason="invite_to_workspace_request_has_reason"})(i||(i={}));var a;(function(u){u[u.Never=0]="Never",u[u.SevenDays=7]="SevenDays",u[u.ThirtyDays=30]="ThirtyDays",u[u.SixtyDays=60]="SixtyDays",u[u.Custom=-1]="Custom"})(a||(a={}));var r;(function(u){u.LastActiveForUser="last_active_for_user",u.LastActive="last_active",u.AllActive="all_active",u.AllActiveAndRenewable="all_active_and_renewable_for_team"})(r||(r={}));var d;(function(u){u.InviteLink="invite_link",u.EmailInput="email_input"})(d||(d={}));class m{constructor(E){this.code=E.code,this.dateExpire=E.date_expire,this.maxSignups=E.max_signups,this.notificationsEnabled=E.notifications_enabled,this.url=E.url,"date_create"in E&&(this.dateCreate=E.date_create),"date_delete"in E&&(this.dateDelete=E.date_delete),"inviter_id"in E&&(this.inviterId=E.inviter_id),"invite_id"in E&&(this.inviteId=E.invite_id)}}h(m,"SharedInviteLink");class f{constructor({email:E,name:v,inviteType:g,inviteSource:T}){this.email=E,this.real_name=v,this.type=g,this.invite_source=T,this.mode=s.Manual}}h(f,"InviteBulkApiInvite")},9769476932:(B,A,e)=>{"use strict";e.d(A,{Ao:()=>l.k,FQ:()=>c.q,IU:()=>a,Jg:()=>o.G,RW:()=>s.jB,YB:()=>d,fe:()=>t.T,iV:()=>r,mF:()=>n.I,on:()=>i,qU:()=>s.Sv});var t=e(3107518051),s=e(9667109180),o=e(6109527008),n=e(9283169796),c=e(5465753304),l=e(881599141);const i={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function a(m){return!!m&&!!m.channel}h(a,"isSharedChannelInvite");function r(m){return!!m&&!a(m)&&!d(m)}h(r,"isDirectMessageInvite");function d(m){return!!m&&!!m.shared_workspace}h(d,"isSharedWorkspaceInvite")},1832019627:(B,A,e)=>{"use strict";e.d(A,{M:()=>t});const t={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal"}},5648919824:(B,A,e)=>{"use strict";e.d(A,{E:()=>t,Z:()=>s});const t=h(o=>!!(o!=null&&o.length),"isNonEmptyArray"),s=h(o=>t(o)?o.every(n=>typeof n=="string"):!1,"isNonEmptyArrayOfStrings")},1387877529:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(7715417323),s=e(3411612397);function o(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return n?n.reduce((i,a)=>{if(a.type===s.Lv.LIST){const d=(a.elements||[]).map(m=>m.elements.reduce((f,u)=>l(f,u),c));return i.concat(d)}const r=(a.elements||[]).reduce((d,m)=>l(d,m),c);return i.concat([r])},[]):[]}h(o,"richTextChunkReduce")},7186021951:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(362134992),s=e(4801539605),o=e(5565705486);function n(){return(0,t.A)(Object.entries(s.N).filter(c=>{let[l,i]=c;return i.is_enabled_by_default}).map(c=>{let[l,i]=c;return(0,o.A)(l)}))}h(n,"getAllBroadcastKeywords")},6298481129:(B,A,e)=>{"use strict";e.d(A,{A:()=>E});var t=e(362134992),s=e(3889517373),o=e(3751395240),n=e(3964099078),c=e(4123531166),l=e(8859166048),i=e(6928237551),a=e(9192970512),r=e(9994173668),d=e(9610182816),m=e(7968188012),f=e(5565705486),u=e(3351247794);function E(v,g){const T=(0,u.OL)(v,g),p=(0,c.l)(v);if(!T)return[];const O=[];if((0,m.W)(v,g)&&O.push((0,f.A)("BKeveryone")),((0,r.V)(T)||(0,l.yz)(T))&&(!(0,a.N)(T)||(0,m.W)(v,g))&&(0,d.S)(v,g)&&(O.push((0,f.A)("BKchannel")),O.push((0,f.A)("BKhere"))),(0,l.U_)(T))switch((0,n.dM)(T)){case o.hM.Account:O.push((0,f.A)("BKsf:accountteam",(0,i.SB)(v,T),!0));break;case o.hM.Opportunity:O.push((0,f.A)("BKsf:dealteam",(0,i.SB)(v,T),!0));break;default:break}if(p){const y=(0,u.Pu)(v,s.Q$);(T==null?void 0:T.id)===(y==null?void 0:y.id)&&O.push((0,f.A)("BKassistant:einstein",null,!1,!0))}return(0,t.A)(O)}h(E,"getBroadcastKeywordsForUser")},3461808173:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(9113979368),s=e(3134311726),o=e(4284709053);function n(c,l){var i;if(!(0,s.q)(c,l))return!0;const a=(0,o.d)(c,l,"enable_at_channel");return(0,t.A)(a)||((i=a)===null||i===void 0?void 0:i.enabled)}h(n,"isBroadcastKeywordsEnabled")},6601094772:(B,A,e)=>{"use strict";e.d(A,{w:()=>o});var t=e(7418708689);function s(n){var c;return(c=n.ownerDocument)===null||c===void 0?void 0:c.defaultView}h(s,"getWindowForElement");function o(n){return!t.TQ.includes(n)}h(o,"shouldViewNavigateInContext")},6967618292:(B,A,e)=>{"use strict";e.d(A,{$A:()=>l,ce:()=>c,hO:()=>o});var t=e(3134334389),s=e(321010523);const o=h(i=>({action:s.UiAction.IMPRESSION,uiPage:window.location.href,...i}),"getAuthImpressionTrackParams"),n=h(i=>({action:s.UiAction.CLICK,uiPage:window.location.href,...i}),"getAuthClickTrackParams"),c=h(i=>({uiPage:window.location.href,...i}),"getAuthTrackParams");function l(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const a=(0,t.useRef)(null),r=(0,t.useCallback)(f=>u=>{if(a.current={track:u},i){var E;a==null||(E=a.current)===null||E===void 0||E.track(o(f))}},[a,i]),d=(0,t.useCallback)(f=>()=>{var u;a==null||(u=a.current)===null||u===void 0||u.track(n(f))},[a]),m=(0,t.useCallback)(f=>()=>{var u;a==null||(u=a.current)===null||u===void 0||u.track(c(f))},[a]);return{trackClog:a,trackClogAuthRef:r,clogAuthLoginClick:d,clogAuthLoginAction:m}}h(l,"useAuthClogger")},706350562:(B,A,e)=>{"use strict";e.d(A,{e:()=>s});var t=e(7397682160);function s(o){return(0,t.e)({state:o})}h(s,"getClogger")},4393872780:(B,A,e)=>{"use strict";e.d(A,{LC:()=>s,av:()=>o,ev:()=>t});const t={NONE:"none",OPTIONAL_ID_ONLY:"optional_id_only",EXTENSIVE:"extensive",OPTIONAL_AND_REGIONAL_IDS:"optional_and_regional_ids"},s={AE_TRN:"ae_trn",AU_ABN:"au_abn",CA_BN:"ca_bn",CA_GST_HST:"ca_gst_hst",CA_QST:"ca_qst",CH_VAT:"ch_vat",CL_TIN:"cl_tin",ES_CIF:"es_cif",EU_VAT:"eu_vat",GE_VAT:"ge_vat",HK_BR:"hk_br",ID_NPWP:"id_npwp",IN_GST:"in_gst",JP_CN:"jp_cn",KR_BRN:"kr_brn",MX_RFC:"mx_rfc",MY_ITN:"my_itn",MY_SST:"my_sst",NO_VAT:"no_vat",NZ_GST:"nz_gst",RU_INN:"ru_inn",SA_VAT:"sa_vat",SG_GST:"sg_gst",SG_UEN:"sg_uen",TH_VAT:"th_vat",TR_TIN:"tr_tin",TW_VAT:"tw_vat",UNKNOWN:"unknown",ZA_VAT:"za_vat",UA_VAT:"ua_vat",KE_PIN:"ke_pin",EG_TIN:"eg_tin"},o=20},342331217:(B,A,e)=>{"use strict";e.d(A,{FL:()=>i,HC:()=>E,Je:()=>f,KV:()=>v,L$:()=>r,P7:()=>m,RL:()=>d,Y3:()=>c,b6:()=>a,jM:()=>g,zb:()=>l});var t=e(8086952004),s=e(4393872780);function o(T,p,O,y){if(O&&y){var C,I;return T==null||(C=T[p])===null||C===void 0||(I=C.regional_overrides)===null||I===void 0?void 0:I[O]}return T==null?void 0:T[p]}h(o,"getTaxConfig");function n(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=o(T,p,O,y);var I;return(I=C==null?void 0:C.tax_id_form_variant)!==null&&I!==void 0?I:s.ev.NONE}h(n,"getTaxUiFormType");function c(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return n(T,p,O,y)===s.ev.EXTENSIVE}h(c,"shouldShowMultipartTaxUI");function l(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=n(T,p,O,y);return C===s.ev.EXTENSIVE||C===s.ev.OPTIONAL_ID_ONLY||C===s.ev.OPTIONAL_AND_REGIONAL_IDS}h(l,"shouldShowTaxIdInputField");function i(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return n(T,p,O,y)===s.ev.OPTIONAL_AND_REGIONAL_IDS}h(i,"shouldCollectRegionalTaxId");function a(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=n(T,p,O,y);return C===s.ev.OPTIONAL_ID_ONLY||C===s.ev.OPTIONAL_AND_REGIONAL_IDS}h(a,"isTaxIdOptional");function r(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=o(T,p,O,y);var I;return(I=C==null?void 0:C.stripe_tax_id_type)!==null&&I!==void 0?I:null}h(r,"getTaxIdType");function d(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=o(T,p,O,y);return C==null?void 0:C.tax_name}h(d,"getTaxName");function m(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=o(T,p,O,y);var I;const M=(I=C==null?void 0:C.tax_id_max_length)!==null&&I!==void 0?I:0;return Number.isInteger(M)&&M>0?M:s.av}h(m,"getTaxIdMaxLength");function f(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=o(T,p,O,y);var I;const M=(I=C==null?void 0:C.tax_id_examples)!==null&&I!==void 0?I:[];var _;return(_=M[0])!==null&&_!==void 0?_:""}h(f,"getTaxIdExample");function u(T,p,O,y){var C;const I=o(T,p,O,y),M=I==null||(C=I.tax_id_validation_regex)===null||C===void 0?void 0:C.replace(/\//g,"");return M?new RegExp(M,"i"):null}h(u,"getTaxIdValidator");function E(T,p,O,y){let C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const I=u(T,p,O,C);return!I||!y&&a(T,p,O,C)?!0:y&&I?I.test(y):!1}h(E,"isTaxIdValid");function v(T,p,O){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const C=o(T,p,O,y);return!!(C!=null&&C.should_ask_is_vat_registered)}h(v,"shouldAskIsVatRegistered");function g(T,p){return(0,t.A)(T,O=>O.iso_code===p)}h(g,"getCountryByCode")},1204205618:(B,A,e)=>{"use strict";e.d(A,{A:()=>l,Q:()=>c});var t=e(8121829996),s=e(7831811348);const o={USD:{"fr-FR":{string:"dollar des \xC9tats-Unis",correction:"dollar am\xE9ricain"},"pt-BR":{string:"D\xF3lar",correction:"d\xF3lar"},"zh-CN":{string:"\u7F8E\u5143",correction:"USD \u7F8E\u5143"}},JPY:{"pt-BR":{string:"Iene",correction:"iene"},"zh-CN":{string:"\u65E5\u5143",correction:"JPY \u65E5\u5143"}},EUR:{"pt-BR":{string:"Euro",correction:"euro"},"zh-CN":{string:"\u6B27\u5143",correction:"EUR \u6B27\u5143"}},GBP:{"zh-CN":{string:"\u82F1\u9551",correction:"GBP \u82F1\u9551"},"ko-KR":{string:"\uC601\uAD6D \uD30C\uC6B4\uB4DC",correction:"\uC601\uAD6D\uB839 \uD30C\uC6B4\uB4DC \uC2A4\uD138\uB9C1"}}};function n(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,{displayTrailingZeroes:r=!1,currencyDisplay:d="symbol",renderCurrencyText:m=!1,minimumFractionDigits:f=0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!a)return;const u=(0,s.Yp)(),E={coerce:!0,style:"currency",currency:a,currencyDisplay:d};if(i%100===0&&!r?E.minimumFractionDigits=0:f&&(E.minimumFractionDigits=f),m){E.minimumFractionDigits=0,E.currencyDisplay="name";const g=/\d+(\s)|\d/g,T=(0,t.ZV)(0,u,E).replace(g,""),p=o[a];if(p&&p[u]){const{string:O,correction:y}=p[u];return T.replace(O,y)}return T}let v=(0,t.ZV)(i,u,E);if(a==="USD")switch(u){case"en-US":v+=" USD";break;case"en-GB":v=v.replace("US$","$US");break;case"fr-FR":v=v.replace("$US","$\xA0US");break;case"ja-JP":v=v.replace("$","US$");break;case"de-DE":v=v.replace("$","USD");break;case"es-ES":v=v.replace("US$","USD");break;case"es-LA":break;case"it-IT":v=v.replace("USD","$");break;case"zh-CN":v=v.replace("US$","$");break;default:break}else a==="GBP"&&u==="ko-KR"?v=`${v.replace("\xA3","")}\uD30C\uC6B4\uB4DC`:(a==="JPY"&&u==="it-IT"||u==="fr-FR")&&(v=v.replace("JPY","\xA5"));if(u==="zh-TW")switch(a){case"USD":v=v.substring(3),v+=" \u7F8E\u5143";break;case"EUR":v=v.substring(1),v+=" \u6B50\u5143";break;case"GBP":v=v.substring(1),v+=" \u82F1\u938A";break;case"JPY":v=v.substring(1),v+=" \u65E5\u5713";break;default:break}return v}h(n,"formatCurrency");const c=h(i=>{var a;const r=(0,s.Yp)(),d=(0,t.Zi)(r,{style:"currency",currency:i}).formatToParts(0);var m;return(m=(a=d==null?void 0:d.find(f=>(f==null?void 0:f.type)==="currency"))===null||a===void 0?void 0:a.value)!==null&&m!==void 0?m:null},"getCurrencySymbol"),l=n},3464783934:(B,A,e)=>{"use strict";e.d(A,{gy:()=>s,tN:()=>o,zQ:()=>t});const t={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},s="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",o={EMAIL:new RegExp(`^${s}$`,"i"),CONTAINS_EMAIL:new RegExp(`${s}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},1910115038:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(3078252698),s=e(3740968700),o=e(362134992);const c=h(l=>{if(!(0,t.A)(l))return null;const i=[...l].map(a=>{const r=a.codePointAt(0);if(!r)return null;const d=r.toString("16");return(0,s.A)(d,4,"0")});return(0,o.A)(i).join("-")},"convertNativeEmojiToUnicodeSequence")},2236744111:(B,A,e)=>{"use strict";e.d(A,{H:()=>o});var t=e(9113979368),s=e(9615730202);function o(n,c){if(!c||(0,t.A)(c))return{name:n};const l=(0,s.A)(n);if(!l)return{name:n};const{name:i,skinTone:a}=l,r=c[i];if(!r||(0,t.A)(r))return{name:n};const d=r.display_alias,m=d??i,f=a?`:${m}::skin-tone-${a}:`:`:${m}:`,u=r.display_url;return{name:f,url:u}}h(o,"getEmojiDisplayInfoFromMap")},244241147:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3889517373);let s;const o=h(()=>{if(s)return s;const n=Object.keys(t.dq).map(c=>c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return s=new RegExp(`(^|\\s)(${n.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),s},"__WEBPACK_DEFAULT_EXPORT__")},5022130513:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(7188858884),s=e(3542943043);function o(n,c){const l=c&&(0,t.$D)(c);return l&&(0,s.ux)(l,{text:n,teamId:c})?l&&(0,s.pA)(l,{text:n,teamId:c}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${n}`)}h(o,"isEmojiMultiSkinToneCapable")},9470145503:(B,A,e)=>{"use strict";e.d(A,{A:()=>u});var t=e(9087248458),s=e(8289365785),o=e(605568209),n=e(1137236691),c=e(9963560),l=e(8859166048),i=e(8621572116),a=e(3122619948),r=e(3893119100),d=e(7281000332),m=e(2398473551);function f(){if((0,a.A)()){const E=(0,d.Ry)(),v=(0,m.getAllWorkspaces)(E),g=(0,m.getBootedWorkspaces)(E);return(0,t.A)(v,g)}return(0,n.g9M)()?(0,n.WrY)():o.Ml}h(f,"getOrderedTeamIds");function u(E){let{state:v,channel:g,currentTeamId:T,preferredTeamId:p}=E;if(!g||(0,l.QR)(g)||!v)return null;if(!(0,c.lo)(g))return T;if(!(0,a.A)()&&!(0,n.g9M)())return null;const O=(0,i.R)(v,g);if(!O||!O.length)return null;const y=f();if(!y||!y.length||(0,a.A)()&&!(0,r.VA)())return null;if(p&&O.includes(p)&&y.includes(p))return p;var C;return(C=(0,s.A)((0,t.A)(y,O)))!==null&&C!==void 0?C:null}h(u,"findDesktopTeamIdForChannel")},6152244507:(B,A,e)=>{"use strict";e.d(A,{UK:()=>a,Z$:()=>n,hZ:()=>l});const t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],o=h(function(d,m,f){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(d===0)return 0;if(m===f)return parseFloat(d.toFixed(u));const v=E?1024:1e3,g=E?t:s,T=g.findIndex(O=>O.toLowerCase()===m.toLowerCase()),p=g.findIndex(O=>O.toLowerCase()===f.toLowerCase());if(T===-1)throw new Error(`Unknown currentType '${m}' passed to convertToSize`);if(p===-1)throw new Error(`Unknown desiredType '${f}' passed to convertToSize`);return T<p?parseFloat((d/v**(p-T)).toFixed(u)):parseFloat((d*v**(T-p)).toFixed(u))},"convertToSize"),n=h(function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(d===0)return{size:0,type:"B"};const E=u?1024:1e3,v=u?t:s;let g=Math.log(d)/Math.log(E);g<1&&(g=-Math.floor(Math.log(Math.abs(g))/Math.log(10)+1));const T=v.findIndex(O=>O.toLowerCase()===m.toLowerCase()),p=Math.max(Math.min(T+Math.floor(g),v.length-1),0);if(T===-1)throw new Error(`Unknown currentType '${m}' passed to convertToSize`);return{size:o(d,m,v[p],f,u),type:v[p]}},"convertToOptimumSize"),c=h(function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"B","KB",m,!1)},"convertBytesToKilobytes"),l=h(function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"B","MB",m,!1)},"convertBytesToMegabytes"),i=h(function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"B","GB",m,!1)},"convertBytesToGigabytes"),a=h(function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"KB","MB",m,!1)},"convertKilobytesToMegabytes"),r=h(function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"KB","GB",m,!1)},"convertKilobytesToGigabytes")},3495018920:(B,A,e)=>{"use strict";e.d(A,{A:()=>N});var t=e(6249041335),s=e(5955725533),o=e(3889517373),n=e(244241147);const c=/[-[\]{}()*+?.,\\^$|#\s]/g,l=/\n?(6\)|7\))/,i=h(L=>{let D=0;const k=[];let x=L.replace((0,n.A)(),(R,U,F,W)=>{const w=D;D=W+R.length;const K=F.indexOf("(")!==-1,j=F.indexOf(")")!==-1;if((K||j)&&k.indexOf(F)===-1&&k.push(F),j&&!K){const Q=L.substring(w,W);if(Q.indexOf("(")!==-1&&Q.indexOf(")")===-1)return R}if(R===`
8)`){const Q=L.substring(0,W);if(l.test(Q))return R}return o.dq[F]?`${U}:${o.dq[F]}:`:R});if(k.length){const R=k.map(F=>F.replace(c,"\\$&")),U=new RegExp(`(\\(.+)(${R.join("|")})(.+\\))`,"g");x=x.replace(U,(F,W,w,K)=>o.dq[w]?`${W}:${o.dq[w]}:${K}`:F)}return x},"replace_emoticons_with_colons"),a=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function r(L){const D=[];let k=0;return{text:L.replace(a,R=>{k+=1;const U=`quoted-text-placeholder-${Date.now()}-${k}`;return D.push({match:R,placeholder:U}),U}),quotedSections:D}}h(r,"replaceQuotedText");var d=e(5023107295),m=e(1869001920),f=e(7831811348),u=e(2298487979),E=e(3672648559),v=e(8207536819),g=e(6251135763),T=e(289822669),p=e(1307821535);function O(L){return(0,p.A)(L)?L.replace(/^BK/,""):""}h(O,"getBroadcastKeyword");var y=e(6499248043);function C(L,D,k){const x=[];return{text:L.replace(u.Y,(U,F,W)=>{let w;if((0,p.A)(F)?w=`<!${O(F)}>`:(0,y.A)(F)?w=D?(0,v.A)(W):W:(0,T.A)(F)?w=`<!subteam^${F}|${W}>`:(0,g.A)(F)?w=k?`<#${F}|${W.substr(1)}>`:void 0:w=`<@${F}>`,!w)return U;const j=`mention-${x.length+1}-${Date.now()}`;return x.push({mention:w,placeholder:j}),j}),mentions:x}}h(C,"replaceFormatMentions");var I=e(3542943043),M=e(7640840193),_=e(2049899491),P=e(293248343);const b=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,S=/(^|\S)( +)(\n|$)/gm;function N(L,D){let{isInternalMessage:k}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!L||!D)return"";const x=!k,R=(0,_.A)(L),U=(0,P.ty)(L,"convert_emoticons"),F=(0,M.A)(L),W=(0,s.P)(L),w=!0;let K=D,j=[];K=(0,d.A)(K),K=(0,m.kW)(j,K,{replace_pre:!0,replace_code:!0});const Q=C(K,x,w);if(K=Q.text,K=K.replace(S,"$1$3"),U&&!W){const z=r(K);K=z.text,K=i(K),z.quotedSections.forEach(ie=>{K=K.replace(ie.placeholder,()=>ie.match)})}x&&(K=(0,m.wx)(K,"CLEAN",{jumbomoji:R,allow_intra_word_formatting:!0})),Q.mentions.forEach(z=>{K=K.replace(z.placeholder,()=>z.mention)});const J=(0,I.CK)(L);return j=j.map(z=>{const ie={...z},ee=(0,u.A)(ie.str,{highlightWords:F,shouldRenderEmojiAsText:W,emojiNames:J,locale:(0,f.Yp)(),useChannelTagging:w});return ie.str=(0,E.A)(ee),x&&(ie.str=(0,m.wx)(ie.str,"CLEAN",{jumbomoji:R,allow_intra_word_formatting:!0})),ie}),K=(0,m.Ki)(j,K),(0,t.A)(K)}h(N,"clean_message_text_with_state")},9295947818:(B,A,e)=>{"use strict";e.d(A,{Y:()=>o});var t=e(5565705486),s=e(7743962640);function o(n){let{type:c,tsfMode:l="NORMAL"}=n;if(!c)return null;let i;return c==="group"?i="group":i=(0,s.A)((0,t.A)(`BK${c}`)),l==="EDIT"?`<@BK${c}|@${i}>`:`@${i}`}h(o,"formatBroadcastCommand")},5023107295:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});const t=h(s=>s?s.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):"","__WEBPACK_DEFAULT_EXPORT__")},1831694456:(B,A,e)=>{"use strict";e.d(A,{Ac:()=>m,Ay:()=>r,lF:()=>d});var t=e(7174777686),s=e(3889517373),o=e(1875145851),n=e(5289809856),c=e(5478938623),l=e(293248343),i=e(3666777625);const a=h((f,u,E)=>{const v=E?f*2:f,g=E?u*2:u,p=v>s.QI||g>s.Jo?Math.min(s.QI/v,s.Jo/g):1,O=Math.floor(v*p),y=Math.floor(g*p);return{width:O,height:y}},"getConstrainedMediaDimensions");function r(f){let{url:u,width:E,height:v,rotate:g,renderSvg:T,stopAnimations:p,sizeForRetina:O,convertIco:y,isEmoji:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u)return null;const I=(0,c.Uz)((0,i.H7)(f));if(!I||u.indexOf(I)===0||u.indexOf("/img/")===0)return u;if(u.indexOf("https://")===0&&!C){const N=(0,n.yz)(u,!0),L=(0,o.QL)();if((0,t.A)(L,N)){if(p&&N==="slack-imgs.com"){const D=new URL(u),k=D.searchParams.has("o1")?`${D.searchParams.get("o1")}.gu`:"gu";return D.searchParams.set("o1",k),D.href}return u}}const M=new URL(I);M.searchParams.set("c",s.lW);const{width:_,height:P}=E&&v?a(E,v,O):{},b=[];return _&&P&&(b.push(`wi${_}`),b.push(`he${P}`),b.push("si")),g&&b.push("ro"),T&&b.push("sv2"),(p||!(0,l.ty)(f,"a11y_animations"))&&b.push("gu"),y&&b.push("ip"),b.length&&M.searchParams.set("o1",b.join(".")),M.searchParams.set("url",u),M.href}h(r,"getImgProxyUrl");const d=h(async f=>{try{const u=new URL(f);return!!(await fetch(`https://${u.hostname}/?url=${u.searchParams.get("url")}`,{method:"HEAD",mode:"cors"})).headers.get("x-slack-animated")}catch(u){if(u)return!1}return!1},"isImageAnimated"),m=h(f=>f.replace(".gu",""),"getAnimatedImgUrl")},9128139071:(B,A,e)=>{"use strict";e.d(A,{$q:()=>i,W4:()=>d});var t=e(3262078016),s=e(5221609289),o=e(9323019934),n=e(4328187452),c=e(4627303395),l=e(3701660703);function i(m,f){if(!f)return null;const u=(0,s.Ay)(f);return r(m,u)}h(i,"getListIdFromUrl");function a(m){for(const f of c.h)if(f.urlType===t.CollabUrlType.SLACK_LIST){const u=f.regExp,E=m.match(u);if(!E||E.length<1)continue;return E}return null}h(a,"matchListCollabUrlRegex");function r(m,f){const u=f.href,E=a(u);if(!E)return null;const v=E[6];if(!v||!(0,n.A)(v))return null;const g=(0,l.Lp)(m,v);return(0,o.l7)(g)?v:null}h(r,"getListIdFromParsedUrl");function d(m,f){const u=r(m,f);if(!u)return null;const E=(0,l.Lp)(m,u);return E&&((0,o.sR)(E)||(0,o.Bp)(E))?u:null}h(d,"getListFileIdWithoutAccessFromParsedUrl")},6412795092:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>Nt});var t=e(3783723764),s=e(8840779375),o=e(2604971659),n=e(4103274853),c=e(2208015175),l=e(3889517373),i=e(8521067832),a=e(444875765),r=e(7862639141),d=e.n(r),m=e(7338421512),f=e.n(m),u=e(3137087203),E=e.n(u),v=e(2925497764),g=e.n(v),T=e(4354668509),p=e.n(T),O=e(9126074323),y=e.n(O),C=e(7166114514),I=e.n(C),M=e(8778688037),_=e.n(M),P=e(801396766),b=e.n(P),S=e(3714568055),N=e.n(S),L=e(4112727548),D=e.n(L),k=e(7475504024),x=e.n(k),R=e(767498897),U=e.n(R),F=e(4120830581),W=e.n(F),w=e(5059789570),K=e.n(w),j=e(9850839085),Q=e.n(j),J=e(8958098778),z=e.n(J),ie=e(4179444947),ee=e.n(ie),ne=e(1676234230),Z=e.n(ne),te=e(8554291347),he=e.n(te),ue=e(3520255730),de=e.n(ue),re=e(8670572590),V=e.n(re),H=e(6827178739),X=e.n(H),Y=e(8822857039),q=e.n(Y),fe=e(3732480364),ce=e.n(fe),Ee=e(7697067703),Ae=e.n(Ee),le=e(9389329140),oe=e.n(le),me=e(2357300081),pe=e.n(me),Te=e(262294280),Me=e.n(Te),Ue=e(6050327025),xe=e.n(Ue),Ne=e(2314669006),be=e.n(Ne),ke=e(9035926930),Ke=e.n(ke),$=e(1723802991),ae=e.n($),Ge=e(9088110483),nt=e.n(Ge),at=e(6729734080),Ve=e.n(at),Se=e(7517217931),Pe=e.n(Se),Fe=e(9342422904),ge=e.n(Fe),He=e(6264809133),Qe=e.n(He),_e=e(4379038036),Le=e.n(_e),Ie=e(5498326197),we=e.n(Ie),ze=e(431187879),ut=e.n(ze),_t=e(4937134667),yt=e.n(_t),Ot=e(720053898),It=e.n(Ot),kt=e(8349151110),gt=e.n(kt),Gt=e(3725568109),Pt=e.n(Gt),jt=e(1488228566),Qt=e.n(jt),Jt=e(3638836655),Yt=e.n(Jt),Rt=e(5789388398),Bt=e.n(Rt),dn=e(195506779),Mt=e.n(dn),Ye=e(3107506536),ot=e.n(Ye);function ht(sn){return(0,t.A)((0,s.A)((0,o.A)(sn),en=>parseInt(en,10)),null,"desc")}h(ht,"makeOrderedIconSizes");function tt(sn){return(0,n.A)(sn,en=>ht(en))}h(tt,"makeOrderedNamedIconSizes");const ct={24:y(),32:I(),36:_(),72:b(),192:N()},rn={24:d(),32:f(),36:E(),72:g(),192:p()},ln={fancy:{20:D(),24:x(),32:U(),36:W(),48:K(),72:Q(),192:z(),360:ee(),512:Z(),1024:he()},frowny:{20:de(),24:V(),32:X(),36:q(),48:ce(),72:Ae(),192:oe(),360:pe(),512:Me(),1024:xe()},neutral:{20:be(),24:Ke(),32:ae(),36:nt(),48:Ve(),72:Pe(),192:ge(),360:Qe(),512:Le(),1024:we()},sad_surprise:{20:ut(),24:yt(),32:It(),36:gt(),48:Pt(),72:Qt(),192:Yt(),360:Bt(),512:Mt(),1024:ot()}},on=24,G=ht(rn),De=tt(ln),We="image_";function it(sn){const en=[];return(0,c.A)(sn,(_n,Dn)=>{if(Dn.indexOf(We)!==0)return;const On=Dn.slice(We.length);en.unshift(parseInt(On,10))}),en}h(it,"getSizeOptionsFromProfile");function Nt(sn){let{size:en,teamOrEnterpriseId:_n,memberId:Dn,avatarHash:On,emoji:In,isBot:bn=!1,botImages:Hn=!1,slackbotFeels:vn=null,isUserHidden:Sn=!1}=sn,gn,Rn,Qn=!1;if(!en||!bn&&!Sn&&(!_n||!Dn||!On)&&!In)return{};if(In)return{emoji:In,isDefault:!1};if(Sn){const Yn=(0,a.A)(en,G),Jn=(0,a.A)(en*2,G);gn=ct[Yn||on],Rn=ct[Jn||on],Qn=!0}else if(Dn===l.Q$&&vn&&ln[vn]){const Yn=(0,a.A)(en,De[vn]),Jn=(0,a.A)(en*2,De[vn]);gn=ln[vn][Yn||on],Rn=ln[vn][Jn||on]}else if(!bn||_n&&Dn&&On){const Yn=(0,a.A)(en),Jn=(0,a.A)(en*2),$n=(0,i.Z)(_n);gn=`${$n}${_n}-${Dn}-${On}-${Yn}`,Rn=`${$n}${_n}-${Dn}-${On}-${Jn}`}else if(Hn){const Yn=it(Hn),Jn=(0,a.A)(en,Yn),$n=(0,a.A)(en*2,Yn);gn=Hn[We+Jn],Rn=Hn[We+$n]}if(bn&&!gn&&!Rn&&!In){const Yn=(0,a.A)(en,G),Jn=(0,a.A)(en*2,G);gn=rn[Yn||on],Rn=rn[Jn||on],Qn=!0}return{imageUrl:gn,imageUrl2x:Rn,emoji:In,isDefault:Qn}}h(Nt,"getMemberProfileImage")},5450958027:(B,A,e)=>{"use strict";e.d(A,{d:()=>n});var t=e(7492291136),s=e(6545531717),o=e(6766178921);function n(c,l){if(!l)return"member";const i=(0,o.nv)(c,l);let a="member";return(0,t.g)(i)?a="external":(0,s.Ez)(i)&&!(0,s.Yd)(i)?a="ra":(0,s.Yd)(i)&&(a="ura"),a}h(n,"getMemberType")},3587464655:(B,A,e)=>{"use strict";e.d(A,{cR:()=>i,dR:()=>u});var t=e(3262078016),s=e(5221609289),o=e(9323019934),n=e(4328187452),c=e(4627303395),l=e(3701660703);function i(E,v){if(!v)return null;const g=(0,s.Ay)(v);return m(E,g)}h(i,"getQuipFileIdFromUrl");function a(E,v){if(!v)return null;const g=parseUrl(v);return f(E,g)}h(a,"getQuipFileIdWithAccessFromUrl");function r(E,v){if(!v)return null;const g=parseUrl(v);return u(E,g)}h(r,"getQuipFileIdWithoutAccessFromUrl");function d(E){for(const v of c.h)if(v.urlType===t.CollabUrlType.SLACK_DOCUMENT||v.urlType===t.CollabUrlType.SLACK_DOCUMENT_SECTION){const g=v.regExp,T=E.match(g);if(!T||T.length<1)continue;return T}return null}h(d,"matchCanvasCollabUrlRegex");function m(E,v){const g=v.href,T=d(g);if(!T)return null;const p=T[6];if(!p||!(0,n.A)(p))return null;const O=(0,l.Lp)(E,p);return(0,o.DQ)(O)?p:null}h(m,"getQuipFileIdFromParsedUrl");function f(E,v){const g=m(E,v);if(!g)return null;const T=getFileById(E,g);return!T||isNotVisible(T)?null:g}h(f,"getQuipFileIdWithAccessFromParsedUrl");function u(E,v){const g=m(E,v);if(!g)return null;const T=(0,l.Lp)(E,g);return T&&(0,o.sR)(T)?g:null}h(u,"getQuipFileIdWithoutAccessFromParsedUrl")},5297239210:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(7919365230),s=e(7188858884),o=e(205540855),n=e(2398473551);const c=(0,t.Ay)((i,a,r)=>((0,n.getAllWorkspaces)(i)||[]).some(m=>{var f;const u=(f=(0,s.oK)(m))===null||f===void 0?void 0:f.getState();return u?(0,o._Z)(u,a)===r:!1}));c.meta={name:"createSelector",key:"createSelectorhasGroupForAnyTeam",description:(i,a,r)=>((0,n.getAllWorkspaces)(i)||[]).some(m=>{var f;const u=(f=(0,s.oK)(m))===null||f===void 0?void 0:f.getState();return u?(0,o._Z)(u,a)===r:!1})};const l=c},5089209364:(B,A,e)=>{"use strict";e.d(A,{C9:()=>l,Gl:()=>n,VQ:()=>c,XU:()=>s,dL:()=>o,x_:()=>i});var t=e(205540855);const s=h(a=>(0,t._Z)(a,"help_shareables_tm")==="on","isHelpShareablesTmExperimentOn"),o=h(a=>(0,t._Z)(a,"help_articles_in_search")==="treatment","isHelpArticlesInSearchExperimentTreatment"),n=h(a=>(0,t._Z)(a,"help_navigation")==="on","isHelpNavigationExperimentOn"),c=h(a=>(0,t._Z)(a,"help_tour")==="treatment","isHelpTourExperimentTreatment"),l=h(a=>(0,t._Z)(a,"help_tips")==="on","isHelpTipsExperimentOn"),i=h(a=>(0,t._Z)(a,"help_slider_a11y_translations")==="on","isHelpSliderA11yTranslationsExperimentOn")},4248971435:(B,A,e)=>{"use strict";e.d(A,{A:()=>m});var t=e(2947229296),s=e(223419306),o=e(6010046757),n=e(7738010443),c=e(9588678965),l=e(205540855),i=e(7414731323),a=e(7418708689);const r=new t.Ay("view"),d=(0,c.Mz)((f,u)=>{let{tab:E}=u;const v=(0,n.We)(f),g=(0,o.tb)(f),T=(0,l._Z)(f,"activity_inbox")==="on",p=(0,s.Lq)(f),O=T?a.k6.ActivityInbox:a.k6.Activity,y=(0,i.iT)(f);let C;switch(E){case a.k6.Home:C=r.t("Home");break;case a.k6.DMs:C=r.t("DMs");break;case O:C=r.t("Activity");break;case a.k6.Later:C=r.t("Later");break;case a.k6.SalesHome:C=r.t("Sales");break;case a.k6.Search:C=r.t("Search");break;case a.k6.ConversationalSearch:C=p?r.t("Explore"):"";break;case a.k6.Canvases:C=r.t("Canvases");break;case a.k6.Files:C=r.t("Files",{ns:"search"});break;case a.k6.UnifiedFiles:C=r.t("Files");break;case a.k6.Channels:C=r.t("Channels",{ns:"search"});break;case a.k6.People:C=r.t("People",{ns:"search"});break;case a.k6.Platform:C=g?r.t("Tools"):r.t("Automations");break;case a.k6.ExternalConnections:C=r.t("External");break;case a.k6.Huddles:C=y?r.t("Calendar"):r.t("Huddles");break;case a.k6.Assistant:C=v?r.t("Ask Slack"):"Ask Slack";break;case a.k6.Browse:C=r.t("More");break;case a.k6.Lists:C=r.t("Lists");break;case a.k6.Todos:C=r.t("To-dos");break;case a.k6.Solutions:C=r.t("Templates");break;case a.k6.Agents:C="Agentforce";break;case a.k6.Sidekicks:C="Sidekicks";break;case a.k6.SlackKitPlayground:C="Slack Kit Playground";break;case a.k6.BBM:C="";break;case a.k6.Admin:C=r.t("Admin");break;case a.k6.Today:C=r.t("Today");break;default:C="";break}return C});d.meta={name:"createSelector",key:"createSelectorgetTabLabel",description:(f,u)=>{let{tab:E}=u;const v=(0,n.We)(f),g=(0,o.tb)(f),T=(0,l._Z)(f,"activity_inbox")==="on",p=(0,s.Lq)(f),O=T?a.k6.ActivityInbox:a.k6.Activity,y=(0,i.iT)(f);let C;switch(E){case a.k6.Home:C=r.t("Home");break;case a.k6.DMs:C=r.t("DMs");break;case O:C=r.t("Activity");break;case a.k6.Later:C=r.t("Later");break;case a.k6.SalesHome:C=r.t("Sales");break;case a.k6.Search:C=r.t("Search");break;case a.k6.ConversationalSearch:C=p?r.t("Explore"):"";break;case a.k6.Canvases:C=r.t("Canvases");break;case a.k6.Files:C=r.t("Files",{ns:"search"});break;case a.k6.UnifiedFiles:C=r.t("Files");break;case a.k6.Channels:C=r.t("Channels",{ns:"search"});break;case a.k6.People:C=r.t("People",{ns:"search"});break;case a.k6.Platform:C=g?r.t("Tools"):r.t("Automations");break;case a.k6.ExternalConnections:C=r.t("External");break;case a.k6.Huddles:C=y?r.t("Calendar"):r.t("Huddles");break;case a.k6.Assistant:C=v?r.t("Ask Slack"):"Ask Slack";break;case a.k6.Browse:C=r.t("More");break;case a.k6.Lists:C=r.t("Lists");break;case a.k6.Todos:C=r.t("To-dos");break;case a.k6.Solutions:C=r.t("Templates");break;case a.k6.Agents:C="Agentforce";break;case a.k6.Sidekicks:C="Sidekicks";break;case a.k6.SlackKitPlayground:C="Slack Kit Playground";break;case a.k6.BBM:C="";break;case a.k6.Admin:C=r.t("Admin");break;case a.k6.Today:C=r.t("Today");break;default:C="";break}return C}};const m=d},1749475519:(B,A,e)=>{"use strict";e.d(A,{A:()=>L,o:()=>S});var t=e(2019340948),s=e(6957598307),o=e(223419306),n=e(6010046757),c=e(7738010443),l=e(5689133621),i=e(3366578852),a=e(8679804389),r=e(7217861780),d=e(4957087144),m=e(9156075779),f=e(6563581886),u=e(4357385957),E=e(3030430895),v=e(6461200554),g=e(1254176429),T=e(5478938623),p=e(5303619577),O=e(7414306127),y=e(9903606790),C=e(9588678965),I=e(9872837106),M=e(9383537253),_=e(3666777625),P=e(7418708689);const b={[P.k6.Home]:D=>!(0,m.R)(D),[P.k6.Search]:()=>!1,[P.k6.ConversationalSearch]:D=>(0,o.Lq)(D),[P.k6.Activity]:D=>!(0,t.Lh)(D)&&(0,s.Ty)(D),[P.k6.ActivityInbox]:D=>(0,t.Lh)(D)&&(0,s.Ty)(D),[P.k6.DMs]:D=>(0,s.Ty)(D),[P.k6.UnifiedFiles]:D=>(0,y.ac)(D)&&(0,s.Ty)(D),[P.k6.SlackKitPlayground]:D=>(0,d.b)()&&(0,s.Ty)(D),[P.k6.Solutions]:D=>(0,l.g)(D)&&!(0,n.tb)(D),[P.k6.Agents]:D=>(0,i.mr)(D)&&(0,s.Ty)(D)&&((0,i.nc)(D)?(0,I.Iy)(D):(0,I.sL)(D).length>=1),[P.k6.Sidekicks]:D=>(0,r.Q)(D)&&(0,s.Ty)(D),[P.k6.Later]:D=>(0,g.Bp)(D),[P.k6.Assistant]:D=>(0,c.We)(D)&&(0,s.Ty)(D),[P.k6.Canvases]:D=>(0,v.F)(D)&&!(0,m.R)(D)&&!(0,y.ac)(D),[P.k6.Files]:D=>!(0,m.R)(D)&&(0,s.Ty)(D)&&!(0,y.ac)(D),[P.k6.Channels]:D=>!(0,m.R)(D)&&(0,s.Ty)(D)&&!(0,f.c)(D),[P.k6.Platform]:()=>!0,[P.k6.People]:D=>!(0,m.R)(D)&&(0,s.Ty)(D)&&!(0,f.c)(D),[P.k6.Huddles]:D=>(0,u.Wd)(D)&&!(0,M.LS)(D)&&!(0,m.R)(D),[P.k6.SalesHome]:D=>(0,a.hx)(D),[P.k6.Lists]:D=>((0,T.tc)((0,_.H7)(D))&&(0,E.isListsEnableFreemiumAccessEnabled)(D)||(0,E.teamHasFullListsAccess)(D))&&!(0,m.R)(D)&&!(0,y.ac)(D),[P.k6.Todos]:D=>(0,E.isTodosEnabled)(D)&&!(0,O.v)(D),[P.k6.ExternalConnections]:D=>!(0,f.c)(D),[P.k6.Today]:D=>(0,p.d9)(D)},S=h(D=>(0,C.Mz)(k=>b[D](k)),"makeSelectVisibleTab"),L=h((D,k)=>S(k)(D),"getTabVisibility")},6207846470:(B,A,e)=>{"use strict";e.d(A,{A:()=>J});var t=e(2019340948),s=e(7499216588),o=e(8021418369),n=e(9090121920),c=e(223419306),l=e(6010046757),i=e(515517017),a=e(246770613),r=e(7738010443),d=e(4504410777),m=e(5689133621),f=e(3366578852),u=e(5578503096),E=e(8679804389),v=e(8387665665),g=e(7217861780),T=e(4957087144),p=e(9914323321),O=e(6563581886),y=e(3800555055),C=e(3030430895),I=e(5691265838),M=e(6461200554),_=e(5478938623),P=e(5303619577),b=e(370806217),S=e(6897174593),N=e(1667278890),L=e(9915778310),D=e(3284738829),k=e(9903606790),x=e(3373051866),R=e(8915855496),U=e(9383537253),F=e(7414731323),W=e(2043064652),w=e(3666777625),K=e(9189697484);const j={[s.D.KeyboardShortcuts]:()=>!0,[s.D.WhatsNew]:()=>!0,[s.D.RecentCanvases]:()=>!1,[s.D.CanvasesSharedWithYou]:z=>(0,M.F)(z),[s.D.CanvasesCreatedByYou]:z=>(0,M.F)(z),[s.D.BrowseCanvases]:z=>(0,M.F)(z),[s.D.RecentFiles]:()=>!0,[s.D.FilesCreatedByYou]:()=>!0,[s.D.FilesSharedWithYou]:()=>!0,[s.D.BrowseExternalWorkspace]:N.U,[s.D.BrowseChannels]:()=>!0,[s.D.BrowsePeople]:()=>!0,[s.D.ExternalOrganizations]:()=>!0,[s.D.ExternalOrganization]:()=>!0,[s.D.ExternalPeople]:()=>!1,[s.D.SlackConnectChannels]:()=>!1,[s.D.SlackConnectInvitations]:()=>!0,[s.D.BrowseUserGroups]:z=>!(0,S.sV)(z)&&(0,_.qR)((0,w.H7)(z)),[s.D.SlackConnect]:z=>(0,a.A)(z),[s.D.Channel]:()=>!0,[s.D.AppSpace]:()=>!0,[s.D.RecentPlatform]:z=>(0,I.MA)(z),[s.D.BrowseWorkflowsManagedByYou]:z=>(0,I.EH)(z),[s.D.BrowseYourWorkflowTemplates]:z=>(0,I.M7)(z),[s.D.BrowseShortcuts]:z=>(0,I.S0)(z),[s.D.BrowseWorkflowTemplates]:z=>(0,I.fh)(z),[s.D.BrowseApps]:z=>(0,I.pr)(z),[s.D.OrgDirectory]:()=>!0,[s.D.Page]:()=>!0,[s.D.Threads]:()=>!0,[s.D.Thread]:()=>!0,[s.D.Profile]:()=>!0,[s.D.FileDetails]:()=>!0,[s.D.Help]:()=>!0,[s.D.UserGroup]:()=>!0,[s.D.Feedback]:()=>!0,[s.D.List]:z=>(0,C.isListsEnabled)(z),[s.D.ListRecord]:z=>(0,C.isListsEnabled)(z),[s.D.ListRecordDetails]:z=>(0,C.isListsEnabled)(z),[s.D.ListRecordThread]:z=>(0,C.isListsEnabled)(z),[s.D.ListRecordHistory]:z=>(0,C.isListsEnabled)(z),[s.D.ListHistory]:z=>(0,C.isListsHistoryEnabled)(z),[s.D.DeletedLists]:z=>(0,C.isListsEnabled)(z),[s.D.Tasks]:z=>(0,C.isTodosEnabled)(z),[s.D.AssignedTasks]:z=>(0,C.isTodosEnabled)(z),[s.D.Reminders]:z=>(0,C.isTodosEnabled)(z),[s.D.Saved]:z=>(0,C.isTodosEnabled)(z),[s.D.ComposeList]:()=>!0,[s.D.Compose]:()=>!0,[s.D.QuipCommentThread]:()=>!0,[s.D.QuipCommentStream]:()=>!0,[s.D.QuipActivityHistory]:()=>!0,[s.D.QuipAutomationsOverview]:()=>!0,[s.D.Quip]:()=>!0,[s.D.Canvas]:()=>!0,[s.D.ChannelCanvas]:()=>!0,[s.D.CanvasBrowser]:z=>(0,M.F)(z),[s.D.DeletedCanvases]:z=>(0,M.F)(z),[s.D.PaidBenefits]:()=>!0,[s.D.Setup]:()=>!0,[s.D.SearchEmpty]:()=>!0,[s.D.AboutWorkspace]:()=>!1,[s.D.Unknown]:()=>!0,[s.D.MorePeopleSidebar]:()=>!0,[s.D.MoreCanvasesSidebar]:()=>!0,[s.D.MoreSolutionsSidebar]:z=>(0,m.g)(z)&&!(0,l.tb)(z),[s.D.AppPopout]:()=>!0,[s.D.ChannelList]:()=>!0,[s.D.BrowseFiles]:()=>!0,[s.D.BrowseUnifiedFiles]:z=>(0,k.ac)(z),[s.D.BrowseUnifiedFilesCanvases]:z=>(0,k.ac)(z),[s.D.BrowseUnifiedFilesLists]:z=>(0,k.ac)(z),[s.D.BrowseUnifiedFilesFolders]:z=>(0,k.ac)(z)&&(0,k.$m)(z),[s.D.BrowseUnifiedFilesFolder]:z=>(0,k.ac)(z)&&(0,k.$m)(z),[s.D.DeletedUnifiedFiles]:z=>(0,k.ac)(z),[s.D.SlackKitPlayground]:()=>(0,T.b)(),[s.D.Solutions]:z=>(0,m.g)(z),[s.D.Admin]:()=>!1,[s.D.ActivityChannelUnreadsList]:z=>(0,t.Lh)(z),[s.D.Agents]:z=>(0,f.mr)(z),[s.D.YourAgents]:z=>(0,f.mr)(z)&&(0,f.Y1)(z),[s.D.AgentHomeConversation]:z=>(0,f.mr)(z),[s.D.MoreAgentsSidebar]:z=>(0,f.mr)(z),[s.D.Sidekicks]:z=>(0,g.Q)(z),[s.D.SidekickConversation]:z=>(0,g.Q)(z),[s.D.MoreSidekicksSidebar]:z=>(0,g.Q)(z),[s.D.SolutionsFiltered]:z=>(0,m.g)(z),[s.D.BrowseYourSolutions]:z=>(0,d.n)(z),[s.D.BrowseYourCompanySolutions]:z=>(0,d.n)(z),[s.D.BrowseLists]:z=>(0,C.teamHasFullListsAccess)(z),[s.D.DmsList]:()=>!0,[s.D.BrowseList]:()=>!0,[s.D.ActivityList]:()=>!0,[s.D.LaterList]:()=>!0,[s.D.Search]:()=>!0,[s.D.MoreFilesSidebar]:()=>!0,[s.D.MoreListsSidebar]:()=>!0,[s.D.UnifiedFilesSidebar]:z=>(0,k.ac)(z),[s.D.MoreChannelsSidebar]:()=>!1,[s.D.Inbox]:()=>!1,[s.D.ActivityInbox]:z=>(0,t.Lh)(z),[s.D.ActivityEmpty]:z=>(0,t.Lh)(z),[s.D.MorePlatformSidebar]:()=>!0,[s.D.MoreHuddlesSidebar]:()=>!0,[s.D.MoreExternalConnectionsSidebar]:()=>!0,[s.D.HelpBrowser]:()=>!0,[s.D.Huddle]:()=>!0,[s.D.BrowseHuddles]:z=>(0,U.LS)(z),[s.D.KeyboardShortcutsBrowser]:()=>!0,[s.D.WhatsNewBrowser]:()=>!0,[s.D.FeedbackBrowser]:()=>!0,[s.D.ExternalWorkspaceAllowedOrgPane]:()=>!1,[s.D.ExternalWorkspaceSidebar]:()=>!1,[s.D.ExternalWorkspacePeopleBrowser]:()=>!1,[s.D.ExternalWorkspaceChannelBrowser]:()=>!1,[s.D.PostEvent]:()=>!1,[s.D.AiSummaryDetails]:z=>(0,x.Jd)(z),[s.D.DailyDigest]:z=>(0,x.hS)(z),[s.D.SearchSummary]:z=>(0,x.Sl)(z),[s.D.Today]:z=>(0,K._)(z),[s.D.WorkObject]:z=>(0,y.HZ)(z),[s.D.WorkObjectFilePreview]:z=>(0,y.Op)(z),[s.D.TableauDetails]:z=>(0,u.Z0)(z),[s.D.Record]:()=>!0,[s.D.MyTaskApproval]:z=>(0,C.isApprovalsInTodosEnabled)(z),[s.D.MyApproval]:z=>(0,C.isApprovalsInTodosEnabled)(z),[s.D.RecordChannelCreate]:()=>!0,[s.D.RecordChannelRelatedList]:()=>!0,[s.D.RecordRelatedConversationsChannelsList]:z=>(0,v.L7)(z),[s.D.RecordRelatedConversationsThreadsList]:z=>(0,v.L7)(z),[s.D.SalesAdministration]:()=>!0,[s.D.SalesBulkGrid]:()=>!0,[s.D.SalesHome]:z=>(0,E.hx)(z),[s.D.SalesLogActivity]:()=>!0,[s.D.SalesCreateRecord]:()=>!0,[s.D.SalesListViewBrowser]:()=>!0,[s.D.SalesSidebar]:()=>!0,[s.D.SalesNotifications]:()=>!0,[s.D.SalesAutoSlackLaunchpad]:z=>(0,W.LI)(z),[s.D.AssistantThread]:()=>!0,[s.D.AiApp]:z=>(0,n.wP)(z),[s.D.AboutAiApp]:z=>(0,n.wP)(z),[s.D.MultiTurnSearch]:z=>(0,n.wP)(z)&&(0,c.UF)(z),[s.D.WorkflowDetails]:()=>!0,[s.D.WorkflowTemplateEditor]:z=>(0,b.S)(z),[s.D.AppDetails]:()=>!0,[s.D.WorkflowEditor]:z=>(0,I.ji)(z),[s.D.WorkflowBeingCreated]:z=>(0,I.ji)(z),[s.D.BookmarksFolder]:z=>(0,p.U6)(z),[s.D.ActionItems]:z=>(0,x.FV)(z),[s.D.BBMMain]:z=>(0,R.V)(z),[s.D.BBMWorkspaceSwitcher]:z=>(0,R.V)(z),[s.D.SearchInChannel]:z=>(0,L.k8)(z),[s.D.HuddleTranscriptDetails]:z=>(0,x.Vf)(z),[s.D.HuddlePageCanvas]:()=>!0,[s.D.BBMMore]:z=>(0,R.V)(z),[s.D.AssistantHome]:z=>(0,r.We)(z),[s.D.TodayV2]:z=>(0,P.d9)(z),[s.D.MultiTurnSearchSidebar]:z=>(0,n.wP)(z)&&(0,c.UF)(z),[s.D.AboutUserGroup]:()=>!1,[s.D.MeetingDetails]:z=>(0,F.iT)(z),[s.D.AiMessageAnalysis]:z=>(0,i.x)(z),[s.D.BrowseUnifiedFilesGoogleDrive]:z=>(0,o.c)(z),[s.D.BrowseUnifiedFilesOnedrive]:z=>(0,o.c)(z),[s.D.BrowseUnifiedFilesExternalResults]:z=>(0,c.vE)(z),[s.D.ConversationCreate]:z=>(0,D.H)(z),[s.D.SlackbotAi]:z=>(0,r.gT)(z),[s.D.UnifiedDirectory]:z=>(0,O.c)(z)},J=h((z,ie)=>j[ie](z),"getViewTypeVisibility")},7951377368:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(2808735726);let s=null;function o(){if(s===null){var n,c;s=(document==null||(n=document.documentElement)===null||n===void 0||(c=n.dataset)===null||c===void 0?void 0:c.app)===t.u.APP_POPOUTS}return s}h(o,"isAppPopouts")},4180164121:(B,A,e)=>{"use strict";e.d(A,{V:()=>s});var t=e(205540855);function s(o){return(0,t._Z)(o,"channel_hover_card")==="on"}h(s,"isChannelHoverCardEnabled")},155282313:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s,o){return!s||!o?!1:o(s)?!0:s.parentElement?t(s.parentElement,o):!1}h(t,"isContainedBy")},722256278:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s){return!!(s&&(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth))}h(t,"isElementScrollable")},582504988:(B,A,e)=>{"use strict";e.d(A,{R:()=>o});var t=e(9588678965),s=e(205540855);const o=(0,t.Mz)(n=>(0,s._Z)(n,"mpim_omniswitcher_add_timestamp")==="on");o.meta={name:"createSelector",key:"createSelectorisMpdmOmniswitcherAddTimestampEnabled",description:n=>(0,s._Z)(n,"mpim_omniswitcher_add_timestamp")==="on"}},6191248486:(B,A,e)=>{"use strict";e.d(A,{z:()=>o});var t=e(9588678965),s=e(205540855);const o=(0,t.Mz)(n=>(0,s._Z)(n,"mpim_omniswitcher_display_topic")==="on");o.meta={name:"createSelector",key:"createSelectorisMpdmOmniswitcherDisplayTopicEnabled",description:n=>(0,s._Z)(n,"mpim_omniswitcher_display_topic")==="on"}},8557984176:(B,A,e)=>{"use strict";e.d(A,{a:()=>t});const t=h(s=>{var o;if(!(s!=null&&s.is_app_unfurl))return!1;var n;return(n=s==null||(o=s.blocks)===null||o===void 0?void 0:o.some(c=>c.type==="file"&&c.source==="remote"))!==null&&n!==void 0?n:!1},"isRemoteFileAppUnfurl")},1158363045:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(2774532222),s=e(3889517373);function o(n){return(0,t.A)(n,s.Rw)}h(o,"isSlackAction")},3284738829:(B,A,e)=>{"use strict";e.d(A,{H:()=>n});var t=e(9588678965),s=e(205540855);const o=(0,t.Mz)(c=>(0,s._Z)(c,"streamlined_conversation_flow")==="explicit_channel");o.meta={name:"createSelector",key:"createSelectorisStreamlinedConversationFlowExplicitChannelEnabled",description:c=>(0,s._Z)(c,"streamlined_conversation_flow")==="explicit_channel"};const n=(0,t.Mz)(c=>(0,s._Z)(c,"streamlined_conversation_flow")==="treatment"||o(c));n.meta={name:"createSelector",key:"createSelectorisStreamlinedConversationFlowEnabled",description:c=>(0,s._Z)(c,"streamlined_conversation_flow")==="treatment"||o(c)}},8931951592:(B,A,e)=>{"use strict";e.d(A,{Dl:()=>n,Mk:()=>s,qF:()=>o});var t=e(9893226229);const s=["about","canvas"],o=["app","about","settings","chat"];function n(c){return s.indexOf(c)!==-1||o.indexOf(c)!==-1||Object.keys(t.e).indexOf(c)!==-1}h(n,"isValidTabRoute")},1946327395:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(2808735726);let s=null;function o(){if(s===null){var n,c;s=(document==null||(n=document.documentElement)===null||n===void 0||(c=n.dataset)===null||c===void 0?void 0:c.app)===t.u.WORKFLOW_BUILDER}return s}h(o,"isWorkflowBuilder")},9880974855:(B,A,e)=>{"use strict";e.d(A,{D:()=>t});var t;(function(s){s.UP="ArrowUp",s.DOWN="ArrowDown",s.TAB="Tab",s.ENTER="Enter",s.RIGHT="ArrowRight",s.LEFT="ArrowLeft",s.HOME="Home",s.END="End",s.BACKSPACE="Backspace",s.DASH="-",s.UNDERSCORE="_",s.ESCAPE="Escape",s.SPACE=" ",s.A="a"})(t||(t={}))},8393538104:(B,A,e)=>{"use strict";e.d(A,{W:()=>s});var t=e(7499216588);const s=h(o=>!!(o!=null&&o.includes(t.D.ConversationCreate)),"looksLikeConversationCreateId")},494655944:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});const t=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function s(o){return o?t.test(o):!1}h(s,"looksLikeQuipHistoryId")},2930707440:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(9746734072),s=e(2947229296);const o=new s.Ay("a11y"),n={CURRENT:1,UNREADS:2,NOTIFICATIONS:4,PRIVATE:8,NOT_MEMBER:16,MUTED:32,STARRED:64,DRAFT:128};function c(){let{channelName:l,previousChannelName:i,workspaceName:a,orgName:r,isOrgGlobalSharedPublicOrPrivateChannel:d,isOrgSharedPublicOrPrivateChannel:m,isExternallySharedChannel:f,isArchived:u,isCurrent:E,hasUnreads:v,hasNotifications:g,isPrivate:T,isNotMember:p,isMuted:O,isStarred:y,hasDraft:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const I=(()=>{if(f&&a&&a.length>0){const _=(0,t.A)(a)?a:[a];return o.t("shared with {workspaceName}",{workspaceName:_[0]})}return d&&r?o.t("shared across all {orgName} workspaces",{orgName:r}):m?o.t("shared channel"):""})(),M=(()=>{if(u)return o.t("archived channel");const _=(E?n.CURRENT:0)|(v?n.UNREADS:0)|(g?n.NOTIFICATIONS:0)|(T?n.PRIVATE:0)|(p?n.NOT_MEMBER:0)|(O?n.MUTED:0)|(y?n.STARRED:0)|(C?n.DRAFT:0);return _===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, not a member, muted, starred, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, private, not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, private, not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, private, not a member, muted, starred, has a draft message"):_===(n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("private, not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, not a member, muted, starred, has a draft message"):_===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, not a member, muted, starred, has a draft message"):_===(n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, not a member, muted, starred, has a draft message"):_===(n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("not a member, muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, muted, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, muted, starred, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, private, muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, muted, starred, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, private, muted, starred, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, private, muted, starred, has a draft message"):_===(n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("private, muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, muted, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, muted, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, muted, starred, has a draft message"):_===(n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, muted, starred, has a draft message"):_===(n.UNREADS|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, muted, starred, has a draft message"):_===(n.CURRENT|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, muted, starred, has a draft message"):_===(n.MUTED|n.STARRED|n.DRAFT)?o.t("muted, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, not a member, starred, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has notifications, private, not a member, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, starred, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages, private, not a member, starred, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, private, not a member, starred, has a draft message"):_===(n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("private, not a member, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, not a member, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, not a member, starred, has a draft message"):_===(n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has notifications, not a member, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, not a member, starred, has a draft message"):_===(n.UNREADS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages, not a member, starred, has a draft message"):_===(n.CURRENT|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, not a member, starred, has a draft message"):_===(n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("not a member, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, starred, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("has notifications, private, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, starred, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("has unread messages, private, starred, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, private, starred, has a draft message"):_===(n.PRIVATE|n.STARRED|n.DRAFT)?o.t("private, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, starred, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, starred, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, starred, has a draft message"):_===(n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("has notifications, starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, starred, has a draft message"):_===(n.UNREADS|n.STARRED|n.DRAFT)?o.t("has unread messages, starred, has a draft message"):_===(n.CURRENT|n.STARRED|n.DRAFT)?o.t("current channel, starred, has a draft message"):_===(n.STARRED|n.DRAFT)?o.t("starred, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, muted, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, private, not a member, muted, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has notifications, private, not a member, muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, muted, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages, private, not a member, muted, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, private, not a member, muted, has a draft message"):_===(n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("private, not a member, muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, muted, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, not a member, muted, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, not a member, muted, has a draft message"):_===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has notifications, not a member, muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, not a member, muted, has a draft message"):_===(n.UNREADS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages, not a member, muted, has a draft message"):_===(n.CURRENT|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, not a member, muted, has a draft message"):_===(n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("not a member, muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, muted, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, private, muted, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, private, muted, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("has notifications, private, muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, private, muted, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("has unread messages, private, muted, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, private, muted, has a draft message"):_===(n.PRIVATE|n.MUTED|n.DRAFT)?o.t("private, muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, muted, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, muted, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, muted, has a draft message"):_===(n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("has notifications, muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, muted, has a draft message"):_===(n.UNREADS|n.MUTED|n.DRAFT)?o.t("has unread messages, muted, has a draft message"):_===(n.CURRENT|n.MUTED|n.DRAFT)?o.t("current channel, muted, has a draft message"):_===(n.MUTED|n.DRAFT)?o.t("muted, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has notifications, private, not a member, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("has notifications, private, not a member, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages, private, not a member, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, private, not a member, has a draft message"):_===(n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("private, not a member, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages and notifications, not a member, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has notifications, not a member, has a draft message"):_===(n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("has notifications, not a member, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages, not a member, has a draft message"):_===(n.UNREADS|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages, not a member, has a draft message"):_===(n.CURRENT|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, not a member, has a draft message"):_===(n.NOT_MEMBER|n.DRAFT)?o.t("not a member, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("has unread messages and notifications, private, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("current channel, has notifications, private, has a draft message"):_===(n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("has notifications, private, has a draft message"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.DRAFT)?o.t("current channel, has unread messages, private, has a draft message"):_===(n.UNREADS|n.PRIVATE|n.DRAFT)?o.t("has unread messages, private, has a draft message"):_===(n.CURRENT|n.PRIVATE|n.DRAFT)?o.t("current channel, private, has a draft message"):_===(n.PRIVATE|n.DRAFT)?o.t("private, has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.DRAFT)?o.t("current channel, has unread messages and notifications, has a draft message"):_===(n.UNREADS|n.NOTIFICATIONS|n.DRAFT)?o.t("has unread messages and notifications, has a draft message"):_===(n.CURRENT|n.NOTIFICATIONS|n.DRAFT)?o.t("current channel, has notifications, has a draft message"):_===(n.NOTIFICATIONS|n.DRAFT)?o.t("has notifications, has a draft message"):_===(n.CURRENT|n.UNREADS|n.DRAFT)?o.t("current channel, has unread messages, has a draft message"):_===(n.UNREADS|n.DRAFT)?o.t("has unread messages, has a draft message"):_===(n.CURRENT|n.DRAFT)?o.t("current channel, has a draft message"):_===n.DRAFT?o.t("has a draft message"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, private, not a member, muted, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, private, not a member, muted, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has notifications, private, not a member, muted, starred"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has notifications, private, not a member, muted, starred"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, private, not a member, muted, starred"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages, private, not a member, muted, starred"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, private, not a member, muted, starred"):_===(n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("private, not a member, muted, starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, not a member, muted, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, not a member, muted, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has notifications, not a member, muted, starred"):_===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has notifications, not a member, muted, starred"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, not a member, muted, starred"):_===(n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages, not a member, muted, starred"):_===(n.CURRENT|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, not a member, muted, starred"):_===(n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("not a member, muted, starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, private, muted, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, private, muted, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, has notifications, private, muted, starred"):_===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("has notifications, private, muted, starred"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, private, muted, starred"):_===(n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("has unread messages, private, muted, starred"):_===(n.CURRENT|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, private, muted, starred"):_===(n.PRIVATE|n.MUTED|n.STARRED)?o.t("private, muted, starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, muted, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, muted, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("current channel, has notifications, muted, starred"):_===(n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("has notifications, muted, starred"):_===(n.CURRENT|n.UNREADS|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, muted, starred"):_===(n.UNREADS|n.MUTED|n.STARRED)?o.t("has unread messages, muted, starred"):_===(n.CURRENT|n.MUTED|n.STARRED)?o.t("current channel, muted, starred"):_===(n.MUTED|n.STARRED)?o.t("muted, starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages and notifications, private, not a member, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages and notifications, private, not a member, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has notifications, private, not a member, starred"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("has notifications, private, not a member, starred"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages, private, not a member, starred"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages, private, not a member, starred"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, private, not a member, starred"):_===(n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("private, not a member, starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages and notifications, not a member, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages and notifications, not a member, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has notifications, not a member, starred"):_===(n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("has notifications, not a member, starred"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages, not a member, starred"):_===(n.UNREADS|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages, not a member, starred"):_===(n.CURRENT|n.NOT_MEMBER|n.STARRED)?o.t("current channel, not a member, starred"):_===(n.NOT_MEMBER|n.STARRED)?o.t("not a member, starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("current channel, has unread messages and notifications, private, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("has unread messages and notifications, private, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("current channel, has notifications, private, starred"):_===(n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("has notifications, private, starred"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.STARRED)?o.t("current channel, has unread messages, private, starred"):_===(n.UNREADS|n.PRIVATE|n.STARRED)?o.t("has unread messages, private, starred"):_===(n.CURRENT|n.PRIVATE|n.STARRED)?o.t("current channel, private, starred"):_===(n.PRIVATE|n.STARRED)?o.t("private, starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.STARRED)?o.t("current channel, has unread messages and notifications, starred"):_===(n.UNREADS|n.NOTIFICATIONS|n.STARRED)?o.t("has unread messages and notifications, starred"):_===(n.CURRENT|n.NOTIFICATIONS|n.STARRED)?o.t("current channel, has notifications, starred"):_===(n.NOTIFICATIONS|n.STARRED)?o.t("has notifications, starred"):_===(n.CURRENT|n.UNREADS|n.STARRED)?o.t("current channel, has unread messages, starred"):_===(n.UNREADS|n.STARRED)?o.t("has unread messages, starred"):_===(n.CURRENT|n.STARRED)?o.t("current channel, starred"):_===n.STARRED?o.t("starred"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages and notifications, private, not a member, muted"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages and notifications, private, not a member, muted"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has notifications, private, not a member, muted"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("has notifications, private, not a member, muted"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages, private, not a member, muted"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages, private, not a member, muted"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, private, not a member, muted"):_===(n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("private, not a member, muted"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages and notifications, not a member, muted"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages and notifications, not a member, muted"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has notifications, not a member, muted"):_===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("has notifications, not a member, muted"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages, not a member, muted"):_===(n.UNREADS|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages, not a member, muted"):_===(n.CURRENT|n.NOT_MEMBER|n.MUTED)?o.t("current channel, not a member, muted"):_===(n.NOT_MEMBER|n.MUTED)?o.t("not a member, muted"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("current channel, has unread messages and notifications, private, muted"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("has unread messages and notifications, private, muted"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("current channel, has notifications, private, muted"):_===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("has notifications, private, muted"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED)?o.t("current channel, has unread messages, private, muted"):_===(n.UNREADS|n.PRIVATE|n.MUTED)?o.t("has unread messages, private, muted"):_===(n.CURRENT|n.PRIVATE|n.MUTED)?o.t("current channel, private, muted"):_===(n.PRIVATE|n.MUTED)?o.t("private, muted"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED)?o.t("current channel, has unread messages and notifications, muted"):_===(n.UNREADS|n.NOTIFICATIONS|n.MUTED)?o.t("has unread messages and notifications, muted"):_===(n.CURRENT|n.NOTIFICATIONS|n.MUTED)?o.t("current channel, has notifications, muted"):_===(n.NOTIFICATIONS|n.MUTED)?o.t("has notifications, muted"):_===(n.CURRENT|n.UNREADS|n.MUTED)?o.t("current channel, has unread messages, muted"):_===(n.UNREADS|n.MUTED)?o.t("has unread messages, muted"):_===(n.CURRENT|n.MUTED)?o.t("current channel, muted"):_===n.MUTED?o.t("muted"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, has unread messages and notifications, private, not a member"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("has unread messages and notifications, private, not a member"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, has notifications, private, not a member"):_===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("has notifications, private, not a member"):_===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, has unread messages, private, not a member"):_===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER)?o.t("has unread messages, private, not a member"):_===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, private, not a member"):_===(n.PRIVATE|n.NOT_MEMBER)?o.t("private, not a member"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("current channel, has unread messages and notifications, not a member"):_===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("has unread messages and notifications, not a member"):_===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("current channel, has notifications, not a member"):_===(n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("has notifications, not a member"):_===(n.CURRENT|n.UNREADS|n.NOT_MEMBER)?o.t("current channel, has unread messages, not a member"):_===(n.UNREADS|n.NOT_MEMBER)?o.t("has unread messages, not a member"):_===(n.CURRENT|n.NOT_MEMBER)?o.t("current channel, not a member"):_===n.NOT_MEMBER?o.t("not a member"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE)?o.t("current channel, has unread messages and notifications, private"):_===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE)?o.t("has unread messages and notifications, private"):_===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE)?o.t("current channel, has notifications, private"):_===(n.NOTIFICATIONS|n.PRIVATE)?o.t("has notifications, private"):_===(n.CURRENT|n.UNREADS|n.PRIVATE)?o.t("current channel, has unread messages, private"):_===(n.UNREADS|n.PRIVATE)?o.t("has unread messages, private"):_===(n.CURRENT|n.PRIVATE)?o.t("current channel, private"):_===n.PRIVATE?o.t("private"):_===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS)?o.t("current channel, has unread messages and notifications"):_===(n.UNREADS|n.NOTIFICATIONS)?o.t("has unread messages and notifications"):_===(n.CURRENT|n.NOTIFICATIONS)?o.t("current channel, has notifications"):_===n.NOTIFICATIONS?o.t("has notifications"):_===(n.CURRENT|n.UNREADS)?o.t("current channel, has unread messages"):_===n.UNREADS?o.t("has unread messages"):_===n.CURRENT?o.t("current channel"):""})();return i&&!I&&!M?o.t("{channelName}, previously {previousChannelName}",{channelName:l,previousChannelName:i}):!i&&!I&&M?o.t("{channelName} ({context})",{channelName:l,context:M}):i&&!I&&M?o.t("{channelName}, previously {previousChannelName} ({context})",{channelName:l,previousChannelName:i,context:M}):!i&&I&&!M?o.t("{channelName}, {workspaceDescription}",{channelName:l,workspaceDescription:I}):i&&I&&!M?o.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:l,workspaceDescription:I,previousChannelName:i}):!i&&I&&M?o.t("{channelName}, {workspaceDescription} ({context})",{channelName:l,workspaceDescription:I,context:M}):i&&I&&M?o.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:l,workspaceDescription:I,previousChannelName:i,context:M}):l||""}h(c,"makeAriaLabelForChannel")},9893226229:(B,A,e)=>{"use strict";e.d(A,{e:()=>s,k:()=>o});var t=e(7499216588);const s={recent:t.D.RecentPlatform,"workflows-managed-by-you":t.D.BrowseWorkflowsManagedByYou,workflows:t.D.BrowseShortcuts,"all-workflows":t.D.BrowseShortcuts,templates:t.D.BrowseWorkflowTemplates,apps:t.D.BrowseApps};function o(n){return s[n]}h(o,"maybeGetAutomationsTab")},4819897123:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(5478938623);const s=new Set(["/apps","/services","/account","/admin","/customize","/pricing","/stats","/help","/plans","/checkout","/benefits","/interop","/file-window"]);function o(n,c,l,i){if(!n)return!1;let a=n;const r=(0,t.Zl)(c);n.startsWith(r)&&(a=a.slice(r.length-1));let d=a;d.startsWith("/")||(d=`/${d}`);const m=d.indexOf("/",1);m>-1&&(d=d.slice(0,m));const f=d.indexOf("?");return f>-1&&(d=d.slice(0,f)),s.has(d)?(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),(0,t.gC)(c,a,i),!0):!1}h(o,"maybeOpenAuthenticatedUrlInBrowser")},8988238938:(B,A,e)=>{"use strict";e.d(A,{Ey:()=>l,Hn:()=>i,gs:()=>a,mw:()=>d,nS:()=>r});var t=e(8665296019),s=e(6152244507),o;let n=!!(!(window==null||(o=window.performance)===null||o===void 0)&&o.memory);function c(){return n?window.performance.memory.jsHeapSizeLimit:null}h(c,"getMemoryLimit");function l(){return n?window.performance.memory.totalJSHeapSize:null}h(l,"getMemoryTotal");function i(){return n?window.performance.memory.usedJSHeapSize:null}h(i,"getMemoryUsed");function a(){return n}h(a,"supportsMemoryMeasurement");function r(f){const u=f/1e3/1e3;return`${u<100?u.toPrecision(3):Math.round(u)} MB`}h(r,"humanizeBytes");function d(f,u){const E=(0,t.A)(f,v=>{let{memory:g}=v;return g[u]||0});return Math.ceil((0,s.UK)(E))}h(d,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>n,set:f=>{n=f}}})},739275263:(B,A,e)=>{"use strict";e.d(A,{Pw:()=>d,bC:()=>i,wn:()=>r,zC:()=>a});var t=e(1703559452),s=e(1022424641),o=e(6027310924),n=e(2691514942),c=e(155282313);const l={};function i(m){let{channelId:f,functions:u,getInputInstance:E,threadTs:v,viewContext:g}=m;if(!E)throw new Error('Missing required "getInputInstance" param');const T=`${g}-${f}-${v}`;l[T]&&(0,n.Wo)().warn(`Registering duplicate input (key: "${T}")`);const p={clear:()=>{var O,y;return(O=E())===null||O===void 0||(y=O.clear)===null||y===void 0?void 0:y.call(O)},clearHistory:()=>{var O,y;return(O=E())===null||O===void 0||(y=O.clearHistory)===null||y===void 0?void 0:y.call(O)},focus:()=>{var O,y;return(O=E())===null||O===void 0||(y=O.focus)===null||y===void 0?void 0:y.call(O)},getLength:()=>{var O,y;return(O=E())===null||O===void 0||(y=O.getLength)===null||y===void 0?void 0:y.call(O)},getSelection:()=>{var O,y;return(O=E())===null||O===void 0||(y=O.getSelection)===null||y===void 0?void 0:y.call(O)},getText:()=>{var O,y;return(O=E())===null||O===void 0||(y=O.getText)===null||y===void 0?void 0:y.call(O)},hasFocus:()=>{var O,y;return!!(!((O=E())===null||O===void 0||(y=O.hasFocus)===null||y===void 0)&&y.call(O))},insertContentsAtCursor:function(){for(var O=arguments.length,y=new Array(O),C=0;C<O;C++)y[C]=arguments[C];var I,M;return(I=E())===null||I===void 0||(M=I.insertContentsAtCursor)===null||M===void 0?void 0:M.call(I,...y)},isEmpty:()=>{var O,y;return!!(!((O=E())===null||O===void 0||(y=O.isEmpty)===null||y===void 0)&&y.call(O))},isEnabled:()=>{var O,y;return!!(!((O=E())===null||O===void 0||(y=O.isEnabled)===null||y===void 0)&&y.call(O))},prependContents:O=>{var y,C;return(y=E())===null||y===void 0||(C=y.prependContents)===null||C===void 0?void 0:C.call(y,O)},setContents:function(){for(var O=arguments.length,y=new Array(O),C=0;C<O;C++)y[C]=arguments[C];var I,M;return(I=E())===null||I===void 0||(M=I.setContents)===null||M===void 0?void 0:M.call(I,...y)},setPlaceholder:O=>{var y,C;return(y=E())===null||y===void 0||(C=y.setPlaceholder)===null||C===void 0?void 0:C.call(y,O)},setText:O=>{var y,C;return(y=E())===null||y===void 0||(C=y.value)===null||C===void 0?void 0:C.call(y,O)}};return l[T]={...p,...u},()=>{delete l[T]}}h(i,"registerInputAuto");function a(m){let{viewContext:f,channelId:u,threadTs:E}=m;return l[`${f}-${u}-${E||void 0}`]}h(a,"getInputProxy");function r(m){if(!(0,o.A)(m))return;let f,u,E;if((0,c.A)(m,g=>{if(g!=null&&g.getAttribute("data-message-input")){var T;f=(T=g.getAttribute("data-channel-id"))!==null&&T!==void 0?T:void 0;var p;u=(p=g.getAttribute("data-thread-ts"))!==null&&p!==void 0?p:void 0;const O=g.getAttribute("data-view-context");return O&&(E=O),!0}return!1}))return a({viewContext:E,channelId:f,threadTs:u})}h(r,"getProxyForElement");function d(){let{channelId:m,threadTs:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const u=`${m}-${f}`,E=Object.keys(l);return(0,t.A)(E,v=>(0,s.A)(v,u))}h(d,"isInputRegistered")},3869489930:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(9113979368),s=e(3889517373);function o(n){return!n||(0,t.A)(n)?[]:n.map(l=>({hide_color:!0,blocks:[{type:s.WP.contact_card,contact_user_id:l.contact_user_id}]}))}h(o,"getFormattedContactCardAttachments")},1867892340:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3078252698),s=e(7391036153);function o(n){return(0,t.A)(n)?(0,s.A)((n||"").trim().toLowerCase()):""}h(o,"normalize")},182113039:(B,A,e)=>{"use strict";e.d(A,{R2:()=>v,bP:()=>g,ec:()=>C,fU:()=>y,p6:()=>_,qe:()=>I,x2:()=>b,yj:()=>P});var t=e(6858020025),s=e(3783303734),o=e(3659369705),n=e(2691514942),c=e(292027566),l=e(1244614944),i=e(7874250141),a=e(1242487384);const r="notification:sent",d="notification:received",m="notification:opened",f="notification:quick_reply",u="notification:read_in_app",E=100;function v(S){try{return JSON.stringify(S)}catch(N){return(0,n.Wo)().warn("encodeNotificationTracePassthrough json stringify error",N),""}}h(v,"encodeNotificationTracePassthrough");function g(S){try{const{traceId:N,parentSpanId:L}=JSON.parse(S);return{traceId:N,parentSpanId:L}}catch(N){return(0,n.Wo)().warn("decodeNotificationTracePassthrough json parse error",N),{traceId:"",parentSpanId:""}}}h(g,"decodeNotificationTracePassthrough");function T(S){let{tracer:N,name:L,parentSpanId:D,traceId:k}=S;return N.createSpan({name:L,samplingOptions:{sampleType:l.nl.ALWAYS},options:{parentSpanId:D,traceId:k}})}h(T,"createSpan");function p(S){let{tracer:N,name:L,parentSpanId:D,traceId:k}=S;const x=T({tracer:N,name:L,parentSpanId:D,traceId:k});return x.close(),x}h(p,"createAndCloseSpan");function O(S,N){let{tracer:L,message:D}=N;const k=p({tracer:L,name:r}),x=(0,o.y3)()?"desktop":"browser",R=(0,a.WR)(S),U=(0,i.ZT)(S),F=(0,t.A)(D==null?void 0:D.ts,".",""),W=D==null?void 0:D.channel,w=`${R}-${W}-${F}`;return k.addTags({platform:x,encoded_user_id:R,encoded_team_id:U,encoded_channel_id:W,message_ts:F,notification_id:w}),k}h(O,"createAndCloseNotificationSentSpan");function y(S,N){let{message:L}=N;if(!L||!(L!=null&&L.ts)||!(L!=null&&L.channel))return;const D=(0,c.E)({state:S});let k,x;const R=[];if((L==null?void 0:L.type)==="desktop_notification"&&(L!=null&&L.trace_ctx))k=L.trace_ctx["x-b3-traceid"],x=L.trace_ctx["x-b3-spanid"];else{const F=O(S,{tracer:D,message:L});R.push(F),x=F.getId(),k=F.getTraceId()}const U=p({name:d,tracer:D,traceId:k,parentSpanId:x});return R.push(U),D.reportSpans(R),{traceId:k,parentSpanId:x}}h(y,"traceNotificationSentAndReceived");function C(S,N){let{notificationTracePassthroughData:L}=N;if(!L)return;const{traceId:D,parentSpanId:k}=L,x=(0,c.E)({state:S}),R=p({tracer:x,traceId:D,parentSpanId:k,name:m});x.reportSpans([R])}h(C,"traceNotificationOpened");function I(S,N){let{notificationTracePassthroughData:L,clientMsgId:D}=N;if(!L||!D)return;const{traceId:k,parentSpanId:x}=L,R=(0,c.E)({state:S}),U=p({tracer:R,traceId:k,parentSpanId:x,name:f});U.addTags({reply_message_client_message_id:D}),R.reportSpans([U])}h(I,"traceNotificationQuickReply");let M={};function _(S){return!!M[S]}h(_,"messageHasPendingNotificationTrace");function P(S,N){let{timestamp:L,notificationTracePassthroughData:D}=N;if(!D)return;(0,s.A)(M)>E&&((0,n.Ay)({state:S}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),M={});const{traceId:k,parentSpanId:x}=D,R=(0,c.E)({state:S}),U=T({tracer:R,traceId:k,parentSpanId:x,name:u});M[L]=U}h(P,"openNotificationReadSpan");function b(S,N){let{timestamp:L}=N;if(!L)return;const D=M[L];if(!D)return;const k=(0,c.E)({state:S});D.close(),k.reportSpans([D]),delete M[L]}h(b,"closeAndReportNotificationReadSpan")},4204146482:(B,A,e)=>{"use strict";e.d(A,{Kk:()=>d,N_:()=>u,iu:()=>E,px:()=>a,rk:()=>r});var t=e(8786006583),s=e(2765598642),o=e(5221609289),n=e(2550549665),c=e(9963560),l=e(9715838838);function i(g){const{hostname:T,pathname:p,search:O}=g;if(!T||!p)return;const y=T.split("."),C=p.split("/").slice(1);if(!(0,l.A)(T)||C.length<2)return;const I=C[0];switch(I){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const M=y[0],_=(0,t.A)(O.split("?")),P=_&&(0,s.nT)(_);let b;return P&&P.thread_ts&&(b=P.thread_ts),{team:M,type:I,path:C,threadTs:b}}h(i,"parsePermalinkFromUrlObject");function a(g){return r((0,o.Ay)(g))}h(a,"getPermalinkIdentifier");function r(g){const T=i(g);if(!T)return;const{path:p}=T;return p?p&&p[1]:!1}h(r,"getPermalinkIdentifierFromUrlObject");function d(g){let{team:T,channelId:p,ts:O,threadTs:y}=g,C=p&&(0,c.Bn)({team:T,channelId:p,archive:!0});return p&&O&&(C+=`/p${O.replace(".","")}`),p&&O&&y&&y!==O&&(C+=`?thread_ts=${y}&cid=${p}`),C}h(d,"getXWSPermalink");function m(g){let{encodedSearchString:T}=g;return`/search/${T}`}h(m,"getSearchPermalink");function f(g,T){return`/archives/${g}/tabs/${T}`}h(f,"getChannelTabPermalink");function u(g){return`/create/channel/${(0,n.R)(g)?g:g.toLowerCase().replace("_solution","_template")}`}h(u,"getChannelTemplatePermalink");function E(g){let{channelId:T,ts:p,threadTs:O}=g,y="/archives";return T&&(y+=`/${T}`),T&&p&&(y+=`/p${p.replace(".","")}`),T&&p&&O&&O!==p&&(y+=`?thread_ts=${O}&cid=${T}`),y}h(E,"getPermalink");var v=null},4502442891:(B,A,e)=>{"use strict";e.d(A,{M:()=>c,W:()=>n});var t=e(9315975224),s=e(1492910739),o=e(9358202390);function n(l,i){const a={resources:[],frames:[],stacks:[],samples:[]},r=new Map,d=new Map,m=new Map;function f(T){if(m.has(T))return m.get(T);const p=a.resources.length;return a.resources.push(l.resources[T]),m.set(T,p),p}h(f,"mapResource");function u(T){if(d.has(T))return d.get(T);const p=l.frames[T],O=a.frames.length;return p.resourceId!=null?a.frames.push({...p,resourceId:f(p.resourceId)}):a.frames.push(p),d.set(T,O),O}h(u,"mapFrame");function E(T){if(r.has(T))return r.get(T);const p=l.stacks[T],O=p.parentId?E(p.parentId):void 0,y=u(p.frameId),C=a.stacks.length;return a.stacks.push(O!=null?{parentId:O,frameId:y}:{frameId:y}),r.set(T,C),C}h(E,"mapStack");function v(T){T.stackId==null?a.samples.push(T):a.samples.push({timestamp:T.timestamp,stackId:E(T.stackId)})}h(v,"addSample");let g=0;for(const{start:T,end:p}of i){for(;g<l.samples.length&&l.samples[g].timestamp<T;)g+=1;for(;g<l.samples.length&&l.samples[g].timestamp<=p;)v(l.samples[g]),g+=1}return a}h(n,"filterTrace");function c(){return!(0,s.b3)()&&(0,o._)("self_profiling","enabled")&&!(0,t.b)()}h(c,"isProfilingEnabled")},4962023056:(B,A,e)=>{"use strict";e.d(A,{F:()=>o});var t=e(1985486637),s=e(778055287);class o extends s.l{fetchData(){return t.S.resolve()}onCacheData(c){super.onCacheData(c);const l=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*l)}getStaleWhileRevalidate(c){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?c:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}h(o,"AutocompleteCache")},8434441814:(B,A,e)=>{"use strict";e.d(A,{S1:()=>E});var t=e(1985486637),s=e(5375489720),o=e(2129739577),n=e(4962023056),c=e(7188858884);const l=.014,i=.094,a=.148,r=.132,d=.179;class m extends n.F{fetchData(){return(0,s.Am)(this.teamId)?(0,c.Qw)(this.teamId,(0,o.yp)()).catch(g=>({exception:g})).then(g=>new f({topEmojis:g.top_emojis,topMpims:g.top_mpims,topChannels:g.top_channels,topUsers:g.top_users,emojiFeatures:g.emoji_features,mpimFeatures:g.mpim_features,channelFeatures:g.channel_features,userFeatures:g.user_features,mpimCtr:g.mpim_ctr,channelCtr:g.channel_ctr,userCtr:g.user_ctr,emojiCtr:g.emoji_ctr,otherCtr:g.other_ctr,defaultFeatureNames:g.default_features,topAppActions:g.top_app_actions,topGlobalActions:g.top_global_actions,topSlashCommands:g.top_slash_commands,topWorkflowTriggers:g.top_workflow_triggers,topChannelActions:g.top_channel_actions,appActionCtr:g.app_action_ctr,globalActionCtr:g.global_action_ctr,slashCommandCtr:g.slash_command_ctr,workflowTriggerCtr:g.workflow_trigger_ctr,channelActionCtr:g.channel_action_ctr,usersHasDmed:g.users_has_dmed,usersHasMpdmed:g.users_has_mpdmed,channelPriority28D:g.channel_priority_28d,channelPriority90D:g.channel_priority_90d,userAffinity:g.user_affinity})):t.S.resolve(new f)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new f)}constructor(g){super(),this.teamId=g}}h(m,"AutocompleteFeaturesCache");class f{getFeatures(g,T){const p=this.topEntities[T],O=this.featureNames[T]||this.featureNames.default,y=this.defaultEntityFeatures[T],C=p&&p[g];if(C&&O){const I={};for(let _=0;_<O.length;_++)I[O[_]]=C[_];const M={team_ctr_90dd:y.team_ctr_90dd,user_ctr_30dd:y.user_ctr_30dd};for(const _ of Object.keys(y))M[_]=I[_]||y[_];return M}return y}getEntityCtr(g){return this.entityCtr[g]||this.otherEntityCtr}getUserDmChannelMetadata(g){return this.usersHasDmed?this.usersHasDmed[g]:null}getUserMpdmChannelMetadata(g){return this.usersHasMpdmed?this.usersHasMpdmed[g]:null}getProcessedPriorityFeatures(){if(!this.priorityFeatures)return null;const{channelPriority28D:g,channelPriority90D:T,userAffinity:p,usersHasDmed:O}=this.priorityFeatures,y={topChannels28D:[],topChannels90D:[],topUsers:[],topUsersHasDmed:[]},C=h(I=>Object.entries(I).sort((M,_)=>{const P=M[1],b=_[1],S=typeof P=="number"?P:P.last_read_abs;return(typeof b=="number"?b:b.last_read_abs)-S}).slice(0,50).map(M=>M[0]),"processPriorityFeature");if(g){const I=C(g);y.topChannels28D=I}if(T){const I=C(T);y.topChannels90D=I}if(p){const I=C(p);y.topUsers=I}if(O){const I=C(O);y.topUsersHasDmed=I}return y}constructor({topEmojis:g,topMpims:T,topChannels:p,topUsers:O,emojiFeatures:y,mpimFeatures:C,channelFeatures:I,userFeatures:M,mpimCtr:_,channelCtr:P,userCtr:b,emojiCtr:S,otherCtr:N,defaultFeatureNames:L,topAppActions:D,topGlobalActions:k,topSlashCommands:x,topWorkflowTriggers:R,topChannelActions:U,appActionCtr:F,globalActionCtr:W,slashCommandCtr:w,workflowTriggerCtr:K,channelActionCtr:j,usersHasDmed:Q,usersHasMpdmed:J,channelPriority28D:z,channelPriority90D:ie,userAffinity:ee}={}){this.topEntities={emoji:g,mpim:T,channel:p,member:O,appAction:D,globalAction:k,slashCommand:x,workflowTrigger:R,channelAction:U},this.featureNames={emoji:y,mpim:C,channel:I,member:M,default:L},this.otherEntityCtr=N??d,this.entityCtr={mpim:_??l,channel:P??a,member:b??r,emoji:S??i,appAction:F??this.otherEntityCtr,globalAction:W??this.otherEntityCtr,slashCommand:w??this.otherEntityCtr,workflowTrigger:K??this.otherEntityCtr,channelAction:j??this.otherEntityCtr},this.defaultEntityFeatures={};for(const ne of Object.keys(this.entityCtr))this.defaultEntityFeatures[ne]={team_ctr_90dd:this.getEntityCtr(ne),user_ctr_30dd:this.getEntityCtr(ne)};this.usersHasDmed=Q,this.usersHasMpdmed=J,this.priorityFeatures={channelPriority28D:z,channelPriority90D:ie,userAffinity:ee,usersHasDmed:Q}}}h(f,"AutocompleteFeatures");const u={};function E(v){let{teamId:g,enterpriseId:T}=v;const p=T||g||"_default";return u[p]||(u[p]=new m(g)),u[p]}h(E,"getAutocompleteFeaturesCache")},7453670128:(B,A,e)=>{"use strict";e.d(A,{E:()=>i});var t=e(5605178122),s=e(4962023056),o=e(7188858884),n=e(4872684242);class c extends s.F{handleFileDeletion(r){if(this.cachedData&&this.cachedData.length>0){const d=this.cachedData.filter(m=>!(r!=null&&r.includes(m.id)));this.cachedData=d}}fetchData(){return(0,o.Qw)(this.teamId,(0,t.z)({reason:"fetch-search-autocomplete-top-engaged-files"})).then(r=>((0,o.Qw)(this.teamId,(0,n.b)({files:r.files})),r.files))}constructor(r,d){super(),this.teamId=r,this.timeoutMs=d}}h(c,"AutocompleteTopEngagedFilesCache");const l={};function i(a){let{teamId:r}=a;const d=r||"_default",m=36e5;return l[d]||(l[d]=new c(r,m)),l[d]}h(i,"getAutocompleteTopEngagedFilesCache")},6705809413:(B,A,e)=>{"use strict";e.d(A,{X:()=>c});var t=e(1083561444),s=e(7874250141);let o=h(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(i){const a=this.queryCache.has(i);return this.clearIfStale(),a}containsPrefixOf(i){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(i)}add(i){return this.clearIfStale(),this.queryCache.add(i)}addAsPrefix(i){return this.clearPrefixIfStale(),this.prefixQueryCache.add(i)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.A,this.prefixQueryCache=new t.A,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const n={};function c(l){const i=(0,s.ZT)(l),r=(0,s.jV)(l)||i||"";return n[r]||(n[r]=new o),n[r]}h(c,"getWorkflowTriggersAutocompleteQueryCache")},2219323483:(B,A,e)=>{"use strict";e.d(A,{M:()=>c});var t=e(5566149298),s=e(9963560),o=e(4527069385),n=e(1242487384);function c(l){let{state:i,mpim:a,matchData:r,equalizeMembersListToMatchData:d=!1}=l;const m=(0,n.WR)(i);let f=[];if((0,s.Ug)(a)){var u;f=((u=(0,s.Ug)(a))===null||u===void 0?void 0:u.filter(M=>m!==M))||[]}if(!r)return f;const E=!1,v=!1,g=[];r.forEach(M=>{M.map(P=>({name:(0,o.I)(i,P.id,E,v),...P})).sort((P,b)=>P.score<b.score?1:P.score>b.score?-1:(0,t.Ay)(P.name,b.name)).filter(P=>isFinite(P.score)).forEach(P=>{f.includes(P.id)&&(g.push(P.id),f.splice(f.indexOf(P.id),1))})});const T=f.map(M=>({id:M,name:(0,o.I)(i,M,E,v)})).sort((M,_)=>(0,t.Ay)(M.name,_.name)).map(M=>M.id),p=[...g,...T],O=r.length,y=p.length>O,C=d&&y,I=p.slice(0,p.length-(p.length-O));return C?I:p}h(c,"getMemberDisplayOrderForSearcherMPIM")},7355875187:(B,A,e)=>{"use strict";e.d(A,{B:()=>n});var t=e(5887324738),s=e(353071615),o=e(1641547755);function n(c,l,i){if((0,s.fy)(l))return(0,t.bl)(i);const a=(0,o.Ql)(c,i.id,l.id);return!!(a.isKnown&&a.isMember)}h(n,"isUserKnownToBeMemberOfChannel")},9747267467:(B,A,e)=>{"use strict";e.d(A,{t:()=>s});var t=e(4187033469);class s{score(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=0;const i=n.featureList.length;for(let a=0;a<i;a++)l+=this._weightForFeature(n.featureList[a],c.source||null)*((0,t.W0)(n.featureList[a])||0);return l}explain(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=c.source||null,i=n.featureList.map(d=>({id:d.id,name:d.name,value:d.valueOrNull,weight:this._weightForFeature(d,l),globalWeight:this._globalWeightForFeature(d),score:this._weightForFeature(d,l)*(0,t.W0)(d)})),a=i.filter(d=>d.score).sort((d,m)=>m.score-d.score),r=i.filter(d=>d.value&&!d.score&&d.name!=="ID");return{score:this.score(n,c),features:[...a,...r],remoteModel:this.isRemote}}_globalWeightForFeature(n){return this.weights[n.name]||0}_weightForFeature(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=0;n.name==="USER_IS_EXTERNAL"&&(l=-1);const i=this.weights[n.name]||0,r=c&&(c==="composer_page__destination"||c.startsWith("share"))?"WRITE":"READ",d=this.weights[`${r}_${n.name}`]||0;return i+d+l}constructor(n,c=!1){this.isRemote=c,this.weights=n}}h(s,"LinearModel")},6313737630:(B,A,e)=>{"use strict";e.d(A,{A:()=>H});var t=e(7715417323),s=e(5729325965),o=e(1703559452),n=e(4249070636),c=e(5238395322),l=e(8086952004),i=e(2003990933),a=e(9720146556),r=e(4967628800),d=e(1746021239),m=e(473690655),f=e(4378915552),u=e(7740451057),E=e(9671185422),v=e(9963560),g=e(8859166048),T=e(6928237551),p=e(5248257622),O=e(1336112848),y=e(9636620918);const C=h(X=>X&&(X.displayName||X.display_name||(0,y.Y)(X)),"getEmojiDisplayName"),I=h(X=>X?(X.aliases?[X,...X.aliases]:[X]).map(q=>({name:(0,y.Y)(q),displayName:C(q)})):null,"getAllEmojiNameObjects");var M=e(9323019934),_=e(7161162988),P=e(5209823364),b=e(353071615),S=e(5630795175),N=e(2562626421),L=e(8481954889),D=e(5478938623),k=e(1315591004),x=e(4518771352),R=e(2691514942),U=e(6191248486),F=e(3309105301),W=e(3473817600);const w={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"],rage:["transgender"]};var K=e(4923152936),j=e(2894483249),Q=e(3774500833);const J=h(X=>(X||"").split(/\s+/)[0],"getFirstWord"),z=h(X=>["/","\uFF0F"].includes((X||"").charAt(0))?X:`/${X}`,"prependSlashToStr"),ie=h(X=>((X||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace");var ee=e(7874250141),ne=e(7091481521),Z=e(3351247794),te=e(205540855),he=e(6766178921),ue=e(3666777625);const de=/\s+/g,re=/[-]+/g,V=new m.O(2e3);let H=h(class{filterMembers(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if((0,b.Zx)(Ee)||this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery){const pe={item:Ee,score:0,id:Ee.id};return this.selfFirst&&(0,b.fy)(Ee)&&(pe.isSelf=!0),ce.push(pe),ce}let Ae,le;this.options.matchBeyondWordBoundaries?{score:Ae,scoreDetails:le}=this.scoreMember(Ee,this.beyondWordBoundaryMatcher):{score:Ae,scoreDetails:le}=this.scoreMember(Ee);const oe={item:Ee,score:Ae,scoreDetails:le,id:Ee.id};!this.avoidExactMatchForMembers&&this.preferExactMatch&&(oe.isExactMatch=this.isMemberExactMatch(Ee),oe.exactMatchDetails=this.getMemberExactMatchDetails(Ee)),this.selfFirst&&(0,b.fy)(Ee)&&(oe.isSelf=!0);const me=this.options.matchBeyondWordBoundaries?this.beyondWordBoundaryFuzzyLimit:this.fuzzyLimit;return Ae<=me&&ce.push(oe),ce},[])}scoreMember(Y){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const fe=1/0,ce={};if(this.queryIsMaybeSelf&&(0,b.fy)(Y))ce.self_score=0;else{const oe=(0,S.j_)(Y),me=(0,S.sJ)(Y);ce.real_name=oe?q.score(oe):fe,ce.display_name=me?q.score(me):fe}if(this.shouldMatchEmail){const oe=(0,S.ZL)(Y);ce.email=oe?this.forwardOnlyMatcher.score(oe):1/0}var Ee;const Ae=(Ee=(0,s.A)(Object.values(ce)))!==null&&Ee!==void 0?Ee:fe,le=Object.entries(ce).reduce((oe,me)=>{let[pe,Te]=me;return isFinite(Te)&&(oe[pe]=Te),oe},{});return{score:Ae,scoreDetails:le}}filterChannels(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if((0,g.cb)(Ee)||(0,g.Zx)(Ee)||(0,O.jT)(Ee)||this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=(0,r.B)((0,T.SB)(Y,Ee,{publicChannelIncludeHashSign:!1}));let le;this.options.matchBeyondWordBoundaries?le=this.beyondWordBoundaryMatcher.score(Ae):le=this.matcher.score(Ae);const oe={item:Ee,score:le,id:Ee.id};this.preferExactMatch&&(oe.isExactMatch=this.isChannelExactMatchPreNormalized(Ae));const me=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,pe=Ee.previous_names&&Ee.previous_names.length;let Te=!1;if(me&&pe){var Me;const xe=Ee==null||(Me=Ee.previous_names)===null||Me===void 0?void 0:Me.map(ke=>({score:this.matcher.normalizeAndScore(ke),name:ke}));oe.previousNameScores=xe,Te=(0,o.A)(xe,ke=>ke.score<=this.fuzzyLimit);const Ne=Te&&le>this.fuzzyLimit;let be;if(Ne){const ke=(0,n.A)(xe,"score");be=ke&&ke.name}oe.bestPreviousNameMatch=be}const Ue=this.options.matchBeyondWordBoundaries?this.beyondWordBoundaryFuzzyLimit:this.fuzzyLimit;return le<=Ue||Te?ce.push(oe):this.rawQuery===Ee.id&&ce.push({item:Ee,score:0,id:Ee.id}),ce},[])}filterTeams(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if((0,D.Zx)(Ee)||this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.matcher.normalizeAndScore((0,D.F1)(Ee)),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isTeamExactMatch(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}filterUserGroups(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if((0,k.Zx)(Ee)||this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.scoreUserGroupName(Ee),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isUsergroupExactMatch(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}scoreUserGroupName(Y){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,fe=1/0,ce=1/0;const Ee=(0,k.TZ)(Y)||(0,k.ue)(Y).toLocaleLowerCase(),Ae=(0,k.x_)(Y,{includeAtSign:!1});return fe=q.normalizeAndScore(Ee),Ae&&(ce=q.normalizeAndScore(Ae)),Math.min(fe,ce)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(q=>!!q).map(q=>{const fe=q.charAt(0)==="@"?q.substring(1):q;return new a.A(fe,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ce=(0,F.h)(Y),Ee=(0,U.z)(Y);return q.reduce((Ae,le)=>{if(this.shouldFilterItem(le,fe))return Ae;if(!this.query&&this.allowEmptyQuery)return Ae.push({item:le,score:0,id:le.id}),Ae;const oe=(0,v.cU)(le);if((ce||Ee)&&oe){const Ke=(0,r.B)(oe),$=this.matcher.score(Ke),ae={item:le,score:$,id:le.id};if(this.preferExactMatch&&(ae.isExactMatch=this.isChannelExactMatchPreNormalized(Ke)),$<=this.fuzzyLimit)return Ae.push(ae),Ae}const me=(0,v.Ug)(le);if(!me)return Ae;const pe=me.map(Ke=>(0,he.nv)(Y,Ke)).filter(Ke=>!(0,b.fy)(Ke)&&!(0,b.Zx)(Ke)),Te={},Me={},Ue=[];let xe=0;const Ne=this.getSubQueryMatchers();for(const Ke of Ne){const $=[];let ae=1/0;for(const Ge of pe){const{score:nt,scoreDetails:at}=this.scoreMember(Ge,Ke),Ve=Te==null?void 0:Te[Ge.id];nt<(Ve!==void 0?Ve:1/0)&&(Te[Ge.id]=nt,Me[Ge.id]={score_details:at}),$.push({id:Ge.id,score:nt}),nt<ae&&(ae=nt)}Ue.push($),xe+=ae}let be;isFinite(xe)?be=(0,c.A)(Object.values(Te).filter(isFinite)):be=xe;const ke={id:le.id,item:le,score:be,scoreDetailsByMember:Me,subqueryScoresByMember:Ue};return be<=this.fuzzyLimit?Ae.push(ke):this.rawQuery===le.id&&Ae.push({item:le,score:0,id:le.id}),Ae},[])}filterIms(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if(this.shouldFilterItem(Ee,fe))return ce;const Ae=(0,p.e)(Ee);if(!Ae)return ce;const le=(0,he.nv)(Y,Ae);if((0,b.Zx)(le))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const{score:oe,scoreDetails:me}=this.scoreMember(le),pe={item:Ee,score:oe,scoreDetails:me,id:Ee.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(pe.isExactMatch=this.isMemberExactMatch(le),pe.exactMatchDetails=this.getMemberExactMatchDetails(le)),oe<=this.fuzzyLimit?ce.push(pe):this.rawQuery===Ee.id&&ce.push({item:Ee,score:0,id:Ee.id}),ce},[])}filterViews(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if(this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.matcher.normalizeAndScore(Ee.name),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isViewOrModalExact(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}filterModals(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if(this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.matcher.normalizeAndScore(Ee.name),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isViewOrModalExact(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}filterAppActions(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if((0,f.GU)(Ee)||this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=(0,u.u)(Ee),le=(0,ne.sO)(Y,Ee.app_id),oe=!(0,f.GU)(le)&&(0,E.fj)(le),me=oe?[`${Ae} ${oe}`,`${oe} ${Ae}`]:[Ae],pe=me.map(Ue=>this.matcher.normalizeAndScore(Ue)),Te=Math.min(...pe),Me={item:Ee,score:Te,id:Ee.id};return this.preferExactMatch&&(Me.isExactMatch=!!(this.query&&me.map(r.B).includes(this.query))),Te<=this.fuzzyLimit&&ce.push(Me),ce},[])}filterApps(Y,q,fe,ce){let Ee=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.A;const Ae={};return q!=null&&q.length&&q.forEach(le=>{const oe=le.app_id;oe&&!Ae[oe]&&(Ae[oe]={id:oe,name:le.appName})}),fe!=null&&fe.length&&fe.forEach(le=>{const oe=le==null?void 0:le.appId;oe&&!Ae[oe]&&(Ae[oe]={id:oe,name:le==null?void 0:le.appName})}),ce!=null&&ce.length&&ce.forEach(le=>{const oe=le.appId;oe&&!Ae[oe]&&(Ae[oe]={id:oe,name:le.appName})}),this.filterShortcuts(Y,Object.values(Ae),!1,Ee)}filterShortcuts(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.A;return q.reduce((Ee,Ae)=>{if((0,f.GU)(Ae)||this.shouldFilterItem(Ae,ce))return Ee;if(!this.query&&this.allowEmptyQuery)return Ee.push({item:Ae,score:0,id:Ae.id}),Ee;const{score:le,scoreDetails:oe,bestNameMatch:me,bestNameIsExactMatch:pe}=this.scoreShortcut(Ae,fe),Te={item:Ae,id:Ae.id,score:le};if(fe){Te.firstWordOfRawQuery=J(this.query);const Me=(0,Q.A)(Ae,z(Te.firstWordOfRawQuery),{allowPartialMatches:!1});Te.commandMatch=Me&&this.isOpenedWithSlash,Te.isExactMatch=Te.commandMatch}return Te.scoreDetails=oe,Te.bestNameMatch=me,Te.bestNameIsExactMatch=pe,Te.isExactMatch=Te.isExactMatch||pe,(le<=this.fuzzyLimit||Te.commandMatch)&&Ee.push(Te),Ee},[])}scoreShortcut(Y){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ce=this.isQueryExactlySlash?[]:Y.aliases||[];let Ee=(0,r.B)((0,L.fK)(Y));const Ae={name:fe.score(Ee),label:fe.normalizeAndScore(Y.label),desc:fe.normalizeAndScore((0,L.Hv)(Y)),app_name:fe.normalizeAndScore((0,L.qA)(Y))};q&&Ae.name!==void 0&&Ae.name>0&&(Ae.name-=1);let le,oe,me;ce.forEach(Ue=>{let xe=(0,r.B)(Ue);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(xe=(0,K.O)(xe));const Ne=fe.score(xe);xe=(0,K.O)(xe),!me&&(le===void 0||Ne<le)&&(le=Ne,oe=xe),this.normalizedQuery===xe&&(me=!0,oe=xe)}),le!==void 0&&isFinite(le)&&(Ae.aliases=le);var pe;const Te=(pe=(0,s.A)(Object.values(Ae)))!==null&&pe!==void 0?pe:1/0;Ee=(0,K.O)(Ee),!me&&isFinite(Ae.name)&&(le===void 0||Ae.name<le)&&(oe=Ee),this.normalizedQuery===Ee&&(me=!0,oe=Ee);const Me=Object.entries(Ae).reduce((Ue,xe)=>{let[Ne,be]=xe;return isFinite(be)&&(Ue[Ne]=be),Ue},{});return{score:Te,scoreDetails:Me,bestNameMatch:oe,bestNameIsExactMatch:me}}filterWorkflowTriggers(Y,q){const fe=(0,d.y)(Y);return q.reduce((ce,Ee)=>{if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.scoreWorkflowTrigger(Ee,this.matcher,fe),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isTriggerExactMatch(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}scoreWorkflowTrigger(Y){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var ce;const Ee={name:q.normalizeAndScore(Y.name),description:q.normalizeAndScore(Y.description),appName:q.normalizeAndScore((ce=Y.workflow.app)===null||ce===void 0?void 0:ce.name),...fe?{shareUrl:q.normalizeAndScore(Y.share_url)}:{}};var Ae;return(Ae=(0,s.A)(Object.values(Ee)))!==null&&Ae!==void 0?Ae:1/0}filterBroadcastKeywords(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if(this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.scoreBroadcastKeyword(Ee),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isBroadcastKeywordExactMatch(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}scoreBroadcastKeyword(Y){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,fe=1/0,ce=1/0;const Ee=q.normalizeAndScore(Y.name);return Y.id==="BKchannel"&&(fe=q.normalizeAndScore("group")),Y.ms_name!==Y.name&&(ce=q.normalizeAndScore(Y.ms_name)),Math.min(Ee,ce,fe)}filterEmoji(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ce=(0,te._Z)(Y,"fe_search_emoji_allow_list")==="treatment",Ee=[];return q.forEach(Ae=>{if(this.shouldFilterItem(Ae,fe))return;if(!this.query&&this.allowEmptyQuery){var le;Ee.push({item:Ae,emojiScore:0,emojiMatchIndices:[],score:0,id:(le=Ae.id)!==null&&le!==void 0?le:Ae.name});return}var oe;const me=(oe=I(Ae))!==null&&oe!==void 0?oe:[];let pe=1/0,Te,Me,Ue,xe,Ne,be;me.forEach(nt=>{let{name:at,displayName:Ve}=nt;if(at){const Se=(0,r.B)(at),Pe=this.scoreEmojiName(Se,ce);(Pe.score<pe||pe===1/0)&&(pe=Pe.score,Te=Pe.matchIndices,Me=at,Ue=at,Ne=Pe.queryLengthRatio,be=Pe.totalComboBreaks,xe=this.query===Se||at==="ok_hand"&&this.query==="ok")}if(Ve&&Ve!==at){const Se=(0,r.B)(Ve),Pe=this.scoreEmojiName(Se,ce);(Pe.score<pe||pe===1/0)&&(pe=Pe.score,Te=Pe.matchIndices,Me=Ve,Ue=at,Ne=Pe.queryLengthRatio,be=Pe.totalComboBreaks,xe=this.query===Se)}});const ke=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,Ke=Ae.keywords,$=!!(Ke&&Ke.length&&Array.isArray(Ke));Ke&&Ke.length&&!Array.isArray(Ke)&&(0,R.Ay)({state:Y}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${Ae.name} is not an array - ${Ae.keywords}`);let ae=!1;if(pe===1/0&&ke&&$&&(ae=Ae.keywords.some(nt=>this.matcher.normalizeAndScore(nt)<1/0),ae&&(Me=Ae&&(Ae.displayName||Ae.name))),pe!==1/0||ae){const nt=(0,l.A)(me,Se=>{let{name:Pe}=Se;return Pe===Ue}),at=nt&&nt.displayName;var Ge;const Ve={item:Ae,score:pe,emojiScore:pe,emojiBestNameMatch:Me,emojiBestNameMatchCanonical:Ue,emojiBestNameMatchLocalized:at,emojiMatchIndices:Te,emojiQueryLengthRatio:Ne,emojiTotalComboBreaks:be,id:(Ge=Ae.id)!==null&&Ge!==void 0?Ge:Ae.name};this.preferExactMatch&&(Ve.isExactMatch=xe,Ve.isEmojiExactMatch=xe),Ee.push(Ve)}}),Ee}scoreEmojiName(Y){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const fe={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!Y)return fe;if(Y==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};const ce=w[this.query];if(ce&&(q?ce.some(Ne=>Y===Ne||Y.includes(Ne)):ce.includes(Y)))return fe;const Ee=this.query.length,Ae=[];let le=2,oe=5;Ee<3?(le=0,oe=0):Ee===3?(le=1,oe=1):Ee===4&&(le=1);let me=1/0,pe=0,Te=null,Me=Y.indexOf(this.query);if(Me===-1&&(Me=Y.indexOf(this.query[0])),Me!==-1){let xe=Y,Ne=this.query;if(this.options.optimizeEmojiRegexWork)if(Ne=this.modifiedQueryForEmojiMatching,V.has(Y)){var Ue;xe=(Ue=V.get(Y))!==null&&Ue!==void 0?Ue:Y}else xe=Y.replace(re,"_"),V.set(Y,xe);else Ne=this.query.replace(de,"").replace(re,"_"),xe=Y.replace(re,"_");const be=Ne.split("");Te=0;let ke=0,Ke=0,$=!0;for(let ae=Me;ae<xe.length;ae++){if(xe[ae]===be[0]){if($=!0,Ae.push(ae),be.shift(),Ke>ke&&(ke=Ke),Ke=0,be.length===0)break}else $&&(Te+=1),$=!1,Ke+=1;if(Te>le)return{score:me,matchIndices:Ae,queryLengthRatio:pe,totalComboBreaks:Te};if(Ke>oe)return{score:me,matchIndices:Ae,queryLengthRatio:pe,totalComboBreaks:Te}}if(be.length>0)return fe;pe=Ne.length/xe.length,me=1-pe,Te>0&&(me+=Te)}return{score:me,matchIndices:Ae,queryLengthRatio:pe,totalComboBreaks:Te}}filterFiles(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ce=(0,N.hq)(Y),Ee=(0,ee.Kc)(Y),Ae=(0,ue._J)(Y,Ee),le=(0,P.k)(Y),oe=Ae&&(0,D.qR)(Ae),me=!le&&!oe,pe=(0,te._Z)(Y,"native_dlp_canvas")==="on";return q.reduce((Te,Me)=>{var Ue,xe;if((0,f.GU)(Me)||(0,M.sR)(Me))return Te;const Ne=(Ue=this.options)===null||Ue===void 0||(xe=Ue.entities)===null||xe===void 0?void 0:xe.files,be=!!(Ne!=null&&Ne.includeChannelCanvases)||!!(Ne!=null&&Ne.onlyChannelCanvases);if(Me&&(0,M.aD)(Me)&&!be)return Te;const ke=Me&&(0,M.CA)(Me),Ke=Me==null?void 0:Me.user_team,$=Ke?(0,ue._J)(Y,Ke):null;var ae;const nt=((ae=(0,D.Ss)($??void 0))!==null&&ae!==void 0?ae:Ke)!==Ee;if(ke&&(nt||me)||pe&&(0,M.Sp)(Me)||Me&&ce&&(Ne!=null&&Ne.onlyChannelCanvases||me)&&(0,M.wL)(Me)||this.shouldFilterItem(Me,fe))return Te;if(!this.query&&this.allowEmptyQuery)return Te.push({item:Me,score:0,id:Me.id}),Te;const at=this.scoreFile(Y,Me),Ve={item:Me,score:at,id:Me.id};return this.preferExactMatch&&(Ve.isExactMatch=this.isFileExactMatch(Me)),at<=this.fuzzyLimit&&Te.push(Ve),Te},[])}scoreFile(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ce=q.name?fe.normalizeAndScore(q.name):1/0,Ee=q.title&&q.name!==q.title?fe.normalizeAndScore(q.title):1/0,Ae=q.external_url&&this.queryHasLink?fe.normalizeAndScore(q.external_url):1/0,le=q.permalink&&this.queryHasLink?fe.normalizeAndScore(q.permalink):1/0;let oe=1/0;if((0,M.aD)(q)){const me=(0,_.Iz)(q),pe=(0,Z.OL)(Y,me);if(pe){const Te=(0,r.B)((0,T.SB)(Y,pe,{publicChannelIncludeHashSign:!1}));oe=this.matcher.score(Te)}}return Math.min(ce,Ee,Ae,le,oe)}filterLists(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if(this.shouldFilterItem(Ee,fe))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.scoreList(Ee),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isListExactMatch(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}scoreList(Y){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(Y.title)}filterListRecords(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if(this.shouldFilterItem(Ee,fe)||!Ee.name||!Ee.listTitle)return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const Ae=this.scoreListRecord(Ee),le={item:Ee,score:Ae,id:Ee.id};return this.preferExactMatch&&(le.isExactMatch=this.isListRecordExactMatch(Ee)),Ae<=this.fuzzyLimit&&ce.push(le),ce},[])}scoreListRecord(Y){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(Y.name)}filterChannelSections(Y,q){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((ce,Ee)=>{if(this.shouldFilterItem(Ee,fe))return ce;const Ae=(0,x.v2)(Y,Ee),le=this.matcher.normalizeAndScore(Ae),oe={item:Ee,score:le,id:Ee.id};return!this.query&&this.allowEmptyQuery?(ce.push(oe),ce):(le<=this.fuzzyLimit&&ce.push(oe),ce)},[])}shouldFilterItem(Y,q){return q(Y)===!1||this.filter(Y)===!1}getMemberExactMatchDetails(Y){const q={},fe=(0,S.j_)(Y),ce=(0,S.sJ)(Y);return q.real_name=fe===this.query,q.display_name=ce===this.query,this.shouldMatchEmail&&(q.email=(0,S.ZL)(Y)===this.query),q}isMemberExactMatch(Y){return!this.query||!this.query.length?!1:(0,o.A)(this.getMemberExactMatchDetails(Y),Boolean)}isChannelExactMatchPreNormalized(Y){return!this.query||!this.query.length?!1:Y===this.query}isFileExactMatch(Y){if(!this.query||!this.query.length)return!1;var q,fe;return(0,r.B)(Y.name)===this.query||(0,r.B)(Y.title)===this.query||(0,r.B)((q=Y.external_url)!==null&&q!==void 0?q:void 0)===this.query||(0,r.B)((fe=Y.permalink)!==null&&fe!==void 0?fe:void 0)===this.query}isListExactMatch(Y){return!this.query||!this.query.length?!1:(0,r.B)(Y.title)===this.query}isListRecordExactMatch(Y){return!this.query||!this.query.length?!1:(0,r.B)(Y.name)===this.query}isTeamExactMatch(Y){return!this.query||!this.query.length?!1:(0,r.B)((0,D.F1)(Y))===this.query}isUsergroupExactMatch(Y){return!this.query||!this.query.length?!1:(0,r.B)((0,k.x_)(Y))===this.query||(0,r.B)((0,k.ue)(Y))===this.query}isTriggerExactMatch(Y){return!this.query||!this.query.length?!1:(0,r.B)(Y.name)===this.query}isBroadcastKeywordExactMatch(Y){return!this.query||!this.query.length?!1:(0,r.B)(Y.name)===this.query||(0,r.B)(Y.ms_name)===this.query}isViewOrModalExact(Y){return!this.query||!this.query.length?!1:(0,r.B)(Y.name)===this.query}filterHelpArticles(Y,q){const ce=q.reduce((Ee,Ae)=>{const le=(0,r.B)(Ae.title),oe=this.substringMatcher.normalizeAndScore(Ae.title);return oe>this.fuzzyLimit?Ee:Ee.concat({item:{...Ae,id:String(Ae.id)},score:oe,isExactMatch:le===this.query,id:String(Ae.id)})},[]).sort((Ee,Ae)=>Ee.score-Ae.score);return ce.slice(0,Math.min(5,ce.length))}filterSalesListViews(Y,q){return q.reduce((ce,Ee)=>{const Ae=Ee.label;if(!Ae)return ce;const le=(0,r.B)(Ae),oe=this.substringMatcher.normalizeAndScore(le);if(oe>this.fuzzyLimit)return ce;const me=Ee.id;return ce.concat({item:{...Ee,id:me,name:Ae},score:oe,isExactMatch:le===this.query,id:me})},[])}constructor({query:Y="",options:q={entities:{}}}){var fe,ce,Ee,Ae,le,oe,me,pe,Te,Me,Ue,xe,Ne,be;this.options=q,this.rawQuery=Y,this.query=(0,r.B)(Y);var ke;this.fuzzyLimit=(ke=this.options.fuzzyLimit)!==null&&ke!==void 0?ke:3;var Ke;this.beyondWordBoundaryFuzzyLimit=(Ke=this.options.beyondWordBoundaryFuzzyLimit)!==null&&Ke!==void 0?Ke:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((fe=this.options)===null||fe===void 0||(ce=fe.sort)===null||ce===void 0)&&ce.avoidExactMatchForMembers),this.selfFirst=!!(!((Ee=this.options)===null||Ee===void 0||(Ae=Ee.sort)===null||Ae===void 0)&&Ae.selfFirst),this.filter=this.options.filter||t.A,this.modifiedQueryForEmojiMatching=q!=null&&q.optimizeEmojiRegexWork&&(!(q==null||(le=q.entities)===null||le===void 0)&&le.emoji)?this.query.replace(de,"").replace(re,"_"):this.query,this.shouldMatchEmail=(0,i.A)(this.options,"entities.members.matchEmailField")||(0,i.A)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=(0,j.t)(Y),this.queryHasLink=(0,W.A)({input:this.query}).length>0,this.normalizedQuery=this.query,!((oe=this.options)===null||oe===void 0||(me=oe.entities)===null||me===void 0||(pe=me.shortcuts)===null||pe===void 0)&&pe.queryStartsWithSlash&&(this.query=z(this.query)),this.matcher=new a.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.beyondWordBoundaryMatcher=new a.A(this.query,{fuzzyLimit:this.beyondWordBoundaryFuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,matchBeyondWordBoundaries:this.options.matchBeyondWordBoundaries}),this.forwardOnlyMatcher=new a.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new a.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((Te=this.options)===null||Te===void 0||(Me=Te.entities)===null||Me===void 0||(Ue=Me.shortcuts)===null||Ue===void 0)&&Ue.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((xe=this.options)===null||xe===void 0||(Ne=xe.entities)===null||Ne===void 0||(be=Ne.shortcuts)===null||be===void 0)&&be.isQueryExactlySlash)}},"SearcherMatcher")},8083634208:(B,A,e)=>{"use strict";e.d(A,{A:()=>P});var t=e(3367239067),s=e(1703559452),o=e(7264301376),n=e(129753175),c=e(5566149298),l=e(9963560),i=e(8859166048),a=e(6928237551),r=e(1240477450),d=e(5887324738),m=e(353071615),f=e(5630795175),u=e(9819891010),E=e(5478938623),v=e(7411813784),g=e(3134986613),T=e(7355875187),p=e(473690655);const O=new p.O(1e3);class y{preprocessText(S,N){if(typeof S!="string")throw new TypeError("Input text must be a string.");let L=S.replace(/\s+?/g,"").toLowerCase();return N&&(L=L.replace(/[-_]/g,"")),Array.from(L)}extractNGrams(S){if(!Array.isArray(S)||S.some(x=>typeof x!="string"))throw new TypeError("textChars must be an array of strings.");const N=new Map,L=S.length,[D,k]=this.ngramRange;for(let x=D;x<=k;x++)for(let R=0;R<=L-x;R++){const U=S.slice(R,R+x).join(""),F=R+1,W=N.get(U)||[];W.push(F),N.set(U,W)}return N}computeTermFrequencies(S){const N=new Map;return S.forEach((L,D)=>{const k=L.reduce((x,R)=>x+1/R,0);N.set(D,k)}),N}cosineSimilarity(S,N){if(!(S instanceof Map)||!(N instanceof Map))throw new TypeError("tfQuery and tfCandidate must be Map instances.");const L=new Set([...S.keys(),...N.keys()]);let D=0,k=0,x=0;return L.forEach(U=>{const F=S.get(U)||0,W=N.get(U)||0;D+=F*W,k+=F*F,x+=W*W}),k===0||x===0?0:D/(Math.sqrt(k)*Math.sqrt(x))}computeSimilarity(S,N){if(typeof S!="string"||typeof N!="string")return 0;const D=/[-_]/.test(S);let k,x;if(this.optimizeNGramWork){if(O.has(S))k=O.get(S);else{const R=this.preprocessText(S,!1),U=this.extractNGrams(R);k=this.computeTermFrequencies(U),O.set(S,k)}if(O.has(N))x=O.get(N);else{const R=this.preprocessText(N,!D),U=this.extractNGrams(R);x=this.computeTermFrequencies(U),O.set(N,x)}}else{const R=this.preprocessText(S,!1),U=this.preprocessText(N,!D),F=this.extractNGrams(R),W=this.extractNGrams(U);k=this.computeTermFrequencies(F),x=this.computeTermFrequencies(W)}return!k||!x?0:this.cosineSimilarity(k,x)}get testHooks(){return{ngramRange:this.ngramRange,computeSimilarity:this.computeSimilarity,preprocessText:this.preprocessText,extractNGrams:this.extractNGrams,computeTermFrequencies:this.computeTermFrequencies,cosineSimilarity:this.cosineSimilarity}}constructor(S=[2,3],N=!1){if(!Array.isArray(S)||S.length!==2||typeof S[0]!="number"||typeof S[1]!="number"||S[0]>S[1]||S[0]<1)throw new Error("ngramRange must be an array of two numbers where minN >= 1 and minN <= maxN.");this.ngramRange=S,this.optimizeNGramWork=N}}h(y,"PositionAwareFuzzyMatcher");var C=e(1242487384),I=e(3351247794),M=e(6766178921);const _={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let P=h(class{sort(S,N){var L;const D=(0,v.Cy)({state:S});D.mark("modern-searcher-sorting-mark");const{members:k,channels:x,mpims:R,ims:U,teams:F,userGroups:W,emoji:w,broadcastKeywords:K,views:j,modals:Q,appActions:J,channelSections:z,emails:ie,files:ee,lists:ne,listRecords:Z,slashCommands:te,slackGlobalActions:he,quipShortcutCommands:ue,canvasAiSuggestions:de,channelActions:re,fakeGlobalActions:V,callActions:H,apps:X,helpArticles:Y,workflowTriggers:q,salesListViews:fe}=N,ce={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};x&&x.reduce((pe,Te)=>(0,r.F)(Te.item)?(pe.archivedChannels.push(Te),pe):((0,d.bl)(Te.item)?pe.memberChannels.push(Te):pe.nonmemberChannels.push(Te),pe),ce);let Ee=[...k||[],...ce.memberChannels,...R||[],...U||[],...w||[],...W||[],...K||[],...j||[],...Q||[],...J||[],...z||[],...ie||[],...ee||[],...ne||[],...Z||[],...H||[],...re||[],...V||[],...X||[],...Y||[],...q||[],...fe||[]],Ae=[...ce.nonmemberChannels,...F||[],...te||[],...he||[],...ue||[],...de||[]],le=ce.archivedChannels;const oe=this.getSortFuzzyFunction(S,{localeAware:!0});this.options.flat||(Ee=this.precomputeMatchNames(S,Ee).sort(oe),Ae=this.precomputeMatchNames(S,Ae).sort(oe),le=this.precomputeMatchNames(S,le).sort(oe));let me=[...Ee,...Ae,...le];return this.options.flat&&me.sort(oe),this.options.preferExactMatch&&(me=[...(0,t.A)(me,Te=>Te.isExactMatch),...me]),this.options.frecency&&(this.options.normalize=!0,D.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?me=(0,g.jW)(S,{query:this.query,list:me,bonusPoints:this.getFrecencyBonusPointsFunction(S)}):me=(0,g.Zh)(S,{query:this.query,list:me,bonusPoints:this.getFrecencyBonusPointsFunction(S)}),D.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((L=me[0])===null||L===void 0)&&L.isSelf)&&(me=[...(0,t.A)(me,Te=>Te.isSelf),...me]),D.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),me}precomputeMatchNames(S,N){return N.map(L=>({...L,name:this.getNameForComparison(S,L)}))}getSortFuzzyFunction(S,N){let{localeAware:L}=N;return(D,k)=>{if((0,i.yz)(D.item)&&!(0,i.yz)(k.item))return 1;if((0,i.yz)(k.item)&&!(0,i.yz)(D.item)||(0,i.LI)(D.item)&&!(0,i.LI)(k.item))return-1;if((0,i.LI)(k.item)&&!(0,i.LI)(D.item))return 1;if(!(0,i.yz)(D.item)&&!(0,i.yz)(k.item)){const K=D.score-k.score;if(K!==0)return K}if((0,i.yz)(D.item)&&(0,i.yz)(k.item)){const K=D.score-k.score;if(K!==0)return K;var x,R;const j=((x=(0,l.N4)(D.item))!==null&&x!==void 0?x:0)-((R=(0,l.N4)(k.item))!==null&&R!==void 0?R:0);if(j!==0)return j}var U;const F=(U=D.name)!==null&&U!==void 0?U:"";var W;const w=(W=k.name)!==null&&W!==void 0?W:"";return L?(0,c.Ay)(F,w):F>w?1:w>F?-1:0}}getFrecencyBonusPointsFunction(S){return N=>{var L,D;const{item:k}=N,x={};if((0,i.yz)(k)){if(x.isMpim=0,this.options.preferMpimsWithActiveMembers){const R=(0,l.Ug)(k);if(!R)return x;const U=R.map(F=>(0,M.nv)(S,F));(0,s.A)(U,F=>(0,m.oy)(F)||(0,m.eJ)(F))&&(x.isMpimWithDeactivatedMember=_.mpimWithDeactivatedMember)}return x}if(N.isExactMatch?(x.isExactMatch=_.exactMatch,N.isEmojiExactMatch&&(x.isEmojiExactMatch=_.exactMatch)):N.emojiScore?x.emojiScoreBonus=this.calculateContinuousFuzzyBonusPoints(N,_.emojiMatch):(0,r.F)(k)||(0,m.oy)(k)||(0,m.eJ)(k)||(x.fuzzyScoreBonus=this.calculateContinuousFuzzyBonusPoints(N,_.fuzzyMatch)),N.bestPreviousNameMatch&&(x.onlyMatchesPreviousName=_.matchesPreviousName),this.options.preferChannelMembers&&k.presence&&this.options.currentChannel&&(0,T.B)(S,k,this.options.currentChannel)&&(x.isMemberOfThisChannel=_.memberOfThisChannel),(0,i.jq)(k)&&(0,l.m2)(S,k)&&(x.isStarred=_.starredChannel),(0,m.NB)(k)){const R=(0,I.Pu)(S,k.id);R&&(0,l.m2)(S,R)&&(x.isStarred=_.starredChannel)}return k.is_emoji&&(k.name==="thumbsup"||k.name==="point_up")&&(x.isPopularEmojiVariant=_.popularEmoji),this.options.selfFirst&&(0,m.fy)(k)&&(x.isSelf=_.isSelf),this.options.preferChannelWorkflows&&k.type==="channel_action"&&k.channelId===((L=this.options)===null||L===void 0||(D=L.currentChannel)===null||D===void 0?void 0:D.id)&&(x.isWorkflowAssociatedWithChannel=_.workflowAssociatedWithChannel),((0,i.rW)(k)||(0,i.Zp)(k))&&((0,r.F)(k)&&(x.isArchived=_.archivedChannel),(0,i.rW)(k)&&this.options.preferChannelsUserBelongsTo&&!(0,r.F)(k)&&!(0,d.bl)(k)&&(x.isNotChannelMember=_.notInChannel),(0,C.u8)(S)&&(0,l.lo)(k)&&(x.isChannelFromAnotherTeam=_.channelFromAnotherTeam)),(0,m.NB)(k)&&((0,m.oy)(k)||(0,m.eJ)(k))&&(x.isDeactivatedMember=_.deactivatedMember),(k.is_usergroup||k.is_broadcast_keyword)&&(x.isUserGroupOrKeyword=_.userGroupOrKeyword),x}}calculateNormalizedFuzzyBonusPoints(S,N,L){const D=S[N];if(!(0,o.A)(D))return 0;const k=.5**D;return Math.round(L*k)}calculateContinuousFuzzyBonusPoints(S,N){const L=h((x,R)=>x&&x.trim()?x:R,"getSafeString");return h(()=>{const x=S.item,R=S.item.name;if((0,m.NB)(x)){const U=L((0,f.j_)(x),R),F=L((0,f.sJ)(x),R);if(U===F)return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,U);const W=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,U),w=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,F);return Math.max(W,w)}return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,R)},"computeFuzzyScore")()*N}getNameForComparison(S,N){let L;const D=N.item;return(0,i.yz)(D)?L=D.name_normalized:(0,i.mz)(D)?L=(0,n.A)((0,a.SB)(S,D,{publicChannelIncludeHashSign:!1})):(0,m.NB)(D)?L=(0,u.sE)(S,D):D.is_usergroup?L=D.handle||D.name:D.team_name?L=(0,n.A)((0,E.F1)(D)):D.isEmail?L=(0,n.A)(D.value):D.title?L=D.title:L=D.name,L}constructor({query:S,options:N={}}){this.options=N,this.query=S,this.positionAwareFuzzyMatcher=new y([2,3],N.optimizeFuzzyMatchingNGramsWork)}},"SearcherSorter")},768637177:(B,A,e)=>{"use strict";e.d(A,{A:()=>Ee});var t=e(8571983633),s=e(9746734072),o=e(9113979368),n=e(897091071),c=e(7715417323),l=e(1703559452),i=e(2141441167),a=e(5503876160),r=e(3677587543),d=e(1985486637),m=e(605568209),f=e(9635987194),u=e(1236500105),E=e(1391051355),v=e(4541462795),g=e(2745978363),T=e(7705431154),p=e(1705675611),O=e(5209823364),y=e(8481954889),C=e(1251245237),I=e(7186021951),M=e(6298481129),_=e(321010523),P=e(3299124106),b=e(7411813784),S=e(5089209364),N=e(3122619948),L=e(3794844178),D=e(4923152936),k=e(6313737630),x=e(8083634208),R=e(687912091),U=e(7874250141),F=e(1098669366),W=e(9473548425),w=e(7188858884),K=e(3604038336),j=e(4024453010),Q=e(4629886364),J=e(2744649522),z=e(7152924807),ie=e(3351247794),ee=e(9844570768),ne=e(9341837877),Z=e(3542943043),te=e(205540855),he=e(3701660703),ue=e(3778507151),de=e(7073692592),re=e(4894634110),V=e(9117540773);const H=(0,re.Ay)("Fetch list records for lists mentions",async(Ae,le,oe)=>{let{query:me}=oe;const pe=(0,L.V3)(me);if(!pe)return;const{listTitle:Te}=pe,Me=(0,de.Mr)(le()),Ue=(0,L.xL)(Me,Te);if(!Ue)return;const xe=Ue.id;await Ae((0,V.D)({listId:xe}))});H.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var X=e(8584491274),Y=e(6766178921),q=e(6166500720);class fe{search(le){let{query:oe,options:me}=le;var pe;if(this.maybeStartSession(oe),((0,t.A)(oe)||!oe.length)&&!me.allowEmptyQuery)return d.S.resolve(m.Ml);if((0,s.A)(oe))return this.bulkSearch({queryRecords:oe,options:me});const Te=(0,w.$D)(this.teamId),Me=(0,b.Cy)({state:Te}),Ue=(0,u.A)();Me.mark(`modern-searcher-search-mark-${Ue}`);const xe=(0,D.O)(oe??"");T.LI.start({label:T.gC.Searcher,id:Ue,options:{teamId:(0,U.ZT)(Te),tags:this.getTraceTags({query:xe,options:me})}});const Ne=(pe=T.LI.get({label:T.gC.Searcher,id:Ue}))===null||pe===void 0?void 0:pe.createChildSpan({name:"searcher:search"}),be=(0,v.aw)(me,v.lp,oe);if((0,te._Z)(Te,"ml_fuzzy_match_beyond_word_boundaries")==="treatment"&&(be.matchBeyondWordBoundaries=!0,be.beyondWordBoundaryFuzzyLimit=6),(0,o.A)(be))return d.S.resolve(m.Ml);if((0,p.x)(Te)!==ee.M9.ONLINE||!(me!=null&&me.allowEmptyQueryRemoteSearch)&&!xe.length&&(0,N.A)()&&(0,te._Z)(Te,"searcher_local_empty_string")==="treatment"&&!me.entities.lists)return d.S.resolve(this.searchLocal({query:xe,options:be,autoTraceId:Ue,parentSpanId:Ne==null?void 0:Ne.getId()}));const Ke=this.fetchRemote({query:xe,options:be,autoTraceId:Ue,parentSpanId:Ne==null?void 0:Ne.getId()}).then($=>this.processFetchedEntities({query:xe,data:$,options:be,autoTraceId:Ue,parentSpanId:Ne==null?void 0:Ne.getId()}));if(be.tiered){const $=this.searchLocal({query:xe,options:be,autoTraceId:Ue,parentSpanId:Ne==null?void 0:Ne.getId()});return $.promise=Ke.finally(()=>{Ne==null||Ne.close(),T.LI.stop({label:T.gC.Searcher,id:Ue})}),d.S.resolve($).finally(()=>{Me.measureAndClear(`modern-searcher-search-mark-${Ue}`,"modern-searcher-search-tiered")})}return Ke.finally(()=>{Me.measureAndClear(`modern-searcher-search-mark-${Ue}`,"modern-searcher-search"),Ne==null||Ne.close(),T.LI.stop({label:T.gC.Searcher,id:Ue})})}flattenResultsWithQueryId(le){let{returnedResults:oe,queryIds:me}=le;const pe=oe;for(let Te=0;Te<oe.length;Te++)for(let Me=0;Me<oe[Te].length;Me++)pe[Te][Me].queryId=me[Te];return(0,n.A)(pe)}bulkSearch(le){let{queryRecords:oe,options:me}=le;const pe=(0,w.$D)(this.teamId),Te=(0,b.Cy)({state:pe}),Me=(0,u.A)();Te.mark(`modern-searcher-search-mark-${Me}`);const Ue=(0,v.aw)(me,v.lp,"");if((0,o.A)(Ue))return d.S.resolve(m.Ml);const xe=oe.map(ae=>ae.query),Ne=oe.map(ae=>ae.queryId),be=xe.map(ae=>(0,D.O)(ae));let ke,Ke;if((0,p.x)(pe)!==ee.M9.ONLINE)return Ke=be.map(ae=>this.searchLocal({query:ae,options:Ue})),ke=this.flattenResultsWithQueryId({returnedResults:Ke,queryIds:Ne}),d.S.resolve(ke);const $=this.fetchRemote({query:be,options:Ue}).then(ae=>(Ke=ae.map((Ge,nt)=>this.processFetchedEntities({query:be[nt],data:Ge,options:Ue})),this.flattenResultsWithQueryId({returnedResults:Ke,queryIds:Ne})));return Ue.tiered?(Ke=be.map(ae=>this.searchLocal({query:ae,options:Ue})),ke=this.flattenResultsWithQueryId({returnedResults:Ke,queryIds:Ne}),ke.promise=$,d.S.resolve(ke).finally(()=>{Te.measureAndClear(`modern-searcher-search-mark-${Me}`,"modern-searcher-search-tiered")})):$.finally(()=>{Te.measureAndClear(`modern-searcher-search-mark-${Me}`,"modern-searcher-search")})}searchLocal(le){let{query:oe,options:me,autoTraceId:pe,parentSpanId:Te}=le;var Me;const Ue=(0,w.$D)(this.teamId);let xe=pe;xe||(xe=(0,u.A)(),T.LI.start({label:T.gC.Searcher,id:xe,options:{teamId:(0,U.ZT)(Ue),tags:this.getTraceTags({query:oe,options:me})}}));const Ne=(Me=T.LI.get({label:T.gC.Searcher,id:xe}))===null||Me===void 0?void 0:Me.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Te}});if(!oe.length&&!me.allowEmptyQuery)return[];const be=(0,v.aw)(me,v.lp,oe);if((0,o.A)(be))return[];const ke=(0,D.O)(oe),Ke=this.fetchLocal({query:oe,options:be}),$=this.processFetchedEntities({query:ke,data:Ke,options:be,autoTraceId:xe,parentSpanId:Ne==null?void 0:Ne.getId()});return Ne==null||Ne.close(),$}fetchRemote(le){let{query:oe,options:me,autoTraceId:pe,parentSpanId:Te}=le;var Me;const Ue=(0,w.$D)(this.teamId),xe=(Me=T.LI.get({label:T.gC.Searcher,id:pe}))===null||Me===void 0?void 0:Me.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Te}});this.pendingRequests.forEach(Pe=>Pe.cancel()),this.pendingRequests=[];const Ne=[],be=[],{channels:ke,emoji:Ke,files:$,lists:ae,members:Ge,teams:nt,userGroups:at,appActions:Ve,workflowTriggers:Se}=me.entities;if(Ge){let Pe;(0,s.A)(oe)?Pe=(0,w.Qw)(this.teamId,(0,v.U7)({queries:oe,options:me})):Pe=(0,w.Qw)(this.teamId,(0,v.QH)({query:oe,options:me})),this.pendingRequests.push(Pe),Ge.runaway?be.push(Pe):Ne.push(Pe)}if(ke&&!(0,s.A)(oe)){const Pe=(0,w.Qw)(this.teamId,(0,v.J6)({query:oe,options:me}));this.pendingRequests.push(Pe),ke.runaway?be.push(Pe):Ne.push(Pe)}if(Ke&&!(0,s.A)(oe)){const Pe=(0,w.Qw)(this.teamId,(0,v.LR)({query:oe,options:me}));this.pendingRequests.push(Pe),Ke.runaway?be.push(Pe):Ne.push(Pe)}if($&&!(0,s.A)(oe)&&((0,f.A)(oe)||oe.length>3)){const Pe=(0,w.Qw)(this.teamId,(0,v.cD)({query:oe,options:me}));this.pendingRequests.push(Pe),$.runaway?be.push(Pe):Ne.push(Pe)}if(ae&&!(0,s.A)(oe)){const Pe=d.S.resolve((0,w.Qw)(this.teamId,oe.indexOf(">")<0?(0,X.E)({query:oe}):H({query:oe})));this.pendingRequests.push(Pe),ae.runaway?be.push(Pe):Ne.push(Pe)}if(at){let Pe;(0,s.A)(oe)?Pe=(0,w.Qw)(this.teamId,(0,v.eR)({queries:oe,options:me})):Pe=(0,w.Qw)(this.teamId,(0,v.UC)({query:oe,options:me})),this.pendingRequests.push(Pe),at.runaway?be.push(Pe):Ne.push(Pe)}if(nt&&((0,O.k)(Ue)||nt.onlyExternal||nt.includeExternal)&&!(0,s.A)(oe)){const Pe=(0,w.Qw)(this.teamId,(0,v.DF)({query:oe,options:me}));this.pendingRequests.push(Pe),nt.runaway?be.push(Pe):Ne.push(Pe)}if((0,C.e)(Ue)&&Ve){const Pe=d.S.resolve((0,w.Qw)(this.teamId,(0,j.G)())).timeout(2e3).catch(c.A);this.pendingRequests.push(Pe),Ve.runaway?be.push(Pe):Ne.push(Pe)}if(Se&&!(0,s.A)(oe)){const Pe=(0,w.Qw)(this.teamId,(0,v.fx)({query:oe,strictExposureRules:!1}));Se.runaway?be.push(Pe):Ne.push(Pe)}return d.S.all(Ne).then(Pe=>{let Fe;if((0,s.A)(oe))Fe=oe.map(_e=>this.fetchLocal({query:_e,options:me})).map(_e=>{const Le={..._e};return Le.remoteIds=(0,v.jl)(Pe),Le});else{if(Fe=this.fetchLocal({query:oe,options:me}),Fe.remoteIds=(0,v.jl)(Pe),Ge&&Ge.onlyFromExternalWorkspaceId){var ge,He;Fe.members=(He=(ge=Pe.find(_e=>!!_e.members))===null||ge===void 0?void 0:ge.members)!==null&&He!==void 0?He:m.Ml}const Qe=(0,l.A)((0,i.A)(Fe),"length");if(be.length&&!Qe)return d.S.all(be).then(()=>this.fetchLocal({query:oe,options:me}))}return xe==null||xe.close(),Fe}).finally(()=>{this.pendingRequests=[]})}fetchLocal(le){let{query:oe,options:me}=le;const pe=(0,w.$D)(this.teamId);(0,v.ZD)(me);const Te={},{appActions:Me,broadcastKeywords:Ue,canvasAiSuggestions:xe,channels:Ne,channelSections:be,emails:ke,emoji:Ke,files:$,helpArticles:ae,lists:Ge,members:nt,modals:at,mpims:Ve,shortcuts:Se,teams:Pe,userGroups:Fe,views:ge,workflowTriggers:He}=me.entities;if(Ne&&(Ne.includePublic||Ne.includePrivate)&&(Te.channels=(0,v.AC)(pe,me)),(Ve||Ne!=null&&Ne.includeMpims)&&(Te.mpims=(0,ie.FS)(pe)),Ne!=null&&Ne.includeIms&&(Te.ims=(0,ie._B)(pe)),nt&&(Te.members=nt.onlyFromExternalWorkspaceId?m.Ml:(0,Y.I_)(pe).filter(Le=>(0,Q.zP)(pe,Le.id)&&!(0,ne.y)(pe,Le.id))),Pe&&(Te.teams=(0,v.mi)(pe,me)),Fe&&(Te.userGroups=(0,q.jJ)(pe)),Me&&(Te.appActions=(0,E.B)(pe)?(0,K.PL)(pe):(0,v.g2)(pe,Me.channel)),$&&(Te.files=(0,he.Gn)(pe)),Ge&&(oe.indexOf(">")<0?Te.lists=(0,de.C0)(pe):Te.listRecords=(0,de.vD)(pe,oe)),ge&&(Te.views=(0,v.mK)(pe)),at&&(Te.modals=(0,v.A$)(pe)),Ue){var Qe;const Le=Ue.currentChannel?Ue.currentChannel.id:null;Te.broadcastKeywords=!((Qe=me.entities.broadcastKeywords)===null||Qe===void 0)&&Qe.includeAll||!Le?(0,I.A)():(0,M.A)(pe,Le)}if(Ke&&(Te.emoji=(0,Z.Gt)(pe)),be&&(Te.channelSections=(0,i.A)((0,z.jV)(pe))),(Se!=null&&Se.slashCommands||Se!=null&&Se.fakeGlobalActions)&&!(Se!=null&&Se.isAnnounceOnly)&&(Te.slashCommands=(0,E.B)(pe)?(0,P.A_)(pe,Se.channel,!!Se.threadTs,!0).map(Le=>({...Le,id:(0,y.Bs)(Le),isSlashCommand:!0})):(0,v.lS)(pe,Se.channel,Se.threadTs)),Se!=null&&Se.slackGlobalActions&&(Te.slackGlobalActions=(0,P.Yk)(pe,Se.channel,Se.threadTs)),Se!=null&&Se.quipShortcutCommands&&(Te.quipShortcutCommands=(0,W.Aw)(pe,!!oe)),Se!=null&&Se.channelActions&&(Te.channelActions=(0,J.fo)(pe,Se.channel)),Se!=null&&Se.fakeGlobalActions&&(Te.fakeGlobalActions=(0,P.JL)(pe,Se.channel,Se.threadTs)),Se!=null&&Se.callActions&&(Te.callActions=(0,P.Uw)(pe,Se.channel,Se.threadTs,Se.isAnnounceOnly)),He){const Le=(0,P.NJ)(pe);He.includeAutomated?Te.workflowTriggers=Le:Te.workflowTriggers=Le.filter(Ie=>Ie.type===g.M.Shortcut)}ke&&(Te.emails=(0,v.FF)(oe));const _e=(0,S.dL)(pe);return ae&&_e&&(Te.helpArticles=(0,ue.Fb)(pe,"searcher/fetch_all_articles")),xe&&(Te.canvasAiSuggestions=(0,F.rW)(pe,me)),(0,v.S)(),Te}processFetchedEntities(le){let{query:oe,data:me,options:pe,autoTraceId:Te,parentSpanId:Me}=le;var Ue,xe,Ne;const be=(0,w.$D)(this.teamId),ke=(0,te._Z)(be,"searcher_cache_fuzzy_match_n_grams")==="treatment",Ke=(Ue=T.LI.get({label:T.gC.Searcher,id:Te}))===null||Ue===void 0?void 0:Ue.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Me}});(0,v.ZD)(pe);const $={},ae=new k.A({query:oe,options:pe}),Ge=(0,b.Cy)({state:be});Ge.mark("modern-searcher-matching-mark");const nt=(xe=T.LI.get({label:T.gC.Searcher,id:Te}))===null||xe===void 0?void 0:xe.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Ke==null?void 0:Ke.getId()}});if(me.channels&&($.channels=ae.filterChannels(be,me.channels,(0,v.sr)(be,pe.entities.channels))),me.members&&($.members=ae.filterMembers(be,me.members,(0,v.bE)(be,pe.entities.members))),me.emails&&me.members&&!(!($==null||(Ne=$.members)===null||Ne===void 0)&&Ne.length)&&($.emails=me.emails),me.mpims){var at;$.mpims=ae.filterMpims(be,me.mpims,(0,v.AQ)(be,(at=pe.entities.mpims)!==null&&at!==void 0?at:pe.entities.channels))}if(me.ims&&($.ims=ae.filterIms(be,me.ims,(0,v.EM)(be,pe.entities.channels))),me.userGroups&&($.userGroups=ae.filterUserGroups(be,me.userGroups,(0,v.H9)(be,pe.entities.userGroups))),me.teams&&($.teams=ae.filterTeams(be,me.teams,(0,v.A1)(be,pe.entities.teams))),me.views&&($.views=ae.filterViews(be,me.views)),me.modals&&($.modals=ae.filterModals(be,me.modals)),me.appActions&&($.appActions=ae.filterAppActions(be,me.appActions)),me.slashCommands&&($.slashCommands=ae.filterShortcuts(be,me.slashCommands,!0)),me.slackGlobalActions&&($.slackGlobalActions=ae.filterShortcuts(be,me.slackGlobalActions)),me.quipShortcutCommands&&($.quipShortcutCommands=ae.filterShortcuts(be,me.quipShortcutCommands)),me.canvasAiSuggestions&&($.canvasAiSuggestions=ae.filterShortcuts(be,me.canvasAiSuggestions)),me.channelActions&&($.channelActions=ae.filterShortcuts(be,me.channelActions)),me.fakeGlobalActions&&($.fakeGlobalActions=ae.filterShortcuts(be,me.fakeGlobalActions)),me.callActions&&($.callActions=ae.filterShortcuts(be,me.callActions)),me.workflowTriggers&&($.workflowTriggers=ae.filterWorkflowTriggers(be,me.workflowTriggers)),me.broadcastKeywords&&($.broadcastKeywords=ae.filterBroadcastKeywords(be,me.broadcastKeywords)),me.emoji&&($.emoji=ae.filterEmoji(be,me.emoji)),me.channelSections&&($.channelSections=ae.filterChannelSections(be,me.channelSections,Ie=>{var we,ze;return!!(!((we=pe.entities.channelSections)===null||we===void 0||(ze=we.includeTypes)===null||ze===void 0)&&ze[Ie.type])})),me.files&&($.files=ae.filterFiles(be,me.files,(0,v.Do)(be,pe.entities.files))),me.lists&&($.lists=ae.filterLists(be,me.lists)),me.listRecords){var Ve;const{recordQuery:Ie}=(Ve=(0,L.V3)(oe))!==null&&Ve!==void 0?Ve:{},we=new k.A({query:Ie,options:pe});$.listRecords=we.filterListRecords(be,me.listRecords)}me.helpArticles&&($.helpArticles=ae.filterHelpArticles(be,me.helpArticles)),Ge.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),nt==null||nt.close();const Se=(0,v.SI)($,me.remoteIds||{});let Pe=(0,n.A)(Object.values(Se));const Fe=500,ge=3;var He;const Qe=Math.min(((He=pe==null?void 0:pe.limit)!==null&&He!==void 0?He:1)*ge,Fe);if(pe.sort&&!pe.sort.bypassSorting){var _e;let Ie=!1;Pe.length<Qe&&(Ie=!0);const we=new x.A({query:oe,options:{modelOnly:Ie,...pe.sort,optimizeFuzzyMatchingNGramsWork:ke}}),ze=(_e=T.LI.get({label:T.gC.Searcher,id:Te}))===null||_e===void 0?void 0:_e.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Ke==null?void 0:Ke.getId()}});Pe=we.sort(be,Se),ze==null||ze.close()}if(pe.sort&&pe.sort.frecency&&!pe.sort.bypassSorting){var Le;const Ie=(Le=T.LI.get({label:T.gC.Searcher,id:Te}))===null||Le===void 0?void 0:Le.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Ke==null?void 0:Ke.getId()}});Pe=new R.A({query:oe,options:pe.sort,teamId:(0,U.ZT)(be),enterpriseId:(0,O.k)(be)&&(0,U.jV)(be)?(0,U.jV)(be):void 0}).sort(be,Pe.slice(0,Qe)),Ie==null||Ie.close()}return pe.limit&&(Pe=(0,a.A)(Pe,pe.limit)),pe.returnMetadata||(Pe=Pe.map(Ie=>Ie.item)),(0,v.S)(),Pe||[]}clogSearcherAccept(le){let{clogger:oe,data:me}=le;const{source:pe,query:Te,results:Me,selectedItemId:Ue,displayedItemIds:xe}=me,Ne=15;if(!Ue)return;const be=xe?xe.length:Me.length,ke=xe?xe.indexOf(Ue):Me.findIndex(ge=>ge.item.id===Ue);if(ke<0)return;const Ke=Me.find(ge=>ge.item.id===Ue);if(!Ke)return;const $=Ke.type||"other",ae=(0,s.A)(Te)?Te.map(ge=>(0,D.O)(ge)):(0,D.O)(Te),Ge=Ke.source||"local";let nt;Ke.type==="mpim"?nt=Ke.scoreDetailsByMember:Ke.type==="member"?nt={[Ue]:{is_exact_match:Ke.isExactMatch,exact_match_details:Ke.exactMatchDetails,score_details:Ke.scoreDetails}}:Ke.type==="emoji"?nt={[Ue]:{is_exact_match:Ke.isExactMatch}}:Ke.type==="canvasAiSuggestions"&&(nt=Ke.item.category);let at=[];Me.some(ge=>ge.featureVectorRaw)&&(xe?at=xe.map(ge=>{const He=Me.find(Qe=>Qe.item.id===ge);return He&&He.featureVectorRaw.serialize()||""}):at=Me.map(ge=>{var He,Qe;return ge==null||(He=ge.featureVectorRaw)===null||He===void 0||(Qe=He.serialize)===null||Qe===void 0?void 0:Qe.call(He)}));let Se;(0,s.A)(ae)?Se=ae.reduce((ge,He)=>ge+(0,v.Cs)((0,D.O)(He)),0):Se=(0,v.Cs)(ae);var Pe;const Fe={source:pe,query_length:ae.length?ae.length:0,query_terms_length:Se,results_length:be,selected_position:ke,selected_type:$,selected_item_id:Ue,selected_source:Ge,selected_match_details:nt,feature_vector_list:at.slice(0,Ne),session_length:Date.now()-((Pe=this.sessionTs)!==null&&Pe!==void 0?Pe:0)};oe.track(_.EventId.SEARCHER_ACCEPT,Fe),this.endSession()}clogSearcherReject(le){let{clogger:oe,data:me}=le;const{source:pe,query:Te,results:Me,displayedItemIds:Ue}=me,xe=Ue!==void 0?Ue.length:Me.length,Ne=(0,s.A)(Te)?Te.map($=>(0,D.O)($)):(0,D.O)(Te);let be;(0,s.A)(Ne)?be=Ne.reduce(($,ae)=>$+(0,v.Cs)((0,D.O)(ae)),0):be=(0,v.Cs)(Ne);var ke;const Ke={source:pe,query_length:Ne.length?Ne.length:0,query_terms_length:be,results_length:xe,session_length:Date.now()-((ke=this.sessionTs)!==null&&ke!==void 0?ke:0)};oe.track(_.EventId.SEARCHER_REJECT,Ke),this.endSession()}maybeStartSession(le){!this.sessionId&&le!==void 0&&le.length&&(this.sessionTs=Date.now(),this.sessionId=(0,u.A)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(le){let{query:oe,options:me}=le;var pe;const Te=me.entities;return{source:(me==null?void 0:me.searchViewContext)||((pe=me.sort)===null||pe===void 0?void 0:pe.source),tiered:me.tiered,is_searcher_sessions:!0,entities:Object.keys(Te).filter(Me=>!!Te[Me]).sort().toString(),query_length:oe.length}}constructor(le){this.teamId=le,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}h(fe,"Searcher");const ce={};function Ee(Ae){let{teamId:le,key:oe}=Ae;if(!le)throw new Error("Searcher must be instantiated with a team id");return ce[le]&&!ce[le][oe]&&(ce[le][oe]=new fe(le)),ce[le]||(ce[le]={},ce[le][oe]=new fe(le)),ce[le][oe]}h(Ee,"getSearcher"),(0,r.ul)("searcherObj",{search:(Ae,le)=>new fe(Ae).search(le),searchLocal:(Ae,le)=>{new fe(Ae).searchLocal(le)}})},639862555:(B,A,e)=>{"use strict";e.d(A,{In:()=>o,KV:()=>s,nK:()=>n});var t=e(205540855);const s="autocompleteFallback";function o(){return s}h(o,"getModelForSorter");function n(c){return(0,t._Z)(c,"searcher_sessions_phase_1")==="treatment"}h(n,"shouldUseSearcherSessions")},4187033469:(B,A,e)=>{"use strict";e.d(A,{Tv:()=>b,W0:()=>Se});var t=e(1703559452),s=e(5238395322),o=e(8571983633),n=e(2774532222),c=e(7110454183),l=e(1022424641),i=e(4967628800),a=e(8863079134),r=e(9963560),d=e(8859166048),m=e(1240477450),f=e(7547404166),u=e(5887324738),E=e(353071615),v=e(1263278196),g=e(7492291136),T=e(2691514942),p=e(3051657319),O=e(7715417323);class y{writeNumericalFeature(De,We){!De||!isFinite(De)||(this.writeIdAndType(We,a.c.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,De),this.offset+=4)}writeBinaryFeature(De,We){De&&this.writeIdAndType(We,a.c.BINARY)}writeTextFeature(De,We){if(!De)return;this.writeIdAndType(We,a.c.TEXT);const it=unescape(encodeURIComponent(De));this.ensureCapacity(2+it.length),this.view.setUint16(this.offset,it.length),this.offset+=2,(0,p.A)(it.length).forEach(Nt=>{this.view.setUint8(this.offset,it.charCodeAt(Nt)),this.offset+=1})}writeNullFeature(){(0,O.A)()}writeIdAndType(De,We){this.ensureCapacity(2),this.view.setUint16(this.offset,De<<3|We),this.offset+=2}ensureCapacity(De){this.offset+De>this.buffer.byteLength&&this.resize(this.offset+De)}resize(De){if(this.buffer.byteLength>=De)return;const We=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(We).set(new Uint8Array(this.buffer)),this.buffer=We,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}h(y,"BinaryFeatureVectorSerializer");var C=e(3395271606);const I=(0,C.A)(a.Q);function M(G){return I[G]}h(M,"getFeatureNameFromId");var _=e(8692782601);const P={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_IS_DEACTIVATED","USER_IS_IN_CURRENT_THREAD","MEMBER_FILTER_USER_IN_CHANNEL","FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT","USER_HAS_MPDMED","USER_MPIM_LOG1P_MEMBERSHIP_COUNT","USER_MPIM_GTE5_MEMBERSHIP_COUNT","USER_MPIM_GTE25_MEMBERSHIP_COUNT","USER_MPIM_READ_AGE_DECAY_7D_V2","USER_MPIM_READ_AGE_DECAY_2H_V2","MEMBER_OF_SEARCHER_DEFAULT_TEAM","HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER","NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL","MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS","MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};function b(G,De){return nt.fromSuggestion(G,De)}h(b,"featureVectorForSuggestion");function S(){return(0,T.Wo)({label:"SORTER-RANKING"})}h(S,"getLogger");function N(G){return Number.isInteger(G)}h(N,"isIntegerWithType");const L=60*60,D=24*L;var k,x,R,U,F,W,w,K,j,Q,J,z,ie,ee,ne,Z,te,he,ue,de,re,V,H,X,Y,q,fe,ce,Ee,Ae,le,oe,me,pe,Te,Me,Ue,xe,Ne,be,ke,Ke,$,ae;const Ge={FRECENCY:G=>ge({id:a.Q.FRECENCY,value:Qe(G)}),TYPE_NAVIGATION_CHANNEL:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.TYPE_NAVIGATION_CHANNEL,value:We})},TYPE_NAVIGATION_FILE:G=>ge({id:a.Q.TYPE_NAVIGATION_FILE,value:G.suggestionType===_.fd.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:G=>ge({id:a.Q.TYPE_NAVIGATION_LINK,value:G.suggestionType===_.fd.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:G=>ge({id:a.Q.TYPE_NAVIGATION_MODAL,value:G.suggestionType===_.fd.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:G=>ge({id:a.Q.TYPE_NAVIGATION_MPIM,value:!!(0,d.yz)(G.item)}),TYPE_NAVIGATION_USER:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.TYPE_NAVIGATION_USER,value:We})},TYPE_QUERY:G=>ge({id:a.Q.TYPE_QUERY,value:G.suggestionType===_.fd.QUERY}),TYPE_QUERY_HISTORY:G=>ge({id:a.Q.TYPE_QUERY_HISTORY,value:G.suggestionType===_.fd.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_IN,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_FROM,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_TO,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_BEFORE,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_DURING,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_ON,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_AFTER,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_HAS,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_IS,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:G=>ge({id:a.Q.ACTIVE_TOKEN_FILTER_WITH,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:G=>ge({id:a.Q.ACTIVE_TOKEN_MEMBER,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.MEMBER}),ACTIVE_TOKEN_STRING:G=>ge({id:a.Q.ACTIVE_TOKEN_STRING,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.STRING}),ACTIVE_TOKEN_PHRASE:G=>ge({id:a.Q.ACTIVE_TOKEN_PHRASE,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.PHRASE}),STRING_EXACT_MATCH:G=>He({id:a.Q.STRING_EXACT_MATCH,suggestion:G,extractionFunction:Qt}),STRING_EXACT_PREFIX_MATCH:G=>He({id:a.Q.STRING_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:Jt}),STRING_NORMAL_MATCH:G=>He({id:a.Q.STRING_NORMAL_MATCH,suggestion:G,extractionFunction:Yt}),STRING_NORMAL_PREFIX_MATCH:G=>He({id:a.Q.STRING_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Rt}),STRING_SAME_NUMBER_WORDS:G=>He({id:a.Q.STRING_SAME_NUMBER_WORDS,suggestion:G,extractionFunction:Bt}),EXCESS_STRING_LENGTH:G=>He({id:a.Q.EXCESS_STRING_LENGTH,suggestion:G,extractionFunction:dn}),ID:G=>ge({id:a.Q.ID,value:G.logId||G.id}),FILE_SUGGESTION_SCORE:G=>ge({id:a.Q.FILE_SUGGESTION_SCORE,value:Le(G)}),ACTIVE_TOKEN_QUERY_SUGGESTION:G=>ge({id:a.Q.ACTIVE_TOKEN_QUERY_SUGGESTION,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.API}),QUERY_SUGGESTION_SCORE_V2:G=>ge({id:a.Q.QUERY_SUGGESTION_SCORE_V2,value:_e(G)}),TYPE_NAVIGATION_TEAM:G=>ge({id:a.Q.TYPE_NAVIGATION_TEAM,value:G&&G.suggestionType===_.fd.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:G=>ge({id:a.Q.TYPE_NAVIGATION_VIEW,value:G&&G.suggestionType===_.fd.VIEW_NAVIGATION}),TYPE_USER_QUERY:G=>ge({id:a.Q.TYPE_USER_QUERY,value:G&&G.suggestionType===_.fd.QUERY_USER}),NAV_EXACT_MATCH:G=>He({id:a.Q.NAV_EXACT_MATCH,suggestion:G,extractionFunction:Qt,text:ze(G)}),NAV_EXACT_PREFIX_MATCH:G=>He({id:a.Q.NAV_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:Jt,text:ze(G)}),NAV_NORMAL_MATCH:G=>He({id:a.Q.NAV_NORMAL_MATCH,suggestion:G,extractionFunction:Yt,text:ze(G)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(G,De)=>{let{itemIsChannel:We}=De;var it,Nt;return He({id:a.Q.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:G,extractionFunction:sn=>{let{text:en,query:_n}=sn;return en?(0,t.A)(en.split(",").map(Dn=>Qt({text:Dn,query:_n}))):!1},text:We?(it=G.item)===null||it===void 0||(Nt=it.previous_names)===null||Nt===void 0?void 0:Nt.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(G,De)=>{let{itemIsChannel:We}=De;var it,Nt;return He({id:a.Q.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:G,extractionFunction:sn=>{let{text:en,query:_n}=sn;return en?(0,t.A)(en.split(",").map(Dn=>Jt({text:Dn,query:_n}))):!1},text:We?G==null||(it=G.item)===null||it===void 0||(Nt=it.previous_names)===null||Nt===void 0?void 0:Nt.join(","):null})},CHANNEL_IS_ARCHIVED:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.CHANNEL_IS_ARCHIVED,value:We&&(0,m.F)(G.item)})},CHANNEL_IS_MEMBER:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.CHANNEL_IS_MEMBER,value:We&&(0,u.bl)(G.item)})},CHANNEL_IS_STARRED:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.CHANNEL_IS_STARRED,value:We&&G.isStarred})},MPIM_IS_STARRED:G=>ge({id:a.Q.MPIM_IS_STARRED,value:(0,d.yz)(G.item)&&G.isStarred}),CHANNEL_IS_UNREAD:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.CHANNEL_IS_UNREAD,value:We&&(0,r.KJ)(G.item)})},MPIM_IS_UNREAD:G=>ge({id:a.Q.MPIM_IS_UNREAD,value:(0,d.yz)(G.item)&&(0,r.KJ)(G.item)}),MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS:G=>ge({id:a.Q.MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS,value:(0,d.yz)(G.item)&&G.mpimNumOtherMembersEqualsNumQueryWords}),MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH:G=>ge({id:a.Q.MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH,value:(0,d.yz)(G.item)&&G.allOtherMemberNamesHavePrefixMatch}),CHANNEL_IS_OTHER_TEAM:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.CHANNEL_IS_OTHER_TEAM,value:We&&(0,r.lo)(G.item)})},USER_IS_ACTIVE:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_IS_ACTIVE,value:We&&(0,E.ls)(G.item)})},USER_IS_DEACTIVATED:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_IS_DEACTIVATED,value:We&&!(0,E.ls)(G.item)})},USER_IS_IN_CURRENT_THREAD:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_IS_IN_CURRENT_THREAD,value:We&&G.isMemberOfCurrentThread})},MEMBER_FILTER_USER_IN_CHANNEL:G=>ge({id:a.Q.MEMBER_FILTER_USER_IN_CHANNEL,value:G.lastSuggestionToken&&(G.lastSuggestionToken.type===_.S6.FILTER_FROM||G.lastSuggestionToken.type===_.S6.FILTER_WITH)&&G.isMemberOfCurrentChannel}),FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL:G=>ge({id:a.Q.FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL,value:G.isMemberFilterAndHasPreviousChannelFilter&&G.isMemberOfCurrentChannel}),USER_IS_EXTERNAL:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_IS_EXTERNAL,value:We&&(0,g.g)(G.item)})},USER_IS_BOT:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_IS_BOT,value:We&&(0,v.A)(G.item)})},USER_SAME_TEAM:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_SAME_TEAM,value:We&&!!G.sameTeam})},USER_IS_CURRENT_USER:(G,De)=>{let{isCurrentUser:We}=De;return ge({id:a.Q.USER_IS_CURRENT_USER,value:We})},USER_DM_IS_STARRED:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_IS_STARRED,value:We&&G.im&&G.imIsStarred})},USER_DM_IS_UNREAD:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_IS_UNREAD,value:We&&G.im&&(0,r.KJ)(G.im)})},CHANNEL_PRIORITY:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.CHANNEL_PRIORITY,value:We&&(G==null?void 0:G.priority)})},CHANNEL_READ_AGE_DECAY_7D:(G,De)=>{let{itemIsChannel:We,now:it}=De;return ge({id:a.Q.CHANNEL_READ_AGE_DECAY_7D,value:We&&tt(it,parseFloat((k=G.lastReadTs)!==null&&k!==void 0?k:""),7*D)||0})},CHANNEL_READ_AGE_DECAY_2H:(G,De)=>{let{itemIsChannel:We,now:it}=De;return ge({id:a.Q.CHANNEL_READ_AGE_DECAY_2H,value:We&&tt(it,parseFloat((x=G.lastReadTs)!==null&&x!==void 0?x:""),2*L)||0})},MPIM_READ_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_READ_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&tt(We,parseFloat((R=G.lastReadTs)!==null&&R!==void 0?R:""),2*L)||0})},MPIM_READ_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_READ_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&tt(We,parseFloat((U=G.lastReadTs)!==null&&U!==void 0?U:""),7*D)||0})},USER_DM_READ_AGE_DECAY_7D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_AGE_DECAY_7D,value:We&&G.im&&tt(it,parseFloat((F=G.lastReadTs)!==null&&F!==void 0?F:""),7*D)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_AGE_DECAY_7D_V2,value:We&&G.im&&tt(it,parseFloat((W=G.lastReadImTs)!==null&&W!==void 0?W:""),7*D)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_AGE_DECAY_7D_V3,value:We&&tt(it,parseFloat((w=Gt(G))!==null&&w!==void 0?w:""),7*D)||0})},USER_DM_READ_AGE_DECAY_2H:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_AGE_DECAY_2H,value:We&&G.im&&tt(it,parseFloat((K=G.lastReadTs)!==null&&K!==void 0?K:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_AGE_DECAY_2H_V2,value:We&&G.im&&tt(it,parseFloat((j=G.lastReadImTs)!==null&&j!==void 0?j:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_AGE_DECAY_2H_V3,value:We&&tt(it,parseFloat((Q=Gt(G))!==null&&Q!==void 0?Q:""),2*L)||0})},USER_DM_NULL:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_NULL,value:We&&!G.im})},USER_DM_EMPTY:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_EMPTY,value:We&&G.im&&!parseFloat((J=G.latestTs)!==null&&J!==void 0?J:"")})},USER_DM_EMPTY_V2:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_EMPTY_V2,value:We&&G.im&&!parseFloat((z=G.latestImTs)!==null&&z!==void 0?z:"")})},USER_HAS_DMED:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_HAS_DMED,value:We&&!!parseFloat((ie=Gt(G))!==null&&ie!==void 0?ie:"")})},USER_HAS_MPDMED:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_HAS_MPDMED,value:We&&!!parseFloat((ee=Pt(G))!==null&&ee!==void 0?ee:"")})},USER_DM_NOT_OPEN:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_NOT_OPEN,value:We&&G.im&&!(0,r.nT)(G.im)})},USER_DM_OPEN:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_OPEN,value:We&&G.im&&(0,r.nT)(G.im)})},USER_DM_LATEST_OLDER_30D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_OLDER_30D,value:We&&rn(it,parseFloat((ne=G.latestTs)!==null&&ne!==void 0?ne:""),30*D)})},USER_DM_LATEST_OLDER_30D_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_OLDER_30D_V2,value:We&&rn(it,parseFloat((Z=G.latestImTs)!==null&&Z!==void 0?Z:""),30*D)})},USER_DM_LATEST_OLDER_90D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_OLDER_90D,value:We&&rn(it,parseFloat((te=G.latestTs)!==null&&te!==void 0?te:""),90*D)})},USER_DM_LATEST_OLDER_90D_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_OLDER_90D_V2,value:We&&rn(it,parseFloat((he=G.latestImTs)!==null&&he!==void 0?he:""),90*D)})},USER_DM_READ_OLDER_7D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_OLDER_7D,value:We&&rn(it,parseFloat((ue=Gt(G))!==null&&ue!==void 0?ue:""),7*D)})},USER_DM_READ_OLDER_30D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_OLDER_30D,value:We&&rn(it,parseFloat((de=Gt(G))!==null&&de!==void 0?de:""),30*D)})},USER_DM_READ_OLDER_90D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_READ_OLDER_90D,value:We&&rn(it,parseFloat((re=Gt(G))!==null&&re!==void 0?re:""),90*D)})},USER_MPIM_LOG1P_MEMBERSHIP_COUNT:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_MPIM_LOG1P_MEMBERSHIP_COUNT,value:We&&ln((V=jt(G))!==null&&V!==void 0?V:0)||0})},USER_MPIM_GTE5_MEMBERSHIP_COUNT:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_MPIM_GTE5_MEMBERSHIP_COUNT,value:We&&((H=jt(G))!==null&&H!==void 0?H:0)>=5})},USER_MPIM_GTE25_MEMBERSHIP_COUNT:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_MPIM_GTE25_MEMBERSHIP_COUNT,value:We&&((X=jt(G))!==null&&X!==void 0?X:0)>=25})},USER_MPIM_READ_AGE_DECAY_7D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_MPIM_READ_AGE_DECAY_7D,value:We&&G.mpimFeatures&&tt(it,G.mpimFeatures.lastReadTs,7*D)||0})},USER_MPIM_READ_AGE_DECAY_2H:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_MPIM_READ_AGE_DECAY_2H,value:We&&G.mpimFeatures&&tt(it,G.mpimFeatures.lastReadTs,2*L)||0})},USER_MPIM_READ_AGE_DECAY_7D_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_MPIM_READ_AGE_DECAY_7D_V2,value:We&&G.mpimFeatures&&tt(it,parseFloat((Y=Pt(G))!==null&&Y!==void 0?Y:""),7*D)||0})},USER_MPIM_READ_AGE_DECAY_2H_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_MPIM_READ_AGE_DECAY_2H_V2,value:We&&G.mpimFeatures&&tt(it,parseFloat((q=Pt(G))!==null&&q!==void 0?q:""),2*L)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:We&&G.mpimFeatures&&tt(it,G.mpimFeatures.latestMsgTs,7*D)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:We&&G.mpimFeatures&&tt(it,G.mpimFeatures.latestMsgTs,2*L)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(G,De)=>{let{itemIsMember:We}=De;var it;return ge({id:a.Q.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:We&&((it=G.mpimFeatures)===null||it===void 0?void 0:it.itemCount)&&Math.log1p(G.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(G,De)=>{let{itemIsMember:We}=De;var it;return ge({id:a.Q.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:We&&((it=G.mpimFeatures)===null||it===void 0?void 0:it.hitCount)&&Math.log1p(G.mpimFeatures.hitCount)||0})},QUERY_LENGTH:G=>He({id:a.Q.QUERY_LENGTH,suggestion:G,extractionFunction:ot}),NAV_QUERY_LENGTH:G=>He({id:a.Q.NAV_QUERY_LENGTH,suggestion:G,extractionFunction:ot,text:ze(G)}),SUGGESTION_TEXT_LENGTH:G=>He({id:a.Q.SUGGESTION_TEXT_LENGTH,suggestion:G,extractionFunction:ht}),NAV_TEXT_LENGTH:G=>He({id:a.Q.NAV_TEXT_LENGTH,suggestion:G,extractionFunction:ht,text:ze(G)}),RAW_FRECENCY:G=>ge({id:a.Q.RAW_FRECENCY,value:G.rawFrecencyScore}),MPIM_PRIORITY:G=>ge({id:a.Q.MPIM_PRIORITY,value:(0,d.yz)(G.item)&&(G==null?void 0:G.priority)}),QUERY_RATIO_LENGTH_STRING:G=>He({id:a.Q.QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Mt}),NAV_QUERY_RATIO_LENGTH_STRING:G=>He({id:a.Q.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Mt,text:ze(G)}),USER_QUERY_RATIO_LENGTH_STRING:G=>He({id:a.Q.USER_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Mt,text:ut(G,_.fd.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:G=>He({id:a.Q.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Mt,text:ut(G,_.fd.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:G=>He({id:a.Q.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Mt,text:ut(G,_.fd.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:G=>ge({id:a.Q.MPIM_WITH_DEACTIVATED_USER,value:(0,d.yz)(G.item)&&G.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:G=>He({id:a.Q.NAV_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Rt,text:ze(G)}),FRECENCY_BONUS:G=>ge({id:a.Q.FRECENCY_BONUS,value:(0,s.A)(Object.values(G.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_FIRST_NAME_EXACT_MATCH,suggestion:G,extractionFunction:Qt,text:We&&(0,E.XS)(G.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:Jt,text:We&&(0,E.XS)(G.item)})},USER_FIRST_NAME_NORMAL_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_FIRST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Yt,text:We&&(0,E.XS)(G.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Rt,text:We&&(0,E.XS)(G.item)})},USER_LAST_NAME_EXACT_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_LAST_NAME_EXACT_MATCH,suggestion:G,extractionFunction:Qt,text:We&&(0,E.lQ)(G.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:Jt,text:We&&(0,E.lQ)(G.item)})},USER_LAST_NAME_NORMAL_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_LAST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Yt,text:We&&(0,E.lQ)(G.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(G,De)=>{let{itemIsMember:We}=De;return He({id:a.Q.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Rt,text:We&&(0,E.lQ)(G.item)})},USER_EMAIL_MATCH:G=>{var De,We;return ge({id:a.Q.USER_EMAIL_MATCH,value:((De=G.scoreDetails)===null||De===void 0?void 0:De.email)!==void 0?((We=G.scoreDetails)===null||We===void 0?void 0:We.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:G=>{var De,We;return ge({id:a.Q.USER_EMAIL_ONLY_MATCH,value:((De=G.scoreDetails)===null||De===void 0?void 0:De.email)!==void 0&&((We=G.scoreDetails)===null||We===void 0?void 0:We.email)>=0&&Object.keys((fe=G.scoreDetails)!==null&&fe!==void 0?fe:{}).length===1})},USER_PRIORITY:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_PRIORITY,value:We&&G.im&&(G==null?void 0:G.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:G=>ge({id:a.Q.ONLY_MATCHES_PREVIOUS_NAME,value:G.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:G=>ge({id:a.Q.FRECENCY_WEIGHT_HIT_VISITS,value:G.weightHitVisits}),FRECENCY_HIT_VISITS_4H:G=>ge({id:a.Q.FRECENCY_HIT_VISITS_4H,value:G.hitVisits4h}),FRECENCY_HIT_VISITS_1D:G=>ge({id:a.Q.FRECENCY_HIT_VISITS_1D,value:G.hitVisits1d}),FRECENCY_HIT_VISITS_3D:G=>ge({id:a.Q.FRECENCY_HIT_VISITS_3D,value:G.hitVisits3d}),FRECENCY_HIT_VISITS_1W:G=>ge({id:a.Q.FRECENCY_HIT_VISITS_1W,value:G.hitVisits1w}),FRECENCY_HIT_VISITS_1M:G=>ge({id:a.Q.FRECENCY_HIT_VISITS_1M,value:G.hitVisits1m}),FRECENCY_HIT_VISITS_90D:G=>ge({id:a.Q.FRECENCY_HIT_VISITS_90D,value:G.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:G=>ge({id:a.Q.FRECENCY_ITEM_VISITS_4H,value:G.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:G=>ge({id:a.Q.FRECENCY_ITEM_VISITS_1D,value:G.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:G=>ge({id:a.Q.FRECENCY_ITEM_VISITS_3D,value:G.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:G=>ge({id:a.Q.FRECENCY_ITEM_VISITS_1W,value:G.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:G=>ge({id:a.Q.FRECENCY_ITEM_VISITS_1M,value:G.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:G=>ge({id:a.Q.FRECENCY_ITEM_VISITS_90D,value:G.itemVisits90d}),FRECENCY_HIT_COUNT:G=>ge({id:a.Q.FRECENCY_HIT_COUNT,value:G.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:G=>ge({id:a.Q.FRECENCY_WEIGHT_ITEM_VISITS,value:G.weightItemVisits}),FRECENCY_ITEM_COUNT:G=>ge({id:a.Q.FRECENCY_ITEM_COUNT,value:G.itemCount}),NAV_NORMAL_MATCH_USER:G=>He({id:a.Q.NAV_NORMAL_MATCH_USER,suggestion:G,extractionFunction:De=>{let{text:We,normalizedQuery:it}=De;return Yt({text:We,normalizedQuery:it})&&!Rt({text:(0,E.XS)(G.item),normalizedQuery:it})},text:ut(G,_.fd.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:G=>He({id:a.Q.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:G,extractionFunction:De=>{let{text:We,normalizedQuery:it}=De;return Rt({text:We,normalizedQuery:it})&&!Rt({text:(0,E.XS)(G.item),normalizedQuery:it})},text:ut(G,_.fd.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:G=>He({id:a.Q.NAV_NORMAL_MATCH_NO_USER,suggestion:G,extractionFunction:Yt,text:_t(G)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:G=>He({id:a.Q.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:G,extractionFunction:Rt,text:_t(G)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(G,De)=>{let{itemIsChannel:We,now:it}=De;return ge({id:a.Q.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:We&&tt(it,parseFloat((ce=G.latestTs)!==null&&ce!==void 0?ce:""),7*D)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(G,De)=>{let{itemIsChannel:We,now:it}=De;return ge({id:a.Q.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:We&&tt(it,parseFloat((Ee=G.latestTs)!==null&&Ee!==void 0?Ee:""),2*L)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&tt(We,parseFloat((Ae=G.latestTs)!==null&&Ae!==void 0?Ae:""),2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&tt(We,G.maxLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&tt(We,G.maxLatestMsgTsOfAllMembers,7*D)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&tt(We,G.avgLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&tt(We,G.avgLatestMsgTsOfAllMembers,7*D)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&tt(We,G.maxLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&tt(We,G.maxLastReadTsOfAllMembers,7*D)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&tt(We,G.avgLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&tt(We,G.avgLastReadTsOfAllMembers,7*D)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:G=>ge({id:a.Q.MPIM_USERS_PCT_NON_EMPTY_DMS,value:(0,d.yz)(G.item)&&G.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:G=>ge({id:a.Q.MPIM_USERS_PCT_NON_NULL_DMS,value:(0,d.yz)(G.item)&&G.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:G=>ge({id:a.Q.MPIM_USERS_ALL_INTERNAL,value:(0,d.yz)(G.item)&&G.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.MPIM_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&tt(We,parseFloat((le=G.latestTs)!==null&&le!==void 0?le:""),7*D)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:We&&G.im&&tt(it,parseFloat((oe=G.latestTs)!==null&&oe!==void 0?oe:""),7*D)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:We&&G.im&&tt(it,parseFloat((me=G.latestImTs)!==null&&me!==void 0?me:""),7*D)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:We&&G.im&&tt(it,parseFloat((pe=G.latestTs)!==null&&pe!==void 0?pe:""),2*L)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(G,De)=>{let{itemIsMember:We,now:it}=De;return ge({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:We&&G.im&&tt(it,parseFloat((Te=G.latestImTs)!==null&&Te!==void 0?Te:""),2*L)||0})},FRECENCY_LOG_HIT_COUNT:G=>ge({id:a.Q.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((Me=G.hitCount)!==null&&Me!==void 0?Me:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:G=>ge({id:a.Q.FRECENCY_LOG_HIT_COUNT_SCALED,value:G.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:G=>ge({id:a.Q.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((Ue=G.itemCount)!==null&&Ue!==void 0?Ue:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:G=>ge({id:a.Q.FRECENCY_LOG_ITEM_COUNT_SCALED,value:G.logItemCountScaled}),QUERY_FRECENCY_RAW:G=>ge({id:a.Q.QUERY_FRECENCY_RAW,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&G.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:G=>ge({id:a.Q.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&G.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:G=>ge({id:a.Q.QUERY_FRECENCY_HIT_COUNT,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&G.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:G=>ge({id:a.Q.QUERY_LOG_HIT_COUNT,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&ln(G.scoringContext.frecencyHitCount)||G.suggestionType===_.fd.QUERY_HISTORY&&ln((xe=G.count)!==null&&xe!==void 0?xe:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:G=>ge({id:a.Q.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&G.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:G=>ge({id:a.Q.QUERY_FRECENCY_ITEM_COUNT,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&G.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:G=>ge({id:a.Q.QUERY_FUZZY_SCORE,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&G.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:G=>{var De;return ge({id:a.Q.QUERY_FRECENCY_BONUS,value:(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER)&&(0,s.A)(Object.values(((De=G.scoringContext)===null||De===void 0?void 0:De.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:G=>ge({id:a.Q.QUERY_HISTORY_LOG_INDEX,value:G.suggestionType===_.fd.QUERY_HISTORY&&ln(G.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.QUERY_HISTORY_AGE_DECAY_30D,value:G.suggestionType===_.fd.QUERY_HISTORY&&tt(We,G.lastUpdateTs,30*D)||0})},FUZZY_SCORE:G=>ge({id:a.Q.FUZZY_SCORE,value:G.score}),FUZZY_SCORE_SCALED_EXP:G=>ge({id:a.Q.FUZZY_SCORE_SCALED_EXP,value:N(G.score)&&.5**Math.min(G.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:G=>ge({id:a.Q.FUZZY_SCORE_SCALED_FLIPPED,value:N(G.score)&&10-Math.min(G.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:G=>ge({id:a.Q.FUZZY_SCORE_SCALED_SUBTRACT,value:N(G.score)&&Math.min(G.score,10)-1}),FUZZY_SCORE_50:G=>ge({id:a.Q.FUZZY_SCORE_50,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:G=>ge({id:a.Q.FUZZY_SCORE_25,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:G=>ge({id:a.Q.FUZZY_SCORE_ALL,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus&&G.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:G=>ge({id:a.Q.FILTER_USER_IS_ACTIVE,value:G.lastSuggestionToken&&G.lastTokenMemberOrNull&&(0,E.ls)(G.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:G=>ge({id:a.Q.FILTER_USER_IS_CURRENT_USER,value:G.lastSuggestionToken&&G.lastTokenMemberOrNull&&(0,E.fy)(G.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:G=>ge({id:a.Q.FILTER_USER_DM_IS_STARRED,value:G.lastTokenIm&&G.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:G=>ge({id:a.Q.FILTER_USER_DM_IS_UNREAD,value:G.lastTokenIm&&(0,r.KJ)(G.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILTER_USER_DM_READ_AGE_DECAY_7D,value:G.lastTokenIm&&tt(We,G.lastTokenImLastRead,7*D)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILTER_USER_DM_READ_AGE_DECAY_2H,value:G.lastTokenIm&&tt(We,G.lastTokenImLastRead,2*L)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:G.lastTokenIm&&tt(We,parseFloat((Ne=G.lastTokenImLatest)!==null&&Ne!==void 0?Ne:""),7*D)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:G.lastTokenIm&&tt(We,parseFloat((be=G.lastTokenImLatest)!==null&&be!==void 0?be:""),2*L)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:G=>He({id:a.Q.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Yt,text:It(G)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:G=>He({id:a.Q.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Rt,text:It(G)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:G=>He({id:a.Q.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Yt,text:kt(G)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:G=>He({id:a.Q.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Rt,text:kt(G)}),FILTER_USER_PRIORITY:G=>ge({id:a.Q.FILTER_USER_PRIORITY,value:G.lastTokenIm&&(G==null?void 0:G.priority)}),HERE_KEYWORD:G=>ge({id:a.Q.HERE_KEYWORD,value:G.name==="here"}),HERE_KEYWORD_EXACT_MATCH:G=>ge({id:a.Q.HERE_KEYWORD_EXACT_MATCH,value:G.name==="here"&&G.query==="here"}),IS_BROADCAST_KEYWORD:G=>ge({id:a.Q.IS_BROADCAST_KEYWORD,value:!!(G.type&&G.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:G=>ge({id:a.Q.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(G.type&&G.type==="broadcastKeyword"&&Yt({text:(ke=G.name)!==null&&ke!==void 0?ke:"",normalizedQuery:G.normalizedQuery}))}),EMOJI_EXACT_MATCH:G=>ge({id:a.Q.EMOJI_EXACT_MATCH,value:G.bonusPointMap&&G.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:G=>He({id:a.Q.QUERY_TOKEN_NORMAL_MATCH,suggestion:G,extractionFunction:Yt,text:gt(G)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:G=>He({id:a.Q.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Rt,text:gt(G)}),FILTER_CHANNEL_IS_ARCHIVED:G=>ge({id:a.Q.FILTER_CHANNEL_IS_ARCHIVED,value:(0,m.F)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:G=>ge({id:a.Q.FILTER_CHANNEL_IS_MEMBER,value:(0,u.bl)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:G=>ge({id:a.Q.FILTER_CHANNEL_IS_STARRED,value:G.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:G=>ge({id:a.Q.FILTER_CHANNEL_IS_UNREAD,value:(0,r.KJ)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:tt(We,G.lastTokenChannelLastRead,7*D)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:tt(We,G.lastTokenChannelLastRead,2*L)})},FILTER_CHANNEL_PRIORITY:G=>ge({id:a.Q.FILTER_CHANNEL_PRIORITY,value:G==null?void 0:G.priority}),CHANNEL_IS_FROZEN:(G,De)=>{let{itemIsChannel:We}=De;return ge({id:a.Q.CHANNEL_IS_FROZEN,value:We&&(0,f.Zz)(G.item)})},USER_DM_IS_FROZEN:(G,De)=>{let{itemIsMember:We}=De;return ge({id:a.Q.USER_DM_IS_FROZEN,value:We&&G.im&&(0,f.Zz)(G.im)})},CHANNEL_HAS_DRAFT:G=>ge({id:a.Q.CHANNEL_HAS_DRAFT,value:G.hasDraft}),USER_DM_HAS_DRAFT:G=>ge({id:a.Q.USER_DM_HAS_DRAFT,value:G.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:G=>ge({id:a.Q.EMOJI_QUERY_LENGTH_RATIO,value:G.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:G=>ge({id:a.Q.EMOJI_TOTAL_COMBO_BREAKS,value:G.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:G=>ge({id:a.Q.EMOJI_COMBO_BREAK_0,value:G.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:G=>ge({id:a.Q.EMOJI_COMBO_BREAK_1,value:G.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:G=>ge({id:a.Q.EMOJI_COMBO_BREAK_2,value:G.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:G=>ge({id:a.Q.EMOJI_COMBO_BREAK_3,value:G.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:G=>ge({id:a.Q.TYPE_APP_ACTION,value:G.suggestionType===_.fd.APP_ACTION}),OS_APP_ACTION:(G,De)=>{let{source:We}=De;return ge({id:a.Q.OS_APP_ACTION,value:(We==null?void 0:We.startsWith("omniswitcher"))&&G.suggestionType===_.fd.APP_ACTION})},TYPE_APP:G=>ge({id:a.Q.TYPE_APP,value:G.suggestionType===_.fd.APP}),TYPE_SLASH_COMMAND:G=>ge({id:a.Q.TYPE_SLASH_COMMAND,value:G.suggestionType===_.fd.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:G=>ge({id:a.Q.TYPE_GLOBAL_ACTION,value:G.suggestionType===_.fd.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:G=>ge({id:a.Q.IS_INVITE_WORKSPACE,value:G.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:G=>ge({id:a.Q.TYPE_CHANNEL_ACTION,value:G.suggestionType===_.fd.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:G=>ge({id:a.Q.TYPE_WORKFLOW_TRIGGER,value:G.suggestionType===_.fd.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:G=>ge({id:a.Q.TYPE_NAVIGATION_MESSAGE,value:G.suggestionType===_.fd.MESSAGE_NAVIGATION}),TYPE_EMOJI:G=>ge({id:a.Q.TYPE_EMOJI,value:G.suggestionType===_.fd.EMOJI}),HAS_CHANNEL_ASSOCIATION:G=>ge({id:a.Q.HAS_CHANNEL_ASSOCIATION,value:G.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:G=>ge({id:a.Q.MEMBER_OF_CURRENT_CHANNEL,value:G.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:G=>He({id:a.Q.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:G,extractionFunction:Ye,text:ut(G,_.fd.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FRECENCY_HIT_VISIT_DECAY_2H,value:tt(We,G.latestHitVisit,2*L)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FRECENCY_HIT_VISIT_DECAY_7D,value:tt(We,G.latestHitVisit,7*D)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FRECENCY_ITEM_VISIT_DECAY_2H,value:tt(We,G.latestItemVisit,2*L)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FRECENCY_ITEM_VISIT_DECAY_7D,value:tt(We,G.latestItemVisit,7*D)||0})},MPIM_MEMBERS:G=>ge({id:a.Q.MPIM_MEMBERS,value:G.item.members.length}),MPIM_MEMBER_NAME_MATCHES:G=>ge({id:a.Q.MPIM_MEMBER_NAME_MATCHES,value:G.scoreDetailsByMember&&Object.values(G.scoreDetailsByMember).filter(De=>((Ke=De.score_details.real_name)!==null&&Ke!==void 0?Ke:-1/0)>=0||(($=De.score_details.display_name)!==null&&$!==void 0?$:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:G=>ge({id:a.Q.MPIM_MEMBER_ALL_MATCHES,value:G.scoreDetailsByMember&&Object.keys(G.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:G=>ge({id:a.Q.MPIM_MATCHER_SCORE,value:G.score}),MPIM_MATCHER_SCORE_0:G=>ge({id:a.Q.MPIM_MATCHER_SCORE_0,value:G.score===0}),MPIM_MATCHER_SCORE_1:G=>ge({id:a.Q.MPIM_MATCHER_SCORE_1,value:G.score===1}),MPIM_MATCHER_SCORE_2:G=>ge({id:a.Q.MPIM_MATCHER_SCORE_2,value:G.score===2}),MPIM_MATCHER_SCORE_3:G=>ge({id:a.Q.MPIM_MATCHER_SCORE_3,value:G.score===3}),EMOJI_TEAM_CTR_90DD:G=>{var De;return ge({id:a.Q.EMOJI_TEAM_CTR_90DD,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},EMOJI_USER_CTR_30DD:G=>{var De;return ge({id:a.Q.EMOJI_USER_CTR_30DD,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:G=>{var De;return ge({id:a.Q.MPIM_TEAM_CTR_90DD,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},MPIM_USER_CTR_30DD:G=>{var De;return ge({id:a.Q.MPIM_USER_CTR_30DD,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:G=>{var De;return ge({id:a.Q.CHANNEL_TEAM_CTR_90DD,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:G=>{var De;return ge({id:a.Q.CHANNEL_USER_CTR_30DD,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:G=>ge({id:a.Q.USER_ENTITY_TYPE_CTR_30DD,value:G.entityTypeCtr}),NUM_RESULTS:G=>ge({id:a.Q.NUM_RESULTS,value:G.numResults}),QUERY_IS_SELF:G=>{var De;return ge({id:a.Q.QUERY_IS_SELF,value:((De=G.scoreDetails)===null||De===void 0?void 0:De.self_score)===0})},CURRENT_USER_TEXTY:(G,De)=>{let{isCurrentUser:We,source:it}=De;return ge({id:a.Q.CURRENT_USER_TEXTY,value:it==="texty-autocomplete"&&We})},FILE_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_AGE_DECAY_7D,value:G.item&&tt(We,G.item.created,7*D)})},FILE_AGE_DECAY_28D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_AGE_DECAY_28D,value:G.item&&tt(We,G.item.created,28*D)})},FILE_AGE_DECAY_90D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_AGE_DECAY_90D,value:G.item&&tt(We,G.item.created,90*D)})},FILE_FROM_CURRENT_USER:G=>ge({id:a.Q.FILE_FROM_CURRENT_USER,value:G.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:G=>He({id:a.Q.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:G,extractionFunction:Yt,text:ut(G,_.fd.CHANNEL_NAVIGATION),multiplier:ln(G.numResults)}),FILE_LOG_PUBLIC_SHARES:G=>{var De,We;return ge({id:a.Q.FILE_LOG_PUBLIC_SHARES,value:((De=G.item)===null||De===void 0||(We=De.shares)===null||We===void 0?void 0:We.public)&&ln(Object.keys(G.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:G=>{var De,We;return ge({id:a.Q.FILE_LOG_PRIVATE_SHARES,value:((De=G.item)===null||De===void 0||(We=De.shares)===null||We===void 0?void 0:We.private)&&ln(Object.keys(G.item.shares.private).length)})},FILE_LOG_ACTIONS:G=>{var De;return ge({id:a.Q.FILE_LOG_ACTIONS,value:((De=G.item)===null||De===void 0?void 0:De.actions)&&ln(G.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_2H,value:tt(We,G.latestActionTs,2*L)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_7D,value:tt(We,G.latestActionTs,7*D)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_90D,value:tt(We,G.latestActionTs,90*D)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_2H,value:tt(We,G.latestShareTs,2*L)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_7D,value:tt(We,G.latestShareTs,7*D)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_90D,value:tt(We,G.latestShareTs,90*D)})},FILE_CHANNEL_CTR:G=>ge({id:a.Q.FILE_CHANNEL_CTR,value:G.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:G=>ge({id:a.Q.FILE_SUGGESTIONS_SEARCHER,value:G.fileSuggestionsFromSearcher}),FILE_USER_CTR:G=>ge({id:a.Q.FILE_USER_CTR,value:G.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:G=>He({id:a.Q.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:G,extractionFunction:on,text:ut(G,_.fd.FILE_NAVIGATION)}),FILE_IS_CANVAS:G=>ge({id:a.Q.FILE_IS_CANVAS,value:yt(G,"quip")}),FILE_HAS_DMS_WITH_CREATOR:G=>ge({id:a.Q.FILE_HAS_DMS_WITH_CREATOR,value:G.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:G=>ge({id:a.Q.FILE_HAS_DMS_WITH_CREATOR_V2,value:G.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:rn(We,parseFloat((ae=G.lastReadTs)!==null&&ae!==void 0?ae:"")/1e3,90*D)})},APP_NAME_PREFIX_MATCH:G=>{var De;return He({id:a.Q.APP_NAME_PREFIX_MATCH,suggestion:G,extractionFunction:Rt,text:(De=G.item)===null||De===void 0?void 0:De.appName})},BEST_NAME_MATCH_LOG_RESULTS:G=>ge({id:a.Q.BEST_NAME_MATCH_LOG_RESULTS,value:G.bestNameIsExactMatch&&ln(G.numResults)}),SLASH_COMMAND_USER_CTR:G=>{var De;return ge({id:a.Q.SLASH_COMMAND_USER_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:G=>{var De;return ge({id:a.Q.WORKFLOW_TRIGGER_USER_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:G=>{var De;return ge({id:a.Q.GLOBAL_ACTION_USER_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:G=>{var De;return ge({id:a.Q.CHANNEL_ACTION_USER_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},APP_ACTION_USER_CTR:G=>{var De;return ge({id:a.Q.APP_ACTION_USER_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:G=>{var De;return ge({id:a.Q.SLASH_COMMAND_TEAM_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:G=>{var De;return ge({id:a.Q.WORKFLOW_TRIGGER_TEAM_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:G=>{var De;return ge({id:a.Q.GLOBAL_ACTION_TEAM_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:G=>{var De;return ge({id:a.Q.CHANNEL_ACTION_TEAM_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},APP_ACTION_TEAM_CTR:G=>{var De;return ge({id:a.Q.APP_ACTION_TEAM_CTR,value:(De=G.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:G=>ge({id:a.Q.SHORTCUT_ENTITY_TYPE_CTR,value:G.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:G=>ge({id:a.Q.EXACT_MATCH_LOG_RESULTS,value:(G.isExactMatch?1:0)*ln(G.numResults)}),HISTORY_AGE_DECAY_2H:(G,De)=>{let{now:We}=De;return ge({id:a.Q.HISTORY_AGE_DECAY_2H,value:tt(We,G.historyTs,2*L)})},HISTORY_AGE_DECAY_7D:(G,De)=>{let{now:We}=De;return ge({id:a.Q.HISTORY_AGE_DECAY_7D,value:tt(We,G.historyTs,7*D)})},HISTORY_POSITION:G=>ge({id:a.Q.HISTORY_POSITION,value:G.historyPosition}),MEMBER_OF_SEARCHER_DEFAULT_TEAM:G=>ge({id:a.Q.MEMBER_OF_SEARCHER_DEFAULT_TEAM,value:G.isMemberOfSearcherDefaultTeam}),HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER:G=>ge({id:a.Q.HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER,value:(G.numWorkspacesIntersectingWithSearcher||0)>0}),NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER:G=>ge({id:a.Q.NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER,value:G.numWorkspacesIntersectingWithSearcher||0})};class nt{serialize(){const De=new y;this.featureList.forEach(it=>Fe({feature:it,serializer:De}));const We=De.serialize();return`${this.featuresVersion}:${We}`}valueForFeature(De){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(De==null)return S().error(`Invalid feature id: ${De}`),null;const it=this.featureList.find(Nt=>Nt.id===De);if(!(0,o.A)(it))return We?Pe(it)||"":Se(it)||0}static fromSuggestion(De,We){const it=Date.now()/1e3,Nt=!!(0,E.NB)(De.item),sn=!!((0,d.rW)(De.item)||(0,d.Zp)(De.item)),en=Nt&&(0,E.fy)(De.item),_n={itemIsChannel:sn,itemIsMember:Nt,now:it,isCurrentUser:en,source:We};return new this(at(De,We).map(Dn=>Ge[Dn]&&Ge[Dn](De,_n)||null))}constructor(De){this.featureList=De,this.featuresVersion="v8"}}h(nt,"SuggestionFeatureVector");function at(G,De){return De==="slash-command-menu"?[...P.globalFeatures]:G.suggestionType===_.fd.USER_NAVIGATION?[...P.globalFeatures,...P.userFeatures]:G.suggestionType===_.fd.CHANNEL_NAVIGATION?[...P.globalFeatures,...P.channelFeatures]:G.suggestionType===_.fd.MPIM_NAVIGATION?[...P.globalFeatures,...P.mpimFeatures]:G.suggestionType===_.fd.VIEW_NAVIGATION?[...P.globalFeatures,...P.viewFeatures]:G.suggestionType===_.fd.FILE_NAVIGATION?[...P.globalFeatures,...P.fileFeatures,...P.queryFeatures]:G.suggestionType===_.fd.LINK_NAVIGATION?[...P.globalFeatures,...P.linkFeatures]:G.suggestionType===_.fd.MODAL_NAVIGATION?[...P.globalFeatures,...P.modalFeatures]:G.suggestionType===_.fd.TEAM_NAVIGATION?[...P.globalFeatures,...P.teamFeatures]:G.type==="emoji"?[...P.globalFeatures,...P.emojiFeatures]:G.type==="broadcastKeyword"?[...P.globalFeatures,...P.broadcastKeywordFeatures]:G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER?[...P.globalFeatures,...P.queryFeatures]:G.suggestionType===_.fd.APP_ACTION?[...P.globalFeatures,...P.shortcutFeatures,...P.appActionFeatures]:G.suggestionType===_.fd.SLASH_COMMAND?[...P.globalFeatures,...P.shortcutFeatures,...P.slashCommandFeatures]:G.suggestionType===_.fd.GLOBAL_ACTION?[...P.globalFeatures,...P.shortcutFeatures,...P.globalActionFeatures]:G.suggestionType===_.fd.CHANNEL_ACTION?[...P.globalFeatures,...P.shortcutFeatures,...P.channelActionFeatures]:G.suggestionType===_.fd.WORKFLOW_TRIGGER?[...P.globalFeatures,...P.shortcutFeatures,...P.workflowTriggerFeatures]:G.suggestionType===_.fd.APP?[...P.globalFeatures,...P.appFeatures]:G.suggestionType===_.fd.MESSAGE_NAVIGATION?[...P.globalFeatures,...P.messageFeatures]:G.suggestionType===_.fd.QUERY_HISTORY?[...P.globalFeatures,...P.queryFeatures]:P.globalFeatures}h(at,"getFeaturesForExtraction");class Ve{constructor({id:De,value:We}){De==null&&S().error(`Invalid feature id: ${De}`);const it=M(De);it||S().error(`Missing feature name for id: ${De}`),this.id=De,this.name=it,this.valueOrNull=We}}h(Ve,"Feature");function Se(G){return typeof G.valueOrNull=="number"&&isFinite(G.valueOrNull)?G.valueOrNull:typeof G.valueOrNull=="boolean"&&G.valueOrNull?1:0}h(Se,"getNumericValueForFeature");function Pe(G){return G.valueOrNull===null||G.valueOrNull===void 0?"":G.valueOrNull.toString()}h(Pe,"getStringValueForFeature");function Fe(G){let{feature:De,serializer:We}=G;De.valueOrNull===null&&We.writeNullFeature(),typeof De.valueOrNull=="number"&&We.writeNumericalFeature(De.valueOrNull,De.id),typeof De.valueOrNull=="boolean"&&We.writeBinaryFeature(De.valueOrNull,De.id),typeof De.valueOrNull=="string"&&We.writeTextFeature(De.valueOrNull,De.id)}h(Fe,"serializeFeature");function ge(G){let{id:De,value:We}=G;const it=(0,o.A)(We)?null:We;return new Ve({id:De,value:it})}h(ge,"makeFeature");function He(G){let{id:De,suggestion:We,extractionFunction:it,text:Nt=we(We),multiplier:sn=1}=G;if(!Nt)return ge({id:De,value:null});const en=it({text:Nt,query:We.query||"",normalizedQuery:We.normalizedQuery||""}),_n=en===!0?1:en===!1?0:en;return ge({id:De,value:(_n??0)*sn})}h(He,"makeTextFeature");function Qe(G){let De=null;return(G.suggestionType===_.fd.QUERY||G.suggestionType===_.fd.QUERY_USER||G.suggestionType===_.fd.CHANNEL_NAVIGATION||G.suggestionType===_.fd.MPIM_NAVIGATION||G.suggestionType===_.fd.USER_NAVIGATION||G.suggestionType===_.fd.TEAM_NAVIGATION||G.suggestionType===_.fd.VIEW_NAVIGATION||G.suggestionType===_.fd.FILE_NAVIGATION)&&(De=G.frecencyScore),De}h(Qe,"getFrecencyScoreForSuggestion");function _e(G){let De=null;return G.suggestionType===_.fd.QUERY&&G.lastSuggestionToken&&G.lastSuggestionToken.type===_.S6.API&&(De=G.lastSuggestionToken.querySuggestionScore),De}h(_e,"getQuerySuggestionScoreV2");function Le(G){let De=null;return G.suggestionType===_.fd.FILE_NAVIGATION&&(De=G.rawScore),De}h(Le,"getFileSuggestionScore");function Ie(G){return G&&G.lastSuggestionToken?G.lastSuggestionToken.toString():""}h(Ie,"getLastSuggestionTokenString");function we(G){return Ot(G)?Ie(G):G.suggestionType===_.fd.FILE_NAVIGATION?G.name:null}h(we,"getTextOrNullFromQuerySuggestion");function ze(G){return G.isNavigational||G.isAction||G.isApp?G.name:null}h(ze,"getTextOrNullFromNavigationalSuggestion");function ut(G,De){return G.suggestionType===De?G.name:null}h(ut,"getTextOrNullFromSuggestionWithType");function _t(G){return G.suggestionType===_.fd.USER_NAVIGATION||(0,o.A)(G.name)?null:G.name}h(_t,"getTextOrNullFromSuggestionNotUser");function yt(G,De){return G.suggestionType!==_.fd.FILE_NAVIGATION?!1:G.fileType===De}h(yt,"isFileTypeMatch");function Ot(G){return G.lastSuggestionToken?G.lastSuggestionToken.type===_.S6.STRING||G.lastSuggestionToken.type===_.S6.PHRASE||G.lastSuggestionToken.type===_.S6.API:!1}h(Ot,"isActiveTokenStringLike");function It(G){return G.lastTokenMemberOrNull&&G.lastTokenMemberOrNull.profile&&G.lastTokenMemberOrNull.profile.first_name}h(It,"getLastTokenUserFirstName");function kt(G){return G.lastTokenMemberOrNull&&G.lastTokenMemberOrNull.profile&&G.lastTokenMemberOrNull.profile.last_name}h(kt,"getLastTokenUserLastName");function gt(G){return G.lastTokenMemberName||G.lastTokenChannelName||null}h(gt,"lastTokenName");function Gt(G){return G?G.im&&G.lastReadImTs?G.lastReadImTs:G.remoteImMetadata&&G.lastReadRemoteImMetadataTs?(G.lastReadRemoteImMetadataTs/1e6).toString():null:null}h(Gt,"imLastReadFromLocalClientElseCachedRemote");function Pt(G){return G?G.mpimFeatures&&G.mpimFeatures.lastReadTs?G.mpimFeatures.lastReadTs:G.remoteMpimMetadata&&G.lastReadRemoteMpimMetadataTs?(G.lastReadRemoteMpimMetadataTs/1e6).toString():null:null}h(Pt,"mpimLastReadFromLocalClientElseCachedRemote");function jt(G){return G?G.remoteMpimMetadata&&G.remoteMpimMembershipCount?G.remoteMpimMembershipCount:G.mpimFeatures&&G.mpimFeatures.membershipCount?G.mpimFeatures.lastReadTs:null:null}h(jt,"mpimMembershipCountFromCachedRemoteElseLocalClient");function Qt(G){let{text:De,query:We}=G;return De===We}h(Qt,"isExactMatch");function Jt(G){let{text:De,query:We}=G;return!!(We&&De&&(0,n.A)(De,We))}h(Jt,"isPrefixMatch");function Yt(G){let{text:De,normalizedQuery:We}=G;return(0,i.B)(De).replace(/^[@#]/g,"")===We}h(Yt,"isNormalizedExactMatch");function Rt(G){let{text:De,normalizedQuery:We}=G;const it=(0,i.B)(De).replace(/^[@#]/g,"");return!!(it&&We&&(0,n.A)(it,We))}h(Rt,"isNormalizedPrefixMatch");function Bt(G){let{text:De,query:We}=G;return(0,c.A)(De).length+((0,l.A)(De," ")?1:0)===(0,c.A)(We).length}h(Bt,"stringSameNumberWordsValueFromSuggestion");function dn(G){let{text:De,query:We}=G;return Math.max(0,De.length-We.length)}h(dn,"excessStringLengthValueFromSuggestion");function Mt(G){let{text:De,query:We}=G;return De.length>0?We.length/De.length:0}h(Mt,"queryRatioLengthValueFromSuggestion");function Ye(G){let{text:De,normalizedQuery:We}=G;return Yt({text:De,normalizedQuery:We})&&We.length>1?2**-We.length:null}h(Ye,"queryLengthDecayNormalMatch");function ot(G){let{normalizedQuery:De}=G;return De.length}h(ot,"queryLength");function ht(G){let{text:De}=G;return De.length}h(ht,"suggestionTextLength");function tt(G,De,We){if(De){var it;return Math.min(1,Math.exp(Math.log(.5)/We*((it=ct(G,De))!==null&&it!==void 0?it:0)))}return 0}h(tt,"expAgeDecay");function ct(G,De){return De?Math.max(0,G-De):null}h(ct,"age");function rn(G,De,We){if(!De)return!0;const it=ct(G,De);return!it||it>We}h(rn,"ageLatestOlderOrMissing");function ln(G){return G>0?Math.log1p(G):0}h(ln,"log1pSafe");function on(G){let{text:De,normalizedQuery:We}=G;const it=(0,i.B)(De).replace(/^[@#]/g,"");return!!(it&&We&&it.includes(We))}h(on,"stringContainsQueryNormalized")},687912091:(B,A,e)=>{"use strict";e.d(A,{A:()=>oe});var t=e(3367239067),s=e(9087248458),o=e(7174777686),n=e(3783303734),c=e(362134992),l=e(1703559452),i=e(9816084745),a=e(2947229296),r=e(4967628800),d=e(2774332202),m=e(4378915552),f=e(9963560),u=e(8859166048),E=e(6928237551),v=e(1240477450),g=e(5887324738);function T(me){var pe;const Te=(pe=me.actions)===null||pe===void 0?void 0:pe[0];if(!Te)return 0;const Me=parseFloat(Te.ts);return isNaN(Me)?0:Me}h(T,"getLatestActionTs");var p=e(353071615),O=e(5630795175),y=e(7492291136),C=e(6182787245),I=e(7411813784),M=e(5254810421),_=e(8109929092),P=e(582504988),b=e(3122619948),S=e(6251135763),N=e(3893119100),L=e(8434441814),D=e(1041273904),k=e(2129739577),x=e(4962023056),R=e(9747267467),U=e(7188858884);class F extends x.F{fetchData(){return(0,U.Qw)(this.teamId,(0,k.ej)({reason:"AutocompleteModelCache"})).catch(pe=>({model:null,exception:pe})).then(pe=>{const Te={model:null};if(pe.model){const Me=(0,D.A)(Object.entries(pe.model).map(Ue=>{let[xe,Ne]=Ue;return[xe.toUpperCase(),Ne]}));Te.model=new R.t(Me,!0)}else return null;return Te})}constructor(pe){super(),this.teamId=pe}}h(F,"AutocompleteModelCache");let W=null;function w(me){return W||(W=new F(me)),W}h(w,"getAutocompleteModelCache");var K=e(8692782601),j=e(4923152936),Q=e(7355875187);const J=new R.t({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_DEACTIVATED:-.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),z=new R.t({FRECENCY_LOG_ITEM_COUNT:1}),ie=new R.t({FRECENCY:1}),ee=new R.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),ne=new R.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),Z=new R.t({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),te=new R.t({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),ue={testing:Z,testing_2:te,frecency:ie,autocompleteFallback:J,shortcuts1:ee,shortcuts3:ne,emojiFrequentlyUsed:z};var de=e(4187033469),re=e(7874250141),V=e(7281000332),H=e(1242487384),X=e(2487025558),Y=e(3351247794),q=e(205540855),fe=e(3647263440),ce=e(6766178921),Ee=e(7116672546);const Ae=new a.Ay("search"),le="autocompleteFallback";let oe=h(class{sort(pe,Te){var Me;const Ue=(0,I.Cy)({state:pe});Ue.mark("sorter-sort-mark");const xe=this.prepSuggestions(pe,Te);this.extractFeatures(pe,xe);const Ne=this.scoreItems(pe,xe),be=((Me=this.options)===null||Me===void 0?void 0:Me.dryRun)===!0?Ne:this.sortByScore(Ne);Ue.measureAndClear("sorter-sort-mark","sorter-sort");const ke=2,Ke=this.boostExactMatches(be,ke);return this.forceMatches(Ke)}boostExactMatches(pe,Te){const Me=pe.slice(0,Te),Ue=[],xe=[];for(let Ne=Te;Ne<pe.length;Ne++){const be=pe[Ne];be.isExactMatch||be.bestNameIsExactMatch?Ue.push(be):xe.push(be)}return[...Me,...Ue,...xe]}forceMatches(pe){var Te,Me;return!((Te=this.options)===null||Te===void 0)&&Te.selfFirst&&!(!((Me=pe[0])===null||Me===void 0)&&Me.isSelf)?[...(0,t.A)(pe,xe=>xe.isSelf),...pe]:pe}getModel(pe,Te){let Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const Ue={model:ue[pe]};if(!Me&&Te){const Ne=w(Te).getStaleWhileRevalidate(Ue);return Ne===null||Ne.model===null||Ne.model===void 0?Ue:Ne}return Ue}getHistoryChannels(pe){if((0,q._Z)(pe,"sq_sorter_history")!=="treatment")return{};if(!(0,b.A)())return{};var Te;const Me=[...(Te=(0,fe.t)((0,V.Ry)()))!==null&&Te!==void 0?Te:[]];if(!Me)return{};for(let xe=0;xe<Me.length;xe++)Me[xe].position=xe+1;const Ue={};return Me.filter(xe=>!(0,N.VA)()&&xe.teamId!==this.teamId||!xe.primaryView?!1:(0,S.A)(xe.primaryView)).forEach(xe=>{if(xe.primaryView&&!(xe.primaryView in Ue)){var Ne;Ue[xe.primaryView]={ts:xe.ts/1e3,position:(Ne=xe==null?void 0:xe.position)!==null&&Ne!==void 0?Ne:-1}}}),Ue}prepSuggestions(pe,Te){var Me,Ue,xe,Ne;const be=(0,q._Z)(pe,"fe_search_context_aware_flannel_current_channel")==="on",ke=(0,P.R)(pe),Ke=(0,_.L)(pe),$=(0,r.B)((0,j.O)(this.query));if(!((Me=this.options)===null||Me===void 0)&&Me.currentChannel&&$.length<=1&&!(0,u.yz)((Ue=this.options)===null||Ue===void 0?void 0:Ue.currentChannel)&&!(0,u.LI)((xe=this.options)===null||xe===void 0?void 0:xe.currentChannel)){const He=Te.filter(Qe=>Qe.type==="member"||(0,p.NB)(Qe.item)).map(Qe=>(Qe.item||Qe).id);(0,U.Qw)(this.teamId,(0,Ee.z)({channelId:this.options.currentChannel.id,userIds:He}))}let ae=null;if(this.teamId){var Ge;ae=(0,L.S1)({teamId:this.teamId,enterpriseId:(Ge=this.enterpriseId)!==null&&Ge!==void 0?Ge:void 0}).getStaleWhileRevalidate()}const nt=Te.length,at=(0,H.WR)(pe),Ve=(0,ce.cA)(pe),Se=(0,C.dQ)(Ve),Pe=(Ne=this.options)===null||Ne===void 0?void 0:Ne.currentChannel,Fe=this.getHistoryChannels(pe),ge={};return Te.forEach(He=>{const Qe=He.item;(He.type==="mpim"||(0,u.yz)(He.item))&&((0,f.Ug)(Qe)||[]).forEach(Le=>{if(Le!==at){const Ie=ge[Le]||{itemCount:0,hitCount:0,membershipCount:0},we=(0,f._V)(pe,Qe),ze=we?parseFloat(we):void 0,ut=(0,X.b5)(pe,Qe.id),_t=ut?parseFloat(ut):void 0;ze&&(Ie.lastReadTs?Ie.lastReadTs=Math.max(Ie.lastReadTs,ze):Ie.lastReadTs=ze),_t&&(Ie.latestMsgTs?Ie.latestMsgTs=Math.max(Ie.latestMsgTs,_t):Ie.latestMsgTs=_t),Ie.hitCount+=(He==null?void 0:He.hitCount)||0,Ie.itemCount+=(He==null?void 0:He.itemCount)||0,Ie.membershipCount+=1,ge[Le]=Ie}})}),Te.map(He=>{const Qe=He.item||He,_e={...He,query:this.query,normalizedQuery:$,id:Qe.id,suggestionType:K.fd.UNKNOWN,numResults:nt};if(He.type==="member"||(0,p.NB)(He.item)){var Le,Ie,we,ze;const Mt=Qe.id&&(0,Y.Pu)(pe,Qe.id),Ye=Qe.id&&ae&&ae.getUserDmChannelMetadata(Qe.id);_e.remoteImMetadata=Ye;const ot=Qe.id&&ae&&ae.getUserMpdmChannelMetadata(Qe.id);if(_e.remoteMpimMetadata=ot,_e.im=Mt,_e.latestImTs=Mt&&(0,X.b5)(pe,Mt.id),_e.imHasDraft=Mt&&(0,f.yc)(pe,Mt.id),_e.imIsStarred=Mt&&(0,f.m2)(pe,Mt),_e.name=(0,O.Gt)(He.item),_e.lastReadImTs=(0,f._V)(pe,Mt),_e.lastReadRemoteImMetadataTs=Ye==null?void 0:Ye.last_read_abs,_e.lastReadRemoteMpimMetadataTs=ot==null?void 0:ot.last_read_abs,_e.remoteMpimMembershipCount=ot==null?void 0:ot.membership_count,this.enterpriseId&&this.enterpriseId===((Le=He.item)===null||Le===void 0?void 0:Le.enterprise_id)){const ct=(0,re.kN)(pe)||[],rn=(0,re.E$)(pe),ln=He.item.enterprise_user.teams||[],on=(0,s.A)(ct,ln);_e.isMemberOfSearcherDefaultTeam=(0,o.A)(on,rn),_e.numWorkspacesIntersectingWithSearcher=(0,n.A)(on)}if((0,C.dQ)(He.item)===Se&&(_e.sameTeam=!0),Pe)if((0,u.yz)(Pe)){var ut,_t;_e.isMemberOfCurrentChannel=(_t=Pe==null||(ut=Pe.members)===null||ut===void 0?void 0:ut.includes(He.item.id))!==null&&_t!==void 0?_t:!1}else(0,u.LI)(Pe)||(_e.isMemberOfCurrentChannel=(0,Q.B)(pe,Qe,Pe));!((Ie=this.options)===null||Ie===void 0)&&Ie.currentThreadUsers&&(_e.isMemberOfCurrentThread=this.options.currentThreadUsers.includes(Qe.id)),_e.priority=(0,f.dh)(pe,Mt),_e.suggestionType=K.fd.USER_NAVIGATION,_e.isNavigational=!0,_e.historyTs=Mt&&((we=Fe[Mt.id])===null||we===void 0?void 0:we.ts),_e.historyPosition=Mt&&((ze=Fe[Mt.id])===null||ze===void 0?void 0:ze.position);const tt=ge[Qe.id];tt&&(_e.mpimFeatures=tt)}else _e.name=Qe.name||Qe.string;if(He.type==="channel"||(0,u.jq)(He.item)){var yt,Ot;_e.suggestionType=K.fd.CHANNEL_NAVIGATION,_e.isNavigational=!0,_e.isChannelMember=(0,u.rW)(Qe)&&!(0,v.F)(Qe)&&(0,g.bl)(Qe),_e.hasDraft=(0,f.yc)(pe,Qe.id),_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"channel"),_e.historyTs=(yt=Fe[Qe.id])===null||yt===void 0?void 0:yt.ts,_e.historyPosition=(Ot=Fe[Qe.id])===null||Ot===void 0?void 0:Ot.position,_e.latestTs=ke?(0,X.U1)(pe,Qe.id):(0,X.b5)(pe,Qe.id),_e.lastReadTs=(0,f._V)(pe,Qe),_e.priority=(0,f.dh)(pe,Qe),_e.isStarred=(0,f.m2)(pe,Qe)}if(He.type==="mpim"||(0,u.yz)(He.item)){var It,kt;_e.suggestionType=K.fd.MPIM_NAVIGATION,_e.isNavigational=!0;const Mt=(0,f.Ug)(Qe)||[],Ye=_e.normalizedQuery.split(" ");_e.mpimNumOtherMembersEqualsNumQueryWords=(0,n.A)(Ye)===(0,n.A)(Mt)-1;const ot=Mt.map(on=>(0,ce.nv)(pe,on));if((0,n.A)(_e.normalizedQuery)>0){const on=h(it=>{const Nt=(0,c.A)(ot.map(sn=>{if((0,p.fy)(sn))return null;const en=sn==null?void 0:sn.real_name;return en&&it.filter(On=>On.length>1).some(On=>en.toLowerCase().startsWith(On.toLowerCase()))?en:null}));return(0,n.A)(Nt)===(0,n.A)(Mt)-1},"allOtherMembersHavePrefixMatch"),G=_e.normalizedQuery.split(" ").map(it=>it.trim()).filter(it=>(0,n.A)(it)>0),De=G.reduce((it,Nt,sn,en)=>(sn%2===0&&(sn===en.length-1?it.push(Nt):it.push(`${Nt} ${en[sn+1]}`)),it),[]),We=_e.normalizedQuery.split(",").map(it=>it.trim()).filter(it=>(0,n.A)(it)>0);_e.allOtherMemberNamesHavePrefixMatch=on(G)||on(De)||on(We)}_e.isMpimWithDeactivatedMember=(0,l.A)(ot,on=>(0,p.oy)(on)||(0,p.eJ)(on)),_e.isMpimWithOnlyInternalMembers=(0,i.A)(ot,on=>!(0,y.g)(on)),_e.hasDraft=(0,f.yc)(pe,Qe.id),_e.name=(0,f.Oi)(pe,He.item),_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"mpim"),_e.historyTs=(It=Fe[Qe.id])===null||It===void 0?void 0:It.ts,_e.historyPosition=(kt=Fe[Qe.id])===null||kt===void 0?void 0:kt.position,_e.priority=(0,f.dh)(pe,Qe),_e.maxLastReadTsOfAllMembers=null,_e.maxLatestMsgTsOfAllMembers=null;let ht=0,tt=0,ct=0,rn=0,ln=0;ot.forEach(on=>{if(on.id!==at){const We=on.id?(0,Y.Pu)(pe,on.id):void 0,it=We&&(0,f._V)(pe,We),Nt=on.id&&ae&&ae.getUserDmChannelMetadata(on.id),sn=Nt&&Nt.last_read_abs/1e6,en=We||Nt,_n=it?parseFloat(it):sn;if(en){if(ln+=1,_n){ct+=1;var G;_e.maxLastReadTsOfAllMembers=Math.max((G=_e.maxLastReadTsOfAllMembers)!==null&&G!==void 0?G:-1/0,_n),ht+=_n}const Dn=(0,X.b5)(pe,We==null?void 0:We.id),On=We&&Dn?parseFloat(Dn):void 0;if(On){rn+=1;var De;_e.maxLatestMsgTsOfAllMembers=Math.max((De=_e.maxLatestMsgTsOfAllMembers)!==null&&De!==void 0?De:-1/0,On),tt+=On}}}}),_e.avgLastReadTsOfAllMembers=ht===0?null:ht/ct,_e.avgLatestMsgTsOfAllMembers=tt===0?null:tt/rn,_e.pctNonEmptyDmsForAllMembers=ct/(ot.length-1)*100,_e.pctNonNullDmsForAllMembers=ln/(ot.length-1)*100,Ke&&(_e.membersForEscapeHatchQuery=ot)}if(He.type==="team"&&(_e.suggestionType=K.fd.TEAM_NAVIGATION,_e.isNavigational=!0),He.type==="view"&&(_e.suggestionType=K.fd.VIEW_NAVIGATION,_e.isNavigational=!0),He.type==="appAction"&&(_e.suggestionType=K.fd.APP_ACTION,_e.isAction=!0,_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"appAction")),He.type==="app"&&(_e.suggestionType=K.fd.APP,_e.isApp=!0),He.type==="emoji"&&(_e.name=_e.emojiBestNameMatch,_e.suggestionType=K.fd.EMOJI,_e.isNavigational=!0,_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"emoji")),He.type==="slashCommand"){var gt;_e.suggestionType=K.fd.SLASH_COMMAND,_e.isApp=!0,_e.name=(gt=_e.name)===null||gt===void 0?void 0:gt.substring(1),_e.firstWordOfRawQuery&&(_e.query=_e.firstWordOfRawQuery,_e.normalizedQuery=_e.firstWordOfRawQuery),_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"slashCommand")}if(He.type==="globalAction"&&(_e.suggestionType=K.fd.GLOBAL_ACTION,_e.isApp=!0,_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"globalAction")),He.type==="quipShortcutCommand"&&(_e.suggestionType=K.fd.QUIP_SHORTCUT),He.type==="canvasAiSuggestion"&&(_e.suggestionType=K.fd.CANVAS_AI_SUGGESTION),He.type==="channelAction"&&(_e.suggestionType=K.fd.CHANNEL_ACTION,_e.isApp=!0,_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"channelAction")),He.type==="workflowTrigger"&&(_e.suggestionType=K.fd.WORKFLOW_TRIGGER,_e.isApp=!0,_e.offlineFeatures=ae&&ae.getFeatures(He.item.id,"workflowTrigger")),He.type==="file"){_e.suggestionType=K.fd.FILE_NAVIGATION,_e.isNavigational=!0,_e.fileSuggestionsFromSearcher=!0;const Mt=_e.item;_e.id=Mt.id,_e.fileId=Mt.id,_e.logId=Mt.id,_e.fileType=Mt.highlight_type||Mt.filetype,_e.name=Mt.title,_e.fileTypeDescription=Mt.is_external?(0,d.A)(Mt):Mt.pretty_type,_e.fileTypeDescription==="Arugula"&&(_e.fileTypeDescription=Ae.t("Post")),_e.fromCurrentUser=Mt.user===at;const Ye=Mt.user&&(0,Y.Pu)(pe,Mt.user),ot=Mt.user&&ae&&ae.getUserDmChannelMetadata(Mt.user);if(_e.hasNonNullDmsWithCreator=Ye!==null,_e.hasNonNullLocalOrRemoteDmsWithCreator=Ye!==null||ot!==null,_e.lastReadTs=Mt.last_read,Mt.shares){const tt=Mt.shares.public&&Math.max(...Object.values(Mt.shares.public).flatMap(rn=>rn.map(ln=>ln.ts?parseFloat(ln.ts):-1/0))),ct=Mt.shares.private&&Math.max(...Object.values(Mt.shares.private).flatMap(rn=>rn.map(ln=>ln.ts?parseFloat(ln.ts):-1/0)));tt&&ct?_e.latestShareTs=tt>ct?tt:ct:_e.latestShareTs=tt||ct}const ht=T(Mt);if(ht&&(_e.latestActionTs=ht),ae){const tt=Mt.channels&&Array.isArray(Mt.channels)&&Mt.channels.length&&Math.max(...Mt.channels.map(rn=>ae.getFeatures(rn,"channel").user_ctr_30dd)),ct=Mt.groups&&Array.isArray(Mt.groups)&&Mt.groups.length&&Math.max(...Mt.groups.map(rn=>ae.getFeatures(rn,"mpim").user_ctr_30dd));tt>0&&ct>0?_e.fileChannelCtr=Math.max(tt,ct):tt>0?_e.fileChannelCtr=tt:ct>0&&(_e.fileChannelCtr=ct),Mt.user?_e.fileUserCtr=ae.getFeatures(Mt.user,"member").user_ctr_30dd:_e.fileUserCtr=ae.getEntityCtr("member")}}if(He.type==="link"&&(_e.suggestionType=K.fd.LINK_NAVIGATION,_e.isNavigational=!0,_e.name=He.item.title||He.item.url),He.type==="modal"&&(_e.suggestionType=K.fd.MODAL_NAVIGATION,_e.name=He.item.name),He.type==="queryHistory"&&(_e.suggestionType=K.fd.QUERY_HISTORY,_e.is_type_query_history=!0,_e.id=(0,M.B)(He.id||He.name||He.string),_e.logId=_e.id,_e.exact_string=He.string),He.type==="query"||He.type==="queryUser"||He.type==="queryHistory"){var Gt,Pt,jt;if(_e.is_type_query_completion=!0,_e.lastSuggestionToken=!_e.suggestionTokenList||_e.suggestionTokenList.length<1?null:_e.suggestionTokenList[_e.suggestionTokenList.length-1],be&&_e.suggestionTokenList){var Qt,Jt;let ht=!1;for(const ct of _e.suggestionTokenList)if((ct==null?void 0:ct.type)===K.S6.FILTER_IN){ht=!0;break}if(Pe)if((0,u.yz)(Pe)){var Yt,Rt;_e.isMemberOfCurrentChannel=(Rt=Pe==null||(Yt=Pe.members)===null||Yt===void 0?void 0:Yt.includes(He.item.id))!==null&&Rt!==void 0?Rt:!1}else(0,u.LI)(Pe)||(_e.isMemberOfCurrentChannel=(0,Q.B)(pe,Qe,Pe));const tt=(((Qt=_e.lastSuggestionToken)===null||Qt===void 0?void 0:Qt.type)===K.S6.FILTER_FROM||((Jt=_e.lastSuggestionToken)===null||Jt===void 0?void 0:Jt.type)===K.S6.FILTER_WITH)&&ht;_e.isMemberFilterAndHasPreviousChannelFilter=tt}_e.frecencyScore=_e.lastSuggestionToken&&_e.lastSuggestionToken._frecencyScore,_e.scoringContext=((Gt=_e.lastSuggestionToken)===null||Gt===void 0?void 0:Gt._scoringContext)||{},_e.lastTokenMemberOrNull=null,_e.lastTokenChannelOrNull=null;const Mt=_e.lastSuggestionToken&&(_e.lastSuggestionToken.type===K.S6.FILTER_FROM||_e.lastSuggestionToken.type===K.S6.FILTER_TO||_e.lastSuggestionToken.type===K.S6.FILTER_WITH),Ye=_e.lastSuggestionToken&&_e.lastSuggestionToken.type===K.S6.FILTER_IN;if(!((Pt=_e.lastSuggestionToken)===null||Pt===void 0)&&Pt._id&&(_e.lastTokenMemberOrNull=Mt&&(0,ce.nv)(pe,_e.lastSuggestionToken._id),_e.lastTokenChannelOrNull=Ye&&((0,Y.OL)(pe,_e.lastSuggestionToken._id)||(0,Y.Pu)(pe,_e.lastSuggestionToken._id)),_e.priority=_e.lastTokenChannelOrNull?(0,f.dh)(pe,_e.lastTokenChannelOrNull):void 0),_e.lastSuggestionToken&&_e.lastSuggestionToken._name&&(_e.lastTokenMemberOrNull||(_e.lastTokenMemberOrNull=Mt&&(0,ce.H6)(pe,_e.lastSuggestionToken._name)),_e.lastTokenChannelOrNull||(_e.lastTokenChannelOrNull=Ye&&(0,Y.Os)(pe,_e.lastSuggestionToken._name))),(0,m.GU)(_e.lastTokenMemberOrNull)&&(_e.lastTokenMemberOrNull=null),_e.lastTokenMemberName=(0,O.Gt)(_e.lastTokenMemberOrNull)||void 0,(0,m.GU)(_e.lastTokenChannelOrNull))_e.lastTokenChannelOrNull=null;else{const ht=(0,f._V)(pe,_e.lastTokenChannelOrNull);_e.lastTokenChannelLastRead=ht?parseFloat(ht):void 0,_e.lastTokenChannelIsStarred=(0,f.m2)(pe,_e.lastTokenChannelOrNull)}_e.lastTokenChannelName=(0,E.SB)(pe,_e.lastTokenChannelOrNull)||void 0,_e.lastTokenIm=_e.lastTokenMemberOrNull&&_e.lastTokenMemberOrNull.id?(0,Y.Pu)(pe,_e.lastTokenMemberOrNull.id):void 0,_e.lastTokenImLatest=(0,X.b5)(pe,(jt=_e.lastTokenIm)===null||jt===void 0?void 0:jt.id);const ot=(0,f._V)(pe,_e.lastTokenIm);ot&&(_e.lastTokenImLastRead=ot?parseFloat(ot):void 0),_e.lastTokenIm&&(_e.priority=(0,f.dh)(pe,_e.lastTokenIm)),_e.lastTokenImIsStarred=(0,f.m2)(pe,_e.lastTokenIm)}if(He.type==="query"&&(_e.suggestionType=K.fd.QUERY),He.type==="queryUser"&&(_e.suggestionType=K.fd.QUERY_USER),He.type==="queryConvoSearch"&&(_e.suggestionType=K.fd.QUERY_CONVO_SEARCH),He.type==="queryHistory"&&(_e.suggestionType=K.fd.QUERY_HISTORY),He.type==="querySalesforce"&&(_e.suggestionType=K.fd.QUERY_SALESFORCE),He.type==="query"||He.type==="queryUser"||He.type==="queryConvoSearch"||He.type==="queryHistory"||He.type==="querySalesforce"){var Bt;_e.normalizedQuery=(0,r.B)((0,j.O)(_e.query)),_e.logId=((Bt=_e.lastSuggestionToken)===null||Bt===void 0?void 0:Bt.logId)||"";var dn;_e.name=((dn=_e.suggestionTokenList)!==null&&dn!==void 0?dn:[]).map(Mt=>Mt.toString()).join(" ")}return He.type==="quickMessage"&&(_e.isNavigational=!0,_e.suggestionType=K.fd.MESSAGE_NAVIGATION),_e.entityTypeCtr=ae?ae.getEntityCtr(He.type):void 0,_e})}extractFeatures(pe,Te){Te.forEach(Me=>{var Ue;const xe=(0,de.Tv)(Me,(Ue=this.options)===null||Ue===void 0?void 0:Ue.source);this.featureVectors[Me.id]=xe})}selectModelForScoring(){return this.model}scoreItems(pe,Te){var Me;const Ue={source:(Me=this.options)===null||Me===void 0?void 0:Me.source},xe=this.selectModelForScoring();return Te.map(Ne=>{var be;const ke=this.featureVectors[Ne.id],Ke=xe.score(ke,Ue);let $;return!((be=this.options)===null||be===void 0)&&be.explain&&($=xe.explain(ke,Ue)),{...Ne,modelScore:Ke,featureVectorRaw:ke,explain:$}})}sortByScore(pe){var Te,Me;return pe.sort((Ue,xe)=>((Te=xe==null?void 0:xe.modelScore)!==null&&Te!==void 0?Te:0)-((Me=Ue==null?void 0:Ue.modelScore)!==null&&Me!==void 0?Me:0))}constructor({query:pe,options:Te={},teamId:Me=null,enterpriseId:Ue=null}){this.query=pe,this.options=Te;let xe=Te.model;xe===void 0&&(xe=le);var Ne;const be=this.getModel(xe,Me||Ue,(Ne=this.options.modelLocal)!==null&&Ne!==void 0?Ne:!1);this.model=be.model,this.teamId=Me,this.enterpriseId=Ue,this.featureVectors={}}},"Sorter")},1326631049:(B,A,e)=>{"use strict";e.d(A,{Og:()=>n,Pc:()=>s,dx:()=>c,fN:()=>o});var t=e(7391036153);function s(l){const i=(0,t.A)(l);return i&&i.toLowerCase()}h(s,"normalizeName");function o(l,i){const a=s(l.replace(/^[@\uFF20]/,"")),r=s(i.replace(/^[@\uFF20]/,"")),d=a==null?void 0:a.split(/[ ._]/),m=r==null?void 0:r.split(/[ \-._]/);if(!d||!m)return!1;for(let f=0;f<d.length;f++)if(d[f].split(/[-]/)[0]===m[0])return!0;return!1}h(o,"isNameMatchGoodEnoughForRealMention");function n(l,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return s(l)===s(i.substr(a,l.length))}h(n,"isNameSubstrMatch");function c(l,i){if(!l)return null;for(let a=0;a<l.length;a++){const r=l[a];if(r.name===i||r.ms_name===i||(0,t.A)(r.name)===i)return r}return null}h(c,"getBroadcastMatch")},3774500833:(B,A,e)=>{"use strict";e.d(A,{A:()=>r});var t=e(1703559452),s=e(7174777686),o=e(7391036153),n=e(8481954889);const c=["`","\xB4","\u02C6","\xA8","\u02DC"],l=new RegExp(`[${c.join("")}]$`);function i(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(l,"")}h(i,"trim_trailing_composition_char");const a={COMPOSITION_CHARS:c};function r(d,m){let{allowPartialMatches:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!m||!d)return!1;let u=m.toLowerCase().replace(/^\uFF0F/,"/");u=(0,o.A)(u),u=i(u);const E=[(0,n.fK)(d),(0,n.Bs)(d),...(0,n.qc)(d)||[]];return(0,t.A)(E,v=>{const g=(0,o.A)(v);return f?(0,s.A)(g,u):g===u})}h(r,"is_match_for_command")},1817891065:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>l,lr:()=>i,nf:()=>a});var t=e(6313685253),s=e(4178261413),o=e(5797466484),n=e(9746734072),c=e(8840779375);function l(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,t.A)(d,(m,f,u)=>({...m,[(0,s.A)(u)]:f}),{})}h(l,"snakeCaseKeys");const i=5;function a(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2?arguments[2]:void 0;return r(d,m,f)}h(a,"snakeCaseKeysDeep");function r(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2?arguments[2]:void 0;var u;if(!(0,o.A)(d)&&!(0,n.A)(d)||m>((u=f==null?void 0:f.maxDepth)!==null&&u!==void 0?u:i)||!d)return d;const E=m+1;let v={};return(0,n.A)(d)?(0,n.A)(d)&&(v=(0,c.A)(d,g=>a(g,E,f))):v=(0,t.A)(d,(g,T,p)=>{var O;const y=!(f==null||(O=f.ignoredKeys)===null||O===void 0)&&O.includes(p)?p:(0,s.A)(p);return{...g,[y]:a(T,E,f)}},{}),v}h(r,"snakeCaseKeysDeepPrivate")},6405523064:(B,A,e)=>{"use strict";e.d(A,{Dd:()=>g,Rj:()=>p,TQ:()=>T,ZH:()=>E,_$:()=>f,ds:()=>v});var t=e(6998663753),s=e(3659369705),o=e(735855716),n=e(2691514942);const c={},l={},i={},a=(0,n.Wo)({label:"SOUND-PLAYBACK"});function r(O){return`${O}-repeat`}h(r,"createRepeatKey");const d="default";let m=!1;const f=(0,t.A)(O=>{a.info(`Setting sound playback to prefer OS default sink: ${O}`),m=O}),u=h(async function(O){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;try{if(!O||!("setSinkId"in O)||(0,s.gm)())return;let C=d;m?C=y?(0,o._o)():d:C=(0,o._o)(),a.info(`Setting sound playback sink id to ${C}`),await O.setSinkId(C)}catch(C){a.warn(`Failed to set sink id with reason: ${C}`)}},"maybeSetAudioSinkId"),E=h(async function(O){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!O)return null;const C=g(O)||T(O);C.loop=!!y.loop,C.currentTime=0;var I;C.volume=(I=y.volume)!==null&&I!==void 0?I:1,await u(C,!!y.useSlackPreferredSink);try{await C.play()}catch(M){a.warn(`Failed to play sound: ${O} with reason: ${M}`)}},"play");function v(O){let{logFailure:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const C=g(O),I=r(O),M=g(I);if(!C&&!M){y&&a.warn(`Tried to stop sound, but no sound was playing matching url: ${O}. Available cached element urls are ${Object.keys(c).join(", ")}`);return}if(M){M.pause(),clearTimeout(i[I]),l[I]=0;const _=M.src;M.src="",M.src=_}if(C){C.pause();const _=C.src;C.src="",C.src=_}}h(v,"stop");function g(O){return c[O]}h(g,"getAudioElement");function T(O){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const C=new Audio(O);y.ended&&C.addEventListener("ended",y.ended);const I=y.customCacheKey||O;return c[I]=C,C}h(T,"createAudioElement");function p(O,y,C){if(!O||!y||!C)return;const I=g(O);I&&I.removeEventListener(y,C)}h(p,"removeAudioElementListener")},9323161248:(B,A,e)=>{"use strict";e.d(A,{C8:()=>i,CE:()=>a,ND:()=>r,R$:()=>d,VN:()=>p,Xq:()=>T,zz:()=>m});var t=e(8100572746),s=e(6113216360),o=e(7831811348),n=e(9997570951),c=e(8040995713);function l(O,y){const C=(0,c.q)(O);if(C){for(const I of C.namedInputs)if(I.parameter===y)return I.value}}h(l,"extractNamedInput");function i(O){return l(O,"timezone")}h(i,"extractLocalizedTimezone");function a(O){const y=l(O,"locale");return(0,o.YI)(y)?y:void 0}h(a,"extractLocale");function r(O){return O?!!(0,c.q)(O):!1}h(r,"isIdWrappedWithMacro");function d(O){let{type:y,arrayItemType:C,id:I}=O;return y?!!m({type:y,arrayItemType:C,variableId:I}):!1}h(d,"isTypeMacroSupported");function m(O){let{type:y,callbackId:C,fromRichText:I,arrayItemType:M,variableId:_,parameterType:P}=O;var b,S;if(!((b=n.ss[y])===null||b===void 0)&&b.call(n.ss,{})){const k=n.ss[y]({parameterType:P});return f({options:k,callbackId:C,fromRichText:I})}if(y===s.TE.Array&&M){var N;const k=(N=n.Wy[M])===null||N===void 0?void 0:N.call(n.Wy);return f({options:k,callbackId:C,fromRichText:I})}if(y===s.TE.String){var L,D;return(D=u(_))!==null&&D!==void 0?D:(L=n.ss[y])===null||L===void 0?void 0:L.call(n.ss,{parameterType:P})}return(S=n.ss[y])===null||S===void 0?void 0:S.call(n.ss,{parameterType:P})}h(m,"getMacroOptions");function f(O){let{options:y,callbackId:C,fromRichText:I}=O;if(!C)return y;const M=Object.entries(y??{}).filter(_=>{let[,P]=_;const{macroDetails:b,onlyRichTextAllowed:S,disallowedCallbackIds:N,allowedCallbackIds:L}=P;return!I&&(b==null?void 0:b.outputParameter.type)==="slack#/types/blocks"||S&&!I?!1:N?!N.includes(C):L?L.includes(C):!0});return Object.fromEntries(M)}h(f,"filterMacroOptions");function u(O){if(O!=null&&O.includes("__reaction"))return n.ss[s.sR.CustomTypeEmojiReaction]({})}h(u,"getMacroOptionsFromId");function E(O,y){if(O!=null&&O.includes("__reaction"))return n.T$[s.sR.CustomTypeEmojiReaction](y)}h(E,"getDefaultMacroFromId");function v(O,y){let{type:C,variableId:I}=O;var M,_;return(_=E(I,y))!==null&&_!==void 0?_:(M=n.T$[C])===null||M===void 0?void 0:M.call(n.T$,y)}h(v,"getDefaultMacro");function g(O,y,C,I){var M,_,P,b;if(O&&(!((M=n.fU[O])===null||M===void 0||(_=M[C])===null||_===void 0)&&_.call(M,I)))return n.fU[O][C](I);if(y&&(!((P=n.fU[y])===null||P===void 0||(b=P[C])===null||b===void 0)&&b.call(P,I)))return n.fU[y][C](I)}h(g,"getDefaultMacroForStepOrApp");function T(O,y){const C=p(O,y);return C?{...O,id:C}:O}h(T,"applyDefaultMacroForVariable");function p(O,y){const{id:C,type:I,items:M,sourceSubtype:_}=O,P=M&&M.type,S=I===s.TE.Array&&P?P:I;var N;const L=(N=g(y==null?void 0:y.stepId,y==null?void 0:y.appId,S,{isReactionTriggerInsideGsheetStep:_===t.$.ReactionAdded&&(y==null?void 0:y.appId)===n.xM,parameterType:y==null?void 0:y.parameterType}))!==null&&N!==void 0?N:v({type:S,variableId:C},{parameterType:y==null?void 0:y.parameterType});if(L){var D;const k=(D=m({type:I,arrayItemType:P,callbackId:y==null?void 0:y.callbackId,variableId:C,fromRichText:y==null?void 0:y.fromRichText,parameterType:y==null?void 0:y.parameterType}))===null||D===void 0?void 0:D[L];if(k)return k.wrapWithMacro(C,y)}}h(p,"wrapIdWithDefaultMacro")},2326505157:(B,A,e)=>{"use strict";e.d(A,{A:()=>R});var t=e(4711108074),s=e.n(t),o=e(4482728737),n=e(6217320234),c=e(6313685253),l=e(8786006583),i=e(1699044291),a=e(2774532222),r=e(1022424641),d=e(6468238429),m=e(5085842209),f=e(3534237056);function u(U,F){for(let W=0;W<U.length;W++){const w=U[W];w==="`"||w==="\uFF40"||w.match(/\s/)||w.match(">")||w.match("\uFF1E")?F.delete(1):F.retain(1)}return F}h(u,"deleteBackticksAndWhitespace");function E(U,F){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const K=U&&U.ops;if(!K)return[new(s()),w];let j=new(s()),Q=!1;const J=(0,f.A)(K),z=J.match(m.qv)||J.match(m.K),ie=J.match(/```|\uFF40\uFF40\uFF40/);z!=null&&z[0]&&((z==null?void 0:z.index)||0)<((ie==null?void 0:ie.index)||0)?Q=!0:w=!1;let ee="";F&&F.ops&&(ee=(0,f.A)(F.ops));const ne=[];[d.u_,d.Xr].forEach(he=>{J.replace(he,(ue,de,re,V,H)=>{if(!re||!re.length)return;const X=J[H+ue.length],Y=X&&X.match(/\s/)?`${V}${X}`:V;ne.push({phraseToFormatPrefix:de,phraseToFormat:re,phraseToFormatSuffix:Y,matchOffset:H,backTicksStart:H+de.length-3,backTicksEnd:H+de.length+re.length+3})})});const Z=(0,n.A)(ne,"matchOffset"),te=(0,c.A)(Z,(he,ue)=>{const de=(0,l.A)(he);return(!de||de.backTicksEnd<=ue.backTicksStart)&&he.push(ue),he},[]);return(0,i.A)(te).forEach((he,ue)=>{let{phraseToFormatPrefix:de,phraseToFormat:re,phraseToFormatSuffix:V,matchOffset:H}=he,X=new(s());X.retain(H);const q=m.zd.test(de)||Q||w?1:void 0,fe=(0,a.A)(de,`
`);fe?(X.retain(1),X=u(de.substring(1),X)):X=u(de,X),!fe&&(H>0||ee&&!(0,r.A)(ee,`
`))&&X.insert(`
`);const ce=te[ue+1];ce&&H===ce.backTicksEnd&&X.insert(`
`);const Ee=re.split(`
`);if(Ee.forEach((Ae,le)=>{if(X.retain(Ae.length),le===0&&Ae.length===0)X.delete(1);else if(le!==Ee.length-1){const oe={"code-block":!0};q&&(oe.border=q),X.retain(1,oe)}}),(0,l.A)(Ee)!==""){const Ae={"code-block":!0};q&&(Ae.border=q),X.insert(`
`,Ae)}u(V,X),j=j.compose(X)}),[j,w]}h(E,"buildMarkdownChangeDeltaForCodeBlocks");var v=e(8571983633),g=e(3889517373),T=e(3411612397);const p=["*","-"];function O(U){return p.includes(U)?T.L1.BULLET:U.match(d.X$)?T.L1.ORDERED:""}h(O,"determineListTypeFromListSymbol");const y=4;function C(U,F){let W=F;const w=U&&U.ops;if(!w)return[new(s()),W];let K=new(s()),j=-1,Q="",J=0,z=!1,ie={};const ee=(0,f.A)(w),ne=[...ee.matchAll(d.u_)],Z=[],te=ee.match(m.qv)||ee.match(m.K);te!=null&&te[0]&&(z=!0,W=!0);const he=d.Dk.test(ee);return ee.replace(d.AY,(de,re,V,H,X,Y,q,fe)=>{const ce=fe,Ee=ce+re.length+V.length+H.length+X.length,Ae=O(H);if((ne||[]).some(Ne=>fe>((Ne==null?void 0:Ne.index)||0)&&Ee+Y.length<=((Ne==null?void 0:Ne.index)||0)+Ne[0].length))return;let oe=V.length?Math.floor(V.length/y):0;oe=Math.min(g.Az-1,oe);const me=ee.substring(ee.indexOf(de)),pe=ee.substring(ee.indexOf(de)-2,ee.indexOf(de));if(Ae===T.L1.ORDERED){if(!he||oe===0&&ie[oe]===void 0&&H===d.v0&&!d.IK.test(me))return;if(/\n\n/.test(pe)&&H!==d.v0){ie={};return}if((0,v.A)(ie[oe])&&H!==d.v0)return}let Te={list:Ae||!1,indent:oe,border:void 0};(re.length||z)&&(!te||fe>((te==null?void 0:te.index)||0))&&(Te={...Te,border:1});const Me=J+Q.length===fe,Ue=j!==-1&&j<oe;(!Me||Ue)&&(ie[oe]=0),j!==-1&&Me&&oe!==j&&ie[oe]>0&&(Te={...Te,offset:ie[oe]}),(0,v.A)(ie[oe])&&(ie[oe]=0),ie[oe]+=1,j=oe,Q=de,J=fe;const xe=new(s());q?xe.retain(fe).retain(de.length-1).retain(1,Te):xe.retain(fe).retain(de.length).insert(`
`,Te),K=K.compose(xe);for(let Ne=ce;Ne<Ee;Ne++)Z.push(Ne)}),Z.sort((de,re)=>re-de).forEach(de=>{K=K.compose(new(s())().retain(de).delete(1))}),[K,W]}h(C,"buildMarkdownChangeDeltaForLists");var I=e(9113979368),M=e(1703559452),_=e(3473817600),P=e(1560866828),b=e(6229842055),S=e(8928385747),N=e(5221609289);const L="mailto:";function D(U,F){const{protocol:W,pathname:w}=(0,N.Ay)(F);return W===L&&w===U?!0:U===F}h(D,"isValidLinkForMrkdwn");const k={link:[d.p7],bold:[d.wq,d.H_],italic:[d.dc,d.QX],code:[d.q6,d.j5],strike:[d.d9]};function x(U){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!U||!U.ops)return[new(s()),w];let K="";F&&F.ops&&(K=(0,f.A)(F.ops));let j=new(s()),Q=0;const J=[],z={},ie=[];if(U.eachLine((Z,te)=>{ie.push({line:Z,attributes:te})}),!ie.length)return[j,w];let ee=!1;return ie.forEach(function(Z){let{line:te,attributes:he}=Z,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var de,re,V,H,X;const Y=te&&te.ops;let q=!1,fe=!1,ce=(0,f.A)(Y);if((0,S.Zz)(he))ee=!1;else if(ee){if(q=!0,ce.match(m.zd)&&!(ce.match(m.qv)||ce.match(m.K))){var Ee;fe=!0;const Ke=((Ee=ce.match(m.zd))===null||Ee===void 0?void 0:Ee[0])||"";for(let $=0;$<Ke.length;$++)J.push(Q+$);ce=ce.substring(Ke.length),Q+=Ke.length}}else if(ue!==0||!K||(0,r.A)(K,`
`)){const Ke=ce.match(m.qv)||ce.match(m.K),$=ce.match(m.zd),ae=Ke||$;if(ue===0&&$&&($==null?void 0:$.index)===0&&(($==null?void 0:$.input)===">"||($==null?void 0:$.input)==="\uFF1E"||($==null?void 0:$.input)==="> "||($==null?void 0:$.input)==="\uFF1E "))return;if(!Ke&&w&&$&&(fe=!0),ae){q=!0;const Ge=ae[0];for(let at=0;at<Ge.length;at++)J.push(Q+at);if(ce=ce.substring(Ge.length),Q+=Ge.length,Ke&&(ee=!0,w||(w=!0),ce==="")){const at=new(s())().retain(Q+ce.length);at.delete(1),j=j.compose(at);return}const nt=ce.match(m.zd);if(nt){fe=!0;const at=nt[0];for(let Ve=0;Ve<at.length;Ve++)J.push(Q+Ve);ce=ce.substring(at.length),Q+=at.length}}}const Ae=ie[ue-1],le=ie[ue+1],oe=ie[ue],me=(Ae==null||(de=Ae.attributes)===null||de===void 0?void 0:de.border)||0,pe=(le==null||(re=le.attributes)===null||re===void 0?void 0:re.border)||0;if((me>=1&&pe>=1||me>=1&&m.zd.test(le==null||(V=le.line)===null||V===void 0||(H=V.ops)===null||H===void 0||(X=H[0])===null||X===void 0?void 0:X.insert)&&w)&&(ce!=null&&ce.length)&&(0,I.A)(oe==null?void 0:oe.attributes)&&(q=!0),me>=1&&(0,I.A)(oe==null?void 0:oe.attributes)&&le!==ie[ie.length-1]&&w&&(q=!0),q){const ke=fe?1:void 0,Ke=new(s())().retain(Q+ce.length),$={blockquote:!0};ke&&($.border=ke),!(0,b.A)(U)&&ue===ie.length-1?Ke.insert(`
`,$):Ke.retain(1,$),j=j.compose(Ke)}const Te=he["code-block"],{code:Me,...Ue}=k,xe=[["code",Me],...Object.entries(Ue)],Ne=[],be=[];xe.forEach(ke=>{let[Ke,$]=ke;$.forEach(ae=>{if(!(!ce||Te)){if(Ke==="link"){ce.replace(ae,(Ge,nt,at,Ve)=>{const Se=Q+Ve,Pe=Se+Ge.length;if((0,M.A)(Ne,yt=>{let{codeStart:Ot,codeEnd:It}=yt;const kt=Se>=Ot&&Se<=It,gt=Pe>=Ot&&Pe<=It;return kt||gt}))return;const ge=(0,P.w)(Ge),He=(0,P.w)(at),Qe=(0,_.A)({input:He,ignorePhoneMatches:!1,ignoreEmailMatches:!1,includePhoneMatchesWithTelPrefix:!0}),_e=Qe.length===1&&D(Qe[0].text,He);if(Qe.length===0||!_e)return;const Le=Q+Ve+1,Ie=nt.length,we=Le+nt.length,ze=Q+Ve+ge.length,ut=Qe[0].url,_t=new(s())().retain(Le).retain(Ie,{link:ut});j=j.compose(_t),J.push(Le-1);for(let yt=we;yt<ze;yt++)J.push(yt);be.push({linkStart:Le,linkEnd:ze}),z[Ke]=!0});return}ce.replace(ae,(Ge,nt,at,Ve)=>{const Se=Q+Ve+nt.length,Pe=at.length,Fe=Se+Pe;if((0,M.A)(be,Qe=>{let{linkStart:_e,linkEnd:Le}=Qe;return Se>=_e&&Fe<=Le})||Ke==="italic"&&at==="(\u30C4)")return;if(Ke==="code")Ne.push({codeStart:Se,codeEnd:Fe});else if((0,M.A)(Ne,_e=>{let{codeStart:Le,codeEnd:Ie}=_e;const we=Se>=Le&&Se<=Ie,ze=Fe>=Le&&Fe<=Ie;return we||ze}))return;const He=new(s())().retain(Se).retain(Pe,{[Ke]:!0});j=j.compose(He),J.push(Se-1),J.push(Se+Pe),z[Ke]=!0})}})}),Q+=(ce?ce.length:0)+1}),J.sort((Z,te)=>te-Z).forEach(Z=>{j=j.compose(new(s())().retain(Z).delete(1))}),[j,w]}h(x,"buildMarkdownChangeDeltaForSingleLineFormatting");function R(U){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=!1;if(!U||!U.ops)return new(s());const K=W;let j=new(s()),Q=new(s());if(K){const[ue,de]=C(U,w);j=ue,w=de,Q=U.compose(j)}const[J,z]=E(K?Q:U,F||new(s()),w);w=z;const ie=U.compose(J),ee=K?Q.compose(J):ie,[ne,Z]=x(ee,F,w);w=Z;const te=K?j.compose(J).compose(ne):J.compose(ne),he=(0,o.A)(U.compose(te));return te.compose(he)}h(R,"buildMarkdownChangeDelta")},6643945651:(B,A,e)=>{"use strict";e.d(A,{Fh:()=>n,Hm:()=>l,Nb:()=>s,Sf:()=>o,z1:()=>c});var t=e(321010523);const s=[".",",",";",":","?","!","]",")","*","_","~",">"],o=(()=>{const i=s.map(a=>`\\${a}`).join("");return new RegExp(`[${i}]$`)})(),n=[".",",",";",":","?","!","[","(","*","_","~","<"],c=[["(",")"],["[","]"],["<",">"]],l={bold:t.MsgFormattingInputFormat.BOLD,italic:t.MsgFormattingInputFormat.ITALIC,strike:t.MsgFormattingInputFormat.STRIKE,code:t.MsgFormattingInputFormat.CODE,underline:t.MsgFormattingInputFormat.UNDERLINE,link:t.MsgFormattingInputFormat.LINK,"bullet-list":t.MsgFormattingInputFormat.BULLET_LIST,"ordered-list":t.MsgFormattingInputFormat.ORDERED_LIST,"check-list":t.MsgFormattingInputFormat.CHECK_LIST,"code-block":t.MsgFormattingInputFormat.CODE_BLOCK,blockquote:t.MsgFormattingInputFormat.BLOCKQUOTE,h1:t.MsgFormattingInputFormat.H1,h2:t.MsgFormattingInputFormat.H2,hr:t.MsgFormattingInputFormat.HR}},2520470986:(B,A,e)=>{"use strict";e.d(A,{T:()=>R,A:()=>Q});var t=e(9816084745),s=e(8571983633),o=e(3783303734),n=e(9686962598),c=e(9746734072),l=e(897091071),i=e(3078252698),a=e(8891672792),r=e(4711108074),d=e.n(r),m=e(3411612397),f=e(9323019934),u=e(4013419176),E=e(3164011383),v=e(9615730202),g=e(6082968658),T=e(6229842055),p=e(5943264982),O=e(9920137311),y=e(9174138365),C=e(623546392);function I(V){return!!(V&&V.attributes&&V.attributes.header)}h(I,"isOpHeader");var M=e(4106653559),_=e(5597511738),P=e(5351286890),b=e(9994433376),S=e(9817175700),N=e(5029716614),L=e(3542943043),D=e(3701660703);const k=/(^|\S)( +)(\n)/gm,x=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201C|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,R=/^[0-9a-fA-F]{6}$/,{SECTION:U,LIST:F,PREFORMATTED:W,QUOTE:w,HEADER:K,DIVIDER:j}=m.Lv;function Q(){let{delta:V,options:{convertEmpty:H=!1,trimEndingWhitespace:X=!1,trimStartingWhitespace:Y=!0,expandTruncatedLinks:q=!1,useExpandedRichText:fe=!1}={},state:ce}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!V||!ce)return[];const Ee=(0,N.A)({delta:V,trimEnd:X,trimStart:Y});if((0,T.A)(Ee)||Ee.insert(`
`),Ee.length()<=1&&!H)return[];let Ae=[],le=new(d()),oe=U;return(0,g.A)(Ee,(me,pe)=>{const Te=J(me,pe);Te!==oe&&(Ae=z(Ae,oe,le,ce,{stripTrailingWhitespace:!1,expandTruncatedLinks:q}),oe=Te,le=new(d())),me.insert&&le.insert(me.insert,me.attributes)}),Ae=z(Ae,oe,le,ce,{stripTrailingWhitespace:!0,expandTruncatedLinks:q}),{blocks:[{type:fe?"expanded_rich_text":"rich_text",elements:Ae}]}}h(Q,"convertDeltaToBlocks");function J(V,H){return(0,y.A)(H)?W:(0,p.A)(H)?w:(0,P.A)(H)?F:I(H)?K:(0,M.A)(V)?j:U}h(J,"getElementType");function z(V,H,X,Y){let q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{stripTrailingWhitespace:!1,expandTruncatedLinks:!1};if(X.ops.length<=0)return V;let fe=[];if(H===F)fe=[],fe=ie(X,Y,{expandTruncatedLinks:q.expandTruncatedLinks});else if(H===W){fe=[];const ce=X.filter(Ae=>(0,y.A)(Ae)),Ee=(ce==null?void 0:ce.length)>0&&(0,t.A)(ce,Ae=>{var le;return((Ae==null||(le=Ae.attributes)===null||le===void 0?void 0:le.border)||0)>=1});fe.push({type:W,border:Ee?1:0,elements:ne(X,Y,{...q,preformattedStyle:!0,stripTrailingWhitespace:!0})})}else if(H===w){fe=[];const ce=X.filter(Ee=>{var Ae;return(0,p.A)(Ee)&&((Ee==null||(Ae=Ee.attributes)===null||Ae===void 0?void 0:Ae.border)||0)>=1});(ce==null?void 0:ce.length)>0?X.eachLine((Ee,Ae)=>{fe.push({type:w,border:Ae!=null&&Ae.border?Ae.border:void 0,elements:ne(Ee,Y,{...q,preformattedStyle:!1,stripTrailingWhitespace:!0})})}):fe.push({type:w,elements:ne(X,Y,{...q,preformattedStyle:!1,stripTrailingWhitespace:!0})})}else H===K?fe=ee(X,Y):H===j?(fe=[],fe.push({type:j})):(fe=[],fe.push({type:H,elements:ne(X,Y,{...q,preformattedStyle:!1})}));return V.concat(fe)}h(z,"addDeltaToElements");function ie(V,H){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{expandTruncatedLinks:!1};const Y=[];let q=null,fe=null,ce=null,Ee={},Ae=[];V.eachLine((oe,me)=>{if(q===null&&(q=me.list),fe===null&&(fe=me.indent||0),ce===null&&(ce=me.border||0),(0,s.A)(Ee[fe])&&(Ee[fe]=0),q!==me.list||fe!==(me.indent||0)){const pe={type:F,style:q||"bullet",indent:fe,border:ce,elements:Ae.map(Te=>({type:U,elements:Te}))};q==="ordered"&&Ee[fe]>0&&(pe.offset=Ee[fe]),Y.push(pe),me.list!==m.L1.ORDERED&&me.list!==m.L1.BULLET&&me.list!==m.L1.CHECKED&&me.list!==m.L1.UNCHECKED?Ee={}:(fe<(me.indent||0)&&me.list===m.L1.ORDERED&&(Ee[me.indent||0]=0),q===m.L1.ORDERED&&(Ee[fe]=(Ee[fe]||0)+(0,o.A)(Ae))),q=me.list,fe=me.indent||0,ce=me.border||0,Ae=[]}Ae.push(ne(new(d())(oe),H,{stripTrailingWhitespace:!1,preformattedStyle:!1,...X}))});const le={type:F,style:q||"bullet",indent:fe||0,border:ce||0,elements:Ae.map(oe=>({type:U,elements:oe}))};return q==="ordered"&&!(0,n.A)(fe)&&Ee[fe]>0&&(le.offset=Ee[fe]),Y.push(le),Y}h(ie,"processDeltaAsList");function ee(V,H){const X=[];let Y=null,q=[],fe=0;V.eachLine((Ee,Ae)=>{if(Y===null&&(Y=Ae.header),Y!==Ae.header||fe>0&&(Ae!=null&&Ae.header)){const le={type:K,level:Y||1,elements:q};X.push(le),q=[],Y=Ae.header}q=ne(new(d())(Ee),H,{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1}),fe+=1});const ce={type:K,level:Y||1,elements:q};return X.push(ce),X}h(ee,"processDeltaAsHeader");function ne(V,H){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1};const Y=V.ops[V.ops.length-1];let q=V;X.stripTrailingWhitespace&&(Y==null?void 0:Y.insert)===`
`&&(q=new(d())(V.ops.slice(0,V.ops.length-1)));let fe=[];return q.forEach(ce=>{let Ee;if((0,C.Ay)(ce)?Ee=ue(ce,H,{preformattedStyle:X.preformattedStyle}):(0,b.Ay)(ce)&&!(0,b.zJ)(ce)&&!(0,b.gC)(ce)?Ee=re(ce,H,{preformattedStyle:X.preformattedStyle}):(0,_.Ay)(ce)?Ee=he(ce,{preformattedStyle:X.preformattedStyle,expandTruncatedLinks:X.expandTruncatedLinks}):(0,S.Ay)(ce)?Ee=de(ce):Ee=te(ce,{stripTrailingWhitespace:!!(X.stripTrailingWhitespace&&ce===Y),preformattedStyle:X.preformattedStyle,skipConversions:!1}),!Ee)return;const Ae=fe.length&&fe[fe.length-1],le=(0,c.A)(Ee)?Ee.shift():Ee;le&&le.type==="text"&&!le.style&&Ae&&Ae.type==="text"&&!Ae.style?fe[fe.length-1].text=`${fe[fe.length-1].text}${le.text}`:le&&fe.push(le),(0,c.A)(Ee)&&Ee.length&&(fe=fe.concat(Ee))}),(0,l.A)(fe)}h(ne,"createRichTextChunkElements");function Z(V,H){const X={};return H.attributes&&(H.attributes.bold&&(X.bold=!0),H.attributes.italic&&(X.italic=!0),H.attributes.strike&&(X.strike=!0),H.attributes.code&&(X.code=!0),H.attributes.unlink&&!(0,b.Ay)(H)&&!(0,C.Ay)(H)&&(X.unlink=!0)),{...V,...(0,o.A)(X)&&{style:X}}}h(Z,"annotateChunkWithStyle");function te(V){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},X=(0,i.A)(V.insert)?V.insert:"";if(H.stripTrailingWhitespace&&(X=(0,a.A)(X)),H.preformattedStyle||(X=X.replace(k,"$1$3")),!X)return;const Y=!H.skipConversions&&!H.preformattedStyle&&!(V.attributes&&V.attributes.code),q={type:"text",text:X},fe=H.preformattedStyle?q:Z(q,V);if(Y){const ce=[];if(X.replace(x,(le,oe,me,pe)=>{const Te=(0,a.A)(me,"_-.\u2026");if(Te.match(R)){const Me=pe+oe.length;ce.push({start:Me,end:Me+Te.length+1,color:`#${Te.toUpperCase()}`})}}),!ce.length)return fe;const Ee=[];let Ae=0;return ce.forEach(le=>{Ae<le.start&&Ee.push({type:"text",text:X.slice(Ae,le.start)}),Ee.push({type:"color",value:le.color}),Ae=le.end}),Ae<X.length&&Ee.push({type:"text",text:X.slice(Ae)}),Ee.map(le=>Z(le,V))}return fe}h(te,"createTextChunkFromOp");function he(V){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1,expandTruncatedLinks:!1};var X,Y;const q={type:"link",url:((X=V.attributes)===null||X===void 0?void 0:X.link)||""};return(0,i.A)(V.insert)&&V.insert!==((Y=V.attributes)===null||Y===void 0?void 0:Y.link)&&!(H.expandTruncatedLinks&&(0,_.uK)(V))&&(q.text=V.insert),H.preformattedStyle?q:Z(q,V)}h(he,"createLinkChunkFromOp");function ue(V,H){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,O.A)(V))return te({insert:(0,C.Um)(V)},{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const Y=(0,C.Um)(V),q={type:"emoji",name:""};if(H&&(0,E.A)(H,Y)){var fe;const{name:Ee="",unicode:Ae=""}=(fe=(0,L.i8)(H,Y))!==null&&fe!==void 0?fe:{},[le]=Ee.split("::")||[];q.name=le,q.unicode=Ae}else{var ce;const{skinTone:Ee="",name:Ae=""}=(ce=(0,v.A)(Y))!==null&&ce!==void 0?ce:{};q.name=Ae,Ee&&(q.skin_tone=+Ee)}if(!(!q.name&&!q.unicode))return q&&Z(q,V)}h(ue,"createEmojiChunkFromOp");function de(V){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1};const X={type:"workflowtoken",id:(0,S.PJ)(V),data_type:(0,S.sR)(V),property:(0,S.Lp)(V)};return(H==null?void 0:H.preformattedStyle)===!0?X:Z(X,V)}h(de,"createWorkflowTokenChunkFromOp");function re(V,H){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,O.A)(V))return te(V,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const Y=(0,b.I4)(V),q=(0,b.zv)(V);let fe;if((0,u.c)().includes(Y))fe=Z({type:"broadcast",range:Y.substr(2)},V);else if(Y.charAt(0)==="S")fe=Z({type:"usergroup",usergroup_id:Y},V);else if((0,b.BQ)(V))fe=Z({type:"channel",channel_id:Y},V);else if((0,b.KT)(V)){const ce=(0,D.Lp)(H,Y);ce&&(0,f.l7)(ce)?fe=Z({type:"list_record",file_id:Y},V):fe=Z({type:"file",file_id:Y},V)}else fe=Z({type:"user",user_id:Y},V);if((0,i.A)(V.insert)&&V.insert.length>q.length){const ce=V.insert.split(q);return ce.length>1?(ce.shift(),ce.fill(fe)):[fe]}return q===V.insert?[fe]:te(V,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0})}h(re,"createMentionChunksFromOp")},6082968658:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s,o){s.eachLine((n,c)=>{n.insert(`
`,c);const l={insert:`
`,attributes:c};n.forEach(i=>{o(i,l)})})}h(t,"deltaForEachWithLineData")},6945567542:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(30567697);function s(o,n,c){return(0,t.A)(o?o.ops:[]).substr(n,c)}h(s,"getDeltaSubStr")},3745479596:(B,A,e)=>{"use strict";e.d(A,{A:()=>c});var t=e(6696292586),s=e(6082968658),o=e(6761064824);const c=h((l,i)=>{if(!l||!(0,t.A)(i))return null;let a=0,r;return(0,s.A)(l,(d,m)=>{if(r)return;const f=a+(0,o.A)(d);if(i>=a&&i<f){const u=d.attributes||{},E=m.attributes||{};r={...u,...E}}a=f}),r},"getFormatAtIndex")},6761064824:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3078252698),s=e(9645621103);function o(n){return n?(0,s.A)(n)?1:(0,t.A)(n.insert)?n.insert.length:1:0}h(o,"getOpLength")},30567697:(B,A,e)=>{"use strict";e.d(A,{A:()=>l});var t=e(6313685253),s=e(3078252698),o=e(9920137311),n=e(9645621103),c=e(5597511738);function l(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i)return"";const r=a.embedReplacement||" ";return(0,t.A)(i,(m,f)=>{if((0,n.A)(f))return`${m}${r}`;if(a.replaceLinks&&(0,c.Ay)(f)||a.replaceCode&&(0,o.A)(f)){const u=(0,s.A)(f.insert)?f.insert.length:0,E=Array.apply(null,Array(u+1)).join(r);return`${m}${E}`}return m+f.insert},"")}h(l,"getTextFromOps")},8928385747:(B,A,e)=>{"use strict";e.d(A,{Fr:()=>c,G$:()=>n,Zz:()=>o});var t=e(1703559452),s=e(3867135795);function o(l){if(!l)return!1;const i=["code-block","blockquote","list"];return(0,t.A)(i,r=>(0,s.A)(l,r))}h(o,"doesAttributesContainBlockFormatting");function n(l){if(!l)return!1;const{insert:i,attributes:a}=l;return i!==`
`||!a?!1:o(a)}h(n,"isOpOnlyBlockFormatting");function c(l){if(!l)return!1;const i=l.ops;if(!i||i.length!==1)return!1;const a=l.ops[0];return a?n(a):!1}h(c,"isDeltaOnlyBlockFormatting")},9624317262:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s){return!s||!s.ops?!0:!(s.ops.length>0)}h(t,"isDeltaEmpty")},863841117:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(3473817600),s=e(5597511738);function o(n){let{userDidDelete:c,userDidInsertSpace:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{userDidDelete:void 0,userDidInsertSpace:void 0};var i;if(!(0,s.Ay)(n))return!1;const a=(n==null||(i=n.attributes)===null||i===void 0?void 0:i.link)||"",r=(0,s.AQ)(n),d=a==null?void 0:a.match(/^(https?:\/\/)(.+)/);if(!d)return!1;const m=d[2].split(".");if((c||l)&&m.length===2&&m[0]===n.insert)return!1;const f=`${d[1]}${n.insert}`;if(!c&&!l&&f.length>((a==null?void 0:a.length)||0)&&f.substr(0,a==null?void 0:a.length)===a)return!0;const u=a==null?void 0:a.substr((r==null?void 0:r.length)*-1),E=a==null?void 0:a.substr(0,f.length);if(c&&(E===f||u===n.insert&&!(0,t.A)({input:f}).length))return!0;if(l){const v=r==null?void 0:r.split(" ");if(v.length===1||v.length===2){const g=`${d[1]}${v[0]}`,T=v[1]||"";if(g.length+T.length<=((a==null?void 0:a.length)||0)&&(a==null?void 0:a.substr(0,g.length))===g&&(a.substr(T.length*-1)===T||T.length===0))return!0}}return!1}h(o,"isOpBrokenAutolink")},9920137311:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s){return!!(s&&s.insert&&s.attributes&&s.attributes.code)}h(t,"isOpCode")},9645621103:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(623546392),s=e(4106653559),o=e(9817175700);function n(c){return!!((0,t.Ay)(c)||(0,o.Ay)(c)||(0,s.A)(c))}h(n,"isOpEmbed")},4106653559:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(3078252698);function s(o){var n;return!!(o&&(o!=null&&o.insert)&&!(0,t.A)(o.insert)&&(!(o==null||(n=o.insert)===null||n===void 0)&&n.slackhorizontalrule))}h(s,"isOpHorizontalRule")},1434037758:(B,A,e)=>{"use strict";e.d(A,{Ay:()=>k,L2:()=>D});var t=e(2208015175),s=e(8086952004),o=e(235108050),n=e(1649982175),c=e(9113979368),l=e(4711108074),i=e.n(l),a=e(3473817600),r=e(6643945651),d=e(6082968658),m=e(7234344607),f=e(6761064824),u=e(30567697),E=e(6229842055),v=e(863841117),g=e(9174138365),T=e(9645621103),p=e(5597511738),O=e(9994433376),y=e(8079813723);function C(x){var R;return!!(!(x==null||(R=x.attributes)===null||R===void 0)&&R.unlink)}h(C,"isOpUnlink");var I=e(468715125);const M=/https?:\/\/.*\.(fbcdn|cdninstagram|twimg)\.(net|com)\/.*(\.|=)(jpe?g|gif|png|svg|bmp)/,_=null,P=h(x=>x&&(M.test(x)?x:x.split("?")[0]),"sanitizeImageUrlWithParams"),b=h(x=>{const R=P(x);return R?/(\.|=)(jpe?g|gif|png|svg|bmp)/.test(R):!1},"isImageUrl"),S=h(x=>{if(x){for(let R=0;R<_.length;R++)if(x.indexOf(_[R])>=0)return!0}return!1},"isImageFromDeniedDomains"),N=h(function(x){let{ignoreExistingLinks:R,limitCodeBlockLinksToFullURLs:U,ignoreUnbalancedParentheses:F=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x)return new(i());const W=(0,E.A)(x),w=new(i());return(0,d.A)(x,(K,j)=>{const Q=(0,g.A)(j);if(!(0,y.A)(K)||R&&(0,p.Ay)(K)||C(K)||(0,p.uK)(K)){w.insert(K.insert||"",{...K.attributes});return}const J=(0,m.A)(K),z=U&&Q,ie=(0,a.A)({input:J,ignorePhoneMatches:z,ignoreEmailMatches:z,ignoreLinksWithoutHttp:z,ignoreUnbalancedParentheses:!!F});if(!ie.length){w.insert(K.insert||"",{...K.attributes});return}let ee=0;const ne=K&&K.attributes;if((0,t.A)(ie,Z=>{const{url:te,text:he,offset:ue}=Z||{};ue>ee&&(w.insert(J.slice(ee,ue),ne),ee=ue),!(!te||!he)&&(w.insert(he,{...ne,link:te}),ee=ue+he.length)}),ee<J.length&&ee>=0){const Z=J.slice(ee);w.insert(Z,ne)}}),W?w:(0,I.A)(w)},"linkifyDeltaText"),L=h((x,R,U)=>{const F=R+(0,f.A)(x);return(0,s.A)(U,W=>{if(W.text===x.insert)return!1;const w=W.offset,K=W.offset+W.text.length;return w>=R&&w<=F||K<=R&&K<=F||w<R&&K<=F})},"isOpInRangeOfMatches"),D=h(x=>{if(!x)return new(i());const R=(0,o.A)(r.Fh.concat(r.Nb)),U=(0,u.A)(x.ops,{replaceLinks:!1,replaceCode:!0,embedReplacement:" "}),F=(0,a.A)({input:U});let W=0;const w=x.map(j=>{const Q=W,J=(0,f.A)(j);let z=!1;if(W+=J,!(0,p.Ay)(j))return j;if((0,T.A)(j)||(0,O.Ay)(j))return{...j,attributes:{...(0,n.A)(j.attributes,"link")}};if((0,p.uK)(j))return j;L(j,Q,F)&&(z=!0);const ie=Q===0?" ":U.substr(Q-1,1),ee=ie.match(/^\s$/)||R.includes(ie),ne=Q+J===U.length?" ":U.substr(Q+J,1),Z=R.includes(ne)||ne.match(/^\s$/);if(!z&&(!ee||!Z)){var te;const he=(0,m.A)(j),ue=!z&&(0,a.A)({input:he});ue&&ue.length===1&&ue[0].url===((te=j.attributes)===null||te===void 0?void 0:te.link)&&(z=!0)}if(!z&&(0,v.A)(j)&&(z=!0),z){const he={insert:j.insert},ue={...j.attributes};return delete ue.link,(0,c.A)(ue)||(he.attributes=ue),he}return j}),K=new(i())().compose(new(i())(w));return N(K)},"relinkifyDeltaTextWhileRetainingExistingLinks"),k=N},4482728737:(B,A,e)=>{"use strict";e.d(A,{A:()=>O});var t=e(8840779375),s=e(9087248458),o=e(4103274853),n=e(7156798807),c=e(4711108074),l=e.n(c),i=e(6082968658),a=e(6761064824),r=e(9920137311),d=e(9174138365),m=e(623546392),f=e(5597511738),u=e(9994433376),E=e(9817175700),v=e(3078252698),g=e(6153715962),T=e(9323161248);function p(y){if(!(0,E.Ay)(y))return!1;const{type:C,property:I,id:M}=y.insert.workflowtoken;if((0,v.A)(y.insert))return!1;if(C===g.GA)return!0;if(C===g.sD)return I===g.yG||I===g.tj;if(C==="string")return!0;const _=(0,T.zz)({type:C,variableId:M});if(_)for(const S of Object.values(_)){var P,b;if(((P=S.macroDetails)===null||P===void 0||(b=P.outputParameter)===null||b===void 0?void 0:b.type)==="string")return!0}return!1}h(p,"isOpWorkflowTokenForText");function O(y){let{removeEmbedsFromCode:C=!0,stripAllInlineFormatting:I=!1,stripInlineFormattingFromCodeBlock:M=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return new(l());if(C&&M&&!I&&!y.ops.some(P=>(0,r.A)(P)||(0,d.A)(P)))return new(l())().retain(y.length());const _=new(l());return(0,i.A)(y,(P,b)=>{const S=(0,a.A)(P),N=(0,r.A)(P)||(0,d.A)(b);if(C&&N||I){let L={...P.attributes};if((0,d.A)(b)&&(L={}),(0,m.Ay)(P)){_.delete(1).insert((0,m.Um)(P),{...L});return}if((0,u.Ay)(P)){delete L.slackmention,_.delete((0,u._z)(P).length).insert((0,u._z)(P),{...L});return}if((0,f.Ay)(P)){delete L.link,_.delete((0,f.AQ)(P).length).insert((0,f.AQ)(P),{...L});return}if((0,E.Ay)(P)&&!p(P)){_.delete(1);return}}if((0,d.A)(b)&&M||I){const L=["bold","italic","strike","code","underline","slackmention","unlink"],D=(0,t.A)(P.attributes||{},(x,R)=>({key:R,value:x})).filter(x=>!!x.value).map(x=>x.key),k=(0,s.A)(L,D);_.retain(S,(0,o.A)((0,n.A)(k,x=>x),()=>!1));return}S&&_.retain(S)}),_}h(O,"stripFormattingFromDelta")},468715125:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(8786006583),s=e(8928385747);function o(n){if(!n||n.length()===0)return n;const c=n.slice(n.length()-1);if(!c)return n;const l=(0,t.A)(c.ops)||{};return!l||(l==null?void 0:l.insert)!==`
`||(0,s.G$)(l)?n:n.slice(0,n.length()-1)}h(o,"stripTrailingNewline")},5029716614:(B,A,e)=>{"use strict";e.d(A,{A:()=>g,Z:()=>v});var t=e(498506970),s=e(8825197919),o=e(8289365785),n=e(2749086681),c=e(8786006583),l=e(4711108074),i=e.n(l),a=e(3745479596),r=e(8928385747),d=e(9624317262),m=e(8079813723);const f=/^\s+$/,u=/^\s+/,E=/\s+$/;function v(){let{ops:T,trimStart:p=!0,trimEnd:O=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!T||!T.length||!p&&!O)return T;let y=(0,t.A)(T);if(p){y=(0,s.A)(y,M=>(0,m.A)(M)&&((0,m.$)(M).match(f)||M.insert==="")&&!(0,r.Zz)(M.attributes||{}));const C=(0,o.A)(y)||{},I=(0,a.A)(new(i())(y),0);if((0,m.A)(C||{})&&!(0,r.Zz)(I||{})){const M=(0,m.$)(C).replace(u,()=>"");C.insert=M}}if(O){y=(0,n.A)(y,I=>(0,m.A)(I)&&((0,m.$)(I).match(f)||I.insert==="")&&!(0,r.Zz)(I.attributes||{}));const C=(0,c.A)(y)||{};if((0,m.A)(C)&&!(0,r.Zz)(C.attributes||{})){const I=(0,m.$)(C).replace(E,()=>"");C.insert=I}}return y}h(v,"trimOps");function g(){let{delta:T,trimStart:p=!0,trimEnd:O=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(T&&(0,d.A)(T))return T;const y=T==null?void 0:T.ops,C=v({ops:y,trimStart:p,trimEnd:O});return new(i())(C)}h(g,"trimDelta")},1501622589:(B,A,e)=>{"use strict";e.d(A,{A:()=>d});var t=e(1699044291),s=e(4711108074),o=e.n(s),n=e(6761064824),c=e(9645621103),l=e(623546392),i=e(6468238429),a=e(3534237056);function r(m){const f=m&&m.ops;if(!f)return[];const u=(0,a.A)(f),E=[];return u.replace(i.u_,(v,g,T,p,O)=>{E.push({index:O+g.length,length:T?T.length:0})}),E}h(r,"findMarkdownCodeBlockRanges");function d(m){if(!(m&&m.ops))return new(o());let u=new(o());const E=r(m);return(0,t.A)(E).forEach(v=>{let{index:g,length:T}=v;const p=new(o());p.retain(g),m.slice(g,g+T).forEach(O=>{(0,c.A)(O)?(p.delete(1),(0,l.Ay)(O)&&p.insert((0,l.Um)(O))):p.retain((0,n.A)(O),{bold:!1,italic:!1,strike:!1,code:!1,underline:!1,slackmention:!1,link:!1,unlink:!1})}),u=u.compose(p)}),u}h(d,"buildChangeDeltaToFixEmbedsInTripleBackticks")},5085842209:(B,A,e)=>{"use strict";e.d(A,{K:()=>c,Ru:()=>s,hJ:()=>o,qv:()=>n,zd:()=>l});var t=e(6468238429);const s={"*":"bold",_:"italic","`":"code","~":"strike",">":"blockquote","\uFF0A":"bold","\uFF40":"code","\uFF3F":"italic","\uFF1E":"blockquote"},o={"*":t.wq,_:t.dc,"`":t.q6,"~":t.d9,"\uFF0A":t.H_,"\uFF40":t.j5,"\uFF3F":t.QX},n=/^>>> ?/m,c=/^\uFF1E\uFF1E\uFF1E ?/m,l=/^[>\uFF1E]($| |(?=[^_]))/},3534237056:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(30567697),s=e(6468238429);function o(n){const c=!(0,t.A)(n).match(s.zI);return(0,t.A)(n,{replaceLinks:c,replaceCode:!0,embedReplacement:"!"})}h(o,"getTextForRegex")},1307821535:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(4013419176);function s(o){return(0,t.c)().indexOf(o)!==-1}h(s,"mentionIdIsKeyword")},6499248043:(B,A,e)=>{"use strict";e.d(A,{A:()=>t});function t(s){return s==="UNVERIFIED"}h(t,"mentionIdIsUnverified")},4420780948:(B,A,e)=>{"use strict";e.d(A,{A:()=>a});var t=e(362134992),s=e(6217320234),o=e(9035832947),n=e(4550225191),c=e(6039918301),l=e(6428847671),i=e(6611636451);function a(r){let{state:d,contents:m,searchFunc:f,highlightWords:u,isEmojiDisplayedAsText:E,useChannelTagging:v}=r;const g=(0,t.A)((0,i.A)(m,{useChannelTagging:v}).map(p=>{const O=f(p.type,p.labelWithoutPrefix);if(!O.length)return null;const y={};let C;if(p.type==="channel")C=(0,c.A)({results:O,globalIndex:p.globalIndex,matchLength:p.matchLength,formats:y});else{if(p.type==="emoji")return(0,n.A)({results:O,globalIndex:p.globalIndex,matchLength:p.matchLength,formats:y});C=(0,l.A)({state:d,results:O,text:p.text,label:p.label,globalIndex:p.globalIndex,localIndex:p.localIndex,matchLength:p.matchLength,formats:y})}return!C||C.id==="UNVERIFIED"?null:C}));if(!g.length)return m;const T=(0,o.A)((0,s.A)(g,"globalIndex"),u,E);return m.compose(T)}h(a,"replacePotentialMentionsSynchronously")},9052466159:(B,A,e)=>{"use strict";e.d(A,{A:()=>n});var t=e(3803027235),s=e.n(t);const o={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function n(c){return c&&c.replace(/&#?[a-z0-9]+;/gi,l=>{if(o[l])return o[l];if(l.match(/^&#x[0-9a-f]+;$/i)){const i=l.substring(3,l.length-1),a=parseInt(i,16);return String.fromCodePoint(a)}if(l.match(/^&#[0-9]+;$/)){const i=l.substring(2,l.length-1),a=parseInt(i,10);return String.fromCodePoint(a)}return l})}h(n,"unescapeEntities")},431748495:(B,A,e)=>{"use strict";e.d(A,{A:()=>s});var t=e(480439070);function s(){return`https://${(0,t.Xk)()}`}h(s,"getSlackRootUrl")},1318482837:(B,A,e)=>{"use strict";e.d(A,{A:()=>o,D:()=>n});var t=e(480439070),s=e(5221609289);function o(c){return n((0,s.Ay)(c))}h(o,"isGantryUrl");function n(c){if(c.pathname==="/ssb/signin")return!1;const l=c.hostname,[i]=l.split(".");return i==="app"&&(0,t.Ed)(c)}h(n,"isGantryUrlFromUrlObject")},8667147762:(B,A,e)=>{"use strict";e.d(A,{J:()=>s});var t=e(9513040995);function s(o){return!!(0,t.ss)(o)}h(s,"isXWSUserGroupsEnabled")},5293342600:(B,A,e)=>{"use strict";e.d(A,{z:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2947229296),c=e(7485328956),l=e(4199861322),i=e(3819030122),a=e(1675806400),r=e(6422632851),d=e(1451419220);const m=new n.Ay("shared_channel_invites"),f=h(u=>{let{invite:E,bottomMargin:v}=u;if(!E)return null;const{inviting_team:g,inviting_user:T,shared_workspace:p}=E,O=!!(0,c.qN)(window.location.search).is_link,y=t.createElement(r.n,{team:g,user:T,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0,allowTeamInitials:!0,isInteractive:!1,className:"margin_right_75",hideUserIcon:O}),C=t.createElement(a.A,{invitingUser:T}),I=t.createElement(i.A,{invitingTeam:g}),M=t.createElement(l.A,{id:p.id,team:p,bold:!0});return t.createElement("div",{className:o()("p-accept_slack_connect_workspace_invite_header__header_container",{margin_bottom_200:v})},t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header__header_subcontainer"},t.createElement(d.A,{width:160,height:40,className:"margin_bottom_125"}),t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header padding_0"},y,t.createElement("span",null,O?m.rt("You were invited by {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:I,sharedWorkspaceName:M}):m.rt("You were invited by <strong>{invitingUserName}</strong> from {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:I,invitingUserName:C,sharedWorkspaceName:M})))))},"AcceptSlackConnectWorkspaceHeader");f.displayName="AcceptSlackConnectWorkspaceHeader"},6006717834:(B,A,e)=>{"use strict";e.d(A,{Sp:()=>f,a5:()=>u});var t=e(6212832808),s=e(2005728913),o=e(5512437437),n=e(7350010848),c=e(6899307511),l;(function(v){v.Container=".p-client_container_placeholder",v.Background=".p-ia4_client_container_placeholder--theme-background",v.Sidebar=".p-ia4_client_container_placeholder--sidebar",v.Content=".p-ia4_client_container_placeholder--content"})(l||(l={}));const i=260,a=60,r=70;function d(v){let{name:g,hex:T,iaTheming:p,customTheme:O}=v;const y=(0,t.zK)({hex:T,name:g}),C=(p==null?void 0:p.mode)||"light",I=(p==null?void 0:p.brightness)||s.GK,M=(0,s.XW)({mode:(0,c.Gk)(p,p==null?void 0:p.mode),primary:p==null?void 0:p.primary,highlight1:p==null?void 0:p.highlight1,brightness:I,useCustomHex:O&&(p==null?void 0:p.useCustomHex)});let _;g.includes("Primary")?_=M.primary.shade:_=M.highlight1.shade;const P=s.sC.indexOf(_);return{shade:_,value:C==="light"?y.light[P].value:y.dark[P].value}}h(d,"generateCustomHEXChromeColors");function m(v){let{iaTheming:g,customTheme:T}=v;return!g.primary.custom||!t.$V.test(g.primary.custom)?null:d({name:"bootPrimary",hex:g.primary.custom.startsWith("#")?g.primary.custom:`#${g.primary.custom}`,iaTheming:g,customTheme:T})}h(m,"getBootPrimary");function f(v){let{teamId:g}=v;const T=(0,o._z)(g,"channelSidebarBackground"),p=parseInt((0,o.W6)("viewLayoutLastSidebarWidth"),10)||i,O=(0,o._z)(g,"textColor"),y=(0,o._z)(g,"topNavBackground")||T,C=document.querySelector(".p-client_container_placeholder"),I=document.querySelector(".p-ia4_client_container_placeholder--theme-background"),M=document.querySelector(".p-ia4_client_container_placeholder--sidebar"),_=document.querySelector(".p-ia4_client_container_placeholder--content"),P=(0,o._z)(g,"iaTheming"),b=(0,o._z)(g,"customTheme"),S=(0,o._z)(g,"windowGradient"),N=(0,o._z)(g,"isCreatorInSetupFlow"),L=(0,o._z)(g,"bbmEnabled"),D=(0,o.W6)("viewLayoutIsWorkspaceSwitcherVisible"),k=D?a:0;if(C&&M&&_){if(N){u();return}if(O&&T){const U=h(W=>{I&&(I.style.background=W,I.style.opacity="1")},"setPlaceholderBackground");M.style.width=`${p}px`;const F=document.createElement("div");if(F.classList.add("p-ia4_client_container_placeholder--tab_rail"),_.style.left=`${k+r+p}px`,D&&(C.insertBefore(F,M),M.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),M.style.boxShadow=(P==null?void 0:P.mode)==="dark"||P!=null&&P.sidebarInverted?"-1px 0px 0px 0px rgba(255, 255, 255, 0.15)":"-1px 0px 0px 0px rgba(112, 112, 112, 0.15)",_.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),L&&(M.style.display="none",F.style.display="none",_.classList.add("p-ia4_client_container_placeholder--content--bbm")),P){let W="rgba(255,255,255,0.9)";if(P.mode==="light"&&P.sidebarInverted&&(W="rgba(255,255,255,0.11)"),P.mode==="dark"){var x,R;W="rgba(16,18,20,0.6)",(R=(x=window.document)===null||x===void 0?void 0:x.querySelector("body"))===null||R===void 0||R.classList.add(s.RD)}if(M.style.backgroundColor=W,F.style.backgroundColor=W,_.style.backgroundColor=P.mode==="light"?"#fff":"rgb(26, 29, 33)",b&&P.useCustomHex){if(P.primary.custom){const w="bootPrimary",K=m({iaTheming:P,customTheme:b});K&&C.style.setProperty(`--dt_color-plt-${w}-${K.shade}`,K.value)}if(P.highlight1.custom){const w="bootHighlight1",K=d({name:"bootHighlight1",hex:P.highlight1.custom.startsWith("#")?P.highlight1.custom:`#${P.highlight1.custom}`,iaTheming:P,customTheme:b});C.style.setProperty(`--dt_color-plt-${w}-${K.shade}`,K.value)}}if(S){const w=(0,s.Lp)({mode:(0,c.Gk)(P,P.mode),primary:P.primary,highlight1:P.highlight1,brightness:P.brightness,useCustomHex:b&&P.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");U(w)}else{const w="bootPrimary",K=m({iaTheming:P,customTheme:!!b}),j=(0,c.Gk)(P,P.mode),Q=(0,s.VS)({mode:j,role:j==="light-inverted-sidebar"?"highlight1":"primary",brightness:(P==null?void 0:P.brightness)||s.GK}),J=b&&P.useCustomHex&&K?`rgb(var(--dt_color-plt-${w}-${K.shade}))`:`rgb(var(--dt_color-plt-${P.primary.palette}-${Q}))`;U(J)}}else if(M.style.backgroundColor=T,y&&I){const W=y,w=(0,n.fl)(y,25),K=`radial-gradient(
						circle at 50% 50%,
						${W} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${w} 0%,
            ${W} 25%,
            ${w} 50%,
            ${W} 75%,
            ${w} 100%
          )`;U(K)}}}}h(f,"renderBootPlaceholder");function u(){const v=document.querySelector(".p-client_container_placeholder");v&&v.remove()}h(u,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:u},"removeBootPlaceholder",{get:()=>u,set:v=>{u=v}})},5136485128:(B,A,e)=>{"use strict";var t=e(1097815650),s=e(9315975224),o=e(1492910739),n=e(480439070),c=e(6748214069),l=e(9243924120),i=e(3278623468),a=e(9729010546),r=e(1343827343),d=e(327041866),m=e(7281000332);function f(et,mt){var pt,Ut,Ct,fn,cn,nn;const Mn=(0,m.en)();if(Mn.dispatch((0,d.setWorkspaceFailedToBoot)(et)),!(mt==null||(pt=mt.data)===null||pt===void 0)&&pt.active_migration){var Wn,ds;Mn.dispatch((0,d.setWorkspaceIsMigrating)({teamId:et,migrationId:mt==null||(Wn=mt.data)===null||Wn===void 0?void 0:Wn.migration_id,canViewMigrationStatus:mt==null||(ds=mt.data)===null||ds===void 0?void 0:ds.can_view_migration_status})),(0,t.R8)("BOOT",`(${et}) Workspace boot failed due to active migration`)}if((mt==null||(Ut=mt.data)===null||Ut===void 0?void 0:Ut.error)==="accesslimited"&&Mn.dispatch((0,d.setWorkspaceIsAccessLimited)(et)),(mt==null||(Ct=mt.data)===null||Ct===void 0?void 0:Ct.error)==="two_factor_setup_required"&&Mn.dispatch((0,d.setWorkspaceNeeds2FASetup)(et)),(mt==null||(fn=mt.data)===null||fn===void 0?void 0:fn.error)==="user_in_no_workspaces"&&Mn.dispatch((0,d.setUserNotMemberOfAnyWorkspaceInOrg)(et)),(mt==null||(cn=mt.data)===null||cn===void 0?void 0:cn.error)==="mobile_login_required"&&Mn.dispatch((0,d.setUserRequiresMobileLogin)(et)),(mt==null||(nn=mt.data)===null||nn===void 0?void 0:nn.error)==="user_needs_to_accept_custom_tos"){var Kn;Mn.dispatch((0,d.setWorkspaceNeedsToAcceptCustomTOS)({teamId:et,url:mt==null||(Kn=mt.data)===null||Kn===void 0?void 0:Kn.url}))}}h(f,"markTeamBootFailed");var u=e(7375514955),E=e(2878883205),v=e(2398473551);function g(et){const mt=(0,m.en)();var pt;const Ut=(pt=(0,v.getNavigateToUnbootedWorkspace)(mt.getState()))!==null&&pt!==void 0?pt:{},{bootingTeamId:Ct,navigateToRouteProps:fn}=Ut;return Ct===et?((0,E._U)((fn==null?void 0:fn.routeName)||u.o,{teamId:et,...(fn==null?void 0:fn.params)||{}},{reason:"delayed-unbooted-team-switch",...(fn==null?void 0:fn.options)||{}}),mt.dispatch((0,d.setNavigateToUnbootedWorkspace)({})),!0):!1}h(g,"maybeNavigateToUnbootedWorkspace");function T(et,mt){if(!et)throw new Error("Missing team id, cannot thin boot team.");f(et,mt),g(et)}h(T,"thinBootTeam");var p=e(6006717834),O=e(3180244459),y=e(8998140056),C=e(4103604891);const I={[y.F9.API]:M,[y.F9.BOOT_APP]:_,[y.F9.BOOT_TEAM]:P,[y.F9.DEFAULT]:b};function M(et,mt,pt){var Ut;const Ct=pt==null?void 0:pt.teamId;if(window.isReloading){(0,t.pq)("BOOT",`(${Ct}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}y.XB[y.F9.API](et,mt,{...pt,shouldDisplayErrorView:!1,shouldBeaconError:(et==null||(Ut=et.data)===null||Ut===void 0?void 0:Ut.error)!=="user_needs_to_accept_custom_tos"}),T(Ct,et),mt!=null&&mt.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,610246939)).then(fn=>{let{renderClient:cn}=fn;(0,p.a5)(),(0,C.A)(),cn()})}h(M,"handleApiError");function _(et,mt,pt){(0,p.a5)(),y.XB[y.F9.BOOT_APP](et,mt,pt)}h(_,"handleBootAppError");function P(et,mt,pt){if(pt){const{teamId:Ut}=pt;(0,O.y)(Ut)}(0,p.a5)(),y.XB[y.F9.BOOT_TEAM](et,mt,pt)}h(P,"handleBootTeamError");function b(et,mt,pt){(0,p.a5)(),y.XB[y.F9.DEFAULT](et,mt,pt)}h(b,"handleDefaultError");const S={handleApiError:M,handleBootAppError:_,handleBootTeamError:P,handleDefaultError:b};var N=e(9113979368),L=e(6002388395),D=e(3997187858),k=e(2877551365),x=e(7481328167),R=e(2691514942),U=e(5222398525),F=e(1244614944);const W="cse-api",w="cse-boot-api";async function K(et){const{teamId:mt,userId:pt,isBootingWarm:Ut}=et,Ct=await Ut,fn=Ct?"deferred-data":"initial-data";let cn=null;((0,k.EZ)()||(0,x.MA)())&&Ct&&(cn=await(0,D.z6)({teamId:mt,userId:pt}));const nn=L.V$.bind(null,{...et,reason:fn,minChannelUpdated:cn});return j(nn,{teamId:mt,userId:pt,reason:fn})}h(K,"fetchBootData");function j(et){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const pt=(0,U.F)(),Ut=pt.createTrace({traceName:W,tags:mt,samplingOptions:{sampleType:F.nl.ALWAYS}});if(!(Ut!=null&&Ut.traceFn))return(0,R.Wo)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.userBoot data fetch."),et();const Ct=h((cn,nn)=>{if((0,N.A)(nn)){const Mn={state:F.$m.SUCCESS,message:"client_userBoot_empty"};cn==null||cn.addTags(Mn),cn==null||cn.close(),pt.reportTrace(Ut)}else pt.clearTrace(Ut)},"onResolve"),fn=h((cn,nn)=>{var Mn;const Wn={state:F.$m.ERROR};nn!=null&&nn.status&&(Wn.status=nn.status),nn!=null&&nn.message&&(Wn.message=nn.message),!(nn==null||(Mn=nn.data)===null||Mn===void 0)&&Mn.error&&(Wn.reason=nn.data.error),cn==null||cn.addTags(Wn),cn==null||cn.close(),pt.reportTrace(Ut)},"onError");return Ut.traceFn({name:w,onError:fn,onResolve:Ct},et)}h(j,"maybeTraceClientUserBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:W,CLIENT_BOOT_SPAN_LABEL:w},"fetchBootData",{get:()=>K,set:et=>{K=et}});var J=e(3398586081),z=e(9513040995),ie=e(5512437437);const ee=(0,J.A)(Z,et=>et.enterpriseId);async function ne(et){return et.enterpriseId?ee(et):{}}h(ne,"maybeFetchEnterpriseData");async function Z(et){const{teamId:mt,enterpriseId:pt}=et;var Ut;let Ct=(Ut=(0,ie._z)(mt??"","enterprise_api_token"))!==null&&Ut!==void 0?Ut:"";if(mt&&(0,z.ZN)(mt)&&!Ct){var fn;Ct=(fn=(0,ie._z)(mt,"token"))!==null&&fn!==void 0?fn:""}const[cn,nn]=await Promise.all([(0,L.YH)(et),(0,L.O5)({...et,token:Ct})]),Mn={enterprise_id:pt,page_needs_enterprise:!0,enterprise_api_token:Ct};return{enterpriseData:cn==null?void 0:cn.enterprise,enterprisePrefsData:nn,enterpriseBootData:Mn}}h(Z,"fetchAllEnterpriseData");const te={resetMemoizedFetchEnterpriseDataCache:()=>{ee.cache.clear()}};var he=e(6489116281),ue=e(6512211059),de=e(6998663753),re=e(3677587543),V=e(3659369705),H=e(7841239023),X=e(9119384208),Y=e(7188858884),q=e(1089942538);function fe(et){let{params:mt,routeName:pt}=et;const Ut=mt.teamId||mt.teamOrEnterpriseId,{dispatch:Ct}=(0,Y.oK)(Ut);Ct((0,q.M)({routeName:pt,routeParams:mt}))}h(fe,"channelCanvasListener");var ce=e(6497449120),Ee=e(349516383),Ae=e(3629566319),le=e(579422651),oe=e(1832690086);function me(et){let{params:mt,prevRouteInfo:pt,prevTeamId:Ut}=et;const Ct=pt==null?void 0:pt.params;if(!Ct||Ct.entityId!=="composer"||!Ct.draftId||Ct.draftId===(mt==null?void 0:mt.draftId))return!0;const{dispatch:fn,getState:cn}=(0,Y.oK)(Ut),nn=cn(),Mn=(0,Ae.di)(Ct.draftId);if(!Mn)return!0;const Wn=(0,le.YI)(nn,Mn);return(0,ce.v7)(Wn,{trimWhitespace:!0})||(0,Ee.A)(nn,Wn)||fn((0,oe.A)({ids:[Mn],reason:"draftsListenerBefore"})),!0}h(me,"draftsListenerBefore");var pe=e(6915886995),Te=e(9963560),Me=e(8859166048),Ue=e(6251135763),xe=e(3351247794),Ne=e(4314744225);async function be(et,mt){const pt=et.getState(),Ut=(0,xe.OL)(pt,mt,!1);return(0,Me.hc)(Ut)?Ut:et.dispatch((0,pe.pX)({ids:[mt],reason:"sonic/route-listeners/ensure-channel",callSource:pe.aI.EnsureChannel})).then(Ct=>{if(!Ct)return;const{channels:fn,resolved:cn}=Ct;if(!(!cn||!cn.includes(mt)))return fn[0]})}h(be,"ensureChannel");const ke=h(async et=>{let{prevTeamId:mt,nextTeamId:pt,routeName:Ut,params:Ct={}}=et;const fn=(0,Y.oK)(pt);if(!(0,Ue.A)(Ct.entityId))return Promise.resolve(void 0);const cn=Ct.entityId;return be(fn,cn).then(nn=>{if(nn&&!(0,Te.lo)(nn))return Promise.resolve(void 0);if(mt!==pt){const Mn=(0,Ne.EI)(fn.getState(),{mainView:!0});return Mn===cn?Promise.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):((0,E._U)(Ut,{...Ct,entityId:Mn},{shouldReplaceState:!0}),Promise.resolve(!1))}return nn?Promise.reject(new Error("tried to switch to a channel from another team")):Promise.resolve(!1)})},"ensure_channel");var Ke=e(5431268570);function $(et){let{nextTeamId:mt,prevTeamId:pt}=et;const{dispatch:Ut}=(0,Y.oK)(mt);pt!==mt&&Ut((0,Ke.yh)({teamId:mt}))}h($,"permissionsListener");var ae=e(1015459121),Ge=e(2165055887),nt=e(3893119100);const at=h(et=>{let{prevTeamId:mt,nextTeamId:pt}=et;if(!(0,nt.VA)()||mt===pt||!pt)return!0;if((0,ae.A)(pt,mt))return!1;const Ut=(0,m.Ry)();return(0,v.isWorkspaceExpired)(Ut,pt)||(0,v.isWorkspacePendingAuth)(Ut,pt)?((0,Ge.A)(pt),!1):!0},"maybe_finish_signin");var Ve=e(1355263950);const Se=h(et=>{let{prevTeamId:mt,nextTeamId:pt,routeName:Ut,params:Ct}=et;if((0,nt.VA)()||mt===pt)return!0;const fn=(0,E.M5)(Ut,{...Ct,teamId:pt});if(!pt)return!0;const cn=(0,m.Ry)(),nn=(0,v.getWorkspacesMeta)(cn),Mn=nn&&nn[pt]&&nn[pt].subdomain,Wn=(0,nt.eb)(Mn)||`_team_${pt}`;return(0,Ve.A)(fn,Wn),!1},"maybe_open_other_team_in_browser");var Pe=e(1954578496),Fe=e(3078252698),ge=e(5375489720),He=e(3622446487),Qe=e(9914323321),_e=e(2100873507),Le=e(3149318338),Ie=e(8931951592);const we=["invitations","contacts"];function ze(et){return we.includes(et)}h(ze,"isValidViewName");var ut=e(3794844178),_t=e(866284723),yt=e(1687122045);const Ot=[/^people[ -~]{1,27}$/,/^contacts[ -~]{1,27}$/,/^otherContacts[ -~]{1,27}$/,/^slackUsers[ -~]{1,27}$/];function It(et){return Ot.some(mt=>mt.test(et))}h(It,"looksLikeContactExternalId");var kt=e(4328187452),gt=e(7174777686),Gt=e(5968645835);function Pt(et){return(0,gt.A)(Gt.M,et)||et===""}h(Pt,"looksLikeFlexpaneSectionId");var jt=e(5504016998),Qt=e(2379068383),Jt=e(5046389610);const Yt=/^[\d]{13}$/;function Rt(et){return et?Yt.test(et):!1}h(Rt,"looksLikeLastReadTs");var Bt=e(907002960),dn=e(7773396482),Mt=e(2138802802),Ye=e(8818557607),ot=e(6404336086),ht=e(289822669),tt=e(758399448);const ct=["received","sent"];function rn(et){return ct.includes(et)}h(rn,"looksLikeInvitationsTabRouteParam");var ln=e(7935924433),on=e(6492043422),G=e(5740819647);const De="/split";function We(et){return!!Pe.as[et]}h(We,"isEntityRedirectKey");const it=h(et=>Object.keys(Pe.as).includes(et),"isRedirectRoute"),Nt=h(et=>et==="prompts","looksLikePromptRoute"),sn={entityId:et=>(0,_t.A)(et)||(0,yt.A)(et)||(0,Ue.A)(et)||(0,kt.A)(et)||(0,Bt.A)(et)||(0,ge.Ay)(et)||(0,ht.A)(et)||(0,Le.n)(et)||(0,_e.bd)(et)||it(et)||(0,Mt.Ay)(et)||(0,G.xL)(et)||Nt(et),appOrServiceId:et=>(0,yt.A)(et)||(0,_t.A)(et),timestamp:dn.A,threadId:ot.A,threadPageId:ot.A,replyTs:dn.A,sectionId:Pt,tabId:et=>(0,Ie.Dl)(et),viewName:et=>ze(et),listsViewName:ut.FO,draftId:Ae.ai,invitationsTabId:rn,channelId:Ue.A,channelFilesId:et=>/^files-.+/.test(et),searchQuery:et=>/^search-.+/.test(et),articleId:et=>(0,jt.A)(et),tileEntityId:et=>(0,Ue.A)(et)||(0,Le.n)(et)||(0,_e.bd)(et),scTeamOrEnterpriseId:et=>(0,ge.Am)(et),quipDocId:Mt.Ay,channelCanvasId:Mt.Ay,contactExternalId:It,itemId:on.Ny,recordId:ut.pq,focusRecordId:ut.or,listViewId:ut._o,lastReadTs:Rt,canvasOpenedFromId:et=>(0,Ue.A)(et)||(0,Bt.A)(et)||et===ln.eE.QUIP_FILES,externalWorkspacePage:He.W_,channelTabId:Qe.jK,salesforceRecordId:Ye.V,workflowTemplateId:tt.A,workflowId:Jt.A,prompt:et=>(0,Fe.A)(et),secondaryEntityId:et=>(0,_t.A)(et)||(0,Qt.A)(et),secondaryViewType:et=>et==="app"||et==="workflow"},en={[u.o]:{paths:["/"]},[Pe._G]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:viewName","/:entityId/:viewName/:invitationsTabId","/:entityId/:listsViewName","/:entityId/:listsViewName/:focusRecordId","/:entityId/:listsViewName/:listViewId","/:entityId/:draftId","/:entityId/:threadPageId","/:entityId/:searchQuery","/:entityId/:channelFilesId","/:entityId/:scTeamOrEnterpriseId","/:entityId/:itemId","/:entityId/:channelCanvasId","/:entityId/:canvasOpenedFromId","/:entityId/:externalWorkspacePage","/:entityId/tabs/:channelTabId","/:entityId/:salesforceRecordId","/:entityId/:channelId/:prompt"]},[Pe.lM]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:viewName/thread/:threadId","/:entityId/:viewName/:invitationsTabId/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId","/:entityId/:channelFilesId/thread/:threadId","/:entityId/:scTeamOrEnterpriseId/thread/:threadId","/:entityId/:listsViewName/thread/:threadId","/:entityId/:canvasOpenedFromId/thread/:threadId"]},[Pe.w7]:{paths:["/:entityId/messages/:channelId","/:entityId/messages/:channelId/:timestamp"]},[Pe.Vy]:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:viewName/channel_info","/:entityId/:viewName/:invitationsTabId/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:threadPageId/channel_info","/:entityId/:searchQuery/channel_info","/:entityId/:channelFilesId/channel_info","/:entityId/:scTeamOrEnterpriseId/channel_info","/:entityId/:listsViewName/channel_info","/:entityId/:canvasOpenedFromId/channel_info"]},[Pe.o6]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[Pe.p3]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:viewName/activity","/:entityId/:viewName/:invitationsTabId/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:threadPageId/activity","/:entityId/:searchQuery/activity","/:entityId/:channelFilesId/activity","/:entityId/:scTeamOrEnterpriseId/activity","/:entityId/:canvasOpenedFromId/activity"]},[Pe.W2]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:viewName/starred_items","/:entityId/:viewName/:invitationsTabId/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:threadPageId/starred_items","/:entityId/:searchQuery/starred_items","/:entityId/:channelFilesId/starred_items","/:entityId/:scTeamOrEnterpriseId/starred_items","/:entityId/:listsViewName/starred_items","/:entityId/:canvasOpenedFromId/starred_items"]},[Pe.ym]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:viewName/saved","/:entityId/:viewName/:invitationsTabId/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:threadPageId/saved","/:entityId/:searchQuery/saved","/:entityId/:channelFilesId/saved","/:entityId/:scTeamOrEnterpriseId/saved","/:entityId/:listsViewName/saved","/:entityId/:canvasOpenedFromId/saved"]},[Pe.fr]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:viewName/appspane","/:entityId/:viewName/:invitationsTabId/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:threadPageId/appspane","/:entityId/:searchQuery/appspane","/:entityId/:channelFilesId/appspane","/:entityId/:scTeamOrEnterpriseId/appspane","/:entityId/:listsViewName/appspane","/:entityId/:canvasOpenedFromId/appspane"]},[Pe.M9]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:viewName/files","/:entityId/:viewName/:invitationsTabId/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:threadPageId/files","/:entityId/:searchQuery/files","/:entityId/:channelFilesId/files","/:entityId/:scTeamOrEnterpriseId/files","/:entityId/:listsViewName/files"]},[Pe.T$]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:viewName/filespane","/:entityId/:viewName/:invitationsTabId/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:threadPageId/filespane","/:entityId/:searchQuery/filespane","/:entityId/:channelFilesId/filespane","/:entityId/:scTeamOrEnterpriseId/filespane","/:entityId/:listsViewName/filespane"]},[Pe.De]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:viewName/files/:fileId","/:entityId/:viewName/:invitationsTabId/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:threadPageId/files/:fileId","/:entityId/:searchQuery/files/:fileId","/:entityId/:channelFilesId/files/:fileId","/:entityId/:scTeamOrEnterpriseId/files/:fileId","/:entityId/:listsViewName/files/:fileId","/:entityId/:canvasOpenedFromId/files/:fileId"]},[Pe.wA]:{paths:["/:entityId/comments/:quipDocId","/:entityId/:canvasOpenedFromId/comments/:quipDocId"]},[Pe.li]:{paths:["/:entityId/history/:quipDocId","/:entityId/:canvasOpenedFromId/history/:quipDocId"]},[Pe.mj]:{paths:["/:entityId/docs/:quipDocId","/:entityId/docs/:quipDocId/:lastReadTs","/:entityId/:timestamp/docs/:quipDocId","/:entityId/:viewName/docs/:quipDocId","/:entityId/:viewName/:invitationsTabId/docs/:quipDocId","/:entityId/:tabId/docs/:quipDocId","/:entityId/:draftId/docs/:quipDocId","/:entityId/:threadPageId/docs/:quipDocId","/:entityId/:searchQuery/docs/:quipDocId","/:entityId/:channelFilesId/docs/:quipDocId","/:entityId/:listsViewName/docs/:quipDocId"]},[Pe.y0]:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:viewName/files/type","/:entityId/:viewName/:invitationsTabId/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:threadPageId/files/type","/:entityId/:searchQuery/files/type","/:entityId/:channelFilesId/files/type","/:entityId/:scTeamOrEnterpriseId/files/type","/:entityId/:listsViewName/files/type"]},[Pe.Nh]:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:viewName/files/memberId","/:entityId/:viewName/:invitationsTabId/files/memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:threadPageId/files/:memberId","/:entityId/:searchQuery/files/:memberId","/:entityId/:channelFilesId/files/:memberId","/:entityId/:scTeamOrEnterpriseId/files/:memberId","/:entityId/:listsViewName/files/:memberId","/:entityId/:canvasOpenedFromId/files/:memberId"]},[Pe.$s]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:viewName/user_groups","/:entityId/:viewName/:invitationsTabId/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:threadPageId/user_groups","/:entityId/:searchQuery/user_groups","/:entityId/:channelFilesId/user_groups","/:entityId/:scTeamOrEnterpriseId/user_groups","/:entityId/:listsViewName/user_groups","/:entityId/:canvasOpenedFromId/user_groups"]},[Pe.Mu]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:viewName/user_groups/:userGroupId","/:entityId/:viewName/:invitationsTabId/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:threadPageId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId","/:entityId/:channelFilesId/user_groups/:userGroupId","/:entityId/:scTeamOrEnterpriseId/user_groups/:userGroupId","/:entityId/:listsViewName/user_groups/:userGroupId","/:entityId/:canvasOpenedFromId/user_groups/:userGroupId"]},[Pe.Ns]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:viewName/whats_new","/:entityId/:viewName/:invitationsTabId/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:threadPageId/whats_new","/:entityId/:searchQuery/whats_new","/:entityId/:channelFilesId/whats_new","/:entityId/:scTeamOrEnterpriseId/whats_new","/:entityId/:listsViewName/whats_new","/:entityId/:canvasOpenedFromId/whats_new"]},[Pe.IN]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:viewName/shortcuts","/:entityId/:viewName/:invitationsTabId/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:threadPageId/shortcuts","/:entityId/:searchQuery/shortcuts","/:entityId/:channelFilesId/shortcuts","/:entityId/:scTeamOrEnterpriseId/shortcuts","/:entityId/:listsViewName/shortcuts","/:entityId/:canvasOpenedFromId/shortcuts"]},[Pe.Q$]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:viewName/user_profile/:memberId","/:entityId/:viewName/:invitationsTabId/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:threadPageId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId","/:entityId/:channelFilesId/user_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/user_profile/:memberId","/:entityId/:listsViewName/user_profile/:memberId","/:entityId/:canvasOpenedFromId/user_profile/:memberId"]},[Pe.E2]:{paths:["/:entityId/help","/:entityId/:timestamp/help","/:entityId/:viewName/help","/:entityId/:viewName/:invitationsTabId/help","/:entityId/:tabId/help","/:entityId/:draftId/help","/:entityId/:threadPageId/help","/:entityId/:searchQuery/help","/:entityId/:channelFilesId/help","/:entityId/:scTeamOrEnterpriseId/help","/:entityId/:listsViewName/help","/:entityId/:canvasOpenedFromId/help"]},[Pe.vA]:{paths:["/:entityId/help/:articleId","/:entityId/:timestamp/help/:articleId","/:entityId/:viewName/help/:articleId","/:entityId/:viewName/:invitationsTabId/help/:articleId","/:entityId/:tabId/help/:articleId","/:entityId/:draftId/help/:articleId","/:entityId/:threadPageId/help/:articleId","/:entityId/:searchQuery/help/:articleId","/:entityId/:channelFilesId/help/:articleId","/:entityId/:scTeamOrEnterpriseId/help/:articleId","/:entityId/:listsViewName/help/:articleId","/:entityId/:canvasOpenedFromId/help/:articleId"]},[Pe.Dn]:{paths:["/:entityId/rimeto_profile/:memberId","/:entityId/:timestamp/rimeto_profile/:memberId","/:entityId/:viewName/rimeto_profile/:memberId","/:entityId/:viewName/:invitationsTabId/rimeto_profile/:memberId","/:entityId/:tabId/rimeto_profile/:memberId","/:entityId/:searchQuery/rimeto_profile/:memberId","/:entityId/:draftId/rimeto_profile/:memberId","/:entityId/:threadPageId/rimeto_profile/:memberId","/:entityId/:channelFilesId/rimeto_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/rimeto_profile/:memberId","/:entityId/:listsViewName/rimeto_profile/:memberId","/:entityId/:canvasOpenedFromId/rimeto_profile/:memberId"]},[Pe.Ie]:{paths:["/:entityId/feedback","/:entityId/:timestamp/feedback","/:entityId/:viewName/feedback","/:entityId/:viewName/:invitationsTabId/feedback","/:entityId/:tabId/feedback","/:entityId/:draftId/feedback","/:entityId/:threadPageId/feedback","/:entityId/:searchQuery/feedback","/:entityId/:channelFilesId/feedback","/:entityId/:scTeamOrEnterpriseId/feedback","/:entityId/:listsViewName/feedback","/:entityId/:canvasOpenedFromId/feedback"]},[Pe.Bh]:{paths:["/:channelId/huddle"]},[Pe.Mv]:{paths:["/:entityId/huddles_captions","/:entityId/:timestamp/huddles_captions","/:entityId/:viewName/huddles_captions","/:entityId/:viewName/:invitationsTabId/huddles_captions","/:entityId/:tabId/huddles_captions","/:entityId/:draftId/huddles_captions","/:entityId/:threadPageId/huddles_captions","/:entityId/:searchQuery/huddles_captions","/:entityId/:channelFilesId/huddles_captions","/:entityId/:scTeamOrEnterpriseId/huddles_captions","/:entityId/:listsViewName/huddles_captions","/:entityId/:canvasOpenedFromId/huddles_captions"]},[Pe.d2]:{paths:["/:entityId/contact_profile/:contactExternalId","/:entityId/:timestamp/contact_profile/:contactExternalId","/:entityId/:viewName/contact_profile/:contactExternalId","/:entityId/:viewName/:invitationsTabId/contact_profile/:contactExternalId","/:entityId/:tabId/contact_profile/:contactExternalId","/:entityId/:draftId/contact_profile/:contactExternalId","/:entityId/:threadPageId/contact_profile/:contactExternalId","/:entityId/:searchQuery/contact_profile/:contactExternalId","/:entityId/:channelFilesId/contact_profile/:contactExternalId","/:entityId/:scTeamOrEnterpriseId/contact_profile/:contactExternalId","/:entityId/:listsViewName/contact_profile/:contactExternalId","/:entityId/:canvasOpenedFromId/contact_profile/:contactExternalId"]},[Pe.p$]:{paths:["/:entityId/record/:recordId","/:entityId/:timestamp/record/:recordId","/:entityId/:viewName/record/:recordId","/:entityId/:viewName/:invitationsTabId/record/:recordId","/:entityId/:tabId/record/:recordId","/:entityId/:draftId/record/:recordId","/:entityId/:threadPageId/record/:recordId","/:entityId/:searchQuery/record/:recordId","/:entityId/:channelFilesId/record/:recordId","/:entityId/:scTeamOrEnterpriseId/record/:recordId","/:entityId/:listsViewName/record/:recordId","/:entityId/:canvasOpenedFromId/record/:recordId"]},[Pe.td]:{paths:["/:entityId/workflow/:workflowId","/:entityId/:tabId/:workflowTemplateId"]},[Pe.LS]:{paths:["/:entityId/:secondaryViewType/:secondaryEntityId","/:entityId/:timestamp/:secondaryViewType/:secondaryEntityId","/:entityId/:tabId/:secondaryViewType/:secondaryEntityId","/:entityId/:viewName/:secondaryViewType/:secondaryEntityId","/:entityId/:viewName/:invitationsTabId/:secondaryViewType/:secondaryEntityId","/:entityId/:listsViewName/:secondaryViewType/:secondaryEntityId","/:entityId/:listsViewName/:focusRecordId/:secondaryViewType/:secondaryEntityId","/:entityId/:listsViewName/:listViewId/:secondaryViewType/:secondaryEntityId","/:entityId/:draftId/:secondaryViewType/:secondaryEntityId","/:entityId/:threadPageId/:secondaryViewType/:secondaryEntityId","/:entityId/:searchQuery/:secondaryViewType/:secondaryEntityId","/:entityId/:channelFilesId/:secondaryViewType/:secondaryEntityId","/:entityId/:scTeamOrEnterpriseId/:secondaryViewType/:secondaryEntityId","/:entityId/:itemId/:secondaryViewType/:secondaryEntityId","/:entityId/:channelCanvasId/:secondaryViewType/:secondaryEntityId","/:entityId/:canvasOpenedFromId/:secondaryViewType/:secondaryEntityId","/:entityId/:externalWorkspacePage/:secondaryViewType/:secondaryEntityId","/:entityId/tabs/:channelTabId/:secondaryViewType/:secondaryEntityId","/:entityId/:salesforceRecordId/:secondaryViewType/:secondaryEntityId","/:entityId/:channelId/:prompt/:secondaryViewType/:secondaryEntityId"]}};function _n(){(0,E.S2)(sn,en)}h(_n,"setRoutes");const Dn=h(et=>{let{routeName:mt,params:pt={}}=et;const{entityId:Ut}=pt;return Ut&&We(Ut)?((0,E._U)(mt,{...pt,entityId:Pe.as[Ut]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity");var On=e(2203123872),In=e(7914090806),bn=e(9175153974),Hn=e(6808207036),vn=e(7418708689),Sn=e(3228638226);function gn(et){let{prevTeamId:mt,nextTeamId:pt}=et;if(!pt||mt===pt)return;const Ut=(0,Y.oK)(pt),Ct=Ut.getState(),fn=(0,Sn.e6)(Ct),cn=(0,Sn.Le)(Ct,{tab:fn}),nn=(0,Sn.Oy)(Ct),Mn=(0,bn.V)(Ct),Wn=(0,bn.V)((0,m.Ry)()),Kn=Mn||Wn?(0,bn.T)(Ct,{id:vn.N2}):void 0,Bn={prevViewSet:void 0,prevTab:void 0,nextViewSet:cn,nextTab:fn,windowId:vn.N2,navigateParams:{destinationContainer:Kn,teamId:pt},triggerType:In.w.TEAM_SWITCH,prevSplitView:nn,nextSplitView:nn};Ut.dispatch((0,Hn.c)(Bn)),Ut.dispatch((0,On.C)(Bn))}h(gn,"maybeRunTeamSwitchNavigateListeners");var Rn=e(1707877849),Qn=e(1052211140),Yn=e(8403303083),Jn=e(76949914),$n=e(2069063006),_s=e(8399503736);function os(et){let{nextTeamId:mt,prevTeamId:pt}=et;const{dispatch:Ut,getState:Ct}=(0,Y.oK)(pt),fn=Ct();return(0,Jn.iS)(fn)?new Promise((nn,Mn)=>{Ut((0,Qn.P)({openModalProps:{isStackable:!0},onConfirmClose:()=>{Ut((0,Yn.U)(!1)),Ut((0,$n.O)({closeAll:!0})),nn()},onCancelClose:()=>{Mn()}}))}):(pt&&!(0,_s.Vq)({teamId:pt})&&Ut(mt===pt?(0,$n.O)({closeNamed:Rn.N}):(0,$n.O)({closeAll:!0})),!0)}h(os,"modalListenerBefore");var fs=e(3327412826);function is(et){const mt=(0,fs.h)();return mt!=null&&mt.onClose&&(mt==null||mt.onClose()),!0}h(is,"pinsPopoverListenerAfter");var Vn=e(2216791686),Nn=e(4894634110),xn=e(494655944),Xn=e(3449258574),Zn=e(2034809228),vs=e(3173295423),cs=e(6621476080);const Ft=["comment_thread","activity_history","files","rimeto_profile","thread",Pe.li,Pe.lM,Pe.De,Pe.Dn,Pe.Q$],Ze=(0,Nn.Ay)("Post activity history routing side effects",(et,mt,pt)=>{let{params:Ut,prevRouteInfo:Ct,routeName:fn}=pt;var cn;const nn=Ut==null?void 0:Ut.entityId,Mn=Ct==null||(cn=Ct.params)===null||cn===void 0?void 0:cn.entityId,Wn=vn.N2;if(fn===Pe._G&&nn&&(0,xn.A)(nn)){const{fileIdOrQuipThreadId:Bn}=(0,Xn.EX)(nn);Ft.includes(Ct==null?void 0:Ct.routeName)&&et((0,vs.A)({fileId:Bn,windowId:Wn,source:cs.f.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let ds=nn,Kn=Mn;(0,Mt.Ay)(Mn)&&(0,Mt.Ay)(nn)&&(ds=(0,Xn.EX)(Mn).fileIdOrQuipThreadId,Kn=(0,Xn.EX)(nn).fileIdOrQuipThreadId),ds!==Kn&&et((0,Zn.NA)({windowId:Wn}))});Ze.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function st(et){let{params:mt,prevRouteInfo:pt,routeName:Ut,reason:Ct}=et;const fn=mt.teamId||mt.teamOrEnterpriseId,{dispatch:cn,getState:nn}=(0,Y.oK)(fn);(0,Vn.O4)(nn())&&cn(Ze({routeName:Ut,params:mt,prevRouteInfo:pt,reason:Ct}))}h(st,"quipActivityHistoryListener");const vt=h(et=>{let{nextTeamId:mt,routeName:pt,params:Ut}=et;const Ct={routeName:pt,params:Ut};return mt&&(0,ie.t2)(mt,"lastRoute",Ct),!0},"save_route_to_local_config");var At=e(6040873869),Tt=e(1549103603);function Vt(et){let{prevTeamId:mt}=et;const pt=(0,Y.oK)(mt);return(0,Tt.J)(pt.getState())&&(pt.dispatch((0,At.T)(!0)),X.g.delete("setNavigatedDuringWarmBoot")),Promise.resolve()}h(Vt,"setNavigatedDuringWarmBoot");var an=e(5887324738),qe=e(7579963327),se=e(5478210142),Ce=e(6250977097);function Oe(et){let{nextTeamId:mt,prevRouteInfo:pt,params:Ut}=et;var Ct;const fn=(0,Y.oK)(mt),cn=fn.getState(),nn=(0,se.c8)(cn),Mn=(0,xe.OL)(cn,Ut.entityId),Wn=(pt==null||(Ct=pt.params)===null||Ct===void 0?void 0:Ct.entityId)||"";(Wn===ln.eE.CHANNELS||Wn===Ce.b||Wn===Ce.Z1)&&(Ut!=null&&Ut.entityId)&&Mn&&!(0,an.bl)(Mn)&&fn.dispatch((0,qe.Tm)({channelId:Ut.entityId,prevRoute:Wn})),nn&&(pt==null?void 0:pt.routeName)==="ROUTE_ENTITY"&&(0,Ue.A)(Wn)&&fn.dispatch((0,qe.Tm)({channelId:null,prevRoute:null}))}h(Oe,"setPreviewingFromChannelBrowserOrLaunchpad");var Be=e(7004130644),Je=e(2408953692),rt=e(4348750635);function Dt(et){let{nextTeamId:mt,uuid:pt,shouldReplaceState:Ut,reason:Ct}=et;var fn;if(!mt||!pt)return;if(Ct!==E.GB)if(Ut)(0,m.dispatchForClientStore)((0,Be.HQ)({windowId:vn.N2,entry:{id:pt,ts:Date.now(),teamId:mt,isIA4:!1}}));else{const Wn=(0,Je.XG)((0,m.Ry)());Wn>0&&(0,m.dispatchForClientStore)((0,Be.$E)({windowId:vn.N2,index:Wn})),(0,m.dispatchForClientStore)((0,Be.y2)({windowId:vn.N2,entry:{id:pt,ts:Date.now(),teamId:mt,isIA4:!1}}))}const cn=(0,Y.oK)(mt),nn=cn.getState();if(!((fn=window.history.state)===null||fn===void 0)&&fn.isIA4)return;const Mn=(0,Sn.Gl)(nn);cn.dispatch((0,rt.A)({windowId:vn.N2,entry:Mn}))}h(Dt,"updateIA4History");var Kt=e(235108050);const mn=h(et=>{let{prevTeamId:mt,nextTeamId:pt}=et;if(mt===pt||!pt)return;const Ut=(0,ie.W6)("recentlyUsedTeamIds")||mt&&[mt]||[];Ut.unshift(pt),(0,ie.q9)("recentlyUsedTeamIds",(0,Kt.A)(Ut)),(0,ie.t2)(pt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams");var Xt=e(898756733),$t;(function(et){et.JA_JP="ja-JP",et.EN_US="en-US",et.EN_GB="en-GB",et.ES_ES="es-ES",et.ES_LA="es-LA",et.FR_FR="fr-FR",et.DE_DE="de-DE",et.PT_BR="pt-BR",et.KO_KR="ko-KR",et.IT_IT="it-IT",et.ZH_CN="zh-CN",et.ZH_TW="zh-TW"})($t||($t={}));const En=$t.EN_US;var Tn=e(414484285),tn=e(6556969494),Fn=e(3198489656);function jn(et){let{nextTeamId:mt,routeName:pt,params:Ut}=et;mt&&((0,m.dispatchForClientStore)((0,tn.b)({teamId:mt,routeName:pt,params:Ut,fromNavigation:!0})),(0,Y.oK)(mt)&&(0,Y.Qw)(mt,(0,At.w)({routeName:pt,params:Ut})))}h(jn,"syncRouteStoreWithUrl");async function rs(et){let{prevTeamId:mt,nextTeamId:pt,navigationTimestamp:Ut}=et;const Ct=(0,m.Ry)();if(!pt||(0,v.hasWorkspaceFailedToBoot)(Ct,pt)||(0,v.doesWorkspaceNeed2FASetup)(Ct,pt)||(0,v.isWorkspaceExpired)(Ct,pt)||(0,v.isWorkspacePendingAuth)(Ct,pt))return!0;const fn=(0,Y.oK)(pt),cn=fn&&fn.getState(),nn=(0,Fn.MC)(cn),Mn=(0,Fn.D8)(cn)||Pe._G;if((0,V.y3)()&&Mn===u.o)return!0;const Wn=!mt;return await(0,E._U)(Mn,{...nn,teamId:pt},{reason:"navigateToLastSavedRoute",shouldReplaceState:Wn,navigationTimestamp:Ut}),!1}h(rs,"navigateToLastSavedRoute");function ls(et){let{prevTeamId:mt,nextTeamId:pt}=et;if(!mt||!pt||mt===pt)return;const Ut=as(pt);return Promise.resolve((0,Tn.xS)(Ut,pt)).then(()=>{})}h(ls,"ensureCorrectLocaleForTeam");function ns(et){let{prevTeamId:mt,nextTeamId:pt}=et;if(!mt||!pt||mt===pt)return;const Ut=as(pt);if(Ut)return(0,H.zI)(Ut)}h(ns,"ensureCorrectLocaleForExternalLibs");function as(et){const mt=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/),pt=mt?mt[1]:(0,ie._z)(et,"user_locale");return pt&&(0,H.YI)(pt)?pt:En}h(as,"getLocaleForTeam");const Ss=(0,de.A)(Us);function Us(){X.g.set("maybeOpenOtherTeamInBrowser",(0,E.Y8)(Se)),X.g.set("modalListenerBefore",(0,E.Y8)(os)),X.g.set("maybeFinishSignin",(0,E.Y8)(at)),X.g.set("maybeRedirectEntity",(0,E.Y8)(Dn)),X.g.set("navigateToLastSavedRoute",(0,E.Y8)(rs,[u.o])),X.g.set("ensureChannel",(0,E.Y8)(ke,[])),X.g.set("draftsListenerBefore",(0,E.Y8)(me)),X.g.set("ensureCorrectLocaleForExternalLibs",(0,E.Dd)(ns)),X.g.set("updateIA4History",(0,E.Dd)(Dt)),X.g.set("maybeRunTeamSwitchNavigateListeners",(0,E.Dd)(gn)),X.g.set("setNavigatedDuringWarmBoot",(0,E.Dd)(Vt)),X.g.set("pinsPopoverListenerAfter",(0,E.Y8)(is)),X.g.set("syncRouteStoreWithUrl",(0,E.Dd)(jn)),X.g.set("ensureCorrectLocaleForTeam",(0,E.Dd)(ls)),X.g.set("setLocalConfigForTeamWithKey",(0,E.Dd)(vt)),X.g.set("updateRecentlyUsedTeams",(0,E.Dd)(mn)),X.g.set("maybeFetchClientPermissions",(0,E.Dd)($)),X.g.set("maybeIncrementHistoryLength",(0,E.Dd)(Xt.Cu)),X.g.set("setPreviewingFromChannelBrowserOrLaunchpad",(0,E.Dd)(Oe)),X.g.set("channelCanvasListener",(0,E.Dd)(fe)),X.g.set("quipActivityHistoryListener",(0,E.Dd)(st))}h(Us,"registerRouteListenersInner"),(0,re.ul)("router.listeners",()=>[...X.g.entries()]);const ys={syncRouteStoreWithUrl:jn,navigateToLastSavedRoute:rs,ensureCorrectLocaleForTeam:ls,ensureCorrectLocaleForExternalLibs:ns,getLocaleForTeam:as};Object.defineProperty(ys,"syncRouteStoreWithUrl",{get:()=>jn,set:et=>{jn=et}}),Object.defineProperty(ys,"navigateToLastSavedRoute",{get:()=>rs,set:et=>{rs=et}}),Object.defineProperty(ys,"ensureCorrectLocaleForTeam",{get:()=>ls,set:et=>{ls=et}}),Object.defineProperty(ys,"ensureCorrectLocaleForExternalLibs",{get:()=>ns,set:et=>{ns=et}}),Object.defineProperty(ys,"getLocaleForTeam",{get:()=>as,set:et=>{as=et}});var Ts=e(1137236691);const Rs=h(()=>({deviceId:Ts.iCQ}),"getSharedTracerTags");var ps=e(668425044),Hs=e(3030000605);const Os=h(async()=>{Ts.goh.isAvailable()&&(0,Ts.goh)().includes("DisableServiceWorker")&&await(0,Hs._E)()},"disableServiceWorkerForClientConfig"),Ms=h(async()=>{(0,V.X5)()===V.h5.SAFARI&&await(0,Hs._E)()},"disableServiceWorkerForSafari"),Ws=h(async()=>{await Ms(),await Os()},"maybeDisableServiceWorker");var Fs=e(2908974489),Xe=e(4672172833),wt=e(9348523066);async function Wt(et){let{contextualInfo:mt}=et;return{contextualInfo:mt,otherTeamsToBoot:(0,wt.gv)()}}h(Wt,"setupOtherTeamsToBoot");var lt=e(1137933275),ft=e(7663238395),St=e(8872907220);async function bt(){if((0,o.$i)()||(0,o.b3)()||(0,o.Cu)()){const mt=(await e.e("sqlite-worker-dev").then(e.bind(e,1434002110))).default;return new mt}return new Worker("/sqlite.worker.js")}h(bt,"initSqliteWorker");const Ht=St.D;var zt=e(2087632849),yn=e(8597579279),pn=e(9759853193);Ws(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();const Zt=h(et=>({...(0,yn.s)(et),actionSanitizer:pn.g}),"createReduxDevtools");function hn(et){return et.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:(0,nt.VA)(),getCreateReduxDevtools:()=>Zt}),et.registerErrorHandlers(I),et.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(e,3768316346)),apis:()=>Promise.all([e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-async-client-boot-apis")]).then(e.bind(e,4801471557)),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,610246939)),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(e,4082164022))}),et.registerInitialApiCalls({experimentData:L.dC,featureFlagData:L.BG,clientBootData:K,viewData:he.L$,allEnterpriseData:ne,featureAccessData:L.jH,shouldReloadData:ps.zw}),ft.e.register(Rs),(0,ue.b)(et),et.hooks.beforeDynamicImportsStart.tap("Render Placeholder",async mt=>{let{contextualInfo:pt}=mt;return(0,p.Sp)({teamId:pt.teamOrEnterpriseBootId}),{contextualInfo:pt}}),et.hooks.beforeDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start downloading the sqlite worker",async mt=>{let{contextualInfo:pt}=mt;return(0,x.MA)()&&bt().catch(Ut=>{(0,t.pq)("BOOT","Could not init SQLite worker, moving on. See error:",Ut)}),{contextualInfo:pt}}),et.hooks.afterDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start the sqlite client",async mt=>{let{contextualInfo:pt}=mt;if((0,x.MA)())try{await Ht()}catch(Ut){(0,t.pq)("BOOT","Could not init SQLite client, moving on. See error:",Ut)}return{contextualInfo:pt}}),et.hooks.afterDynamicImportsStart.tap("Set routes",async mt=>{let{contextualInfo:pt}=mt;return _n(),{contextualInfo:pt}}),et.hooks.afterDynamicImportsStart.tap("Set up client store",async mt=>{let{contextualInfo:pt}=mt;return(0,zt.x)(pt.teamId),{contextualInfo:pt}}),et.hooks.afterDynamicImportsStart.tap("Register route listeners",async mt=>{let{contextualInfo:pt}=mt;return Ss(),{contextualInfo:pt}}),et.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",async mt=>{let{contextualInfo:pt}=mt;const{teamId:Ut}=pt;return Ut?(Ut!==(0,ie.W6)("lastActiveTeamId")&&(0,ie.q9)("lastActiveTeamId",Ut),{contextualInfo:pt}):{contextualInfo:pt}}),et.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",async mt=>{let{contextualInfo:pt}=mt;return window.isReloading?((0,t.pq)("BOOT",`(${pt.teamId}) Ongoing reload detected; Cancelling boot.`),(0,l.A)()):{contextualInfo:pt}}),et.hooks.beforeInitializeTeam.tap("[experiment:wasm_sqlite_spike] Init tables for team and user",async mt=>{let{contextualInfo:pt}=mt;const{teamId:Ut,userId:Ct}=pt;if((0,x.MA)()&&Ut&&Ct)try{const fn=(0,St.D)(),cn=2500,nn="[BOOT] sqlite.initTables";await(0,r.wj)(fn.initTables({teamId:Ut,userId:Ct}),cn,nn)}catch(fn){(0,t.pq)("BOOT","Could not init SQLite tables, moving on. See error:",fn)}return{contextualInfo:pt}}),et.hooks.beforeInitializeTeam.tap("Set tokens",async mt=>{let{contextualInfo:pt}=mt;return(0,Xe.L)({contextualInfo:pt})}),et.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",async mt=>{let{contextualInfo:pt}=mt;return((0,k.EZ)()||(0,x.MA)())&&(0,D.z6)({teamId:pt.teamId,userId:pt.userId}),{contextualInfo:pt}}),et.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",Wt),et.run()}if(h(hn,"boot"),!(0,a.A)()){const et=(0,Fs.z4)(lt.Y.CLIENT_V2);if(!(0,i.z$)()&&(0,o.KV)()&&(0,s.b)()){const mt=e(8904626639);mt.init({dsn:`https://4162106b525941d087e5f8f5e446ae9b@app.${(0,n.Xk)()}/apps/sentryproxy/5865811`,release:`webapp@${(0,c.HF)()}`,defaultIntegrations:!1,integrations:[mt.browserTracingIntegration({enableInp:!0}),mt.browserProfilingIntegration(),mt.httpContextIntegration()],sampleRate:1,tracesSampleRate:1,profilesSampleRate:1,tracePropagationTargets:[],replaysSessionSampleRate:0,replaysOnErrorSampleRate:0})}hn(et)}const kn={boot:hn}},6489116281:(B,A,e)=>{"use strict";e.d(A,{L$:()=>m});var t=e(1097815650),s=e(4624581660),o=e(1137933275),n=e(9186248064),c=e(2100873507),l=e(2691514942),i=e(3149318338),a=e(866284723),r=e(6251135763),d=e(2138802802);async function m(v){const{appName:g,bootQueue:T,token:p,teamId:O}=v;if(!p)return(0,l.Ay)({teamOrEnterpriseId:O,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!O)return(0,l.Ay)({teamOrEnterpriseId:O,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const y=await(0,s.E)({contextualInfo:v});return f({bootQueue:T,token:p,teamId:O,routeInfo:y,appName:g})}h(m,"maybeFetchMessagesData");async function f(v){let{bootQueue:g,token:T,teamId:p,routeInfo:O,appName:y}=v;var C;const I=O==null||(C=O.params)===null||C===void 0?void 0:C.entityId;return I&&(0,r.A)(I)&&!(0,i.n)(I)&&!(0,c.bd)(I)&&!(0,a.A)(I)&&!(0,d.Ay)(I)?((0,t.pq)("BOOT",`Booting into channel: ${I}`),u({appName:y,bootQueue:g,token:T,teamId:p,id:I})):!(0,i.n)(I)&&!(0,c.bd)(I)&&!(0,a.A)(I)&&!(0,d.Ay)(I)?((0,t.pq)("BOOT","Couldn't determine boot channel. Falling back to default channel"),u({appName:y,bootQueue:g,token:T,teamId:p})):null}h(f,"fetchMessagesDataForRoute");function u(v){let{bootQueue:g,token:T,teamId:p,id:O,appName:y}=v;const C={token:T,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28,include_free_team_extra_messages:!0};O&&(C.channel=O),y===o.Y.SINGLE_CHANNEL_CLIENT&&(C.is_single_channel_boot=1);const I=new n.Ay({method:"conversations.view",args:C,teamId:p});return g.q(I).catch(M=>((0,l.Ay)({teamOrEnterpriseId:p,label:"BOOT"}).error(new Error(`unable to fetch messages data ${M}`)),null))}h(u,"fetchMessagesData");const E={fetchMessagesData:u}},8215783381:(B,A,e)=>{"use strict";e.d(A,{d:()=>n});var t=e(5248257622),s=e(7577622900),o=e(9192970512);function n(c){let{channels:l,selfId:i}=c;const a={};return l.some((r,d)=>{const m=r==null?void 0:r.id;return(0,o.N)(r)?(a.general=m,!0):((0,s.D)(r)&&(a.slackbot=m),i&&(0,t.e)(r)===i&&(a.self=m),d||(a.first=m),!1)}),a.general||a.slackbot||a.self||a.first}h(n,"getAnyChannelForRouting")},4624581660:(B,A,e)=>{"use strict";e.d(A,{E:()=>n});var t=e(8215783381),s=e(1954578496),o=e(8898240026);async function n(i){let{contextualInfo:a,channels:r}=i;const{isForegroundTeam:d}=a,m=(0,o.Gf)({shouldSetFocus:d});return m||c({contextualInfo:a,channels:r})}h(n,"getRouteInfo");function c(i){let{contextualInfo:a,channels:r}=i;const{teamId:d}=a;if(!d)return null;const m=(0,o.lQ)(d);if(m)return m;if(r){const f=a.userId;return l({channels:r,selfId:f})}return null}h(c,"calculateRouteInfo");function l(i){let{channels:a,selfId:r}=i;if(!a.length)return null;const d={routeName:s._G,params:{}},m=(0,t.d)({channels:a,selfId:r});return m&&(d.params.entityId=m),d}h(l,"getRouteFromBootData")},3180244459:(B,A,e)=>{"use strict";e.d(A,{y:()=>c});var t=e(1097815650),s=e(9119384208),o=e(7188858884),n=e(8243073662);function c(l){if(!l)return;const i=(0,o.oK)(l);i&&((0,t.pq)("BOOT",`(${l}) Boot complete`),s.g.delete("setNavigatedDuringWarmBoot"),i.dispatch((0,n.b)(!1)),i.dispatch((0,n.k)(!1)))}h(c,"markTeamBootCompleted")},6512211059:(B,A,e)=>{"use strict";e.d(A,{b:()=>n,h:()=>o});var t=e(8128148584),s=e(1244614944);async function o(i){let{contextualInfo:a}=i;const{getTraceMeta:r,isBootingWarm:d,appName:m}=a,{getTracer:f,tags:u}=r(),E=await d?t.H.WARM:t.H.COLD,v=f().createTrace({traceName:t.S.BOOT_INITIAL_LOAD,tags:{boot_type:E,app_name:m,...u},autoCreateRootSpan:!1,samplingOptions:{sampleType:s.nl.ALWAYS}});v.startSpan(t.S.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),v.startSpan(t.S.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),v.startSpan(t.S.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),f().reportTrace(v)}h(o,"collectInitialPageLoadMetrics");function n(i){i.hooks.beforeDynamicImportsStart.addCallIntercept(a=>c(a)),i.hooks.renderApp.addCallIntercept(a=>l(a))}h(n,"setupBootMetricsTracing");function c(i){return a=>{const{getTracer:r,setTrace:d,rootTrace:m}=a.contextualInfo.getTraceMeta(),u=r().createTrace({traceName:t.S.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:m.getRootSpanId(),traceId:m.getTraceId()});return u.startSpan(t.S.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),d(u),i(a)}}h(c,"startTimeToRenderTrace");function l(i){return async a=>{const{isBootingWarm:r,getTraceMeta:d,isForegroundTeam:m}=a.contextualInfo,{getTracer:f,getTrace:u,setTrace:E,rootTrace:v}=d(),g=f(),T=u(),p=await r?t.H.WARM:t.H.COLD;return T.addTags({boot_type:p,is_foreground_team:m}),g.reportTrace(T),E(v),i(a)}}h(l,"endTimeToRenderTrace")},8128148584:(B,A,e)=>{"use strict";e.d(A,{H:()=>s,S:()=>t});var t;(function(o){o.BOOT_INITIAL_LOAD="boot:initial_load",o.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",o.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",o.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",o.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(t||(t={}));var s;(function(o){o.COLD="cold",o.WARM="warm"})(s||(s={}))},9119384208:(B,A,e)=>{"use strict";e.d(A,{g:()=>t});const t=new Map},7275771234:(B,A,e)=>{"use strict";e.d(A,{Ys:()=>o,jJ:()=>s,xn:()=>t});const t=[],s=["at_user","at_user_group","at_channel","at_everyone","dm","mpdm","keyword","message_reaction","list_record_assigned","list_user_mentioned","list_todo_notification","bot_dm_bundle","thread_v2","saved_reminder","calendar_upcoming_event","internal_channel_invite","external_channel_invite","external_dm_invite","list_record_edited","example_user_alert","list_record_edited_bundle"],o={NEWEST:"newest",VIP:"vip",UNREADS:"unreads"}},5867968970:(B,A,e)=>{"use strict";e.d(A,{A:()=>o});var t=e(7275771234),s=e(9152442898);const o=h(n=>{let{selectedTab:c,unreadsFilterToggleSelected:l=!1,vipFilterToggleSelected:i=!1,preferredActivityFeedSortOrder:a,isVipEnabled:r,experimentDMInActivityGroupOn:d,experimentActivityInboxGroupOn:m}=n;return m?a===t.Ys.VIP?"priority_unreads_first_v1":a===t.Ys.UNREADS?"unreads_first_v1":"chrono_v1":l&&(c===s.Li.Vip||i)?"chrono_priority_only_unreads_v1":c===s.Li.Vip||i?"chrono_priority_only_reads_and_unreads_v1":r&&c===s.Li.All?l?"priority_unreads_v1":"priority_reads_and_unreads_v1":d&&l&&c===s.Li.Replies?"chrono_unreads":d&&!l&&c===s.Li.Replies?"chrono_reads_and_unreads":l&&c===s.Li.Replies?"chrono_threads_unreads_v2":l&&c===s.Li.Replies?"chrono_threads_unreads":c===s.Li.Replies?"chrono_threads_reads_and_unreads_v2":l?"chrono_unreads":"chrono_reads_and_unreads"},"getFetchMode")},5803839746:(B,A,e)=>{"use strict";e.d(A,{N:()=>o,a:()=>s});var t=e(205540855);function s(n){return(0,t._Z)(n,"vip_sidebar_toggle")==="treatment"}h(s,"isPrioritySidebarToggleEnabled");function o(n){return(0,t._Z)(n,"vip_sidebar_toggle")==="recommended"}h(o,"isPrioritySidebarToggleRecommendedEnabled")},635454765:(B,A,e)=>{"use strict";e.d(A,{fd:()=>i,zT:()=>a});var t=e(6717879785),s=e(3677587543),o=e(4743206017),n=e(2691514942);const c=["cpu"],l=new Map;async function i(){if(!t.J.PressureObserver||!(0,o.Dt)())return;const d=t.J.PressureObserver.knownSources;if(!d||d.length===0)return;const m=c.filter(E=>d.includes(E));if(m.length===0)return;const f=(0,n.Wo)({label:"PRESSURE-OBSERVER"});f.debug("Registering pressure observer",{supportedSources:d,desiredSources:m});let u;try{u=new t.J.PressureObserver(E=>{f.debug("PressureObserver callback",{changes:E});for(const v of E)l.set(v.source,v)})}catch(E){E.name==="NotAllowedError"?f.error(new Error(`PressureObserver not allowed: ${E}`)):f.error(new Error(`Failed to create PressureObserver: ${E}`));return}await Promise.all(m.map(async E=>{try{await u.observe(E),l.set(E,void 0)}catch(v){v.name==="NotSupportedError"?f.warn(`PressureObserver source "${E}" not supported`):f.error(new Error(`Failed to observe PressureObserver soure "${E}": ${v}`))}})),f.debug("Registered pressure observer",{currentPressureStates:l})}h(i,"registerPressureObserver");function a(){const d={};for(const[m,f]of l)f&&(d[`pressure_${m}_state`]=f.state);return d}h(a,"getPressureTags"),(0,s.zv)("currentPressureStates",()=>l);const r={currentPressureStates:l,desiredSources:c}},2804547641:(B,A,e)=>{"use strict";e.d(A,{c:()=>a});var t=e(3398586081),s=e(5867968970),o=e(9152442898),n=e(4684036136),c=e(2187136646),l=e(5305362353),i=e(7188858884);const a=(0,t.A)(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.Li.All,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new c.Ay({storeKey:"activityIA4",fetch:m=>(0,i.Qw)(m,(0,l.Q)({limit:n.Q1,filter:r,fetchNew:!0,mode:(0,s.A)({selectedTab:r,unreadsFilterToggleSelected:d})})),isEnabled:()=>!0,metricsName:"activity",markStaleAfterSlowReconnect:()=>!0})})},9067060313:(B,A,e)=>{"use strict";e.d(A,{$K:()=>N,$T:()=>I,ES:()=>r,KD:()=>g,M6:()=>T,MJ:()=>L,cJ:()=>C,f7:()=>y,fB:()=>S,gW:()=>p,j1:()=>f,mt:()=>P,rz:()=>d,sG:()=>m,ut:()=>u,yC:()=>M,yN:()=>b});var t=e(2019340948),s=e(9152442898),o=e(2804547641),n=e(636691937),c=e(7919365230),l=e(7874250141);const i=h((D,k)=>{var x,R;const U=(0,t.Fu)(k),F=D===s.Li.Reactions?D:(0,n.S)({filter:D,isUnreadMode:!!(!(k==null||(x=k.activityIA4)===null||x===void 0)&&x.filterUnreads),isConsolidatedList:U});return(R=k.activityIA4)===null||R===void 0?void 0:R[F]},"getActivityListForFilter"),a=(0,c.Ay)(D=>{var k,x,R;const U=(0,l.ZT)(D),F=(k=D.activityIA4)===null||k===void 0?void 0:k.all;return((D==null||(x=D.activityIA4)===null||x===void 0?void 0:x.selectedTabId)===s.Li.All||!(!(D==null||(R=D.activityIA4)===null||R===void 0)&&R.selectedTabId))&&(F!=null&&F.length)&&(0,o.c)(s.Li.All,!1).maybeRefetch(U,s.N2),D&&D.activityIA4&&F});a.meta={name:"createSelector",key:"createSelectorgetReadAndUnreadActivityList",description:D=>{var k,x,R;const U=(0,l.ZT)(D),F=(k=D.activityIA4)===null||k===void 0?void 0:k.all;return((D==null||(x=D.activityIA4)===null||x===void 0?void 0:x.selectedTabId)===s.Li.All||!(!(D==null||(R=D.activityIA4)===null||R===void 0)&&R.selectedTabId))&&(F!=null&&F.length)&&(0,o.c)(s.Li.All,!1).maybeRefetch(U,s.N2),D&&D.activityIA4&&F}};const r=(0,c.Ay)(D=>{var k,x;const R=(0,l.ZT)(D),U=i(s.Li.All,D);if(((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.All||!(!(D==null||(x=D.activityIA4)===null||x===void 0)&&x.selectedTabId))&&(U!=null&&U.length)){var F;(0,o.c)(s.Li.All,(F=D.activityIA4)===null||F===void 0?void 0:F.filterUnreads).maybeRefetch(R,s.N2)}return D&&D.activityIA4&&U});r.meta={name:"createSelector",key:"createSelectorgetActivityList",description:D=>{var k,x;const R=(0,l.ZT)(D),U=i(s.Li.All,D);if(((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.All||!(!(D==null||(x=D.activityIA4)===null||x===void 0)&&x.selectedTabId))&&(U!=null&&U.length)){var F;(0,o.c)(s.Li.All,(F=D.activityIA4)===null||F===void 0?void 0:F.filterUnreads).maybeRefetch(R,s.N2)}return D&&D.activityIA4&&U}};const d=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Mentions,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Mentions&&R.length){var U;(0,o.c)(s.Li.Mentions,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});d.meta={name:"createSelector",key:"createSelectorgetActivityListMentions",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Mentions,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Mentions&&R.length){var U;(0,o.c)(s.Li.Mentions,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const m=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Replies,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Replies&&R.length){var U;(0,o.c)(s.Li.Replies,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});m.meta={name:"createSelector",key:"createSelectorgetActivityListReplies",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Replies,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Replies&&R.length){var U;(0,o.c)(s.Li.Replies,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const f=(0,c.Ay)(D=>{var k,x,R;const U=(0,l.ZT)(D),F=i(s.Li.Reminders,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Reminders&&(!(D==null||(x=D.activityIA4)===null||x===void 0||(R=x.reminders)===null||R===void 0)&&R.length)){var W;(0,o.c)(s.Li.Reminders,(W=D.activityIA4)===null||W===void 0?void 0:W.filterUnreads).maybeRefetch(U,s.N2)}return D&&D.activityIA4&&F});f.meta={name:"createSelector",key:"createSelectorgetActivityListReminders",description:D=>{var k,x,R;const U=(0,l.ZT)(D),F=i(s.Li.Reminders,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Reminders&&(!(D==null||(x=D.activityIA4)===null||x===void 0||(R=x.reminders)===null||R===void 0)&&R.length)){var W;(0,o.c)(s.Li.Reminders,(W=D.activityIA4)===null||W===void 0?void 0:W.filterUnreads).maybeRefetch(U,s.N2)}return D&&D.activityIA4&&F}};const u=(0,c.Ay)(D=>{var k,x,R;const U=(0,l.ZT)(D),F=i(s.Li.Reactions,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Reactions&&(!(D==null||(x=D.activityIA4)===null||x===void 0||(R=x.reactions)===null||R===void 0)&&R.length)){var W;(0,o.c)(s.Li.Reactions,(W=D.activityIA4)===null||W===void 0?void 0:W.filterUnreads).maybeRefetch(U,s.N2)}return D&&D.activityIA4&&F});u.meta={name:"createSelector",key:"createSelectorgetActivityListReactions",description:D=>{var k,x,R;const U=(0,l.ZT)(D),F=i(s.Li.Reactions,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Reactions&&(!(D==null||(x=D.activityIA4)===null||x===void 0||(R=x.reactions)===null||R===void 0)&&R.length)){var W;(0,o.c)(s.Li.Reactions,(W=D.activityIA4)===null||W===void 0?void 0:W.filterUnreads).maybeRefetch(U,s.N2)}return D&&D.activityIA4&&F}};const E=(0,c.Ay)(D=>{var k,x,R,U;const F=(0,l.ZT)(D),W=(0,n.S)({filter:s.Li.Huddles,isUnreadMode:!1}),w=((k=D.activityIA4)===null||k===void 0?void 0:k[W]).filter(j=>j.isUnread&&j.calendarEventPayload);if((D==null||(x=D.activityIA4)===null||x===void 0?void 0:x.selectedTabId)===s.Li.Huddles&&(!(D==null||(R=D.activityIA4)===null||R===void 0||(U=R.huddles)===null||U===void 0)&&U.length)){var K;(0,o.c)(s.Li.Huddles,(K=D.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(F,s.N2)}return D&&D.activityIA4&&w||[]});E.meta={name:"createSelector",key:"createSelectorgetActivityListHuddlesForJustInTime",description:D=>{var k,x,R,U;const F=(0,l.ZT)(D),W=(0,n.S)({filter:s.Li.Huddles,isUnreadMode:!1}),w=((k=D.activityIA4)===null||k===void 0?void 0:k[W]).filter(j=>j.isUnread&&j.calendarEventPayload);if((D==null||(x=D.activityIA4)===null||x===void 0?void 0:x.selectedTabId)===s.Li.Huddles&&(!(D==null||(R=D.activityIA4)===null||R===void 0||(U=R.huddles)===null||U===void 0)&&U.length)){var K;(0,o.c)(s.Li.Huddles,(K=D.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(F,s.N2)}return D&&D.activityIA4&&w||[]}};const v=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D);if(!(D==null||(k=D.activityIA4)===null||k===void 0)&&k.filterUnreads){var R;(0,o.c)(s.Li.Unreads,(R=D.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&D.activityIA4.unreads});v.meta={name:"createSelector",key:"createSelectorgetActivityListUnreads",description:D=>{var k;const x=(0,l.ZT)(D);if(!(D==null||(k=D.activityIA4)===null||k===void 0)&&k.filterUnreads){var R;(0,o.c)(s.Li.Unreads,(R=D.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&D.activityIA4.unreads}};const g=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Apps,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Apps&&R.length){var U;(0,o.c)(s.Li.Apps,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});g.meta={name:"createSelector",key:"createSelectorgetActivityListApps",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Apps,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Apps&&R.length){var U;(0,o.c)(s.Li.Apps,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const T=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Approvals,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Approvals&&R.length){var U;(0,o.c)(s.Li.Approvals,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});T.meta={name:"createSelector",key:"createSelectorgetActivityListApprovals",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Approvals,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Approvals&&R.length){var U;(0,o.c)(s.Li.Approvals,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const p=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Channels,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Channels&&R.length){var U;(0,o.c)(s.Li.Channels,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});p.meta={name:"createSelector",key:"createSelectorgetActivityListChannels",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Channels,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Channels&&R.length){var U;(0,o.c)(s.Li.Channels,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const O=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Priority,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Priority&&R.length){var U;(0,o.c)(s.Li.Priority,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});O.meta={name:"createSelector",key:"createSelectorgetActivityListPriority",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Priority,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Priority&&R.length){var U;(0,o.c)(s.Li.Priority,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const y=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Vip,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Vip&&R.length){var U;(0,o.c)(s.Li.Vip,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});y.meta={name:"createSelector",key:"createSelectorgetActivityListVip",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Vip,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Vip&&R.length){var U;(0,o.c)(s.Li.Vip,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const C=(0,c.Ay)(D=>D&&D.activityIA4&&D.activityIA4.unreadVip);C.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadVip",description:D=>D&&D.activityIA4&&D.activityIA4.unreadVip};const I=(0,c.Ay)(D=>D&&D.activityIA4&&D.activityIA4.unreadOther);I.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadOther",description:D=>D&&D.activityIA4&&D.activityIA4.unreadOther};const M=(0,c.Ay)(D=>D&&D.activityIA4&&D.activityIA4.other);M.meta={name:"createSelector",key:"createSelectorgetActivityListOther",description:D=>D&&D.activityIA4&&D.activityIA4.other};const _=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.EverythingElse,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.EverythingElse&&R.length){var U;(0,o.c)(s.Li.EverythingElse,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});_.meta={name:"createSelector",key:"createSelectorgetActivityListEverythingElse",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.EverythingElse,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.EverythingElse&&R.length){var U;(0,o.c)(s.Li.EverythingElse,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const P=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.DMS,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.DMS&&R.length){var U;(0,o.c)(s.Li.DMS,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});P.meta={name:"createSelector",key:"createSelectorgetActivityListDms",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.DMS,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.DMS&&R.length){var U;(0,o.c)(s.Li.DMS,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const b=(0,c.Ay)(D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Invitations,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Invitations&&(R!=null&&R.length)){var U;(0,o.c)(s.Li.Invitations,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R});b.meta={name:"createSelector",key:"createSelectorgetActivityListInvitations",description:D=>{var k;const x=(0,l.ZT)(D),R=i(s.Li.Invitations,D);if((D==null||(k=D.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===s.Li.Invitations&&(R!=null&&R.length)){var U;(0,o.c)(s.Li.Invitations,(U=D.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(x,s.N2)}return D&&D.activityIA4&&R}};const S=(0,c.Ay)(D=>{var k;return D&&D.activityIA4&&((k=D.activityIA4)===null||k===void 0?void 0:k.multipleFilters)});S.meta={name:"createSelector",key:"createSelectorgetActivityMultipleFilters",description:D=>{var k;return D&&D.activityIA4&&((k=D.activityIA4)===null||k===void 0?void 0:k.multipleFilters)}};const N=(0,c.Ay)((D,k)=>{var x;return D&&D.activityIA4&&((x=D.activityIA4)===null||x===void 0?void 0:x[k])});N.meta={name:"createSelector",key:"createSelectorgetActivityForFilter",description:(D,k)=>{var x;return D&&D.activityIA4&&((x=D.activityIA4)===null||x===void 0?void 0:x[k])}};const L=(0,c.Ay)(D=>D&&D.activityIA4&&D.activityIA4.results);L.meta={name:"createSelector",key:"createSelectorgetActivityListResults",description:D=>D&&D.activityIA4&&D.activityIA4.results}},7237810687:(B,A,e)=>{"use strict";e.d(A,{R:()=>s});var t=e(9152442898);const s=h((o,n)=>{switch(o){case t.gb.DMS:return[t.Li.DMS];case t.gb.Threads:return[t.Li.Replies];case t.gb.ForYou:default:return n==null?void 0:n.filterActivityTypes}},"getActivityTypeFiltersForSubView")},636691937:(B,A,e)=>{"use strict";e.d(A,{S:()=>n});var t=e(5235917009),s=e(7275771234),o=e(9152442898);const n=h(c=>{let{filter:l,isUnreadMode:i,mode:a,useMultipleFilters:r,preferredActivityFeedSortOrder:d,isConsolidatedList:m}=c;return m?"results":r&&l===o.Li.All?d===s.Ys.UNREADS||d===s.Ys.VIP?"other":"multipleFilters":a==="chrono_priority_only_unreads_v1"?"unreadVip":a==="priority_reads_and_unreads_v1"?"other":a==="priority_unreads_v1"?"unreadOther":i&&l===o.Li.EverythingElse?`unread${l.charAt(0).toUpperCase()+l.slice(1)}`:i?`unread${(0,t.A)(l)}`:l},"getFilterForSelectedMode")},1279964194:(B,A,e)=>{"use strict";e.d(A,{N:()=>r,v:()=>a});var t=e(9087248458),s=e(7275771234),o=e(9963560),n=e(8859166048),c=e(5248257622),l=e(8606055730),i=e(3351247794);const a=h((d,m)=>{const f=m!=null&&m.item&&"message"in(m==null?void 0:m.item)?m==null?void 0:m.item.message.channel:void 0,u=(0,i.OL)(d,f),E=(0,l.MY)(d);return(m==null?void 0:m.item.type)==="dm"&&E&&((0,n.LI)(u)&&(0,c.e)(u)&&(E!=null&&E.includes((0,c.e)(u)||""))||(0,n.yz)(u)&&(0,t.A)((0,o.Ug)(u)||[],E).length>0)?!0:m&&"priority"in m},"isActivityFeedEntryVip"),r=h(function(d,m){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unreads",u;if(f===s.Ys.VIP){var E;u=(E=m.findIndex(O=>!(a(d,O)&&O.is_unread)))!==null&&E!==void 0?E:0}else{var v;u=(v=m.findIndex(O=>!O.is_unread))!==null&&v!==void 0?v:0}const g=u===-1?m.length:u,T=m.slice(0,g),p=m.slice(g);return[T,p]},"getSeparateLists")},5305362353:(B,A,e)=>{"use strict";e.d(A,{Q:()=>x});var t=e(2084938045),s=e(1985486637),o=e(4566917391),n=e(2019340948),c=e(7275771234),l=e(9152442898),i=e(596326720),a=e(8853366040),r=e(6721693261),d=e(5648919824),m=e(2691514942),f=e(292027566),u=e(4424288677),E=e(2804547641),v=e(7237810687),g=e(636691937),T=e(1279964194),p=e(9264305088),O=e(9969469153),y=e(4894634110),C=e(7874250141),I=e(6082807633),M=e(1736757092),_=e(816793206),P=e(9199256628),b=e(9230316456),S=e(293248343),N=e(4438870757),L=e(7418708689),D=e(3228638226);const k={"action-items":!0},x=(0,y.Ay)("Fetch user activity",function(R,U){let{limit:F,filter:W,mode:w,fetchNew:K,isUnreadMode:j,types:Q,fetchForAgentforce:J,incompleteFetchDataCursor:z}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{limit:20,mode:"chrono_reads_and_unreads",filter:l.Li.All};R((0,u.G3)(!0));const ie=U(),ee=(0,C.ZT)(ie),ne=(0,p.F)(ie),Z=(0,p.S1)(ie),te=(0,p.d5)(ie),he=(0,n.Gg)(ie),ue=(0,n.Lh)(ie),de=(0,n.ki)(ie),re=(0,n.P4)(ie),V=(0,n.Fu)(ie),H=(0,n.kf)(ie),X=(0,M.UE)(ie),Y=(0,n.zO)(ie),q=(0,o.Gn)(ie),fe=(0,D.e6)(ie),ce=(0,p.Zt)(ie),Ee=(0,p.qq)(ie,ce),Ae=(0,v.R)(ce,Ee),le=H?(0,p.Xf)(ie):(0,p.F2)(ie),oe=(0,S.ty)(ie,"activity_feed_sort"),me=H?le==null?void 0:le.sortOrder:oe,pe=(0,g.S)({filter:W,isUnreadMode:j!==void 0?j:le==null?void 0:le.filterUnreadsSelected,mode:w,useMultipleFilters:ue,preferredActivityFeedSortOrder:me,isConsolidatedList:V&&ue});let Te=ne==null?void 0:ne[pe];z&&(Te=z);const Me=Q||(0,O.TO)(pe,{experimentDMInActivityGroupOn:he,experimentActivityInboxGroupOn:ue,experimentIsUnjoinedChannelMentionInActivityGroupOn:Y,useMultipleFilters:ue,mode:w,selectedFilters:Ae,fetchForAgentforce:J});if(k!=null&&k[W]||!K&&!Te)return R((0,u.G3)(!1)),s.S.resolve();(0,E.c)(W,le==null?void 0:le.filterUnreadsSelected).markObjectsAsFresh(ee,[l.N2]);const Ue=de&&(le==null?void 0:le.filterArchiveSelected),xe=re&&(le==null?void 0:le.filterSnoozeSelected),Ne=ue&&(le==null?void 0:le.filterUnreadsSelected),be=ue&&(le==null?void 0:le.filterVipSelected);return R((0,a.X)({limit:F,reason:"fetchActivityFeed",types:Me,mode:w,cursor:K?void 0:Te,archiveOnly:Ue,snoozeOnly:xe,channelIds:(0,d.Z)(le==null?void 0:le.filterChannels)?le==null?void 0:le.filterChannels:void 0,channelSectionIds:(0,d.Z)(le==null?void 0:le.filterChannelSections)?le==null?void 0:le.filterChannelSections:void 0,unreadOnly:Ne,priorityOnly:be})).then(ke=>{var Ke,$,ae;if(!ke.items)return;if(ue&&fe===L.k6.ActivityInbox&&ke.items.length<10&&(!(ke==null||(Ke=ke.response_metadata)===null||Ke===void 0)&&Ke.next_cursor)&&((ke==null||($=ke.response_metadata)===null||$===void 0?void 0:$.next_cursor)!==Te||(ke==null||(ae=ke.response_metadata)===null||ae===void 0?void 0:ae.next_cursor)===Te&&K)){var Ge;R((0,u.G7)(!1)),R(x({limit:F,filter:W,mode:w,fetchNew:!1,isUnreadMode:j,types:Me,fetchForAgentforce:J,incompleteFetchDataCursor:ke==null||(Ge=ke.response_metadata)===null||Ge===void 0?void 0:Ge.next_cursor}))}else R((0,u.G7)(!0));if(V&&ue){var nt;R((0,u.bl)({nextCursor:ke==null||(nt=ke.response_metadata)===null||nt===void 0?void 0:nt.next_cursor,items:ke.items,filter:"results",refreshItems:K}))}if(!V&&ue&&W==="all"&&me===c.Ys.UNREADS){var at;const[He,Qe]=(0,T.N)(ie,ke.items);R((0,u.VT)("unreadOther")),R((0,u.bl)({nextCursor:ne.unreadOther,items:He,filter:"unreadOther",refreshItems:ue&&K})),R((0,u.bl)({nextCursor:ke==null||(at=ke.response_metadata)===null||at===void 0?void 0:at.next_cursor,items:Qe,filter:"other",refreshItems:ue&&K}))}else if((q||ue&&W==="all"&&me===c.Ys.VIP)&&(w==="priority_reads_and_unreads_v1"||w==="priority_unreads_v1")){var Ve;const[He,Qe]=(0,T.N)(ie,ke.items,c.Ys.VIP);R((0,u.VT)("unreadVip")),R((0,u.bl)({nextCursor:ne==null?void 0:ne.unreadVip,items:He,filter:"unreadVip",refreshItems:(ue||q)&&K})),R((0,u.bl)({nextCursor:ke==null||(Ve=ke.response_metadata)===null||Ve===void 0?void 0:Ve.next_cursor,items:Qe,filter:ue&&me===c.Ys.VIP?"other":pe,refreshItems:(he||q||ue)&&K}))}else{var Se;R((0,u.VT)(pe)),R((0,u.bl)({nextCursor:ke==null||(Se=ke.response_metadata)===null||Se===void 0?void 0:Se.next_cursor,items:ke.items,filter:pe,refreshItems:(he||q||ue)&&K}))}const Pe=(0,p.cJ)(ie);let Fe=!1;if((0,n.xD)(ie)?K&&Pe!==0&&ke.items.length===0&&W===l.Li.All&&(["chrono_unreads","priority_unreads_v1"].includes(w)||["chrono_v1","priority_unreads_first_v1","unreads_first_v1"].includes(w)&&Ne&&!(Ue||xe||be||(0,d.E)(le==null?void 0:le.filterChannels)||(0,d.E)(le==null?void 0:le.filterChannelSections)))&&(Fe=!0):w==="chrono_unreads"&&ke.items.length!==Pe&&(Fe=!0),Fe){const He=(0,N.xY)(ie);R((0,i.O)()).then(Qe=>{R((0,I.Q)(Qe));const _e=Qe.channelBadges,Le=(0,f.E)({state:ie}),Ie=(0,m.Ay)({getState:U,label:"ACTIVITY_BADGING"});try{const we=Le.createSpan({name:"ia4client_activity_badge:mismatch",samplingOptions:{sampleType:t.tS.ALWAYS},options:{tags:{num_unread_activity_items:ke.items.length,old_activity_badge_count:Pe,new_channel_badges:JSON.stringify(_e),old_channel_badges:JSON.stringify(He)}}});we.close(),Le.reportSpans([we]),Ie.error(new Error("Activity badge mismatch"),{num_unread_activity_items:ke.items.length,old_activity_badge_count:Pe,new_channel_badges:_e,old_channel_badges:He},{subtype:"activity"})}catch{}})}const ge="slack-connect-fetch-invites-for-activity-feed";K&&!Z&&["all","invitations","unreadAll","unreadInvitations"].includes(W)&&ke.items.some(He=>{let{item:Qe}=He;return O.Oi.includes(Qe.type)})&&R((0,b.p)({direction:r.D.Incoming,reason:ge})).then(()=>R((0,u.xv)(!0))),K&&!te&&["all","invitations","unreadAll","unreadInvitations"].includes(W)&&R((0,P.d)({reason:ge})).then(()=>R((0,u.ae)(!0))),ue&&X&&fe===L.k6.ActivityInbox&&W===l.Li.All&&K&&R((0,_.i)())}).finally(()=>R((0,u.G3)(!1)))});x.meta={name:"createThunk",key:"createThunkfetchActivityFeed",description:"Fetch user activity"}},9969469153:(B,A,e)=>{"use strict";e.d(A,{Oi:()=>n,TO:()=>a,b8:()=>d});var t=e(9113979368),s=e(7174777686),o=e(6626377467);const n=["external_channel_invite","external_dm_invite"],c=["at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned","list_todo_notification","list_approval_request","list_approval_reviewed"],l=null,i=["at_user","at_user_group","at_channel","at_everyone","keyword","bot_dm_bundle"],a=h((m,f)=>{let{experimentDMInActivityGroupOn:u,experimentIsUnjoinedChannelMentionInActivityGroupOn:E,mode:v,useMultipleFilters:g,selectedFilters:T,experimentActivityInboxGroupOn:p,fetchForAgentforce:O}=f;const y="bot_dm_bundle";E&&!c.includes("unjoined_channel_mention")&&c.push("unjoined_channel_mention");let C=["thread_v2","message_reaction","internal_channel_invite","list_record_edited",y,...c,...n];g&&!(0,t.A)(T)&&(C=[]);const I=m.toLowerCase(),M=v==="chrono_priority_only_reads_and_unreads_v1"||v==="chrono_priority_only_unreads_v1";return(v==="chrono_priority_only_reads_and_unreads_v1"||v==="chrono_priority_only_unreads_v1")&&(C=i,(I.includes("vip")||I.includes("all"))&&(C=["thread_v2","internal_channel_invite",...i]),g&&!(0,t.A)(T)&&(C=[])),g&&(0,s.A)(T,"mentions")?M?C=i:C.push(...c):I.includes("mentions")&&(C=c),g&&(0,s.A)(T,"replies")&&C.push("thread_v2"),g&&(0,s.A)(T,"apps")&&!M?C.push(y):I.includes("apps")&&(C=[y]),I.includes("replies")&&(C=void 0),u&&I.includes("replies")&&!O&&(C=["thread_v2"]),g&&(0,s.A)(T,"reactions")&&C&&!M?C.push("message_reaction"):I.includes("reactions")&&(C=["message_reaction"]),I.includes("unreads")&&(C=[y,"thread_v2","internal_channel_invite",...c,...n]),g&&(0,s.A)(T,"invitations")&&C?M?C.push("internal_channel_invite"):C.push("internal_channel_invite",...n):I.includes("invitations")&&(C=["internal_channel_invite",...n]),u&&C&&(!p&&["all","unreads","other","unreadother"].includes(I)||g&&(T!=null&&T.includes("dms")||(T==null?void 0:T.length)===0))&&C.push("dm"),u&&(I.includes("dms")||g&&T&&T.length===1&&T.includes("dms"))&&(C=["dm"]),C},"getActivityTypes"),r=h(m=>(m==null?void 0:m.type)==="section_bundle"&&"section"in m,"isSectionBundle"),d=h(m=>{let{items:f}=m;return(0,o.A)(f,u=>{if("key"in u&&(u==null?void 0:u.type)==="non_collapsible_header")return`item-by-feed-key-${u==null?void 0:u.key}`;if("ts"in u&&(u==null?void 0:u.type)==="channel_bundle")return`channel-bundle-${u==null?void 0:u.ts}`;if(r(u)){var E;return`section-bundle-${u==null||(E=u.section)===null||E===void 0?void 0:E.channelSection.id}`}const{messageTs:v,type:g,threadTs:T,channelId:p,invite:O,key:y}=u;return g==="message_reaction"?`reaction-${v}`:g==="thread_v2"?`thread-${T}`:g==="external_channel_invite"?`external-channel-invite-${O}`:g==="external_dm_invite"?`external-dm-invite-${O}`:g==="im"?`im${p}`:g==="dm"?`im${p}`:y!==void 0?`item-by-feed-key-${y}`:`mention-${v}`})},"getUniqueActivityItems")},5971934755:(B,A,e)=>{"use strict";e.d(A,{A:()=>dl});var t=e(1416482128),s=e(7763652800),o=e(7503205170),n=e(2691514942),c=e(3677587543),l=e(1492910739),i=e(4216074246),a=e(327041866),r=e(4894634110),d=e(508395635);const m=(0,r.Ay)("maybeDisableDebugger side effect handler",()=>{if(!((0,l.Yj)()||(0,l.Cu)()||(0,l.$i)())){if((0,i.c)()){(0,c.Jb)();return}(0,c.CP)()||(0,c.YF)()}});m.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const f=(0,d.kt)([a.setDidBootAllWorkspaces],m);var u=e(3571452446),E=e(3659369705),v=e(1137236691),g;(function(ye){ye.DOGFOOD="dogfood",ye.BETA="beta",ye.PROD="prod"})(g||(g={}));var T;(function(ye){ye.BETA="beta",ye.PROD="prod"})(T||(T={}));const p=h(ye=>ye!==g.PROD,"isPreRelease");var O;(function(ye){ye.NIGHTLY="nightly",ye.ALPHA="alpha",ye.ETA="eta",ye.PILOT="pilot",ye.BETA="beta",ye.PROD="prod"})(O||(O={}));var y;(function(ye){ye.BETA="beta",ye.PROD="prod"})(y||(y={}));const C=[O.ALPHA,O.ETA,O.BETA,O.PILOT,O.PROD],I=h(ye=>ye!==O.PROD,"release_channels_4_31_0_isPreRelease");var M=e(5190495721),_=e(5297239210),P=e(3122619948),b=e(9557928739),S=e(2398473551),N=e(7281000332);const L=(0,r.Ay)("Add channels to the desktop search index when initial teams are booted",async()=>{if(!(0,E.y3)())return;const ye=(0,N.Ry)(),ve=(0,S.getBootedWorkspaces)(ye);ve.length&&await(0,b.jM)(ve)});L.meta={name:"createThunk",key:"createThunkindexAllBootedTeamChannels",description:"Add channels to the desktop search index when initial teams are booted"};const D=(0,r.Ay)("Add channels to the desktop search index as additional teams are booted",async(ye,ve,Re)=>{if(!(0,E.y3)())return;const je=ve();if(!(0,S.didBootAllWorkspaces)(je))return;const $e=Re.payload;$e&&await(0,b.jM)([$e])});D.meta={name:"createThunk",key:"createThunkindexAdditionalBootedTeamChannels",description:"Add channels to the desktop search index as additional teams are booted"};const k=(0,d.kt)([a.setDidBootAllWorkspaces],L),x=(0,d.kt)([a.setWorkspaceBooted],D);var R=e(7188858884),U=e(3666777625);const F=(0,r.Ay)("maybeSetReleaseChannelOverrideHandler",(ye,ve,Re)=>{!(0,E.y3)()||!(0,v.g9M)()||K(ve)});F.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const W=(0,d.kt)([a.setDidBootAllWorkspaces],F),w="nightly-promotion-state";function K(ye){const ve=(0,v.oQe)("environment","releaseChannel"),Re=(0,v.oQe)("settings","releaseChannelOverride");let je=Re;if(!je&&(ve==="beta"||ve==="alpha")&&(je=ve),je==="eta"&&(je=g.BETA),(0,P.A)()&&(0,E.dY)("4.31.150")){const $e=ye();if((0,_.A)($e,"ssb_dogfood_automatic_promotion","on")&&(0,i.c)()&&je!==M.zS)try{window.localStorage.getItem(w)!=="2"&&(je=M.zS,window.localStorage.setItem(w,"1"))}catch{}je==="alpha"&&(je=g.BETA)}je!==Re&&((0,v.cGU)({name:"releaseChannelOverride",value:je}),v.NjF.cache&&v.NjF.cache.clear())}h(K,"maybeSetReleaseChannelOverride");const j=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],Q=(0,r.Ay)("Sync workspaces state with desktop",(ye,ve)=>{if(!(0,E.y3)())return;const Re=ve(),je=(0,S.getBootedWorkspaces)(Re),$e=(0,S.getAllWorkspaces)(Re);var Et;const xt=(Et=(0,S.getWorkspacesMeta)(Re))!==null&&Et!==void 0?Et:{},dt=je==null?void 0:je.reduce((un,Pn)=>{const zn=(0,R.$D)(Pn),qt={...(0,U._J)(zn,Pn,!1),...xt==null?void 0:xt[Pn]};return un[Pn]={...(0,u.A)(qt,j),order:$e.indexOf(Pn)},un},{});(0,v.CIW)(dt)});Q.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const J=(0,r.Ay)("Sync workspaces state with desktop when a new team has booted",(ye,ve)=>{if(!(0,E.y3)())return;const Re=ve();(0,S.didBootAllWorkspaces)(Re)&&ye(Q())});J.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const z=(0,d.kt)([a.setDidBootAllWorkspaces,a.setWorkspaceOrder],Q),ie=(0,d.kt)([a.setWorkspaceBooted],J),ee=[z,ie,W,x,k];var ne=e(5707841062),Z=e(1218934354);const te="DESKTOP-SIDE-EFFECT",he=(0,r.Ay)("logUpdateFromDesktop",(ye,ve,Re)=>{(0,n.Wo)().info(te,"Update from desktop for keys ",Object.keys(Re.payload))});he.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const ue=(0,d.kt)([Z.Ez],he),de=(0,r.Ay)("maybeHandleWindowFocusEvent",(ye,ve,Re)=>{(0,P.A)()&&Re.payload&&Re.payload.windows&&ye((0,ne.pz)({isFocused:document.hasFocus()}))});de.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const re=(0,d.kt)([Z.Ez],de);var V=e(3398586081),H=e(7042186995),X=e(6913752570),Y=e(6478627868);(0,V.A)(()=>{if((0,H.Nu)())try{window.matchMedia(Y.og).onchange=ye=>{const ve=(0,N.en)();ve&&ve.dispatch((0,X.N)(ye.matches))}}catch(ye){(0,n.Wo)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",ye)}})();const fe=(0,r.Ay)("maybeUpdateShouldUseHighContrastColors",(ye,ve,Re)=>{if(!(0,H.Nu)()&&(0,H.hk)()){var je,$e;const Et=Re==null||(je=Re.payload)===null||je===void 0||($e=je.settings)===null||$e===void 0?void 0:$e.shouldUseHighContrastColors;Et!==void 0&&ye((0,X.N)(Et))}});fe.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const ce=(0,d.kt)([Z.Ez],fe);var Ee=e(1030874530),Ae=e(9328898256),le=e(4724267513);const oe=(0,r.Ay)("Opens workspace switcher if the user is part of experiment",(ye,ve)=>{const Re=ve();(0,E.y3)()&&!(0,Ee.ny)()&&!(0,le.v8)(Re)&&(0,Ee.Yr)()&&(ye((0,Ae.A)()),(0,Ee.kf)())});oe.meta={name:"createThunk",key:"createThunkmaybeToggleWorkspaceSwitcherForAwarenessThunk",description:"Opens workspace switcher if the user is part of experiment"};const me=(0,d.kt)([a.setDidBootAllWorkspaces],oe);var pe=e(9435231551),Te=e(5684618535),Me=e(293248343);const Ue=(0,r.Ay)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(ye,ve)=>{var Re;const je=ve(),$e=(0,S.getFocusedWorkspace)(je),Et=(0,R.oK)($e),xt=Et==null||(Re=Et.getState)===null||Re===void 0?void 0:Re.call(Et);if(!xt||(0,pe.gR)(je)!==void 0)return;const un=(0,Me.ty)(xt,"a11y_read_out_incoming_dm");if(un!==void 0){ye((0,Te.p)(un));return}ye((0,Te.p)(!0))});Ue.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const xe=(0,d.kt)([a.setDidBootAllWorkspaces],Ue);var Ne=e(459806312);const be=(0,r.Ay)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(ye,ve)=>{var Re;const je=ve(),$e=(0,S.getFocusedWorkspace)(je),Et=(0,R.oK)($e),xt=Et==null||(Re=Et.getState)===null||Re===void 0?void 0:Re.call(Et);if(!xt)return;if((0,pe.u$)(je)===""){const Pn=(0,Me.ty)(xt,"a11y_play_sound_for_incoming_dm_choice"),zn=Pn??"";ye((0,Ne.R)(zn))}if((0,pe.kd)(je)===""){const Pn=(0,Me.ty)(xt,"a11y_play_sound_for_sent_dm_choice"),zn=Pn??"";ye((0,Ne.r)(zn))}});be.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const ke=(0,d.kt)([a.setDidBootAllWorkspaces],be);var Ke=e(6840083655),$=e(292027566),ae=e(1244614944);const Ge=(0,r.Ay)("recordExperimentGroupsAsTrace side effect handler",(ye,ve,Re)=>{const je=(0,N.Ry)(),$e=(0,S.getBootedWorkspaces)(je)||[];try{const Et=ae.nl.ALWAYS;$e.forEach(xt=>{const dt=(0,R.$D)(xt),un=(0,Ke.xy)(dt),Pn=JSON.stringify(un),zn=(0,$.E)({state:dt}),ms=zn.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:Pn}},samplingOptions:{sampleType:Et}});ms.close(),zn.reportSpans([ms])})}catch(Et){(0,n.Wo)().warn("BOOT-TEAM","could not report experiment groups in trace",Et)}});Ge.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const nt=(0,d.kt)([a.setDidBootAllWorkspaces],Ge);var at=e(7705431154),Ve=e(4722705520);const Se=(0,r.Ay)("setAutoTracerTagProvider side effect handler",(ye,ve,Re)=>{at.LI.isEnabled()&&at.LI.setTagProvider((je,$e)=>{if(!je)return{};switch($e){case Ve.az.Lightweight:return{lightweight:!0};default:return(0,Ke.go)(je)}})});Se.meta={name:"createThunk",key:"createThunksetAutoTracerTagProvider",description:"setAutoTracerTagProvider side effect handler"};const Pe=(0,d.kt)([a.setDidBootAllWorkspaces],Se);var Fe=e(8014576929),ge=e(9465117616),He=e(978447741),Qe=e(9315975224),_e=e(7313997791),Le=e(6120728640),Ie=e(2783339162),we=e(321010523),ze=e(7397682160),ut=e(1242487384);const _t=(0,r.Ay)("Clog experiment related meta data for session toggles",(ye,ve,Re)=>{let{experimentNames:je}=Re;const $e=(0,Ie.v8)(Ie.i$),Et=(0,v.sST)(),xt=(0,N.en)(),dt=(0,S.getFocusedWorkspace)(xt.getState()),un=(0,S.getBootedWorkspaces)(xt.getState()),Pn=un.join(","),zn=un.map(ms=>{var qt;const An=(qt=(0,R.oK)(ms))===null||qt===void 0?void 0:qt.getState();return(0,ut.WR)(An)}).join(",");je.forEach(ms=>{const qt=(0,Le.B9)(ms);if(qt===ge.dw.Control||qt===ge.dw.Treatment||qt===ge.dw.On){var An;(0,ze.e)({getState:(An=(0,R.oK)(dt))===null||An===void 0?void 0:An.getState}).track(we.EventId.CLIENT_SESSION_TOGGLE_CLOG,{contexts:{experimentName:ms,experimentGroup:qt,teamIds:Pn,userIds:zn,visitorCookie:$e,clientId:Et}})}})});_t.meta={name:"createThunk",key:"createThunkclogDataForSessionToggles",description:"Clog experiment related meta data for session toggles"};var yt=e(8337562693),Ot=e(2956900411),It=e(5749243466),kt=e(2877551365),gt=e(7263227031),Gt=e(205540855);function Pt(ye,ve){const Re=Object.values((0,R.jm)());for(const je of Re){if(!je)continue;const $e=je.getState(),Et=(0,Gt.KK)($e,ye);Et&&Et.log_exposures&&ve===Et.group&&(0,gt.K)(ye,Et,$e)}}h(Pt,"logExposuresForSession");var jt=e(9358202390),Qt=e(8800675635);function Jt(ye,ve){if((0,ge.SC)(ye),ve)try{ve()}catch(Re){(0,n.Wo)().error(`caught error from cleanupCallback: ${Re}`)}}h(Jt,"rollbackToggle");function Yt(ye){let{toggleName:ve,toggleGroup:Re}=ye;return(0,jt._)(ve,Re,!1)}h(Yt,"defaultToggleGroupMatcher");function Rt(ye,ve){var Re;const je=(Re=ve==null?void 0:ve.customToggleGroupMatcher)!==null&&Re!==void 0?Re:Yt,$e=(0,ge.M_)(ye),Et=Bt(ye,$e,je);if(ve.nonMemoized&&Et!==ge.dw.NoGroup&&Pt(ye,Et),$e===null&&Et!==ge.dw.NoGroup){(0,ge.jc)(ye,Et);return}Et===ge.dw.NoGroup&&(0,ge.GI)($e)?(Jt(ye,ve==null?void 0:ve.cleanupCallback),ve.forceReloadOnRollback&&(0,ge.zt)($e)&&(0,Qt.As)({reason:`Rolling back ${ye} toggle`,reasonKey:`rollback_${ye}_toggle`})):Et!==$e?(0,ge.jc)(ye,Et):Et===$e&&Pt(ye,$e)}h(Rt,"setToggleGroupForNextSession");function Bt(ye,ve,Re){const je=Re({toggleName:ye,toggleGroup:ge.dw.Treatment}),$e=Re({toggleName:ye,toggleGroup:ge.dw.Control}),Et=Re({toggleName:ye,toggleGroup:ge.dw.On}),xt=Re({toggleName:ye,toggleGroup:ge.dw.Off});return je&&$e?ve===ge.dw.Treatment?ge.dw.Treatment:ve===ge.dw.Control?ge.dw.Control:Math.random()<.5?ge.dw.Treatment:ge.dw.Control:Et&&xt?ve===ge.dw.On?ge.dw.On:ve===ge.dw.Off?ge.dw.Off:Math.random()<.5?ge.dw.On:ge.dw.Off:je?ge.dw.Treatment:$e?ge.dw.Control:Et?ge.dw.On:xt?ge.dw.Off:ge.dw.NoGroup}h(Bt,"getCurrentToggleGroup");const dn={getCurrentToggleGroup:Bt};var Mt=e(7481328167);const Ye=h(()=>{try{It.qV.deleteDatabase()}catch(ye){It.qV.getLogger().error(`caught error from deleteDatabase: ${ye}`)}},"objectStoreCallback"),ot={[kt.Wv]:{cleanupCallback:Ye},[Fe.f]:{},[Ot.z]:{},[Qe.i]:{},[Mt.Dm]:{forceReloadOnRollback:!0},[He.P]:{},[Ee.Y0]:{customToggleGroupMatcher:Ee.P,cleanupCallback:Ee.iu},[yt.h]:{},..._e.nD};(0,ge.k8)(ot);const ht=(0,r.Ay)("setToggleGroupsForNextSession",(ye,ve,Re)=>{ye(_t({experimentNames:Object.keys(ot)})),Object.entries(ot).forEach(je=>{let[$e,Et]=je;Rt($e,Et)})});ht.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const tt=(0,d.kt)([a.setDidBootAllWorkspaces],ht);var ct=e(1874256115),rn=e(1138621501);const ln=(0,r.Ay)("maybeToggleGlobalMuteShortcutHandler",(ye,ve,Re)=>(0,rn.N$)(Re.payload));ln.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const on=(0,d.kt)([ct.Bk],ln);var G=e(5512437437);const De=(0,r.Ay)("updateLocalConfigOrderedTeamIds side effect handler",(ye,ve,Re)=>{const je=(0,n.Wo)({label:G.o7}),$e=(0,N.Ry)(),Et=(0,S.getAllWorkspaces)($e);(!Et||Et.length===0)&&je.warn("Skipping update to orderedTeamIds, allWorkspaces is empty"),je.info(`Updating orderedTeamIds to ${Et.join(",")}`),(0,G.q9)("orderedTeamIds",Et)});De.meta={name:"createThunk",key:"createThunkupdateLocalConfigOrderedTeamIds",description:"updateLocalConfigOrderedTeamIds side effect handler"};const We=(0,d.kt)([a.addWorkspace],De);var it=e(5222398525);const Nt=(0,r.Ay)("recordWssRailVisibility side effect handler",(ye,ve)=>{const Re=(0,it.F)(),je=ve(),$e=(0,le.v8)(je)?1:0,Et=Re.createMetricsTrace({samplingOptions:{sampleType:ae.nl.SESSION}});Et.store({name:"wss_rail:visible",value:$e}),Re.reportTrace(Et)});Nt.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const sn=(0,d.kt)([a.setDidBootAllWorkspaces],Nt);var en=e(8915855496),_n=e(1184580840),Dn=e(6696292586);function On(){let ye;return ve=>ve===ye?!1:(ye=ve,!0)}h(On,"getDidUpdate");const In=On(),bn=(0,r.Ay)("updateFromDesktop side effect handler",(ye,ve,Re)=>{var je;const $e=ve(),Et=S.getFocusedWorkspace===null||S.getFocusedWorkspace===void 0?void 0:(0,S.getFocusedWorkspace)($e);if(!Et)return;const xt=(0,R.$D)(Et);if(!(0,en.V)(xt))return;const dt=(je=Re.payload.settings)===null||je===void 0?void 0:je.zoomLevel;(0,Dn.A)(dt)&&In(dt)&&(0,N.dispatchForClientStore)((0,_n.Q)(dt))});bn.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const Hn=(0,d.kt)([Z.Ez],bn);var vn=e(8877220497),Sn=e(7650890047),gn=e(7551169221);const Rn=(0,r.Ay)("Set zoom value for client before starting BBM",(ye,ve,Re)=>{const{error:je}=(0,n.Wo)();(0,vn.A)(ve())||je(new Error("you must call setZoom for a client store"));try{(0,G.q9)(gn.UY,Re)}catch($e){je(new Error(`failed to store zoom in local storage: ${$e}`))}ye((0,Sn.x8)(Re))});Rn.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client before starting BBM"};function Qn(){let ye;return ve=>ve===ye?!1:(ye=ve,!0)}h(Qn,"side_effects_getDidUpdate");const Yn=Qn(),Jn=(0,r.Ay)("updateFromDesktop side effect handler",(ye,ve,Re)=>{var je;const $e=ve(),Et=S.getFocusedWorkspace===null||S.getFocusedWorkspace===void 0?void 0:(0,S.getFocusedWorkspace)($e);if(!Et)return;const xt=(0,R.$D)(Et);if((0,en.V)(xt))return;const dt=(je=Re.payload.settings)===null||je===void 0?void 0:je.zoomLevel;(0,Dn.A)(dt)&&Yn(dt)&&(0,N.dispatchForClientStore)(Rn(dt))});Jn.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const $n=(0,d.kt)([Z.Ez],Jn),_s=[f,ue,re,Pe,ce,tt,...ee,nt,on,ke,xe,sn,We,$n,me,Hn];var os=e(3562455538);const fs=50,is="recents";var Vn=e(7004130644),Nn=e(9588678965);let xn;function Xn(ye){xn&&(0,os.GP)(xn),xn=(0,os.BB)(()=>{xn=void 0,(0,G.q9)(is,ye)})}h(Xn,"persistRecents");function Zn(){var ye;return(ye=(0,G.W6)(is))!==null&&ye!==void 0?ye:[]}h(Zn,"loadRecents");const vs=Zn(),Ft=(0,Nn.vy)({},vs,{persistenceEnabled:!1,storeKey:"recents"}).on(Vn.Eg,(ye,ve)=>{let{entry:Re}=ve;const je=[Re,...ye].slice(0,fs);return Xn(je),je}).on(Vn.PP,(ye,ve)=>{let{entry:Re}=ve;const je=[Re,...ye.slice(1)].slice(0,fs);return Xn(je),je}).on(Vn.TP,ye=>{const ve=ye.slice(0,1);return Xn(ve),ve});var Ze=e(7418708689),st=e(8838362992);const vt={[Ze.N2]:{index:0,previousIndex:null,stack:[]}},At={persistenceEnabled:!1,storeKey:"mainWindowHistory"},Vt=(0,Nn.vy)({},vt,At).on(Vn.Eg,(ye,ve)=>{let{windowId:Re,entry:je}=ve;return{...ye,[Re]:(0,st.wg)({windowState:ye[Re],entry:je})}}).on(Vn.jW,()=>vt).on(Vn.cM,(ye,ve)=>{let{windowId:Re,index:je,previousIndex:$e}=ve;return{...ye,[Re]:(0,st.ds)({windowState:ye[Re],index:je,previousIndex:$e})}}).on(Vn.$E,(ye,ve)=>{let{windowId:Re,index:je}=ve;return{...ye,[Re]:(0,st.cB)({windowState:ye[Re],index:je})}}).on(Vn.PP,(ye,ve)=>{let{windowId:Re,entry:je}=ve;return{...ye,[Re]:(0,st.w9)({windowState:ye[Re],entry:je})}});(0,c.ul)("mainWindowHistory",{getState:()=>(0,N.Ry)().mainWindowHistory[Ze.N2]});var an=e(7715417323);function qe(){let{state:ye,prevState:ve,workspaces:Re=[],broadcastSelector:je=an.A,broadcastAction:$e=an.A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Et=je(ye),xt=je(ve);Et!==xt&&Re.forEach(dt=>{(0,R.Qw)(dt,$e(Et))})}h(qe,"maybeBroadcastStateToWorkspaces");const se=qe;var Ce=e(7590062472);const Oe=(0,Ce.Ay)("Broadcast accessibility state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.VH)(dt),broadcastAction:dt=>(0,X.Jq)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.nQ)(dt),broadcastAction:dt=>(0,X.N)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.dF)(dt),broadcastAction:dt=>(0,X.KQ)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.jX)(dt),broadcastAction:dt=>(0,X.Tv)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.gb)(dt),broadcastAction:dt=>(0,X.C_)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.zm)(dt),broadcastAction:dt=>(0,X.XE)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.K9)(dt),broadcastAction:dt=>(0,X.Mq)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.u$)(dt),broadcastAction:dt=>(0,X.Sr)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.kd)(dt),broadcastAction:dt=>(0,X.mw)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.gR)(dt),broadcastAction:dt=>(0,X.Ap)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,pe.u)(dt),broadcastAction:dt=>(0,X.V_)(dt)}),$e});Oe.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};const Be=Oe;var Je=e(625924380),rt=e(3446225773);const Dt=(0,Ce.Ay)("Broadcast accessibility persistent state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,rt.i)(dt),broadcastAction:dt=>(0,Je.w)(dt)}),$e});Dt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};const Kt=Dt;var mn=e(953241245);const Xt=(0,Ce.Ay)("Broadcast big button mode state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,en.V)(dt),broadcastAction:dt=>dt?(0,mn.z)():(0,mn.K)()}),$e});Xt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMMiddleware",description:"Broadcast big button mode state to other stores"};var $t=e(3446903445),En=e(2025512944);const Tn=(0,Ce.Ay)("Broadcast big button mode settings state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,En.N6)(dt),broadcastAction:dt=>(0,$t.Yf)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,En.lz)(dt),broadcastAction:dt=>(0,$t.w6)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,En.Tr)(dt),broadcastAction:()=>(0,$t.Ol)()}),$e});Tn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMSettingsMiddleware",description:"Broadcast big button mode settings state to other stores"};var tn=e(9448664629),Fn=e(9844570768);const jn=(0,Ce.Ay)("Broadcast connectivity state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,Fn.Pb)(dt),broadcastAction:dt=>(0,tn.p9)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,Fn.XQ)(dt),broadcastAction:dt=>(0,tn.pm)(dt)}),$e});jn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};const rs=jn;var ls=e(2727060743),ns=e(9175153974),as=e(7238974225);const Ss=(0,Ce.Ay)("Broadcast fullscreen state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,ns.V)(dt),broadcastAction:dt=>dt?(0,as.J)():(0,ls.sM)()}),$e});Ss.meta={name:"createMiddleware",key:"createMiddlewarebroadcastFullscreenMiddleware",description:"Broadcast fullscreen state to other stores"};var Us=e(2519948627);const ys=(0,Nn.Ny)("Broadcasts overlays state from client store to workspace stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>dt.overlays,broadcastAction:Us.l}),$e});ys.meta={name:"createMiddleware",key:"createMiddlewarebroadcastOverlaysMiddleware",description:"Broadcasts overlays state from client store to workspace stores"};var Ts=e(2664439203);const Rs=(0,Ce.Ay)("Broadcast workspaces state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et),dt=je&&(0,S.getBootedWorkspaces)(je),un=(0,S.getAllWorkspaces)(Et),Pn=(0,S.getAllWorkspaces)(je),zn=!Pn||un.some((An,Cn)=>An!==Pn[Cn]),ms=(0,S.getRecentlyFocusedWorkspaces)(Et),qt=je&&(0,S.getRecentlyFocusedWorkspaces)(je);return(dt!==xt||zn||qt!==ms)&&ps(xt,ms),$e});Rs.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function ps(ye,ve){const Re=ve[0];Re&&(ye==null||ye.forEach(je=>{(0,R.Qw)(je,(0,Ts.K$)(ve)),(0,R.Qw)(je,(0,Ts.fw)(ve))}),(0,v.ny2)(Re))}h(ps,"broadcastFocusedWorkspaces");const Hs=Rs;var Os=e(1985486637),Ms=e(9357779721),Ws=e(6993120788),Fs=e(2831883394),Xe=e(7516783851),wt=e(6532870220);const Wt=(0,n.Wo)({label:"HUDDLE-CONNECTION-MANAGER"});let lt=h(class ua{reset(){this.isShutdownInProgress=!1,this.isConnecting=!1,this.huddlesSdk=null}setIsShutdownInProgress(ve){this.isShutdownInProgress=ve}setIsConnecting(ve){this.isConnecting=ve}getIsShutdownInProgress(){return this.isShutdownInProgress}getIsConnecting(){return this.isConnecting}setHuddlesSdk(ve){if(this.huddlesSdk){Wt.warn("Blocking huddles init since a huddlesSdk is already active",this.getConnectionState());return}this.huddlesSdk=ve}getConnectionState(){return{isShutdownInProgress:this.getIsShutdownInProgress(),isConnecting:this.isConnecting,hasActiveSdk:!!(this.huddlesSdk&&this.huddlesSdk.hasSession())}}static getInstance(){return ua.instance||(ua.instance=new ua),ua.instance}canConnect(ve){return ve?this.huddlesSdk&&this.huddlesSdk.hasSession()?(Wt.warn("Singleton enabled: SDK already has active session",this.getConnectionState()),!1):this.getIsShutdownInProgress()?(Wt.warn("Singleton enabled: Shutdown in progress, ignoring connect request",this.getConnectionState()),!1):this.isConnecting?(Wt.warn("Singleton enabled: Already connecting",this.getConnectionState()),!1):!0:!0}constructor(){this.isShutdownInProgress=!1,this.isConnecting=!1,this.huddlesSdk=null}},"HuddleConnectionManager");lt.instance=null;var ft=e(1522654045),St=e(160509973),bt=e(4406016077);function Ht(ye){switch((0,Gt._Z)(ye,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}h(Ht,"getAllowedTurnTransportTypes");var zt=e(9383537253);function yn(){return!(!("MediaStreamTrackProcessor"in globalThis)||!("MediaStreamTrackGenerator"in globalThis)||!("OffscreenCanvas"in globalThis)||!("ImageBitmap"in globalThis)||!("createImageBitmap"in globalThis))}h(yn,"isHuddlesBackgroundWorkerSupported");const pn=(0,n.Wo)({label:"HUDDLE-INIT-OPTIONS"}),Zt=h((ye,ve)=>{let{server:Re,isPrejoin:je}=ve;if(!ye){pn.error("teamState is not defined. Returning empty init options");return}const $e={};return $e.serverConfig={...Re,transportProtocols:Ht(ye)},$e.isPrejoin=je,$e.useChimeSdkExp=(0,bt.OV)(ye),$e.useDevicesExp=(0,zt.ZI)(ye),$e.useVideoUplinkPolicy=(0,zt.Jf)(ye),$e.useH264BaselineScreenshare=(0,bt.OV)(ye)&&(0,zt.RM)(ye),$e.useH264Baseline=(0,bt.OV)(ye)&&(0,zt.er)(ye),$e.useAv1Screenshare=(0,zt.Cu)(ye),$e.huddlesJukeboxEnabled=(0,zt.lV)(ye),$e.disableAudioRedundancy=(0,zt.JQ)(ye),$e.expectAv1EncoderFreeze=(0,zt.Gh)(ye),$e.useSimulcast=!1,$e.usePriorityDownlinkPolicy=!(0,E.gm)(),$e.disableVp9=(0,zt.lH)(ye),$e.useHuddlesFilterWorker=yn()&&(0,zt.lz)(ye),$e.useHuddlesSignalStartDelay=(0,zt._V)(ye),$e.useHuddlesDeviceErrorHandler=(0,zt.FZ)(ye),$e.useHuddlesSingleton=(0,zt.M9)(ye),pn.info("returning init options: ",$e),$e},"getSdkInitOptions");var hn=e(3454761202),kn=e(6441216756),et=e(6947306788),mt=e(761842554),pt=e(8927008694),Ut=e(9785827940),Ct=e(7094543179),fn=e(128579576),cn=e(9113979368),nn=e(5420942935),Mn=e(3725785328),Wn=e(6690187588),ds=e(7920065931),Kn=e(6027564436),Bn=e(1526568855),Gn=e(8168760232),Cs=e(117763669),Ns=e(4357385957),Ds=e(7318064140),Ls=e(3403872308),qn=e(2172170811),bs=e(3730178938),sa=e(1831694456),As=e(7411813784),ks=e(2429228070),Un=e(4743850398);const aa=(0,r.Ay)("Maybe disable the screen share",async(ye,ve)=>{const Re=(0,Wn.tZ)("CALLS-REDUX");ve().peers.self.isScreenshareEnabled&&(Re.info("Attempted to turn off screen sharing"),ye((0,Un.kT)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),(0,ks.a)()});aa.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var zs=e(3875619380),xo=e(6619783004),Ga=e(8311865584),_a=e(2435381582),Ps=e(2348458032),Wo=e(6372862721),Ca=e(5233827933),za=e(6883628922),Vs=e(8338674836),Fo=e(5295531317);const Qa=(0,r.Ay)("Process AWS transcript event",(ye,ve,Re)=>{var je;if((0,nn.VW)(Re))return;const $e=Re.results[0];if(!($e!=null&&$e.resultId)||!(0,Fo.TP)(ve()))return;const Et=(je=$e.alternatives[0])===null||je===void 0?void 0:je.items;if(!(Et!=null&&Et.length)){ye((0,Vs.h2)({resultId:$e.resultId,transcriptions:[]}));return}const xt=[];Et.forEach(dt=>{var un;const Pn=xt[xt.length-1],zn=(0,ds.l)((un=dt.attendee)===null||un===void 0?void 0:un.externalUserId);zn&&(dt.type===nn.E9.PUNCTUATION?Pn&&(Pn.content=`${Pn.content}${dt.content}`,Pn.endTimeMs=dt.endTimeMs):xt.push({memberId:zn,timestampMs:dt.startTimeMs,endTimeMs:dt.endTimeMs||Date.now(),content:dt.content}))}),ye((0,Vs.h2)({resultId:$e.resultId,transcriptions:xt}))});Qa.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};const Ko=Qa;var Qs=e(8725269550),ss=e(3015119762),Ln=e(9585046758),wo=e(147459106),Ya=e(6748214069),Ho=e(9204569428),Vo=e(8133631081),Ia=e(9655647811),jo=e(4357854421);const Go=(0,n.Wo)({label:"SEND-MEETING-EVENTS-LOGGER"}),$a="screenhero.rooms.proxyMeetingEvents",Ja=(0,r.Ay)("Send meeting events to the server",async(ye,ve,Re)=>{let je;try{je=JSON.stringify(Re.events)}catch(dt){Go.error(dt.message);return}const{metrics:$e,teamId:Et}=zo();if(Re.isUnloading){const dt={app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,call_id:Re.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:je,preferred_media_region:await Ia.A.getInstance().getNearestChimeMediaRegion(Et),audio_connected_time:($e==null?void 0:$e.audioConnectedTime)||0,first_presence_time:($e==null?void 0:$e.firstPresenceTime)||0,rooms_join_time:($e==null?void 0:$e.roomsJoinTime)||0,sdk_initialized_time:($e==null?void 0:$e.sdkInitializedTime)||0,chime_attendee_presence_time:Re.attendeePresenceDuration?Re.attendeePresenceDuration:($e==null?void 0:$e.attendeePresenceDuration)||0,chime_meeting_start_time:Re.meetingStartDuration?Re.meetingStartDuration:($e==null?void 0:$e.meetingStartDuration)||0,chime_signaling_open_time:Re.signalingOpenDuration?Re.signalingOpenDuration:($e==null?void 0:$e.signalingOpenDuration)||0,chime_ice_gathering_time:Re.iceGatheringDuration?Re.iceGatheringDuration:($e==null?void 0:$e.iceGatheringDuration)||0,voice_focus_init_time:($e==null?void 0:$e.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:($e==null?void 0:$e.credentialsToVoiceFocusInitializedTime)||0};return(0,Vo.A)({apiUrl:"/api/",method:$a,token:(0,jo.F)(ve()),versionTs:(0,Ya.HF)(),versionUid:(0,Ya.X3)(),args:dt})?Os.S.resolve():Os.S.reject(new Error("sendMeetingEvents: beacon failed"))}const xt=Re.isEnding?{app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,events:je,call_id:Re.callId,preferred_media_region:await Ia.A.getInstance().getNearestChimeMediaRegion(Et),audio_connected_time:($e==null?void 0:$e.audioConnectedTime)||0,first_presence_time:($e==null?void 0:$e.firstPresenceTime)||0,rooms_join_time:($e==null?void 0:$e.roomsJoinTime)||0,sdk_initialized_time:($e==null?void 0:$e.sdkInitializedTime)||0,chime_attendee_presence_time:Re.attendeePresenceDuration?Re.attendeePresenceDuration:($e==null?void 0:$e.attendeePresenceDuration)||0,chime_meeting_start_time:Re.meetingStartDuration?Re.meetingStartDuration:($e==null?void 0:$e.meetingStartDuration)||0,chime_signaling_open_time:Re.signalingOpenDuration?Re.signalingOpenDuration:($e==null?void 0:$e.signalingOpenDuration)||0,chime_ice_gathering_time:Re.iceGatheringDuration?Re.iceGatheringDuration:($e==null?void 0:$e.iceGatheringDuration)||0,voice_focus_init_time:($e==null?void 0:$e.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:($e==null?void 0:$e.credentialsToVoiceFocusInitializedTime)||0}:{app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,events:je,call_id:Re.callId};return ye((0,Ho.apiCall)({method:$a,args:xt,reason:"calls-chime-events"}))});Ja.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function zo(){const ye=(0,N.Ry)(),{teamId:ve}=(0,ss.Qn)(ye)||{};return{metrics:(0,Mn.s2)(),teamId:ve}}h(zo,"getCallMetricsAndTeamId");const Qo=(0,n.Wo)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),Xa=(0,r.Ay)("Handle Chime meeting events",(ye,ve,Re)=>{let{events:je,callId:$e,meetingId:Et,mediaRegion:xt,attendeeId:dt,isUnloading:un,isEnding:Pn}=Re;const zn=Yo(je);!(0,cn.A)(zn)&&!un&&!Pn&&(0,Mn.jm)(zn),ye(Ja({events:je,app:"huddles",callId:$e,meetingId:Et,mediaRegion:xt,attendeeId:dt,isUnloading:un,isEnding:Pn,attendeePresenceDuration:zn.attendeePresenceDuration,signalingOpenDuration:zn.signalingOpenDuration,iceGatheringDuration:zn.iceGatheringDuration,meetingStartDuration:zn.meetingStartDuration}))});Xa.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function Yo(ye){const ve={};return ye.forEach(Re=>{let{message:je}=Re;try{const un=JSON.parse(je);switch(un.name){case"attendeePresenceReceived":var $e;ve.attendeePresenceDuration=($e=un.attributes)===null||$e===void 0?void 0:$e.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var Et,xt,dt;ve.signalingOpenDuration=(Et=un.attributes)===null||Et===void 0?void 0:Et.signalingOpenDurationMs,ve.iceGatheringDuration=(xt=un.attributes)===null||xt===void 0?void 0:xt.iceGatheringDurationMs,ve.meetingStartDuration=(dt=un.attributes)===null||dt===void 0?void 0:dt.meetingStartDurationMs;break;default:break}}catch(un){Qo.error("Invalid JSON in meeting event",un)}}),ve}h(Yo,"parseMeetingEventMetrics");const $o=Xa;var wn=e(3134334389),Jo=e(9322124936),Xo=e(862210999),Zo=e(2370910394),qo=e(4527069385),er=e(4884424513),ya=e(2947229296),tr=e(5355117074),qs=e(3096333992),nr=e(7874250141),ea=e(7918696228),sr=e(6822809342),ar=e(411441547),or=e(3608383992),Da=e(6761585902),rr=e(4844578989),Ys=e.n(rr),ir=e(6766178921),lr=e(9819891010),Za=e(4875826949);let cr=h(class extends wn.PureComponent{static getDerivedStateFromProps(ve,Re){return ve.mediaStream!==Re.currentMediaStream?ve.mediaStream&&Re.currentMediaStream&&ve.mediaStream.id===Re.currentMediaStream.id?{currentMediaStream:ve.mediaStream,isFlipped:ve.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:ve.mediaStream?Re.currentMediaStream:void 0,currentMediaStream:ve.mediaStream,isFlipped:ve.isFlipped,wasFlipped:Re.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const ve=this.videoRef.current,Re=this.prevVideoRef.current;ve&&(ve.removeEventListener("canplay",this.onCanPlay),ve.removeEventListener("pause",this.onPause),ve.removeEventListener("resize",this.onResize)),Re&&(Re.removeEventListener("canplay",this.onCanPlay),Re.removeEventListener("pause",this.onPause),Re.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:ve}=this.state,Re=ve&&ve.getVideoTracks()[0];this.isDataStopped&&Re&&Re.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(ve){this.state.currentMediaStream&&ve.target.srcObject instanceof MediaStream&&ve.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:ve,prevMediaStream:Re}=this.state,je=this.videoRef.current,$e=this.prevVideoRef.current;je&&(je.muted=!0,je.srcObject!==ve&&(je.addEventListener("canplay",this.onCanPlay),je.addEventListener("pause",this.onPause),je.addEventListener("resize",this.onResize),je.srcObject=ve||null)),$e&&($e.muted=!0,$e.srcObject!==Re&&($e.removeEventListener("canplay",this.onCanPlay),$e.removeEventListener("pause",this.onPause),$e.removeEventListener("resize",this.onResize),$e.srcObject=Re||null))}onResize(){const ve=this.videoRef.current;ve&&(this.props.isSharingScreen?ve.style.objectFit="contain":ve.style.objectFit=ve.videoWidth>ve.videoHeight?"cover":"contain")}render(){const{className:ve,isFlipped:Re,refToForward:je}=this.props,{currentMediaStream:$e,prevMediaStream:Et,isCurrentMediaStreamReady:xt,wasFlipped:dt}=this.state;return wn.createElement(wn.Fragment,null,!xt&&Et&&wn.createElement("video",{key:Et&&Et.id,className:Ys()("p-calls_video",ve,{flipped:dt}),ref:this.prevVideoRef,autoPlay:!0}),wn.createElement("video",{className:Ys()("p-calls_video",ve,{flipped:Re,hidden:!xt}),ref:(0,Za.P)(this.videoRef,je),autoPlay:!0,key:$e&&$e.id}))}constructor(ve){super(ve),this.prevVideoRef=wn.createRef(),this.videoRef=wn.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");function Oa(){return Oa=Object.assign||function(ye){for(var ve=1;ve<arguments.length;ve++){var Re=arguments[ve];for(var je in Re)Object.prototype.hasOwnProperty.call(Re,je)&&(ye[je]=Re[je])}return ye},Oa.apply(this,arguments)}h(Oa,"_extends");const dr=h((ye,ve)=>{const Re=(0,Un.JZ)(ye,ve.id);return{mediaStream:Re.mediaStream,isFlipped:(0,Un.fy)(Re)&&!Re.isScreenshareEnabled,isSharingScreen:Re.isScreenshareEnabled}},"mapStateToProps"),ur=(0,Da.N)(dr)(cr),_r=wn.forwardRef((ye,ve)=>wn.createElement(ur,Oa({},ye,{refToForward:ve})));var mr=e(7175825412),hr=e(7089278202),qa=e(9650261137),Er=e(1708302436),fr=e(9269691419),vr=e(6154830566),pr=e(338698394),eo=e(1908189516);function gr(ye,ve){const Re=Math.min(ve.width,ve.height*ye),je=Math.min(ve.height,ve.width/ye);return{top:ve.top+(ve.height-je)/2,left:ve.left+(ve.width-Re)/2,width:Re,height:je}}h(gr,"getLargestRectForAspectRatioCenteredWithinRect");let Ma=h(class extends wn.PureComponent{detectDifference(ve,Re){return Math.abs(ve-Re)>1}componentDidMount(){var ve;(0,Wn.tZ)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),(0,vr.k)(we.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),(ve=this.context.windowRef.deref())===null||ve===void 0||ve.addEventListener("resize",this.onResize),(0,eo.Z)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(ve){let{isVideoReady:Re}=ve;!Re&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){var ve;this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),(ve=this.context.windowRef.deref())===null||ve===void 0||ve.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!(0,eo.Z)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const ve=this.videoRef.current;!ve||ve.videoHeight===0||this.setState(()=>({videoRect:gr(ve.videoWidth/ve.videoHeight,ve.getBoundingClientRect())}))}render(){const ve=wn.Children.only(this.props.children),Re=wn.cloneElement(ve,{ref:(0,Za.N)(this.videoRef,ve)});return wn.createElement(wn.Fragment,null,Re,this.state.videoRect&&wn.createElement(Er.u,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&wn.createElement(fr.o,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(ve){super(ve),this.videoRef=wn.createRef(),this.drawTargetRef=wn.createRef(),this.drawRenderRef=wn.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");Ma.contextType=pr._0,Ma.displayName="GuestDraw";const Ar=h((ye,ve)=>{const Re=(0,Un.gl)(ye);if(!Re)throw Error("Guest draw should not be mounted without an active peer");const je=(0,Un.JZ)(ye,Re);return{isDrawEnabled:!!je.isScreenshareEnabled&&!!je.isDrawEnabled,isScreenShareEnabled:!!je.isScreenshareEnabled}},"guest_draw_mapStateToProps"),to=(0,Da.N)(Ar)(Ma),Tr={isVideoReady:!1};let no=h(class extends wn.PureComponent{onVideoReady(ve){this.setState(Re=>({...Re,isVideoReady:ve}))}renderVideo(){const{id:ve,renderVideo:Re,tileId:je}=this.props;if(Re)return Re(this.isVideoEnabledAndReady());if(!ve){(0,qa.M)("Cannot render video without a peer id");return}return wn.createElement(to,{isVideoReady:this.state.isVideoReady},wn.createElement(_r,{id:ve,tileId:je,onVideoReady:this.onVideoReady,className:Ys()({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:ve,prefCompliantUserName:Re,member:je}=this.props;return wn.createElement("div",{className:Ys()({hidden:this.state.isVideoReady})},wn.createElement("div",{className:"p-active_speaker__member_image_wrapper"},wn.createElement(mr.Ay,{className:Ys()({"p-active_speaker__member_image--spinning":ve}),size:180,userId:je&&je.id,isInteractive:!1,tabIndex:-1}),ve&&wn.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},wn.createElement(hr.A,{color:"white"}))),wn.createElement("div",{className:"p-active_speaker__member_name"},Re))}isVideoEnabledAndReady(){const{isVideoEnabled:ve,isVideoEnabledAndReady:Re}=this.props;return Re?Re(ve):!!(ve&&this.state.isVideoReady)}render(){const{isVideoEnabled:ve}=this.props,Re=Ys()("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return wn.createElement("div",{"data-qa":"active-speaker",className:Re},ve&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(ve){super(ve),this.state=Tr,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");no.displayName="ActiveSpeaker";function Cr(ye,ve){const Re=(0,ir.nv)(ye,ve),je=(0,lr.sE)(ye,Re);return{member:Re,prefCompliantUserName:je}}h(Cr,"mapCommonMemberState");const Ir=h((ye,ve)=>{const Re=(0,Un.JZ)(ye,ve.id),je=Re.isCameraEnabled,$e=Re.isScreenshareEnabled,Et=(0,Un.fy)(Re)?(0,ut.WR)(ye):Re.userId;return{tileId:ve.tileId,isVideoEnabled:je||$e,isSpinning:Re.isConnected===!1,...Cr(ye,Et)}},"active_speaker_mapStateToProps"),yr=(0,Da.N)(Ir)(no);var Dr=e(2284952465);function Pa(){return Pa=Object.assign||function(ye){for(var ve=1;ve<arguments.length;ve++){var Re=arguments[ve];for(var je in Re)Object.prototype.hasOwnProperty.call(Re,je)&&(ye[je]=Re[je])}return ye},Pa.apply(this,arguments)}h(Pa,"with_free_willy_guest_draw_extends");const so=h(ye=>h(class extends wn.PureComponent{addEventListeners(Re,je,$e){Re.current&&(Re.current.addEventListener("canplay",je),$e&&Re.current.addEventListener("resize",je))}removeEventListeners(Re,je,$e){Re.current&&(Re.current.removeEventListener("canplay",je),$e&&Re.current.removeEventListener("resize",je))}render(){return wn.createElement(ye,Pa({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");so.displayName="withFreeWillyGuestDraw";const Or=so;function Sa(){return Sa=Object.assign||function(ye){for(var ve=1;ve<arguments.length;ve++){var Re=arguments[ve];for(var je in Re)Object.prototype.hasOwnProperty.call(Re,je)&&(ye[je]=Re[je])}return ye},Sa.apply(this,arguments)}h(Sa,"with_free_willy_active_speaker_extends");const Mr=Or(to),ao=h(ye=>h(class extends wn.PureComponent{isVideoEnabledAndReady(Re){return Re}renderVideo(Re){const{id:je,tileId:$e}=this.props;if(!je){(0,qa.M)("Cannot render video without a peer id");return}return wn.createElement(Mr,{isVideoReady:Re},wn.createElement(Dr.A,{id:je,tileId:$e,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return wn.createElement(ye,Sa({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(Re){super(Re),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");ao.displayName="withFreeWillyActiveSpeaker";const Pr=ao;var Sr=e(6122756707),Rr=e(8740944669),Lr=e(5181078482),Ra=e(280840163),oo=e(1231671841);const br=new ya.Ay("huddles"),ro=h(()=>{const ye=(0,Sr.wA)(),ve=(0,Ra.d4)(je=>!!(0,Un.WQ)(je,"isMicrophoneEnabled")),Re=(0,wn.useCallback)(()=>{ye((0,oo.A)(!ve))},[ve,ye]);return wn.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},wn.createElement(Lr.Ay,{className:Ys()("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":ve}),onClick:Re,type:"outline",role:"switch",size:"large","aria-label":br.t("Microphone"),"aria-checked":ve,disabled:!self},wn.createElement(Rr.A,{peerId:"self",isMicrophoneEnabled:ve,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");ro.displayName="HuddleScreenViewerMicButton";const Ur=ro,Nr=Pr(yr),kr=new ya.Ay("huddles");function io(ye){const{peerId:ve,isError:Re}=ye,je=(0,Ra.d4)(Un.vz),$e=(0,Ra.d4)(Pn=>ve?(0,Un.JZ)(Pn,ve):null);let Et;if(je){var xt,dt;Et=$e!=null&&$e.isScreenshareEnabled?$e==null||(xt=$e.tileIds)===null||xt===void 0||(dt=xt.screenshare)===null||dt===void 0?void 0:dt.tileId:null}const un=wn.createElement("span",{className:"p-huddle_screen_viewer__error"},kr.t("The screen share has ended."));return wn.createElement("div",{className:"p-huddle_screen_viewer__container"},ve&&!Re&&wn.createElement(Nr,{id:ve,tileId:Et}),Re?un:wn.createElement(Ur,null))}h(io,"HuddleScreenViewer"),io.displayName="HuddleScreenViewer";var Br=e(8374407501),xr=e(1182212603);const hs={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},_l=null,lo=new ya.Ay("huddles"),Wr=h(ye=>{var ve;const Re=ye==null||(ve=ye.document)===null||ve===void 0?void 0:ve.querySelectorAll(".p-huddle_screen_viewer__container"),je=Re?Re.length:0,$e=(0,Wn.tZ)("SCREENSHARE-VIEWER-APP");je>1?$e.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):$e.info(`${je} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),ma=h(()=>{const{container:ye,childWindow:ve}=hs;ye&&(Jo.unmountComponentAtNode(ye),hs.containerTileId=void 0,hs.container=void 0),ve&&(ve.removeEventListener("beforeunload",ma),ve.close(),hs.childWindow=void 0,hs.childWindowToken=void 0)},"closeScreenShareWindow"),Fr=(0,r.Ay)("Launch the window that renders screen share media",async(ye,ve,Re)=>{var je,$e,Et;const xt=ve(),dt=(0,n.Ay)({state:xt}),un=Re!=null&&Re.screenSharePeerId?Re.screenSharePeerId:(0,Un.vN)(xt);let Pn=!1;const{container:zn,containerTileId:ms}=hs;un||(dt.warn(qs.o7,"lastRemoteScreensharePeerId is not found"),Pn=!0);const qt=(0,Un.JZ)(xt,un||""),An=qt.userId?(0,qo.I)(xt,qt.userId):"";let Cn=lo.t("Screen share");An&&(Cn=lo.t("{memberName} screen share",{memberName:(0,tr.Ay)(An)}));const es={...ar.P,backgroundColor:"black",title:Cn,windowId:"huddle-call-screen-share"},ts=(0,N.Ry)();(0,ss.Ak)(ts)||(dt.warn(qs.o7,"no active huddle found"),Pn=!0);const Es=(qt==null||(je=qt.tileIds)===null||je===void 0||($e=je.screenshare)===null||$e===void 0?void 0:$e.tileId)||0;(0,N.dispatchForClientStore)((0,ea.cn)({tileId:Es}))||(dt.warn(qs.o7,"video tile does not have stream"),Pn=!0);const Js=!hs.childWindow||hs.childWindow.closed;if(Js&&(0,E.y3)()){const{window:na,windowToken:Aa}=await(0,Zo.wK)("",es);hs.childWindow=na,hs.childWindowToken=Aa}else Js&&(hs.childWindow=window.open("",Cn,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!hs.childWindow){dt.warn(qs.o7,"No child window available. Exiting screen share window launch");return}const la=(0,nr.ZT)(xt);hs.childWindow.document&&(hs.childWindow.document.body.style.background="black");const js=(0,xr.O)(hs.childWindow);if(Js&&(hs.childWindow.addEventListener("beforeunload",ma),window.addEventListener("beforeunload",ma)),!(zn&&ms===Es)||Js){hs.containerTileId=Es;const na=(0,R.oK)(la);hs.container=await(0,sr.s)(hs.childWindow,wn.createElement(Br.A,{store:na},wn.createElement(er.D,{windowRef:js},wn.createElement(or.A,{shouldStopHuddle:!0},wn.createElement(io,{peerId:un,isError:Pn})))),{useContainer:!0})}const Xs=(Et=hs.childWindow)===null||Et===void 0?void 0:Et.browserWindowId;Xs?(0,v.hN0)(Xs):(0,Xo.A)(hs.childWindow.focus)&&hs.childWindow.focus(),Wr(hs.childWindow)});Fr.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var Kr=e(6259376722);const co=(0,r.Ay)("alerts if a user joins the huddle and the current user has hidden that user",(ye,ve,Re)=>{let{userId:je}=Re;const $e=ve();(0,Kr.a)($e,je)&&ye((0,zs.Iw)(zs.vT.HiddenUserJoinedHuddle))});co.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var La=e(9102575680);const uo=(0,r.Ay)("Resolve a pending huddle",(ye,ve,Re)=>(0,La.A)().resolvePendingJoin(Re));uo.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};const wr=uo;var Hr=e(1711868125),Vr=e(8036425525),jr=e(6277503403),Gr=e(5232664166),zr=e(364019703),_o=e(6250977097);const ba=(0,r.Ay)("update client huddle membership timers join",(ye,ve)=>{const Re=ve(),je=(0,n.Ay)({state:Re}),$e=(0,N.Ry)(),Et=(0,ss.Ak)($e),xt=(0,Gr.Wg)(Re,{tip:_o.ml.Huddles});if(!Et){je.warn(qs.o7,"no active huddle found, cannot update state to together or alone");return}const dt=(0,jr.Sx)(Re);if(dt===0){(0,La.A)().setAloneInHuddle();return}dt>0&&(xt&&ye((0,zr._A)(!0)),(0,La.A)().setOthersInHuddle(),ye((0,Vr.e)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});ba.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var ha=e(6854947164);let Qr=h(class{onPeerMuted(ve,Re){this.dispatch((0,Un.kT)({id:ve,isMicrophoneEnabled:!Re}))}onPeerJoined(ve,Re){if(this.maybeRecordFirstPresenceTime(),Re&&ve){this.dispatch((0,Un.Uu)({id:ve,userId:Re,isMicrophoneEnabled:!0})),this.dispatch(ba());const je=(0,Un.Ng)(this.store.getState());(0,N.dispatchForClientStore)((0,ct.Rr)({isDrawEnabled:je.isDrawEnabled||!1})),this.dispatch((0,Vs.U$)({type:Qs.v.JOIN,memberId:Re,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(Re),this.dispatch(co({userId:Re}))}}onPeerLeft(ve){var Re;const je=(Re=(0,Un.jB)(this.store.getState(),ve))===null||Re===void 0?void 0:Re.userId;je&&(this.callLogger.info(`Peer left the huddle. userId=${je} peerId=${ve}`),this.dispatch((0,Vs.U$)({type:Qs.v.LEAVE,memberId:je,timestampMs:Date.now()}))),this.dispatch((0,Un.xx)(ve)),this.dispatch(ba())}onSelfJoined(){const ve=this.recordTiming(Kn.qK);this.maybeRecordFirstPresenceTime(),this.dispatch(wr(ve)),(0,N.dispatchForClientStore)((0,ct.wr)())}onSelfLeft(){this.dispatch((0,zs.LL)(Ln.vT.HiddenUserJoinedHuddle))}onNewActiveSpeaker(ve){this.dispatch((0,Un.FX)(ve))}onPeerReacji(ve,Re,je,$e,Et){var xt;const dt=this.store.getState(),un=Et?(0,sa.Ay)(dt,{url:Et}):void 0;this.dispatch((0,Un._x)({peerId:ve,emoji:Re,isEmoji:je,reactionType:$e,emojiUrl:un}));const Pn=(xt=(0,Un.jB)(this.store.getState(),ve))===null||xt===void 0?void 0:xt.userId;Pn&&this.dispatch((0,Vs.U$)({type:Qs.v.SEND_REACTION,memberId:Pn,timestampMs:Date.now(),emoji:Re}))}onPeerMuteRequest(ve,Re){Re===this.selfAttendeeId&&(this.dispatch((0,oo.A)(!1)),this.dispatch((0,Ln.CE)({alert:Ln.vT.PeerMuteRequest,peerId:ve})),this.callLogger.info(`Peer muted self microphone : peerId:${ve}`))}onError(ve,Re){let je;Re===nn.b9[nn.b9.AudioJoinedFromAnotherDevice]?je=ha.M6.AudioJoinedFromAnotherDevice:Re===nn.b9[nn.b9.MeetingEnded]&&(je=(0,Ns.ew)((0,Ga.KA)().getState())?ha.M6.ChimeMeetingEndedFromTimeLimit:ha.M6.ChimeMeetingEnded),this.dispatch((0,wo.A)({terminalState:je||ve})),this.callLogger.info(`tearDown executed: terminalState: ${ve}, statusCodeName: ${Re} tearDownState: ${je}`)}onClogError(ve){}onMeetingSessionInitialized(){this.recordTiming(Kn.W_);const ve=(0,As.Cy)({state:this.store.getState()}),Re=ve.measure(Kn.Bq,Kn.CY);ve.count(Kn.CY,Re),(0,Mn.jm)({sdkInitializedTime:Re})}onSelfPermissionUpdated(ve,Re){this.callLogger.info(`Received permission update from type:${Re}, isDenied: ${ve}`);let je;(0,E.y3)()?je=Re===Xe.lW.Microphone?Ln.vT.NoSystemAudio:Ln.vT.NoSystemVideo:je=Re===Xe.lW.Microphone?Ln.vT.NoBrowserAudioPermission:Ln.vT.NoBrowserVideoPermission,ve?this.dispatch((0,Ln.CE)({alert:je})):this.dispatch((0,Ln.Gu)(je))}onSelfVideoTileUpdate(ve){if(!ve.tileId)return;const Re=(0,Un.Ng)(this.getState());if(!ve.isContent&&!Re.isCameraEnabled)return;if(!(0,Un.vz)(this.getState()))this.dispatch((0,Vs.U$)({type:Qs.v.SCREENSHARE_START,memberId:(0,ut.WR)(this.getState()),timestampMs:Date.now()})),this.dispatch((0,Un.kT)({id:"self",tileId:ve.tileId,isScreenshareEnabled:!!ve.isContent}));else if(ve.isContent){var $e,Et;this.dispatch((0,Vs.U$)({type:Qs.v.SCREENSHARE_START,memberId:(0,ut.WR)(this.getState()),timestampMs:Date.now()}));const xt=(0,Un.JC)(this.getState());(($e=Re.tileIds)===null||$e===void 0||(Et=$e.screenshare)===null||Et===void 0?void 0:Et.tileId)!==ve.tileId&&xt!==bs.cM.Screenshare&&this.dispatch((0,za.x)({peerId:"self",contentViewType:bs.cM.None,contentViewConfig:{}})),this.dispatch((0,Un.kT)({id:"self",tileId:ve.tileId,isScreenshareEnabled:!!ve.isContent}))}else this.dispatch((0,Un.kT)({id:"self",tileId:ve.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(ve,Re){if(!Re.tileId)return;const je=Re.boundExternalUserId&&(0,ds.l)(Re.boundExternalUserId);Re.isContent&&je&&(this.callLogger.info(`Peer screenshare started: userId=${je}`),this.dispatch((0,Vs.U$)({type:Qs.v.SCREENSHARE_START,memberId:je,timestampMs:Date.now()}))),this.dispatch((0,Un.BD)({id:ve,tileId:Re.tileId,isContent:Re.isContent,isPaused:Re.paused}))}onVideoTileRemoved(ve){var Re,je;const $e=this.store.getState(),Et=(0,Un.v2)($e,ve);Et&&(this.callLogger.info(`Peer screenshare stopped: userId=${Et}`),this.dispatch((0,Vs.U$)({type:Qs.v.SCREENSHARE_STOP,memberId:Et,timestampMs:Date.now()}))),this.dispatch((0,Un.Qr)({tileId:ve})),ma();const xt=(0,Un.Ng)($e);((Re=xt.tileIds)===null||Re===void 0||(je=Re.screenshare)===null||je===void 0?void 0:je.tileId)===ve&&xt.contentViewType===bs.cM.Screenshare&&this.dispatch((0,za.x)({peerId:"self",contentViewType:bs.cM.None,contentViewConfig:{}}))}onVideoTileWillPause(ve){this.dispatch((0,Un.K3)({tileId:ve}))}onVideoTileWillUnpause(ve){this.dispatch((0,Un.XS)({tileId:ve}))}onDeviceAccessApproved(ve){switch(ve){case qn.mT.MICROPHONE:{(0,E.y3)()?(this.dispatch((0,Ln.Gu)(Ln.vT.NoSystemAudio)),this.dispatch((0,Ps.er)())):(this.dispatch((0,Ln.Gu)(Ln.vT.NoBrowserAudioPermission)),this.dispatch((0,Ps.ZY)()));break}case qn.mT.CAMERA:{(0,E.y3)()?(this.dispatch((0,Ln.Gu)(Ln.vT.NoSystemVideo)),this.dispatch((0,Ps.NH)())):(this.dispatch((0,Ln.Gu)(Ln.vT.NoBrowserVideoPermission)),this.dispatch((0,Ps.in)()));break}default:}}onCheckSystemMediaAccess(ve){switch(ve){case qn.mT.MICROPHONE:{this.dispatch((0,Ps.tG)()),this.dispatch((0,Ln.CE)({alert:Ln.vT.NoSystemAudio}));break}case qn.mT.CAMERA:{this.dispatch((0,Ps.Yr)()),this.dispatch((0,Ln.CE)({alert:Ln.vT.NoSystemVideo}));break}case qn.mT.SCREEN:{this.dispatch((0,Ps.J3)()),this.dispatch((0,Ln.CE)({alert:Ln.vT.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(ve){switch(this.callLogger.error(`Self ${ve} device access denied`),ve){case qn.mT.MICROPHONE:{this.dispatch((0,Ps.cH)()),this.dispatch((0,Ln.CE)({alert:Ln.vT.NoBrowserAudioPermission}));break}case qn.mT.CAMERA:{this.dispatch((0,Ps.px)()),this.dispatch((0,Ln.CE)({alert:Ln.vT.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(ve){switch(ve){case qn.mT.MICROPHONE:{this.dispatch((0,Ln.CE)({alert:Ln.vT.NoUserAudioStream}));break}case qn.mT.CAMERA:{const Re=(0,Wo.ly)(this.getState());if((0,N.dispatchForClientStore)((0,ct.WM)({setVideoEnabled:!1})),!(0,E.y3)()&&Re)break;this.dispatch((0,Ln.CE)({alert:Ln.vT.NoUserVideoStream}));break}default:}}onClearNoMediaInput(ve){switch(ve){case qn.mT.MICROPHONE:{this.dispatch((0,Ln.Gu)(Ln.vT.NoUserAudioStream));break}case qn.mT.CAMERA:{this.dispatch((0,Ln.Gu)(Ln.vT.NoUserVideoStream));break}default:}}onSetNoAudioOutput(ve){switch(ve){case qn.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Ln.CE)({alert:Ln.vT.NoAudioOutputAudioElementError}));break}case qn.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Ln.CE)({alert:Ln.vT.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(ve){switch(ve){case qn.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Ln.Gu)(Ln.vT.NoAudioOutputAudioElementError));break}case qn.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Ln.Gu)(Ln.vT.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch((0,Un.kT)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch((0,Un.kT)({id:"self",isConnected:!1})),St.A.publish({type:ft.lx.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(ve,Re){this.callLogger.info(`${ve} audio packet loss changed to: ${Re}`)}onPeerConnected(ve){this.callLogger.info(`peer connnected to chime media server ${ve}`),this.dispatch((0,Un.E3)({id:ve,isConnected:!0}))}onPeerDisconnected(ve){this.callLogger.info(`peer disconnected from chime media server ${ve}`),this.dispatch((0,Un.E3)({id:ve,isConnected:!1}))}onPeerConnectionQualityChanged(ve,Re,je){}onSelfMediaStreamChanged(ve){}onNewPeerMediaStream(ve,Re){}onScreenThumbnails(ve){}onUpdatedSelfAudioLevel(ve){Gn.A.publish("self",ve/Bn.Ep),Cs.A.publish(ve/Bn.Ep);const Re=this.store.getState();(0,zt.lV)(Re)&&Gn.A.publishAll("self",ve/Bn.Ep)}onUpdatedPeerAudioLevels(ve){const Re=this.store.getState();Object.entries(ve).forEach($e=>{let[Et,xt]=$e;Gn.A.publish(Et,xt/Bn.Ep)}),(0,zt.lV)(Re)&&Object.entries(ve).forEach($e=>{let[Et,xt]=$e;Gn.A.publishAll(Et,xt/Bn.Ep)})}onPeerCameraActive(ve,Re){const je=ve==="self";this.callLogger.info(`${je?"Self":`Peer (${ve})`} camera turned ${Re?"on":"off"}`),this.dispatch((0,Un.kT)({id:ve,isCameraEnabled:Re}))}onPeerScreenShareActive(ve,Re){const je=ve==="self";this.callLogger.info(`${je?"Self":`Peer (${ve})`} screenshare ${Re?"started":"stopped"}`)}onPeerDrawMessage(ve,Re){pt.A.publish({id:ve,...Re})}onPeerDrawEnabled(ve,Re){this.dispatch((0,Un.kT)({id:ve,isDrawEnabled:Re}))}onAppMetrics(ve){let{appMetrics:Re,clientMetricReport:je,screenshareRtcStats:$e}=ve;const Et=(0,Hr.Ay)({state:this.getState(),appMetrics:Re});St.A.publish({type:ft.lx.AppMetrics,update:{huddleStateSnapshot:Et,clientMetricReport:je,screenshareRtcStats:$e}})}onDevicesUpdated(ve){this.dispatch((0,Ps.Fb)(ve))}onOutputDeviceChanged(ve){this.callLogger.info(`Self audio output device changed: device: ${ve.id}`),this.dispatch((0,Ps.AS)(ve))}onDeviceTypeBlocked(ve){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(aa());const Re=(0,N.en)().getState(),je=(0,ss.Ak)(Re);!je||(0,cn.A)(je)||je.huddleState===ha.RJ.ENDING||this.dispatch((0,Ls.H)({focusKey:Ds.Ay.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch((0,Ls.H)({focusKey:Ds.Ay.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){St.A.publish({type:ft.lx.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){St.A.publish({type:ft.lx.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){St.A.publish({type:ft.lx.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){St.A.publish({type:ft.lx.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(Kn.dk)}onStart(){this.recordTiming(Kn.Nh)}onAudioVideoDidStart(){this.recordTiming(Kn.ck),(0,N.dispatchForClientStore)((0,ct._U)(Date.now()))}onAudioVideoDidStop(){const ve=(0,N.en)(),Re=(0,ss.cN)(ve==null?void 0:ve.getState()),je=Date.now(),$e=je-Re;(0,N.dispatchForClientStore)((0,ct.bV)(je)),(0,N.dispatchForClientStore)((0,ct.qr)($e))}onMaxTileSizeUpdated(ve){this.dispatch((0,Un.l$)(ve))}onInit(){this.recordTiming(Kn.cP)}onVoiceFocusLoaded(){const ve=(0,As.Cy)({state:this.store.getState()}),Re=ve.measure(Kn.aN,Kn.pz);ve.count(Kn.pz,Re),this.recordTiming(Kn.qb)}onVoiceFocusStartLoading(){(0,As.Cy)({state:this.store.getState()}).mark(Kn.aN)}recordTiming(ve){const Re=(0,As.Cy)({state:this.store.getState()}),je=Re.measure(Kn.qr,ve);return Re.count(ve,je),je}onMeetingEvents(ve,Re,je,$e,Et,xt,dt){this.dispatch($o({events:Et,callId:$e,meetingId:ve,mediaRegion:Re,attendeeId:je,isUnloading:xt,isEnding:dt}))}onMaybeVoiceFocusInitialized(ve){const je=(0,As.Cy)({state:this.store.getState()}).measure(Kn.Bq,Kn.bv);(0,Mn.jm)({voiceFocusInitializedTime:ve,credentialsToVoiceFocusInitializedTime:je})}onScreenShareError(ve){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${ve}`),ve){case qn.lD.NOT_FOUND_ERROR:{this.dispatch((0,Ln.CE)({alert:Ln.vT.SSNotFoundError}));break}case qn.lD.NOT_READABLE_ERROR:{this.dispatch((0,Ln.CE)({alert:Ln.vT.SSNotReadableError}));break}case qn.lD.ERROR:{this.dispatch((0,Ln.CE)({alert:Ln.vT.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch((0,Ln.CE)({alert:Ln.vT.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(ve){this.dispatch(Ko(ve))}setSelfAttendeeId(ve){this.selfAttendeeId=ve}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(Kn.dP),(0,Mn.jm)({firstPresenceTime:this.firstPresenceTimeMs}))}onAudioInputTrackMuted(){this.dispatch((0,Ln.CE)({alert:Ln.vT.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch((0,Ln.Gu)(Ln.vT.AudioInputTrackMuted))}onAudioInitPossiblyFailed(){this.dispatch((0,Ps.Mb)())}onAudioInitTimeTaken(ve){this.dispatch((0,Ps.Ee)(ve))}onJukeboxRequest(ve){if(!(0,zt.lV)(this.getState()))return;const je=this.isDj(),Et=(0,Ca.Rl)(this.getState())[ve];!je||!Et||((0,N.dispatchForClientStore)((0,ct.bk)({song:Et})),(0,N.dispatchForClientStore)((0,ct._u)({song:Et})),(0,N.dispatchForClientStore)((0,ct.WY)(Et)))}onJukeboxStopRequest(){!(0,zt.lV)(this.getState())||!this.isDj()||((0,N.dispatchForClientStore)((0,ct.JM)()),(0,N.dispatchForClientStore)((0,ct._u)({song:void 0})))}isDj(){var ve;const Re=(0,ut.WR)(this.getState()),je=(0,N.en)(),$e=(ve=(0,ss.Qn)(je==null?void 0:je.getState()))===null||ve===void 0?void 0:ve.callId,Et=(0,_a.gV)(this.getState(),{callId:$e}),xt=(0,_a.gV)(this.getState(),{callId:$e,userId:Re});return!Et||!!xt}maybeRemoveUserAsPending(ve){const Re=(0,N.en)(),je=(0,ss.E9)(Re==null?void 0:Re.getState());je&&this.dispatch((0,xo.r_)({callId:je,userId:ve}))}onContentShareDetailsUpdate(ve,Re,je){this.dispatch((0,Un.kT)({id:ve,isDrawEnabled:Re,contentShareSource:je}))}onAudioDeviceError(ve){switch(ve){case"NotReadableError":this.dispatch((0,Ln.CE)({alert:Ln.vT.AudioNotReadableError}));break;case"NotFoundError":this.dispatch((0,Ln.CE)({alert:Ln.vT.AudioNotFoundError}));break;case"OverconstrainedError":this.dispatch((0,Ln.CE)({alert:Ln.vT.AudioOverconstrainedError}));break;default:this.callLogger.error(`Unknown audio device error type: ${ve}`);break}}onVideoDeviceError(ve){switch(ve){case"NotReadableError":this.dispatch((0,Ln.CE)({alert:Ln.vT.VideoNotReadableError}));break;case"NotFoundError":this.dispatch((0,Ln.CE)({alert:Ln.vT.VideoNotFoundError}));break;case"OverconstrainedError":this.dispatch((0,Ln.CE)({alert:Ln.vT.VideoOverconstrainedError}));break;default:this.callLogger.error(`Unknown video device error type: ${ve}`);break}}onClearAudioDeviceErrors(){this.callLogger.info("Clearing audio device errors"),this.dispatch((0,Ln.Qu)())}onClearVideoDeviceErrors(){this.callLogger.info("Clearing video device errors"),this.dispatch((0,Ln.Lu)())}onClearAllAlerts(){this.callLogger.info("Clearing all alerts"),this.dispatch((0,Ln.lW)())}constructor(ve){this.firstPresenceTimeMs=0,this.callLogger=(0,Wn.Jt)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=ve.dispatch,this.getState=ve.getState,this.store=ve}},"HuddleActionDispatcher");var oa=e(327178018),Gs=e(1786688495),Yr=e(5888893001),mo=e(9555060235);let Lt,Ua,Bs;const $r="HUDDLE-SDK",Jr="HUDDLE-CLIENT-MIDDLEWARE",Is=(0,n.Wo)({label:Jr}),ho=h(ye=>{ye.id==="self"&&(Lt==null||Lt.sendDrawMessage(ye))},"onPeerDrawPublish");function Na(ye,ve,Re,je){const $e=(0,ss.E9)(ye),Et=(0,ss.l4)(ye),xt=Et?(0,R.oK)(Et):void 0,dt=xt?xt.getState():void 0,un=dt?(0,ut.WR)(dt):void 0;$e&&un&&(xt==null||xt.dispatch(ve({user:un,channel:$e,fieldValue:Re,experimentHuddlesMultiDeviceGroupOn:je})))}h(Na,"maybeDispatchAwarenessUpdate");function ra(ye,ve,Re){const je=(0,ss.E9)(ye),$e=(0,ss.l4)(ye),Et=$e?(0,R.oK)($e):void 0,xt=Et?Et.getState():void 0,dt=xt?(0,ut.WR)(xt):void 0;je&&dt&&(Et==null||Et.dispatch(ve({user:dt,channel:je,experimentHuddlesMultiDeviceGroupOn:Re})))}h(ra,"maybeDispatchAwarenessRemove");const ia=h(ye=>{const ve=(0,S.getFocusedWorkspace)(ye),Re=(0,R.oK)(ve);Re==null||Re.dispatch((0,zs.LL)(zs.vT.SpeakingWhenMuted));const je=(0,zt.pL)(Re==null?void 0:Re.getState()),$e=(0,ss.E9)(ye);$e&&(ra(ye,Gs.RZ,je),ra(ye,Gs.Lm,je),oa.PL.unwatch($e)),pt.A.unsubscribe(ho),Bs&&(Bs.stop(!0,!1),Bs=void 0),Is.info("User left huddle"),Lt=void 0,oa.PL.unwatchAll(),(0,hn.N5)()},"performHuddleCleanup"),Eo=(0,Ce.Ay)("dispatches actions to huddles SDK",(ye,ve,Re)=>{const je=ye.getState(),$e=h(()=>{const qt=(0,ss.l4)(je),An=(0,R.oK)(qt);if(!An)return{};const Cn=An==null?void 0:An.getState();if(!Cn)return{};const es=(0,Un.Ng)(Cn)||{};return{huddlesVideoActive:(0,Un.vz)(Cn),self:es}},"getIsHuddlesVideoActive");switch(Re.type){case ct.kn.getType():{var Et;const qt=Re.payload;Ua=qt==null||(Et=qt.audioOutputRef)===null||Et===void 0?void 0:Et.current,Ia.A.getInstance().init();break}case ct.Sd.getType():{const{huddlesVideoActive:qt,self:An}=$e();Lt&&Lt.hasSession()&&(qt?Lt.selfVideoEnabled(!0,!!(An!=null&&An.isScreenshareEnabled)):Lt.selfVideoEnabled(!0,!1));break}case ct._I.getType():{const{huddlesVideoActive:qt,self:An}=$e();Lt&&Lt.hasSession()&&(qt?Lt.selfVideoEnabled(!1,!!(An!=null&&An.isScreenshareEnabled)):Lt.selfVideoEnabled(!1,!1));break}case ct.qW.getType():{Is.info("BOOT","user agent:",navigator.userAgent);const qt=Re.payload;let An=qt.isStartMuted;if(!Ua){Is.error("Missing audio output element");return}const{server:Cn,roomId:es}=qt.callResult,ts=Cn.attendee.AttendeeId,{waitForHuddleStart:us,isPrejoin:Es}=qt,Ks=Es?(0,ss.Qn)(je):(0,ss.Ak)(je),{teamId:Js}=Ks||{},la=(0,S.getFocusedWorkspace)(je),js=(0,R.oK)(Js||la),ca=js?js.getState():void 0;if(!ca){Is.error("team state not available while initializing huddlesSdk. Returning early");return}const Xs=(0,zt.M9)(ca);if(Xs&&!lt.getInstance().canConnect(Xs))return;Xs&&lt.getInstance().setIsConnecting(!0),(0,N.dispatchForClientStore)((0,ct.og)(Es)),Is.info("client-huddles-middleware: Dispatching resetPeersStore"),js.dispatch((0,Un.VL)({huddlesVideoActive:!0})),js.dispatch((0,Yr.X6)()),An=An||(0,Me.ty)(ca,"huddles_mute_by_default"),An&&(Is.info("Start huddle as muted as specified in user prefs"),js.dispatch((0,Un.kT)({id:"self",isMicrophoneEnabled:!1}))),Bs&&Bs.stop(!0),(0,Ga.Gc)(la),Bs=new mt.w,Bs.start(es);const na=(0,Ms.u)();na.then(xs=>{xs&&(Is.info("Log reporter stopped"),Bs==null||Bs.stop(!0,!1),Bs=void 0)});const Aa=new Qr(js),{ttiTrace:wa}=(0,kn.A)().getAllTraceHandlers();Lt=new wt.Y(Aa,Ua,$r),Xs&&lt.getInstance().setHuddlesSdk(Lt),(0,hn.Y)({name:hn.R1.HuddlesSdk,ref:Lt});const Ha=(0,Ut.Y)(Cn.attendee.ExternalUserId),No=Zt(ca,{server:Cn,isPrejoin:Es});if(!No){Is.error("sdk options not available. Returning early"),lt.getInstance().setIsConnecting(!1);return}const Va=[],Ta=Js||la;if(Ha&&Ta){const xs=new oa.SV({teamId:Ta,peerId:ts,topicId:Ha,isHuddlesAwarenessTimestampEnabled:(0,zt.gG)(js.getState())});Va.push(xs);const ko=new oa.MC({teamId:Ta});Va.push(ko),oa.PL.watch(Ta,Ha,xs),(0,hn.Y)({name:hn.R1.ChimeChannelListener,ref:ko}),(0,hn.Y)({name:hn.R1.ChimeChannelBroadcaster,ref:xs})}Lt.initialize(No,[qn.mT.MICROPHONE],!!An,us,na,Va).then(()=>{const xs=(Lt==null?void 0:Lt.getMeetingMediaRegion())||"";wa==null||wa.setMediaRegionTag(xs),St.A.publish({type:ft.lx.SelectedMediaRegion,update:{mediaRegionSelected:xs}}),Lt&&!Es&&(Lt==null||Lt.maybeBindAudioOutputElement(),Lt==null||Lt.setIncludeSelfAndNoneActiveSpeaker(!0,!0)),lt.getInstance().setIsConnecting(!1)}).catch(xs=>{throw Is.error("Failed to initialize huddles SDK:",xs),Lt?Lt==null||Lt.shutdown().then(()=>{ia(je),lt.getInstance().reset()}):(ia(je),lt.getInstance().reset()),xs}),Aa.setSelfAttendeeId(ts),pt.A.subscribe(ho),Is.info("User started huddle");break}case ct.pl.getType():{const qt=Re.payload,An=(0,S.getFocusedWorkspace)(je),Cn=(0,R.oK)(An),es=Cn==null?void 0:Cn.getState();if(es&&(0,zt.M9)(es)){const{waitForHuddleEnd:ts}=qt;if(lt.getInstance().getIsShutdownInProgress()){Is.warn("Shutdown already in progress, ignoring disconnect request");return}lt.getInstance().setIsShutdownInProgress(!0),Lt?(Is.info("Shutting down huddles SDK"),Lt.shutdown(()=>{ia(je),lt.getInstance().reset(),ts.resolve(),Is.info("Huddles SDK shutdown complete after disconnect")})):(ia(je),lt.getInstance().reset(),ts.resolve())}else if(Lt){const{waitForHuddleEnd:ts}=qt;Lt.shutdown(()=>{ts.resolve()}),ia(je),Is.info("Huddles SDK shutdown complete")}break}case ct.I9.getType():{const qt=Re.payload;if(Lt&&Lt.hasSession()&&(Lt.selfMicrophoneEnabled(qt),qt)){const An=(0,S.getFocusedWorkspace)(je),Cn=(0,R.oK)(An);Cn==null||Cn.dispatch((0,zs.LL)(zs.vT.SpeakingWhenMuted))}break}case ct.nU.getType():{const qt=Re.payload;Lt&&Lt.hasSession()&&Lt.sendReacji(qt.emoji,qt.reactionType,qt.emojiUrl);break}case ct.M4.getType():{const qt=Re.payload;if(Lt&&Lt.hasSession()){const An=(0,ss.l4)(je),Cn=(0,R.oK)(An);if(!Cn)return;const es=(0,zt.pL)(Cn.getState()),ts=(0,ss.E9)(je),us=(0,ut.WR)(Cn.getState());if(ts){var xt;if(((xt=(0,_a.Fb)(Cn.getState(),ts,us,es?"self":void 0))===null||xt===void 0?void 0:xt.field_value)===qt)ra(je,Gs.RZ,es),(0,ss.Rv)(je)&&qt!=="speaker"&&(Cn==null||Cn.dispatch((0,mo.a)({emoji:"speaker",reactionType:bs.o.Sticker})));else{Na(je,Gs.z7,qt,es);const{huddleEventsTrace:Ks}=(0,kn.A)().getAllTraceHandlers();Ks==null||Ks.update({name:et.p.REACTION,type:et.G.ONCE,tags:{reactionType:bs.o.Sticker}})}}}break}case ct.so.getType():{const qt=Re.payload;Lt&&Lt.hasSession()&&Lt.sendMuteRequest(qt);break}case ct.ol.getType():{const qt=Re.payload;Lt&&Lt.hasSession()&&Lt.setAGC(qt);break}case ct.HC.getType():{const qt=Re.payload;Lt&&Lt.hasSession()&&Lt.setNewPreferredDevice(qt==null?void 0:qt.id,qt==null?void 0:qt.type);break}case ct.yR.getType():{const qt=Re.payload;Lt&&Lt.hasSession()&&Lt.setNoiseSuppression(qt);break}case ct.Rb.getType():{const qt=Re.payload;Lt&&Lt.hasSession()&&Lt.setVideoBackgroundEffect(qt);break}case ct.YA.getType():{const{huddlesVideoActive:qt,self:An}=$e(),Cn=Re.payload,es=!!(An!=null&&An.isCameraEnabled);if(Lt&&Lt.hasSession()){var dt,un;const ts=(0,ss.l4)(je),us=(0,R.oK)(ts);qt?Lt.selfVideoEnabled(es,!0,Cn==null?void 0:Cn.mediaSourceId,Cn):Lt.selfVideoEnabled(!1,!0,Cn==null?void 0:Cn.mediaSourceId,Cn);let Es=(Cn==null||(dt=Cn.mediaSourceId)===null||dt===void 0?void 0:dt.startsWith("screen:"))||!1;!(Cn==null||(un=Cn.mediaSourceId)===null||un===void 0)&&un.startsWith("window:")&&(0,Ws.LD)()&&(Es=!0),Lt.selfDrawEnabled((0,Ct.A)()&&Es);const Ks=(0,Ws.k0)((Cn==null?void 0:Cn.mediaSourceId)||"");Lt.sendContentShareDetails(Ks),us==null||us.dispatch((0,Un.kT)({id:"self",isDrawEnabled:Es,isCameraEnabled:es,contentShareSource:Ks}))}break}case ct.QZ.getType():{const{huddlesVideoActive:qt,self:An}=$e(),Cn=qt?An.isCameraEnabled:!1;if(Lt&&Lt.hasSession()){const es=(0,ss.l4)(je),ts=(0,R.oK)(es);Lt.selfVideoEnabled(!!Cn,!1),ts==null||ts.dispatch((0,Un.kT)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case Ps.Oh.getType():return Lt&&Lt.hasSession()?Lt.getScreenThumbnails():Os.S.resolve(null);case ct.nI.getType():{const qt=Re.payload;if(Lt&&Lt.hasSession()){var Pn;const An=(0,ss.l4)(je),Cn=(0,R.oK)(An);if(!Cn)return;const es=(0,zt.pL)(Cn.getState()),ts=(0,ss.E9)(je),us=(0,ut.WR)(Cn.getState());if(!ts)return;const Es=(Pn=(0,_a.Fb)(Cn.getState(),ts,us,es?"self":void 0))===null||Pn===void 0?void 0:Pn.field_value;return(qt||Es==="speaker")&&(0,N.dispatchForClientStore)((0,mo.a)({emoji:"speaker",reactionType:bs.o.Sticker})),Lt.toggleAllIncomingVideo(qt)}return Os.S.resolve(null)}case ct.WY.getType():{const qt=Re.payload;if(Lt&&Lt.hasSession()){const An=(0,ss.l4)(je);if(!(0,R.oK)(An))return;(0,ss.E9)(je)&&Na(je,Gs.yT,qt.key)}break}case ct.Lx.getType():{const qt=Re.payload;Lt&&Lt.hasSession()&&Lt.sendJukeboxRequest(qt.key);break}case ct.OA.getType():{Lt&&Lt.hasSession()&&Lt.sendJukeboxStopRequest();break}case ct.Db.getType():{Lt&&Lt.hasSession()&&Lt.sendRecordingStartNotification();break}case ct.bk.getType():{const qt=Re.payload;if(Lt&&Lt.hasSession()){const An=(0,ss.l4)(je),Cn=(0,R.oK)(An);if(!(0,zt.lV)(Cn.getState()))return;Lt.startContentShareJukebox({song:qt.song})}break}case ct.JM.getType():{if(Lt&&Lt.hasSession()){const qt=(0,ss.l4)(je),An=(0,R.oK)(qt);if(!An||!(0,zt.lV)(An.getState()))return;Lt.selfStopJukebox(),ra(je,Gs.S)}break}case Ps.e$.getType():{if(Lt&&Lt.hasSession()){const qt=Re.payload.mediaResourceType;return Lt.maybeCheckSystemMediaAccess(qt)}return Os.S.resolve(null)}case ea.d2.getType():{if(Lt&&Lt.hasSession()){const{payload:{tileId:qt,videoRef:An,shouldAttachStream:Cn}}=Re;Lt.bindVideo(qt,An.current,Cn)}break}case ea.gJ.getType():{if(Lt&&Lt.hasSession()){const{payload:{tileId:qt,videoRef:An,shouldDetachStream:Cn}}=Re;Lt.unbindVideo(qt,An.current,Cn)}break}case ea.WY.getType():{if(Lt&&Lt.hasSession()){const{payload:{tileId:qt}}=Re;Lt.pauseVideo(qt)}break}case ea.D8.getType():{if(Lt&&Lt.hasSession()){const{payload:{tileId:qt}}=Re;Lt.unpauseVideo(qt)}break}case ct.WM.getType():{const qt=Re.payload;if(Lt&&Lt.hasSession()){const An=(0,ss.l4)(je),Cn=(0,R.oK)(An),es=Cn==null?void 0:Cn.getState();if(!Cn){Is.info("client-huddles-middleware","no team store found when user toggles video");return}if(!es){Is.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:ts}=$e(),us=(0,Un.Ng)(es);let Es;(qt==null?void 0:qt.setVideoEnabled)!==void 0?Es=qt.setVideoEnabled:Es=!(us!=null&&us.isCameraEnabled),Es?(Is.info("client-huddles-middleware","user toggling ON video"),Lt.setCameraQuality(...(0,fn.cg)()),ts?Lt.maybeEnableSelfCamera({isScreenshareEnabled:us.isScreenshareEnabled}):Lt.maybeEnableSelfCamera()):(Is.info("client-huddles-middleware","user toggling OFF video"),ts?Lt.selfVideoEnabled(!1,!!(us!=null&&us.isScreenshareEnabled)):Lt.selfVideoEnabled(!1,!1),Cn.dispatch((0,Un.kT)({id:"self",isCameraEnabled:!1})))}break}case ea.cn.getType():{if(Lt&&Lt.hasSession()){const{payload:{tileId:qt}}=Re;return(Lt==null?void 0:Lt.videoTileHasStream(qt))||!1}return Os.S.resolve(!1)}case Un.xz.getType():{const{huddlesVideoActive:qt,self:An}=$e();Lt&&Re.payload.isContent&&(qt?Lt.selfVideoEnabled(!!(An!=null&&An.isCameraEnabled),!1):Lt.selfVideoEnabled(!1,!1));break}case ct.Dj.getType():{Lt!=null&&Lt.hasSession()&&(Lt==null||Lt.initVideoPermission());break}case ct._H.getType():{if(Lt!=null&&Lt.hasSession()){const{videoElement:qt,deviceId:An}=Re.payload;Lt.stopVideoPreviewForVideoInput(qt),Lt.setCameraQuality(...(0,fn.cg)()),Lt.requestPreviewStreamForDeviceId(An,Xe.lW.Camera,qt)}break}case ct.yi.getType():{if(Lt!=null&&Lt.hasSession()){const qt=Re.payload;Lt.stopVideoPreviewForVideoInput(qt)}break}case ct.Rr.getType():{const{self:qt}=$e();if(Lt&&Lt.hasSession()){const An=(qt==null?void 0:qt.contentShareSource)||Fs.R.Unknown;if(An!==Fs.R.Unknown){const Cn=(qt==null?void 0:qt.isDrawEnabled)||!1;Lt.selfDrawEnabled((0,Ct.A)()&&Cn),Lt.sendContentShareDetails(An);const es=(0,R.oK)(Re.payload.teamId);es==null||es.dispatch((0,Un.kT)({id:"self",isDrawEnabled:Cn}))}}break}case ct.HF.getType():{const qt=Re.payload.isHostDrawEnabled,An=(0,R.oK)(Re.payload.teamId);An==null||An.dispatch((0,Un.kT)({id:"self",isHostDrawEnabled:qt}));break}case ct.B5.getType():{Lt==null||Lt.handleClientOffline();break}case ct.f2.getType():{const qt=Re.payload,{isStartMuted:An}=qt,{teamId:Cn}=(0,ss.Ak)(je)||{},es=(0,S.getFocusedWorkspace)(je),ts=(0,R.oK)(Cn||es),{ttiTrace:us}=(0,kn.A)().getAllTraceHandlers();if(us==null||us.setMediaRegionTag((Lt==null?void 0:Lt.getMeetingMediaRegion())||""),ts&&An&&Lt)return Lt.completePrejoin(qt).then(()=>{ts.dispatch((0,Un.kT)({id:"self",isMicrophoneEnabled:!1}))});if(Lt)return Lt.completePrejoin({});break}case ct.xq.getType():{const qt=Re.payload.contentViewType,An=Re.payload.contentViewConfig;if(Lt&&Lt.hasSession()&&(0,ss.E9)(je)){var zn;const es=(0,ss.l4)(je),ts=(0,R.oK)(es);if(!ts)return;const us=(0,zt.pL)(ts.getState());if(qt!==bs.cM.Screenshare)ra(je,Gs.Lm,us);else if(!(An==null||(zn=An.item)===null||zn===void 0)&&zn.id){let Es;if(An.item.id==="self")Es=(0,ut.WR)(ts.getState());else{var ms;Es=(ms=(0,Un.jB)(ts.getState(),An.item.id))===null||ms===void 0?void 0:ms.userId}Na(je,Gs.fv,Es,us)}}break}case ct.wr.getType():{const qt=(0,ss.l4)(je),An=(0,R.oK)(qt);if(!An)return;const Cn=An.getState();if(!(0,zt.Rk)(Cn))return;if(Lt&&Lt.hasSession()){const es=(0,ss.J0)(je);if(es===void 0)break;const ts=(0,Ca.gW)(Cn,{channelId:es}),us=(0,Ca.zK)(Cn,{channelId:es});Lt.selfMicrophoneEnabled(ts),(0,N.dispatchForClientStore)((0,ct.WM)({setVideoEnabled:us}))}break}default:return ve(Re)}return null});Eo.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};const Xr=Eo;Object.defineProperty({huddlesSdk:Lt},"huddlesSdk",{get:()=>Lt,set:ye=>{Lt=ye}});var Ea=e(6999315437),fa=e(873516440);const fo=(0,Ce.Ay)("Broadcast client theme state to other stores",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,fa.to)(dt),broadcastAction:dt=>(0,Ea.yg)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,fa.FW)(dt),broadcastAction:dt=>(0,Ea.kl)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,fa.VD)(dt),broadcastAction:dt=>(0,Ea.LA)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,fa.pg)(dt),broadcastAction:dt=>(0,Ea.Th)(dt)}),$e});fo.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};const Zr=fo;var vo=e(119975640),qr=e(3699217593),ei=e(980999639),ti=e(58865772),ni=e(7976856223);const po=(0,Ce.Ay)("Broadcast view layout state across all teams",(ye,ve,Re)=>{const je=ye.getState(),$e=ve(Re),Et=ye.getState(),xt=(0,S.getBootedWorkspaces)(Et);return se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>{var un,Pn;return`${dt==null||(un=dt.viewLayout)===null||un===void 0?void 0:un.sidebarWidthIntent}-${dt==null||(Pn=dt.viewLayout)===null||Pn===void 0?void 0:Pn.sidebarWidthMode}`},broadcastAction:dt=>{const un=dt.split("-");return(0,ei.R)({sidebarWidthIntent:Number(un[0]),sidebarWidthMode:un[1]})}}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>{var un,Pn;return`${dt==null||(un=dt.viewLayout)===null||un===void 0?void 0:un.sidebarWideWidthIntent}-${dt==null||(Pn=dt.viewLayout)===null||Pn===void 0?void 0:Pn.sidebarWideWidthMode}`},broadcastAction:dt=>{const un=dt.split("-");return(0,ni.q)({sidebarWideWidthIntent:Number(un[0]),sidebarWideWidthMode:un[1]})}}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>{var un,Pn;return`${dt==null||(un=dt.viewLayout)===null||un===void 0?void 0:un.sidebarExtraWideWidthIntent}-${dt==null||(Pn=dt.viewLayout)===null||Pn===void 0?void 0:Pn.sidebarExtraWideWidthMode}`},broadcastAction:dt=>{const un=dt.split("-");return(0,ti.a)({sidebarExtraWideWidthIntent:Number(un[0]),sidebarExtraWideWidthMode:un[1]})}}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,le.Vo)(dt),broadcastAction:dt=>(0,vo.KY)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>(0,le.v8)(dt),broadcastAction:dt=>(0,vo.mV)(dt)}),se({state:Et,prevState:je,workspaces:xt,broadcastSelector:dt=>{var un,Pn;return`${dt==null||(un=dt.viewLayout)===null||un===void 0?void 0:un.secondaryWidthIntent}-${dt==null||(Pn=dt.viewLayout)===null||Pn===void 0?void 0:Pn.secondaryWidthMode}`},broadcastAction:dt=>{const un=dt.split("-");return(0,qr.J)({secondaryWidthIntent:Number(un[0]),secondaryWidthMode:un[1]})}}),$e});po.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};const si=po;var ai=e(7207726914),oi=e(7803212324);const ri=h(()=>{var ye;return(ye=(0,G.W6)(oi.c))!==null&&ye!==void 0?ye:[]},"loadRecentlyClosedWindows")(),ii=(0,Nn.vy)({},ri,{persistenceEnabled:!1,storeKey:"recentlyClosedWindows"}).on(ai.U,(ye,ve)=>{let{windows:Re}=ve;return Re});var li=e(9524650809),go=e(1649982175),Ao=e(7499216588),ta=e(3072557948),ci=e(3002128342),To=e(1960980773);const ka=50;function Co(){return(0,li.A)("tabSoda_")}h(Co,"generateTabSodaTabId");function di(){return{activeTab:void 0,tabs:{},tabOrder:[]}}h(di,"getInitialState");function Io(){return{entries:[],currentIndex:-1}}h(Io,"createEmptyHistoryState");function ui(ye,ve){if(ye&&ve){var Re,je,$e,Et;const un=(Re=ye[ye[Ze.jf]])===null||Re===void 0?void 0:Re.primary,Pn=(je=ye[ye[Ze.jf]])===null||je===void 0?void 0:je.secondary,zn=($e=ve[ve[Ze.jf]])===null||$e===void 0?void 0:$e.primary,ms=(Et=ve[ve[Ze.jf]])===null||Et===void 0?void 0:Et.secondary;if(ye.teamId===ve.teamId&&ye[Ze.jf]===ve[Ze.jf]&&(un==null?void 0:un.id)===(zn==null?void 0:zn.id)&&(Pn==null?void 0:Pn.id)===(ms==null?void 0:ms.id)){var xt,dt;return!((un==null?void 0:un.viewType)===Ao.D.Thread&&(zn==null?void 0:zn.viewType)===Ao.D.Thread&&(un==null||(xt=un.params)===null||xt===void 0?void 0:xt.threadId)!==(zn==null||(dt=zn.params)===null||dt===void 0?void 0:dt.threadId))}}return!1}h(ui,"areViewsSame");function yo(ye){let{reducerState:ve,entry:Re,eventType:je}=ye,$e=ve.activeTab,Et=[...ve.tabOrder];$e||($e=Co(),Et.push($e));const xt=ve.tabs[$e]||Io();let dt={...ve.tabs};const un=xt.currentIndex;if(je==="replace"&&un>=0){const Pn=[...xt.entries];Pn[un]=Re,dt[$e]={entries:Pn.slice(0,ka),currentIndex:un}}else{const Pn=[...xt.entries.slice(0,un+1),Re];dt[$e]={entries:Pn.slice(0,ka),currentIndex:Math.min(un+1,ka-1)}}if(!xt.entries.length){const Pn=ve.tabOrder.find(zn=>{const ms=ve.tabs[zn];return ms&&ui(Re,ms.entries[ms.currentIndex])});Pn&&$e!==Pn&&(Et=ve.tabOrder.filter(zn=>zn!==$e),dt=(0,go.A)(ve.tabs,$e),$e=Pn)}return{activeTab:$e,tabs:dt,tabOrder:Et}}h(yo,"getTabSodaStateFromWindowHistoryEvent");const _i=di(),mi=(0,Nn.vy)({},_i,{persistenceEnabled:!1,storeKey:"tabSoda"}).on(ta.nz,(ye,ve)=>{let{setAsActive:Re}=ve;const je=Co(),$e={...ye.tabs,[je]:Io()},Et=[...ye.tabOrder],xt=ye.activeTab?Et.indexOf(ye.activeTab):-1;return Et.splice(xt+1,0,je),{activeTab:Re?je:ye.activeTab,tabs:$e,tabOrder:Et}}).on(ta.yw,(ye,ve)=>({...ye,activeTab:ve})).on(ta.oT,(ye,ve)=>{const{activeTab:Re,tabs:je,tabOrder:$e}=ye;let Et=Re;ve===Re&&(Et=(0,ci.fe)(Re,$e));const xt=[...$e],dt=$e.indexOf(ve);xt.splice(dt,1);const un={...je};return delete un[ve],{tabs:un,tabOrder:xt,activeTab:Et}}).on(ta.Uz,(ye,ve)=>({...ye,tabOrder:ve})).on(ta.Wz,(ye,ve)=>{const Re=ye.tabs[ve];if(!Re||Re.currentIndex<=0)return ye;const je={...ye.tabs,[ve]:{...Re,currentIndex:Re.currentIndex-1}};return{...ye,tabs:je}}).on(ta.GJ,(ye,ve)=>{const Re=ye.tabs[ve];if(!Re||Re.currentIndex>=Re.entries.length-1)return ye;const je={...ye.tabs,[ve]:{...Re,currentIndex:Re.currentIndex+1}};return{...ye,tabs:je}}).on(Vn.Eg,(ye,ve)=>{let{entry:Re}=ve;return(0,To.H)(Re)?yo({eventType:"push",reducerState:ye,entry:Re}):ye}).on(Vn.PP,(ye,ve)=>{let{entry:Re}=ve;return(0,To.H)(Re)?yo({eventType:"replace",reducerState:ye,entry:Re}):ye});var hi=e(6027162153),Ei=e(9087248458),fi=e(5503876160),$s=e(7523104273);const vi={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],userRequiresMobileLogin:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},pi="WORKSPACES",Do=16,gi=(0,$s.Ay)({},vi,{storeKey:"workspaces",persistenceEnabled:!0}).on(a.initialize,(ye,ve)=>Ai(ye,ve)).on(a.setDidBootAllWorkspaces,ye=>({...ye,didBootAllWorkspaces:!0})).on(a.setWorkspaceOrder,(ye,ve)=>Ti(ye,ve)).on(a.setWorkspaceBooted,(ye,ve)=>Ci(ye,ve)).on(a.setWorkspaceFailedToBoot,(ye,ve)=>Ii(ye,ve)).on(a.setWorkspaceNeeds2FASetup,(ye,ve)=>yi(ye,ve)).on(a.setWorkspaceNeedsToAcceptCustomTOS,(ye,ve)=>Di(ye,ve)).on(a.setNavigateToUnbootedWorkspace,(ye,ve)=>({...ye,navigateToUnbootedWorkspace:ve})).on(a.setWorkspaceIsMigrating,(ye,ve)=>Oi(ye,ve)).on(a.setWorkspaceMigrationIsComplete,(ye,ve)=>Mi(ye,ve)).on(a.setWorkspaceIsAccessLimited,(ye,ve)=>Pi(ye,ve)).on(a.setUserNotMemberOfAnyWorkspaceInOrg,(ye,ve)=>Si(ye,ve)).on(a.setUserRequiresMobileLogin,(ye,ve)=>Ri(ye,ve)).on(a.addWorkspace,function(ye){let{id:ve,meta:Re}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ve||!Re)throw new Error("'id' and 'meta' are both required when adding a workspace");if(ye.allWorkspaces.includes(ve))return(0,n.Wo)({label:pi}).warn(`Cannot add workspace; it is already present: ${ve}`),ye;const{allWorkspaces:je,workspacesMeta:$e}=ye;return{...ye,allWorkspaces:[...je,ve],workspacesMeta:{...$e,[ve]:Re}}}).on(a.updateWorkspaceMeta,function(ye){let{id:ve,meta:Re}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:je}=ye;if(!je[ve])throw new Error(`Cannot update workspace meta for ${ve}; no such team`);return{...ye,workspacesMeta:{...je,[ve]:Re}}}).on(a.internalSetFocusedWorkspaceType,(ye,ve)=>({...ye,focusedWorkspace:ve,recentlyFocusedWorkspaces:Li(ye.recentlyFocusedWorkspaces,ve)})).on(a.internalRemoveWorkspaceType,(ye,ve)=>({...ye,allWorkspaces:(0,hi.A)(ye.allWorkspaces,ve)})).on(a.addRemovedWorkspace,(ye,ve)=>bi(ye,ve));function Ai(ye){let{focusedWorkspace:ve,allWorkspaces:Re,workspacesMeta:je}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ye.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!ve)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!Re)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(Re.indexOf(ve)<0)throw new Error(`workspaces-store:initialize ${ve} is not one of the valid workspaces: ${Re}`);return{...ye,focusedWorkspace:ve,allWorkspaces:Re,workspacesMeta:je,recentlyFocusedWorkspaces:[ve]}}h(Ai,"initializeWorkspacesState");function Ti(ye,ve){const Re=ye.allWorkspaces;if((0,Ei.A)(Re,ve).length!==Re.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return(0,G.q9)("orderedTeamIds",ve),{...ye,allWorkspaces:ve}}h(Ti,"updateWorkspaceOrder");function Ci(ye,ve){const Re=ye.bootedWorkspaces.includes(ve)?ye.bootedWorkspaces:[...ye.bootedWorkspaces,ve];return{...ye,bootedWorkspaces:Re}}h(Ci,"updateWorkspaceBooted");function Ii(ye,ve){if(!ve)return ye;const Re=ye.failedToBootWorkspaces.includes(ve)?ye.failedToBootWorkspaces:[...ye.failedToBootWorkspaces,ve];return{...ye,failedToBootWorkspaces:Re}}h(Ii,"updateWorkspaceFailedToBoot");function yi(ye,ve){if(!ve)return ye;const Re=ye.needs2FASetup.includes(ve)?ye.needs2FASetup:[...ye.needs2FASetup,ve];return{...ye,needs2FASetup:Re}}h(yi,"updateWorkspaceNeeds2FASetup");function Di(ye,ve){if(!ve)return ye;const Re=ye.needsToAcceptCustomTOS.find(je=>{let{teamId:$e}=je;return ve.teamId===$e})?ye.needsToAcceptCustomTOS:[...ye.needsToAcceptCustomTOS,ve];return{...ye,needsToAcceptCustomTOS:Re}}h(Di,"updateWorkspaceNeedsToAcceptCustomTOS");function Oi(ye,ve){let{teamId:Re,migrationId:je,canViewMigrationStatus:$e}=ve;if(!Re)return ye;const{migratingWorkspaces:Et}=ye;return{...ye,migratingWorkspaces:{...Et,[Re]:{migrationId:je,canViewMigrationStatus:$e}}}}h(Oi,"updateWorkspaceIsMigrating");function Mi(ye,ve){if(!ve)return ye;const Re=ye.completedMigrationWorkspaces.includes(ve)?ye.completedMigrationWorkspaces:[...ye.completedMigrationWorkspaces,ve];return{...ye,completedMigrationWorkspaces:Re}}h(Mi,"updateWorkspaceMigrationIsComplete");function Pi(ye,ve){if(!ve)return ye;const Re=ye.accessLimitedWorkspaces.includes(ve)?ye.accessLimitedWorkspaces:[...ye.accessLimitedWorkspaces,ve];return{...ye,accessLimitedWorkspaces:Re}}h(Pi,"updateWorkspaceIsAccessLimited");function Si(ye,ve){if(!ve)return ye;const Re=ye.userNotMemberOfAnyWorkspaceInOrg.includes(ve)?ye.userNotMemberOfAnyWorkspaceInOrg:[...ye.userNotMemberOfAnyWorkspaceInOrg,ve];return{...ye,userNotMemberOfAnyWorkspaceInOrg:Re}}h(Si,"updateUserNotMemberOfAnyWorkspaceInOrg");function Ri(ye,ve){if(!ve)return ye;const Re=ye.userRequiresMobileLogin.includes(ve)?ye.userRequiresMobileLogin:[...ye.userRequiresMobileLogin,ve];return{...ye,userRequiresMobileLogin:Re}}h(Ri,"updateUserRequiresMobileLogin");function Li(ye,ve){const Re=[ve,...ye.filter(je=>je!==ve)];return Re.length>Do?(0,fi.A)(Re,Do):Re}h(Li,"updateRecentlyFocusedWorkspaces");function bi(ye,ve){if(!ve)return ye;const Re=ye.removedWorkspaces.includes(ve)?ye.removedWorkspaces:[...ye.removedWorkspaces,ve];return{...ye,removedWorkspaces:Re}}h(bi,"updateRemovedWorkspaces");var Ui=e(888313528),Ni=e(2601179468),ki=e(7478094216),Bi=e(9929257140),xi=e(6656755327),Wi=e(2485132878),Fi=e(9042150803),Ki=e(2998455933),wi=e(2711704238),Hi=e(8746243206),Vi=e(4414425352);const Ba=(0,Vi.Ay)("sets the client side effect map on the store");Ba.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const ji={clientSideEffectsMap:{}},Gi=(0,$s.Ay)({},ji,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(Ba,(ye,ve)=>({...ye,clientSideEffectsMap:ve}));var zi=e(6145207350),Qi=e(7970529998),Yi=e(3543546565),$i=e(5071084772);const Ji={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,unreadInvites:[],huddleJoinPreviewChannelId:void 0,huddleJoinPreviewBackgroundEffect:void 0,huddleJoinPreviewBackgroundBlurIsEnabled:!1},Xi=(0,$s.Ay)({},Ji,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(ct.VU,(ye,ve)=>ye.isHuddlesEnabled?ye:{...ye,isHuddlesEnabled:ve}).on(ct.xf,(ye,ve)=>({...ye,mostRecentHuddle:ve})).on(ct.Rh,(ye,ve)=>{const{mostRecentHuddle:Re}=ye;if(!Re||ve.teamId&&ve.teamId!==Re.teamId||ve.channelId&&ve.channelId!==Re.channelId)return ye;const je={...ye,mostRecentHuddle:{...Re,...ve}},$e=je.mostRecentHuddle;return $e&&(0,n.Wo)().info(qs.o7,`updateActiveHuddleReference huddleState ${$e.huddleState}, substate ${$e.huddleSubState}, optimisticState ${$e.optimisticHuddleState}`),je}).on(ct.Jc,(ye,ve)=>{const{mostRecentHuddle:Re}=ye;return!Re||ve===Re.channelId?ye:{...ye,mostRecentHuddle:{...Re,channelId:ve}}}).on(ct.hB,(ye,ve)=>({...ye,activeInvite:ve,unreadInvites:[...ye.unreadInvites,{invite:ve,receivedTimestampMs:Date.now()}]})).on(ct.fP,(ye,ve)=>{let{teamId:Re,markBeforeMs:je}=ve;const $e=ye.unreadInvites.filter(Et=>Et.invite.teamId!==Re||Et.receivedTimestampMs>je);return ye.unreadInvites.length===$e.length?ye:{...ye,unreadInvites:$e}}).on(ct.u8,(ye,ve)=>{var Re;return{...ye,unreadInvites:ye.unreadInvites.filter(je=>je.invite.channelId!==ve),activeInvite:((Re=ye.activeInvite)===null||Re===void 0?void 0:Re.channelId)!==ve?ye.activeInvite:void 0}}).on(ct.Ko,(ye,ve)=>ye.forceMiniPanelVisible===ve?ye:{...ye,forceMiniPanelVisible:ve}).on(ct.Yi,(ye,ve)=>{let{channelId:Re,joinCredentials:je,expiry:$e,fromInvite:Et}=ve;var xt;if(!Re||!je)return ye;const dt=ye.channelToJoinCredentials;dt[Re]={credentials:je,expiry:$e,fromInvite:Et};const un=(xt=ye.activeInvite)===null||xt===void 0?void 0:xt.teamId;return un&&(0,As.Cy)({state:(0,R.$D)(un)}).count(Kn.ir),{...ye,channelToJoinCredentials:dt}}).on(ct.WB,(ye,ve)=>{let{channelId:Re}=ve;if(!Re)return ye;if(ye.channelToJoinCredentials[Re]){var je;const $e=(je=ye.activeInvite)===null||je===void 0?void 0:je.teamId;$e&&(0,As.Cy)({state:(0,R.$D)($e)}).count(Kn.sQ)}return{...ye,channelToJoinCredentials:(0,go.A)(ye.channelToJoinCredentials,[Re])}}).on(ct.aO,(ye,ve)=>ye.showDiscoveryBanner===ve?ye:{...ye,showDiscoveryBanner:ve}).on(ct.Ag,(ye,ve)=>ye.isLoungeMusicPlaying===ve?ye:{...ye,isLoungeMusicPlaying:!!ve}).on(ct._U,(ye,ve)=>ye.lastStartTs===ve?ye:{...ye,lastStartTs:ve}).on(ct.bV,(ye,ve)=>ye.lastEndTs===ve?ye:{...ye,lastEndTs:ve}).on(ct.qr,(ye,ve)=>ye.lastDurationTs===ve?ye:{...ye,lastDurationTs:ve}).on(ct.Gx,(ye,ve)=>ye.screenshareActivePanel===ve?ye:{...ye,screenshareActivePanel:ve}).on(ct.cx,ye=>({...ye,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,huddleJoinPreviewChannelId:void 0})).on(ct._u,(ye,ve)=>{let{song:Re}=ve;return ye.songPlaying===(Re==null?void 0:Re.key)?ye:{...ye,songPlaying:Re==null?void 0:Re.key}}).on(ct.nw,(ye,ve)=>ye.canRenderActiveInviteCardInSidebar===ve?ye:{...ye,canRenderActiveInviteCardInSidebar:ve}).on(ct.o9,(ye,ve)=>ye.isHuddleWindowFocused===ve?ye:{...ye,isHuddleWindowFocused:ve}).on(ct.TK,(ye,ve)=>ye.isHuddleWindowOpen===ve?ye:{...ye,isHuddleWindowOpen:ve}).on(ct.kg,(ye,ve)=>ye.isAudioOnlyModeEnabled===ve?ye:{...ye,isAudioOnlyModeEnabled:ve}).on(ct.Hg,(ye,ve)=>ye.wasCameraEnabledWhenAudioOnlyModeWasActivated===ve?ye:{...ye,wasCameraEnabledWhenAudioOnlyModeWasActivated:ve}).on(ct.t2,(ye,ve)=>ye.isHuddleMiniPlayerHidden===ve?ye:{...ye,isHuddleMiniPlayerHidden:!!ve}).on(ct.og,(ye,ve)=>ye.wasJoinedFromPrejoin===ve?ye:{...ye,wasJoinedFromPrejoin:!!ve}).on(ct._o,(ye,ve)=>{let{channelId:Re}=ve;return ye.huddleJoinPreviewChannelId===Re?ye:{...ye,huddleJoinPreviewChannelId:Re}}).on(ct.yW,(ye,ve)=>{let{backgroundEffectBgKey:Re,blurEffectIsEnabled:je}=ve;return ye.huddleJoinPreviewBackgroundEffect===Re&&ye.huddleJoinPreviewBackgroundBlurIsEnabled===je?ye:{...ye,huddleJoinPreviewBackgroundEffect:Re,huddleJoinPreviewBackgroundBlurIsEnabled:je}}),gl=100,Oo="client-ia-history",Zi=[...Object.values(_o.mH)||[]];var va=e(5381216117);const qi=h(()=>{try{const ye=localStorage.getItem(Oo);return ye?JSON.parse(ye):[]}catch(ye){return(0,n.Wo)().error("Failed to read IA history from storage",ye),[]}},"readStackFromStorage"),pa=h(ye=>{try{localStorage.setItem(Oo,JSON.stringify(ye))}catch(ve){(0,n.Wo)().error("Failed to write IA history to storage",ve)}},"writeStackToStorage"),el=(0,$s.Ay)({},{stack:qi()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(va.nb,(ye,ve)=>{if(!ve||Zi.includes(ve==null?void 0:ve.primaryView))return ye;const Re=1e3,je=[ve].concat(ye.stack).slice(0,Re);return window.setTimeout(()=>pa(je),0),{stack:je}}).on(va.JG,(ye,ve)=>{const Re=ye.stack.indexOf(ve);if(Re===-1)return ye;const je=ye.stack.slice();return je.splice(Re,1),window.setTimeout(()=>pa(je),0),{stack:je}}).on(va.Si,ye=>{if(!ye.stack)return ye;const ve=ye.stack.slice(0,1);return window.setTimeout(()=>pa(ve),0),{stack:ve}}).on(va.kM,()=>{const ye=[];return pa(ye),{stack:ye}}),tl=!0,Mo=(0,$s.Ay)({},tl,{storeKey:"isClient",persistenceEnabled:!1});Mo.meta={name:"createReducer",key:"createReducerisClientReducer"};const nl=Mo;let Po;try{var xa;Po=(xa=(0,G.W6)(gn.Vb))!==null&&xa!==void 0?xa:void 0}catch{}let So;try{var Wa;So=(Wa=(0,G.W6)(gn._J))!==null&&Wa!==void 0?Wa:void 0}catch{}let Ro;try{var Fa;Ro=(Fa=(0,G.W6)(gn.UY))!==null&&Fa!==void 0?Fa:void 0}catch{}let Lo;try{var Ka;Lo=(Ka=(0,G.W6)(gn.xN))!==null&&Ka!==void 0?Ka:void 0}catch{}const sl={invertedSidebar:Po,peeksEnabledOnMouseEnter:So,zoom:Ro,isSidebarVisible:Lo},al=(0,$s.Ay)({},sl,{storeKey:"nonBBMSettings",persistenceEnabled:!1}).on(Sn.p$,(ye,ve)=>({...ye,invertedSidebar:ve})).on(Sn.rB,(ye,ve)=>({...ye,peeksEnabledOnMouseEnter:ve})).on(Sn.x8,(ye,ve)=>({...ye,zoom:ve})).on(Sn.KY,(ye,ve)=>({...ye,isSidebarVisible:ve}));var ol=e(8996998089),rl=e(7933471864),ga=e(644455339);const bo={isDocked:!1,miniPlayerConfig:{fileId:""}},il=(0,$s.Ay)({},bo,{storeKey:"videoClips",persistenceEnabled:!1}).on(ga.FI,(ye,ve)=>({...ye,isDocked:ve})).on(ga.D_,(ye,ve)=>{let{fileId:Re,teamId:je,mediaId:$e,channelId:Et,threadTs:xt,timeElapsed:dt,isPlaying:un}=ve;return{...ye,miniPlayerConfig:{fileId:Re,teamId:je,mediaId:$e,channelId:Et,threadTs:xt,timeElapsed:dt,isPlaying:un}}}).on(ga.Sr,ye=>({...ye,...bo})).on(ga.ry,(ye,ve)=>{let{imageElement:Re,selectedKey:je}=ve;return{...ye,bgImg:Re,selectedBackgroundKey:je}});var ll=e(4189521591),cl=e(9371847545);function Uo(){let{extraMiddlewares:ye=[],customEnhancers:ve=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Re=(0,o.A)({teamOrEnterpriseId:"client",middlewares:[...ye,ki.A,s.P,Bi.A,Hs,rs,Zr,si,Be,Kt,ys,Ss,Xt,Tn,xi.N,Xr],customEnhancers:ve}),je=(0,Ni.Ay)({workspaces:gi,window:cl.A,connectivity:Qi.A,accessibility:Ki.A,accessibilityPersistent:Fi.A,desktop:Yi.A,clientTheme:zi.A,iaHistory:el,mainWindowHistory:Vt,isClient:nl,isState:Ui.G,viewLayout:ll.A,noop:ol.A,clientHuddles:Xi,clientSideEffects:Gi,recents:Ft,recentlyClosedWindows:ii,overlays:rl.y,tabSoda:mi,fullscreen:$i.G,bbm:Hi.Y,videoClips:il,nonBBMSettings:al,bbmSettings:wi.Z});return(0,t.Yl)(je,Re)}h(Uo,"createClientStore");function dl(){const ye=(0,N.en)();if(ye)return(0,n.Wo)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),ye;const ve=Uo();(0,N.kA)(ve);const{clientSideEffectsMap:Re,sideEffectsMap:je}=(0,Wi.g)(_s);if(Object.keys(je).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return ve.dispatch(Ba(Re)),ve}h(dl,"configureClientStore");const Cl={createClientStore:Uo}},2087632849:(B,A,e)=>{"use strict";e.d(A,{x:()=>r});var t=e(3677587543),s=e(3674341878),o=e(9768859814),n=e(3893119100),c=e(5971934755),l=e(327041866),i=e(2398473551),a=e(7281000332);function r(m){if(!m||(0,a.en)())return;const f=(0,c.A)(),u=(0,n.VA)()?(0,s.A)():[m],E=(0,o.A)();f.dispatch((0,l.initialize)({focusedWorkspace:m,allWorkspaces:u,workspacesMeta:E})),d(f)}h(r,"initializeClientStore");function d(m){(0,t.ul)("clientStore",m),(0,t.zv)("teamIds",()=>{const u=m.getState();return i.getAllWorkspaces(u)}),(0,t.zv)("activeTeam",()=>{const u=m.getState(),E=i.getFocusedWorkspace(u);return window.slackDebug[E]}),(0,t.zv)("activeTeamId",()=>{const u=m.getState();return i.getFocusedWorkspace(u)}),(0,t.zv)("activeEnterprise",()=>{var u,E;const v=m.getState(),g=(u=i.getWorkspacesMeta(v))===null||u===void 0||(E=u[i.getFocusedWorkspace(v)])===null||E===void 0?void 0:E.enterprise_id;return window.slackDebug[g]});const f={};Object.keys(l).forEach(u=>{f[u]=function(){for(var E=arguments.length,v=new Array(E),g=0;g<E;g++)v[g]=arguments[g];return m.dispatch(l[u](...v))}}),Object.keys(i).forEach(u=>{f[u]=function(){for(var E=arguments.length,v=new Array(E),g=0;g<E;g++)v[g]=arguments[g];return i[u](m.getState(),...v)}}),(0,t.ul)("clientStore.workspaces",f)}h(d,"setupClientStoreDebugger")},9671002643:(B,A,e)=>{"use strict";e.d(A,{BY:()=>n,Cy:()=>s,DU:()=>l,RA:()=>a,bW:()=>r,es:()=>c,kU:()=>d,nR:()=>o,s8:()=>f,tZ:()=>m,uM:()=>i});var t=e(4414425352);const s=(0,t.Ay)("Set sidebar priority toggle state");s.meta={name:"createAction",key:"createActionsetPrioritySidebarToggleSelected",description:"Set sidebar priority toggle state"};const o=(0,t.Ay)("Upserts strings from conversations.recommend to priority store");o.meta={name:"createAction",key:"createActionupsertPriorityChannelIds",description:"Upserts strings from conversations.recommend to priority store"};const n=(0,t.Ay)("Upserts strings from users.recommend to priority store");n.meta={name:"createAction",key:"createActionupsertPriorityUserIds",description:"Upserts strings from users.recommend to priority store"};const c=(0,t.Ay)("Removes user ids from priority store");c.meta={name:"createAction",key:"createActionremovePriorityUserIds",description:"Removes user ids from priority store"};const l=(0,t.Ay)("Resets priority user ids with data from vip_users pref");l.meta={name:"createAction",key:"createActionsetPriorityUserIdsFromPref",description:"Resets priority user ids with data from vip_users pref"};const i=(0,t.Ay)("reset priority store");i.meta={name:"createAction",key:"createActionresetPriority",description:"reset priority store"};const a=(0,t.Ay)("sets loading state for Priority");a.meta={name:"createAction",key:"createActionsetPriorityLoading",description:"sets loading state for Priority"};const r=(0,t.Ay)("sets recommended priority users with data from users.recommend");r.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUsers",description:"sets recommended priority users with data from users.recommend"};const d=(0,t.Ay)("Upserts users.recommend request_id");d.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUserRequestId",description:"Upserts users.recommend request_id"};const m=(0,t.Ay)("sets loading state for recommendations");m.meta={name:"createAction",key:"createActionsetRecommendationsLoading",description:"sets loading state for recommendations"};const f=(0,t.Ay)("Priority prototype: sets NUX screen state for Priority");f.meta={name:"createAction",key:"createActionsetPriorityNuxScreen",description:"Priority prototype: sets NUX screen state for Priority"}},7857154957:(B,A,e)=>{"use strict";e.d(A,{C:()=>O});var t=e(3134334389),s=e(2947229296),o=e(4566917391),n=e(1298266756),c=e(4317455038),l=e(280840163);const i=new s.Ay("priority_manage"),a={name:"check-circle"},r={name:"warning"},d=h(y=>{let{memberName:C,isUserVIP:I}=y;return(0,l.d4)(o.Gn)?t.createElement(c.A,{svgIconProps:a,duration:3e3},t.createElement("span",null,I?i.rt("Removed <b>{memberName}</b> from VIPs",{memberName:C}):i.rt("Added <b>{memberName}</b> to VIPs",{memberName:C}))):null},"PriorityToast");d.displayName="PriorityToast";const m=h(y=>{let{errorData:C,memberName:I}=y;if(!(0,l.d4)(o.Gn))return null;const _=h(()=>{switch(C.error){case n.a.UserNotFound:return i.t("User is not eligible to be added as VIP.");case n.a.TooManyVips:return i.rt("<b>{memberName}</b> could not be added to VIP. You can only have a maximum of {maxVIPCount} VIPs.",{memberName:I,maxVIPCount:C.max_vip_limit});default:return i.t("Hmm, something went wrong. Try again?")}},"getErrorText");return t.createElement(c.A,{svgIconProps:r},t.createElement("span",null,_()))},"PriorityErrorToast");m.displayName="PriorityErrorToast";var f=e(7497467541),u=e(9819891010),E=e(9671002643),v=e(8606055730),g=e(4894634110),T=e(6766178921),p=e(3698879540);const O=(0,g.Ay)("Add/remove user from priority status",async(y,C,I)=>{if(!I)return;const M=C(),_=(0,u.sE)(M,(0,T.nv)(M,I)),P=(0,v.mF)(M,I);P?(y((0,E.es)({userIds:[I]})),y((0,f.O)({user:I,reason:"remove-user-from-priority"})).then(()=>{y((0,p.M)({element:t.createElement(d,{memberName:_,isUserVIP:P})}))})):(y((0,E.BY)({userIds:[I]})),y((0,n.p)({user:I,reason:"add-user-to-priority"})).then(()=>{y((0,p.M)({element:t.createElement(d,{memberName:_,isUserVIP:P})}))}).catch(b=>{y((0,E.es)({userIds:[I]})),b!=null&&b.data&&y((0,p.M)({element:t.createElement(m,{errorData:b==null?void 0:b.data,memberName:_})}))}))});O.meta={name:"createThunk",key:"createThunktogglePriorityUserById",description:"Add/remove user from priority status"}},7207726914:(B,A,e)=>{"use strict";e.d(A,{U:()=>s});var t=e(4414425352);const s=(0,t.Ay)("SET_RECENTLY_CLOSED_WINDOWS");s.meta={name:"createAction",key:"createActionsetRecentlyClosedWindows",description:"SET_RECENTLY_CLOSED_WINDOWS"}},7803212324:(B,A,e)=>{"use strict";e.d(A,{c:()=>t,j:()=>s});const t="window-last-closed-restoration",s=20},3072557948:(B,A,e)=>{"use strict";e.d(A,{GJ:()=>n,Uz:()=>i,Wz:()=>o,nz:()=>s,oT:()=>l,yw:()=>c});var t=e(4414425352);const s=(0,t.Ay)("Adds a new emtpy tab-soda tab");s.meta={name:"createAction",key:"createActiontabSodaAddNewTab",description:"Adds a new emtpy tab-soda tab"};const o=(0,t.Ay)("Moves the current history index back for a tab soda tab");o.meta={name:"createAction",key:"createActiontabSodaGoBackInTab",description:"Moves the current history index back for a tab soda tab"};const n=(0,t.Ay)("Moves the current history index forward for a tab soda tab");n.meta={name:"createAction",key:"createActiontabSodaGoForwardInTab",description:"Moves the current history index forward for a tab soda tab"};const c=(0,t.Ay)("Select a tab by id");c.meta={name:"createAction",key:"createActiontabSodaSelectTab",description:"Select a tab by id"};const l=(0,t.Ay)("Remove a tab soda tab");l.meta={name:"createAction",key:"createActiontabSodaRemoveTab",description:"Remove a tab soda tab"};const i=(0,t.Ay)("Re-order tab soda tabs");i.meta={name:"createAction",key:"createActiontabSodaReorderTabs",description:"Re-order tab soda tabs"}},3002128342:(B,A,e)=>{"use strict";e.d(A,{Fp:()=>l,Xy:()=>c,fe:()=>n});var t=e(3794844178),s=e(6251135763),o=e(2138802802);function n(i,a){const r=a.indexOf(i),d=r<a.length-1?r+1:r-1;return d>=0?a[d]:void 0}h(n,"tabSodaGetNextActiveTab");function c(i){return(0,s.A)(i)||i==="thread"}h(c,"canOpenInTabSodaTab");function l(i){return(0,o.Ay)(i)||(0,t.pI)(i)||(0,t.or)(i)||(0,s.A)(i)||i==="thread"||i==="comment_thread"}h(l,"tabSodaCanViewBeEjected")},3875417628:(B,A,e)=>{"use strict";e.d(A,{$:()=>u});var t=e(1360127216),s=e(6563296078),o=e(4458861846),n=e(1336112848),c=e(9323019934),l=e(7295269717),i=e(8370946575),a=e(6251135763),r=e(3072557948),d=e(4894634110),m=e(7281000332),f=e(3701660703);const u=(0,d.Ay)("Opens a view in a new tab",function(E,v){let{viewId:g,params:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=v(),O=(0,r.nz)({setAsActive:!0});if(!g)return(0,m.dispatchForClientStore)(O);if(g&&(0,a.A)(g))return(0,m.dispatchForClientStore)(O),E((0,s.o)((0,o.pr)(g)));if(g==="thread"&&(T!=null&&T.threadId)){const{channelId:y,threadTs:C}=(0,i.Sb)(T==null?void 0:T.threadId);if(y&&C){if((0,m.dispatchForClientStore)(O),(0,n.OR)(p,y)){const b=(0,l.l)(y),S=(0,f.Lp)(p,b);if(S&&(0,t.uz)(S)&&(0,c.DQ)(S))return E((0,s.o)((0,o.m3)({channelId:y,threadTs:C})))}const{replyTs:M,highlightRoot:_,dangerouslyOverrideRouting:P}=T;return E((0,s.o)((0,o.UX)({channelId:y,threadTs:C,replyTs:M,highlightRoot:_,dangerouslyOverrideRouting:P})))}}});u.meta={name:"createThunk",key:"createThunkmaybeOpenInTabSodaTab",description:"Opens a view in a new tab"}},4037738189:(B,A,e)=>{"use strict";e.d(A,{B:()=>c,fK:()=>n,lw:()=>a,uV:()=>i,ud:()=>l});var t=e(3002128342),s=e(9588678965),o=e(7418708689);const n=(0,s.Mz)(r=>r.tabSoda);n.meta={name:"createSelector",key:"createSelectorgetTabSoda",description:r=>r.tabSoda};const c=(0,s.Mz)(r=>{const d=n(r);return d.activeTab?d.tabs[d.activeTab].entries:[]});c.meta={name:"createSelector",key:"createSelectortabSodaGetRecentsForActiveTab",description:r=>{const d=n(r);return d.activeTab?d.tabs[d.activeTab].entries:[]}};const l=(0,s.Mz)(r=>{const d=n(r);if(!d.activeTab)return!0;const m=d.tabs[d.activeTab];return!m||m.currentIndex<=0});l.meta={name:"createSelector",key:"createSelectortabSodaIsBackDisabledForActiveTab",description:r=>{const d=n(r);if(!d.activeTab)return!0;const m=d.tabs[d.activeTab];return!m||m.currentIndex<=0}};const i=(0,s.Mz)(r=>{const d=n(r);if(!d.activeTab)return!0;const m=d.tabs[d.activeTab];return!m||m.currentIndex>=m.entries.length-1});i.meta={name:"createSelector",key:"createSelectortabSodaIsForwardDisabledForActiveTab",description:r=>{const d=n(r);if(!d.activeTab)return!0;const m=d.tabs[d.activeTab];return!m||m.currentIndex>=m.entries.length-1}};const a=(0,s.Mz)((r,d)=>{var m,f;const E=n(r).tabs[d];if(!E)return!1;const v=E.entries[E.currentIndex],g=v==null?void 0:v.teamId;if(!v||!g)return!1;const T=v==null?void 0:v[o.jf],p=v==null||(m=v[T])===null||m===void 0||(f=m[o.mq.Primary])===null||f===void 0?void 0:f.id;return!!p&&(0,t.Fp)(p)});a.meta={name:"createSelector",key:"createSelectortabSodaCanEjectTab",description:(r,d)=>{var m,f;const E=n(r).tabs[d];if(!E)return!1;const v=E.entries[E.currentIndex],g=v==null?void 0:v.teamId;if(!v||!g)return!1;const T=v==null?void 0:v[o.jf],p=v==null||(m=v[T])===null||m===void 0||(f=m[o.mq.Primary])===null||f===void 0?void 0:f.id;return!!p&&(0,t.Fp)(p)}}},1928301588:(B,A,e)=>{"use strict";e.d(A,{UN:()=>f,oX:()=>E,qu:()=>v,wm:()=>u});var t=e(2203123872),s=e(7914090806),o=e(3072557948),n=e(3002128342),c=e(4894634110),l=e(7188858884),i=e(33414219),a=e(7418708689),r=e(2398473551),d=e(6556969494);const m=(0,c.Ay)("Update currently visible viewset as part of TabSoda tab switching",(g,T,p)=>{(0,l.Qw)(p.teamId,(0,i.cQ)(p)),r.getFocusedWorkspace&&d.b&&(0,r.getFocusedWorkspace)(T())!==p.teamId&&g((0,d.b)({teamId:p.teamId,fromNavigation:!0}));const{tabSoda:O}=T(),y=O.activeTab;if(y){const C=O.tabs[y],I=C.entries[C.currentIndex],M=I[a.jf],_=I[M],P=p[a.jf],b=p[P];if(!b)return;(0,l.Qw)(p.teamId,(0,t.C)({prevViewSet:_,prevTab:M,nextViewSet:b,nextTab:P,windowId:a.N2,navigateParams:{},triggerType:s.w.HISTORY_NAVIGATION}))}});m.meta={name:"createThunk",key:"createThunkupdateVisibleView",description:"Update currently visible viewset as part of TabSoda tab switching"};const f=(0,c.Ay)("Switch current TabSoda tab",(g,T,p)=>{let{tabId:O}=p;const{tabSoda:y}=T();if(y.activeTab===O)return;const C=y.tabs[O],I=C.entries[C.currentIndex];g(m(I)),g((0,o.yw)(O))});f.meta={name:"createThunk",key:"createThunktabSodaSwitchTab",description:"Switch current TabSoda tab"};const u=(0,c.Ay)("Close active TabSoda tab and switch to the nearest open tab",(g,T,p)=>{let{tabId:O}=p;const{tabSoda:y}=T(),C=y.activeTab,I=(0,n.fe)(C,y.tabOrder);if(O===C&&I){const M=y.tabs[I],_=M.entries[M.currentIndex];g(m(_))}g((0,o.oT)(O))});u.meta={name:"createThunk",key:"createThunktabSodaCloseTab",description:"Close active TabSoda tab and switch to the nearest open tab"};const E=(0,c.Ay)("Go back in history in a currently active TabSoda tab",(g,T)=>{const{tabSoda:p}=T(),O=p.activeTab;if(!O)return;const y=p.tabs[O];if(!y||y.currentIndex<=0)return;const C=y.entries[y.currentIndex-1];g(m(C)),g((0,o.Wz)(O))});E.meta={name:"createThunk",key:"createThunktabSodaGoBackInActiveTab",description:"Go back in history in a currently active TabSoda tab"};const v=(0,c.Ay)("Go forward in history in a currently active TabSoda tab",(g,T)=>{const{tabSoda:p}=T(),O=p.activeTab;if(!O)return;const y=p.tabs[O];if(!y||y.currentIndex>=y.entries.length-1)return;const C=y.entries[y.currentIndex+1];g(m(C)),g((0,o.GJ)(O))});v.meta={name:"createThunk",key:"createThunktabSodaGoForwardInActiveTab",description:"Go forward in history in a currently active TabSoda tab"}},1030874530:(B,A,e)=>{"use strict";e.d(A,{D_:()=>T,P:()=>L,QT:()=>b,Y0:()=>g,Yr:()=>S,_H:()=>I,iu:()=>M,jR:()=>P,kf:()=>C,ny:()=>_});var t=e(3398586081),s=e(1703559452),o=e(6120728640),n=e(7800683088),c=e(353071615),l=e(5478938623),i=e(7570256687),a=e(9358202390),r=e(2398473551),d=e(7281000332),m=e(7188858884),f=e(6766178921),u=e(3666777625),E=e(4438870757),v=e(5512437437);const g="workspace_switcher_seasonality",T=(0,t.A)(()=>(0,o.fW)(g)),p=(0,t.A)(()=>{const D=Object.values((0,m.jm)());return(0,s.A)(D,k=>{if(!k)return!1;const x=k.getState(),R=(0,f.cA)(x),U=(0,c.yF)(R),F=U&&(0,i.KR)((0,n.Ay)().toDate(),n.Ay.unix(U).toDate());return!!(F&&F>30)})}),O=(0,t.A)(()=>{const D=Object.values((0,m.jm)());let k=0;return(0,s.A)(D,x=>{if(!x)return!1;const R=x.getState();return(0,l.qR)((0,u.H7)(R))&&!(0,l.kA)((0,u.H7)(R))&&(k+=1),(0,l.tc)((0,u.H7)(R))&&(k+=1),k>1})}),y=(0,t.A)(()=>{const D=Object.values((0,m.jm)());let k=0,x=!1;return(0,s.A)(D,U=>{if(!U)return!1;const F=U.getState();return(0,l.qR)((0,u.H7)(F))&&!(0,l.kA)((0,u.H7)(F))&&(k+=1,x=!0),(0,l.tc)((0,u.H7)(F))&&(k+=1),k>1})&&x}),C=h(()=>{(0,v.q9)("hasSeenWorkspaceSwitcherAwareness",!0)},"markWorkspaceSwitcherAwarenessAsSeen"),I=h(()=>{(0,v.q9)("hasSeenWorkspaceSwitcherAwarenessSeasonality",!0)},"markWorkspaceSwitcherAwarenessSeasonalityAsSeen"),M=h(()=>{(0,v.q9)("hasSeenWorkspaceSwitcherAwarenessSeasonality",!1)},"cleanupWorkspaceSwitcherAwarenessSeasonality"),_=h(()=>(0,v.W6)("hasSeenWorkspaceSwitcherAwareness"),"hasSeenWorkspaceSwitcherAwareness"),P=h(()=>(0,v.W6)("hasSeenWorkspaceSwitcherAwarenessSeasonality"),"hasSeenWorkspaceSwitcherAwarenessSeasonality"),b=h(()=>{const D=(0,d.Ry)(),k=(0,r.getFocusedWorkspace)(D);return Object.values((0,m.jm)()).reduce((U,F)=>{if(F){const W=F.getState(),w=(0,u.H7)(W);if(k===w.id)return U;const K=(0,E.Z6)(W);return U+K}return U},0)>0},"shouldHaveUnreadCountsInOtherTeams"),S=h(()=>O()&&p(),"isEligibleForWorkspaceSwitcherAwareness"),N=h(()=>{_()&&setLocalConfigForKey("hasSeenWorkspaceSwitcherAwareness",!1)},"workspaceSwitcherAwarenessCleanupCallback"),L=h(D=>{let{toggleName:k,toggleGroup:x}=D;return(0,a._)(k,x,!1)&&y()},"validateWorkspaceSwitcherAwarenessSeasonalityTargetAudiance")},9328898256:(B,A,e)=>{"use strict";e.d(A,{A:()=>T});var t=e(605568209),s=e(2947229296),o=e(1236500105),n=e(1860446174),c=e(7318064140),l=e(1717532642),i=e(3893119100),a=e(2398473551),r=e(4894634110),d=e(7281000332),m=e(6913752570),f=e(119975640),u=e(4724267513),E=e(5512437437);const v=new s.Ay("team_picker"),g=(0,r.Ay)("Sets whether or not the protype full rail workspace switcher is showing",function(p,O){let{shouldTransitionFocus:y=!1,shouldAnnounceStateChange:C=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=arguments.length>3?arguments[3]:void 0;const M=O();if(!(0,i.VA)())return;const _=(0,d.en)().getState();var P;if(((P=(0,a.getAllWorkspaces)(_))!==null&&P!==void 0?P:t.Ml).length<=1)return;const S=(0,u.v8)(M),N=!S;(0,E.q9)(n.WU,N),p((0,f.mV)(N)),(0,d.dispatchForClientStore)((0,f.mV)(N));const L=v.t("Workspaces tabs shown",{fallbackHash:"4276daaa1e74cec8e94f7b39a26c73cd406b09c7"}),D=v.t("Workspaces tabs hidden",{fallbackHash:"895e322ca1828738617068cee955516bd71149cd"});if(C&&p((0,m.rl)({message:S?D:L,uuid:(0,o.A)()})),!y)return;const{transitionFocusTo:k}=(0,l.$P)(O(),I),x=S?c.Ay.TAB_RAIL:c.Ay.WORKSPACE_SWITCHER_TAB_LIST;k({focusKey:x})});g.meta={name:"createThunk",key:"createThunktoggleWorkspaceSwitcherVisibility",description:"Sets whether or not the protype full rail workspace switcher is showing"};const T=g},8019437408:(B,A,e)=>{"use strict";e.d(A,{p:()=>d});var t=e(1145733064),s=e(7819259683);function o(m){return{...m,options:{...m.options,forceRenderInSplitView:!0}}}h(o,"inSplitView");var n=e(6563296078),c=e(321010523),l=e(7397682160),i=e(2691514942),a=e(4894634110);const r=(0,i.Wo)(),d=(0,a.Ay)("Open in split view",async(m,f,u,E)=>{let{navProps:v,clogParams:g}=u;if(!t.P.includes(v.viewType)){r.info("SPLIT_VIEW",`Navigation not implemented for view type: ${v.viewType}`);return}const T=f(),p=(0,l.e)({state:T}),{isChildWindow:O}=E(s.U);p.track(c.EventId.SPLIT_VIEW,{contexts:{ui_context:{action:c.UiAction.CLICK,ui_step:c.UiStep.SPLIT_VIEW_OPEN,ui_componentName:g==null?void 0:g.uiComponentName,entry_point:g==null?void 0:g.entryPoint,ui_properties:{display_name:v.viewType,is_child_window:O}}}},{sendImmediately:!0});try{m((0,n.o)(o({...v,params:{...v.params,openedTs:new Date().getTime()}})))}catch(y){r.error(`Navigation failed for view type: ${v.viewType}`,y)}});d.meta={name:"createThunk",key:"createThunkopenInSplitView",description:"Open in split view"}},2436131933:(B,A,e)=>{"use strict";e.d(A,{A:()=>c,t:()=>n});var t=e(6592155914),s=e(9588678965),o=e(9305144627);const n=(0,s.Mz)((l,i)=>{let{e:a}=i;return(0,o.Jz)(l)?c(a):!1});n.meta={name:"createSelector",key:"createSelectorshouldSplitSelector",description:(l,i)=>{let{e:a}=i;return(0,o.Jz)(l)?c(a):!1}};function c(l){return!l||!(0,t.A)(l)?!1:l.altKey}h(c,"shouldSplit")},9557928739:(B,A,e)=>{"use strict";e.d(A,{E3:()=>g,jM:()=>E});var t=e(3659369705),s=e(1137236691),o=e(9963560),n=e(8859166048),c=e(6928237551),l=e(2691514942),i=e(7188858884),a=e(9660856761),r=e(205540855);const d="DESKTOP-SEARCH-INDEX-SIDE-EFFECT",m=604800;function f(T){return(0,r._Z)(T,"desktop_search_indexing")==="on"}h(f,"isDesktopSearchIndexingEnabled");async function u(T,p){if(!(!(0,t.y3)()||!(0,s.g9M)()||!s.AjU.isAvailable()||!await(0,s.AjU)()))try{return p(T)}catch(O){(0,l.Wo)().warn(d,p.name,"Failed",O)}}h(u,"doIfIndexingAvailable");const E=h(async T=>u(T,h(async function(O){const y=O.flatMap(C=>{const I=(0,i.$D)(C);if(f(I))return(0,a.E)(I).reduce((M,_)=>((0,n.JM)(_)||M.push({identifier:`slack://channel?team=${C}&id=${(0,o.FB)(_)}`,contentDescription:(0,o.z8)(_)||(0,o.cU)(_)||" ",domainIdentifier:C,expirationDate:m,title:(0,c.SB)(I,_)}),M),[])}).filter(C=>typeof C<"u");y.length&&await(0,s.zOA)(y)},"addChannels")),"addChannelsToSearchIndex"),v=h(async T=>u(T,h(async function(O){await removeFromIndex(O)},"removeItems")),"removeItemsFromSearchIndex"),g=h(async T=>u(T,h(async function(O){await(0,s.Oes)(O)},"removeAllItems")),"removeAllItemsFromSearchIndex")},6840083655:(B,A,e)=>{"use strict";e.d(A,{xy:()=>Q,go:()=>ee});var t=e(3677587543),s=e(6120728640),o=e(7682027334),n=e(7313997791),c=e(4189822768),l=e(3659369705),i=e(1137236691);function a(){const ne={};if(!(0,l.y3)())return ne;const Z=(0,i.jnY)();typeof Z=="number"&&(ne.cpu_speed_limit=Z);const te=(0,i.hNM)();typeof te=="boolean"&&(ne.hw_accel_preferred=te.toString());const he=(0,i.vpp)();return typeof he=="string"&&(ne.hw_accel_available=he),(0,l.Tl)()?ne.hw_emulation="rosetta":(0,l.qu)()&&(ne.hw_emulation="woa-x86"),ne}h(a,"getDesktopPerformanceTags");var r=e(635454765),d=e(5512437437),m=e(5079622983),f=e(414484285),u=e(5749243466),E=e(2877551365),v=e(2998566115),g=e(4357385957),T=e(2691514942),p=e(5222398525),O=e(8988238938),y=e(2398473551),C=e(7874250141),I=e(5220161375),M=e(7281000332),_=e(7188858884),P=e(3351247794),b=e(579422651),S=e(205540855),N=e(6766178921),L=e(2785849292),D=e(9520589283);function k(){var ne,Z;return{hardware_concurrency:(ne=window.navigator)===null||ne===void 0?void 0:ne.hardwareConcurrency,device_memory:(Z=window.navigator)===null||Z===void 0?void 0:Z.deviceMemory}}h(k,"getDeviceStats");function x(){const ne=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),Z=(0,O.Hn)(),te=(0,O.Ey)(),he=Z&&te?(Z/te).toPrecision(4):null;return{total_client_redux_size:ne,js_heap_used:Z,js_heap_total:te,js_heap_used_percentage:he}}h(x,"getPerfMemoryStats");function R(){const ne=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!ne)return{};try{return JSON.parse(ne)}catch(Z){return(0,T.Wo)().warn("Error parsing appStats in localStorage:",ne,Z),{}}}h(R,"getDesktopAppStats");function U(){return{...(0,c.JP)(),...(0,c.I5)(),num_started_sockets:(0,v.eK)(),object_store_redux_group:(0,s.B9)(E.Wv)}}h(U,"getClientStateTags");function F(ne,Z){const te=Z.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),he=Object.values((0,P.DM)(ne)).length,ue=Object.values((0,P.h3)(ne)).length,de=Object.values((0,P._B)(ne)).length,re=Object.values((0,P.FS)(ne)).length;return te.close(),{num_channels_in_redux:he,num_all_channels_user_is_in:ue,num_dms_user_is_in:de,num_group_dms_user_is_in:re}}h(F,"getChannelInfoTags");function W(ne,Z){const te=Z.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),he=Object.keys((0,b.Hw)(ne)||{}).length,ue=(0,o.sZ)((0,b.my)(ne));return te.close(),{num_drafts:he,drafts_store_size:ue}}h(W,"getDraftsInfoTags");function w(ne){return{user_locale:(0,f.JK)({teamOrEnterpriseId:(0,C.JY)(ne)})}}h(w,"getLocaleTags");function K(ne){return{active_collab_instance_count:(0,I.Ui)(),open_quip_embed_instance_count:(0,L.oj)(ne).length,canvas_child_window_count:(0,m.CJ)()}}h(K,"getCanvasTags");const j=h(ne=>{const Z=["selector_memo","slow_lane_channel_message_input"],te={};return Z.forEach(ue=>{const de=(0,S._Z)(ne,ue,!1);de&&(te[ue]=de)}),[...Object.keys(n.nD)].forEach(ue=>{const de=(0,s.B9)(ue);de!==s.dw.NoGroup&&(te[ue]=de)}),te},"getExperimentTagsForTraces"),Q=h((ne,Z)=>{const te=Z??[],he={},ue=(0,S.Vs)(ne),de=Date.now()/1e3,re=60*60*24*7*4;for(const[V,H]of Object.entries(ue)){const{trigger:X,schedule_ts:Y}=H;(te.includes(V)||X&&Y&&X!=="finished"&&X!=="force_debug"&&Y>de-re)&&(he[V]=H.group)}return he},"getExperimentTags");function J(ne){return{num_members_in_redux:(0,N.I_)(ne).length}}h(J,"getMembersTags");function z(ne){const Z=(0,d.W6)("lastColdBootTs"),te=(0,D.pp)(ne);return{last_cold_boot_ts:Z,boot_type:te}}h(z,"getConfigTags");function ie(){return{is_in_active_huddle:(0,g.NZ)()}}h(ie,"getHuddleTags");function ee(ne){const Z=(0,M.Ry)();if(!Z)return{};const te=ne??(0,y.getFocusedWorkspace)(Z),he=(0,_.$D)(te),ue=(0,p.F)(),de=ue.createTrace({traceName:"add_tags:performance_tracing_tags"}),re=(0,c.Kh)(te),V=U(),H=F(he,de),X=W(he,de),Y=k(),q=x(),fe=R(),ce=w(he),Ee=J(he),Ae=z(he),le=u.qV.getTraceTags(),oe=j(he),me=K(he),pe=ie(),Te=(0,c.G1)(),Me=(0,r.zT)(),Ue=a(),xe={...re,...V,...H,...X,...Y,...q,...fe,...ce,...Ee,...Ae,...le,...oe,...me,...pe,...Te,...Me,...Ue};return ue.reportTrace(de),xe}h(ee,"getPerformanceTracingTags"),(0,t.zv)("performanceTracingTags",ee)},1015459121:(B,A,e)=>{"use strict";e.d(A,{A:()=>Ve});var t=e(3134334389),s=e(9148286968),o=e(1985486637),n=e(7375514955),c=e(2947229296),l=e(5512437437),i=e(6318606934),a=e(481313997),r=e(9220717496),d=e(9644861434),m;(function(Se){Se.INVALID_CODE="invalid_pin",Se.RATE_LIMITED="ratelimited",Se.SMS_RATE_LIMITED="two_factor_sms_rate_limited",Se.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",Se.INTERNAL_ERROR="internal_error"})(m||(m={}));var f;(function(Se){Se.SMS="sms",Se.APP="app",Se.EMAIL="email",Se.EMERGENCY="emergency"})(f||(f={}));var u;(function(Se){Se.REQUEST_CODE="request_primary",Se.REQUEST_BACKUP="request_backup",Se.SUBMIT_PRIMARY="submit_primary",Se.SUBMIT_BACKUP="submit_backup",Se.SUBMIT_EMERGENCY="submit_emergency"})(u||(u={}));var E=e(1959543078);const v=new c.Ay("sign_in");function g(Se){let Pe=null;return Se.error===m.SMS_RATE_LIMITED?Pe=v.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):Se.error===m.INVALID_CODE?Pe=v.rt("Your two-factor authentication code was incorrect. Please try again."):Se.error===m.RATE_LIMITED?Pe=v.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):Se.error===m.TOO_MANY_ATTEMPTS?Pe=v.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):Pe=v.rt("An unknown error occurred."),t.createElement(E.Ay,{className:"p-enter-code-error__alert",type:E.QE.boxed,icon:"lock-o",level:E.A_.error,align:E.AO.left,"data-qa":"2fa_code_error_alert"},t.createElement("span",null,Pe))}h(g,"EnterCodeError");var T=e(480439070),p=e(6369345880),O=e(8823986650);const y=new c.Ay("sign_in"),C={elementName:"help_button",onClick:{enableClogAction:!0}},I=h(Se=>{const Pe=Se.action===u.REQUEST_BACKUP||Se.action===u.SUBMIT_BACKUP;return Pe&&Se.twoFactorBackupType===f.APP||!Pe&&Se.twoFactorType===f.APP},"currentMethodIsApp"),M=h(Se=>I(Se)?y.t("Problems with your authentication app?"):y.t("Problems with your code?"),"renderProblemsString"),_=h(Se=>I(Se)?t.createElement("div",{className:"subtle_silver small medium_top_margin"},t.createElement("p",{className:"no_bottom_margin"},y.t("Check your authentication app for your code.")),t.createElement("p",null,y.rt("<a>Having trouble finding your code?</a>",null,Pe=>{let{tag:Fe,text:ge}=Pe;return Fe==="a"?t.createElement(O.A,{href:`https://${(0,T.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},ge):null})),t.createElement("p",null,y.rt("If your app is unavailable, use a <a>backup code</a>.",null,Pe=>{let{tag:Fe,text:ge}=Pe;return Fe==="a"?t.createElement(O.A,{href:`https://${(0,T.qF)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},ge):null}))):t.createElement("p",{className:"align_left subtle_silver small"},y.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,Pe=>{let{tag:Fe,text:ge}=Pe;return Fe==="a"?t.createElement(O.A,{href:`https://${(0,T.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},ge):null})),"renderProblems");_.displayName="renderProblems";const P=h(Se=>{const[Pe,Fe]=(0,t.useState)(!1);return t.createElement("div",{className:"p-enter-code__help_button"},t.createElement(O.A,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>Fe(!Pe),autoClogProps:C},t.createElement(p.A,{type:"question-circle"})," ",M(Se)),Pe&&t.createElement("div",{className:"send_code_block"},Se.children,t.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},t.createElement("hr",{className:"medium_bottom_margin"}),_(Se))))},"GetHelpButton");P.displayName="GetHelpButton";var b=e(9867500491),S=e(4844578989),N=e.n(S),L=e(2688958968),D=e(1763568369),k=e(6592155914);function x(){return x=Object.assign||function(Se){for(var Pe=1;Pe<arguments.length;Pe++){var Fe=arguments[Pe];for(var ge in Fe)Object.prototype.hasOwnProperty.call(Fe,ge)&&(Se[ge]=Fe[ge])}return Se},x.apply(this,arguments)}h(x,"_extends");let R=h(class extends t.Component{render(){const{ariaDescribedBy:Pe}=this.props;return t.createElement("div",{className:N()("two_factor_input_item",{focused:this.props.hasFocus})},t.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":Pe}))}constructor(...Pe){super(...Pe),this.onKeyDown=Fe=>{switch(Fe.keyCode){case L.G_:{Fe.currentTarget.value||this.props.moveLeft();return}case L.UQ:return Fe.preventDefault(),this.props.moveLeft();case L.LE:return Fe.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=Fe=>{!(0,D.A)(Fe.which)&&Fe.charCode&&!(0,k.A)(Fe)&&Fe.preventDefault()},this.onChange=Fe=>{const ge=Fe.target.value;(/^[0-9]$/.test(ge)||ge==="")&&this.props.onChange(ge)},this.onPaste=Fe=>{Fe.preventDefault();const ge=window.clipboardData||Fe.clipboardData,He=ge.getData("text")||ge.getData("text/plain"),Qe=/\D/g,_e=He.replace(Qe,"");this.props.onPaste(_e)}}},"TwoFactorDigitInput");R.displayName="TwoFactorDigitInput";const U=t.forwardRef((Se,Pe)=>t.createElement(R,x({},Se,{refToForward:Pe}))),F=new c.Ay("team_creation");let W=h(class extends t.Component{focusInput(Pe){const Fe=this.inputRefs[Pe];Fe!=null&&Fe.current&&Fe.current.focus()}moveLeft(Pe){Pe<=0||this.focusInput(Pe-1)}moveRight(Pe){Pe>=this.state.values.length-1||this.focusInput(Pe+1)}isComplete(Pe){return!Pe.some(Fe=>!Fe)}clear(){this.setState(Pe=>({values:Pe.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(Pe,Fe){const ge=this.state.values.slice();ge[Pe]=Fe,this.setState(()=>({values:ge}),()=>{Fe&&!this.isComplete(this.state.values)&&this.moveRight(Pe)})}componentDidUpdate(Pe,Fe){var ge;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((ge=this.inputRefs[this.state.focusedInputIndex])===null||ge===void 0?void 0:ge.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==Pe.codeLength&&this.onCodeLengthChange(Fe),!this.isComplete(Fe.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&Fe.values.join("")!==this.state.values.join("")){const He=this.state.values.join("");this.props.onFillCode(He)}else Fe.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(Pe,Fe){return this.state.values.slice(Pe,Fe).map((ge,He)=>{const Qe=He+Pe;return t.createElement(U,{autocomplete:Qe===0?"one-time-password":"off",key:Qe,ref:this.inputRefs[Qe],moveLeft:()=>this.moveLeft(Qe),moveRight:()=>this.moveRight(Qe),onChange:_e=>this.onChange(Qe,_e),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:Qe}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===Qe,value:this.state.values[Qe],ariaLabel:F.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:Qe+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},t.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(Pe){super(Pe),this.onPaste=Fe=>{const ge=this.state.focusedInputIndex;if(ge===-1)return;const He=this.state.values.length-ge,Qe=Fe.substring(0,He).split(""),_e=this.state.values.slice();Qe.forEach((Le,Ie)=>{const we=Ie+ge;_e[we]=Le}),this.setState(()=>({values:_e}),()=>{this.focusInput(Math.min(this.state.values.length-1,ge+Qe.length))})},this.onCodeLengthChange=Fe=>{const ge=(0,b.A)(this.props.codeLength,()=>"");Fe.values.forEach((He,Qe)=>{Qe<ge.length&&(ge[Qe]=He)}),this.setState(()=>({values:ge})),this.inputRefs=ge.map(()=>t.createRef())},this.state={values:(0,b.A)(Pe.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"TwoFactorCodeInput");W.defaultProps={isNumbersOnly:!0};var w=e(5181078482);const K=new c.Ay("sign_in");function j(Se){const{isSSB:Pe,isSSBSignIn:Fe,hasPromoOffer:ge,shouldRedirect:He,redirectURL:Qe,loggedInTeams:_e,entryPoint:Le=""}=Se;return t.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!ge&&!Pe&&t.createElement("p",{className:"small_bottom_margin"},K.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:_e})),t.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},_e.map((Ie,we)=>t.createElement(w.z9,{key:Ie.id,"data-qa":`signedin_workspace_link_${we+1}`,className:"team-signin-link small_margin","data-team-id":Ie.id,autoClogProps:{elementName:"team_domain",elementValue:Ie.id.toString(),entryPoint:Le,onClick:{enableClogAction:!0}},href:Fe?`${Ie.url}ssb/signin_redirect`:`${Ie.url}${He?`?redir=${Qe}`:""}`,"aria-label":K.t("Go to {teamName} on Slack",{teamName:Ie.name}),type:"outline"},Ie.name))))}h(j,"SignedInWorkspaces");var Q=e(6967618292),J=e(321010523),z=e(280840163),ie=e(873516440),ee=e(205540855);function ne(){return ne=Object.assign||function(Se){for(var Pe=1;Pe<arguments.length;Pe++){var Fe=arguments[Pe];for(var ge in Fe)Object.prototype.hasOwnProperty.call(Fe,ge)&&(Se[ge]=Fe[ge])}return Se},ne.apply(this,arguments)}h(ne,"enter_code_root_extends");const Z=new c.Ay("sign_in"),te=5*60*1e3,he={elementName:"resend_button",onClick:{enableClogAction:!0}},ue={elementName:"backup_button",onClick:{enableClogAction:!0}},de={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},re="two_factor_form",V="enter-code",H=6;var X;(function(Se){Se.Request="request_primary",Se.RequestBackup="request_backup",Se.SubmitPrimary="submit_primary",Se.SubmitBackup="submit_backup",Se.SubmitEmergency="submit_emergency",Se.None="none"})(X||(X={}));function Y(Se){const[Pe,Fe]=(0,t.useState)(Se.twoFactorType),[ge,He]=(0,t.useState)("");var Qe;const[_e,Le]=(0,t.useState)((Qe=Se.action)!==null&&Qe!==void 0?Qe:X.None),[Ie,we]=(0,t.useState)(!1),[ze,ut]=(0,t.useState)(H),[_t,yt]=(0,t.useState)(!1),Ot=(0,z.d4)(on=>(0,ee._Z)(on,"screen_text_2fa")==="on"),It=t.useRef(null),kt=t.createRef(),gt=Se.submitOverride,{trackClogAuthRef:Gt,clogAuthLoginClick:Pt,trackClog:jt}=(0,Q.$A)(),Qt=Gt({eventId:J.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:V});(0,t.useEffect)(()=>{if(Ie){var on,G;if((on=jt.current)===null||on===void 0||(G=on.track)===null||G===void 0||G.call(on,{elementName:re,elementValue:_e}),Pt({eventId:J.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:re,uiPage:V,elementValue:_e})(),gt&&kt.current)we(!1),yt(!0),gt(ge,_e,Se.magicLogin).then(()=>{var We;(We=It.current)===null||We===void 0||We.clear(),yt(!1)});else{var De;(De=kt.current)===null||De===void 0||De.submit()}}},[_e,Ie,kt,jt,ge,gt,Se.magicLogin,Pt]),(0,t.useEffect)(()=>{(Se.error===m.RATE_LIMITED||Se.error===m.TOO_MANY_ATTEMPTS)&&yt(!0),Se.error===m.RATE_LIMITED&&setTimeout(()=>{yt(!1)},te)},[Se.error]);const Jt=Pe===f.EMERGENCY,Yt=_e===X.RequestBackup||_e===X.SubmitBackup,Rt=!Jt&&(Yt&&Se.twoFactorBackupType===f.SMS||!Yt&&Se.twoFactorType===f.SMS||Se.twoFactorType===f.EMAIL),Bt=Se.twoFactorType===f.EMAIL,dn=Se.twoFactorType===f.SMS?Z.rt("Send Code to Primary Phone"):Z.rt("Use Authentication App"),Mt=Se.twoFactorBackupType===f.SMS?Z.rt("Send Code to Backup Phone"):Z.rt("Use Backup Authentication App"),Ye=h(()=>t.createElement(w.$n,{type:"outline",onClick:()=>{Le(Yt?X.RequestBackup:X.Request),we(!0)},autoClogProps:he},Yt?Z.rt("Resend Code to Backup Phone"):Z.rt("Resend Code")),"ResendButton"),ot=h(()=>t.createElement(w.$n,{type:"outline",onClick:()=>{Le(Yt?X.Request:X.RequestBackup),we(!0)},autoClogProps:ue},Yt?dn:Mt),"BackupButton");ot.displayName="BackupButton";const ht=h(()=>{let on;return Jt?on=Yt?Mt:dn:on=Z.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),t.createElement(w.$n,{type:"outline",onClick:()=>{Jt?(Fe(Se.twoFactorType),ut(H)):(Fe(f.EMERGENCY),ut(Se.emergencyCodeLength))},autoClogProps:de},on)},"EmergencyButton");ht.displayName="EmergencyButton";const tt=h(()=>Se.twoFactorType===f.EMAIL?Se.isClientApp?Z.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):Z.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):Ot?Z.rt("Enter the code from your two-factor authentication app or SMS"):Z.rt("Enter your authentication code"),"GetHeader"),ct=h(()=>{if(Jt)return Z.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(Yt)return Se.twoFactorBackupType===f.APP?Z.rt("Check your authentication app for your code."):Z.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:Se.teamName});switch(Se.twoFactorType){case f.APP:return Z.rt("Check your authentication app for your code.");case f.EMAIL:return Z.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:Se.teamName,emailAddress:Se.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return Z.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Se.teamName})}},"GetSubheader"),rn=h(on=>{let G;Jt?G=X.SubmitEmergency:G=Yt?X.SubmitBackup:X.SubmitPrimary,He(on),Le(G),we(!0)},"onFillCode"),ln=(0,z.d4)(ie.to);return t.createElement(a.A,{eventId:J.EventId.TWO_FACTOR_AUTH,uiPage:V,trackClogRef:Qt},t.createElement(d.A,{clientTheme:ln},t.createElement(r.A,{heading:tt(),subHeading:ct(),subHeadingClassName:"p-enter_code_app__view_sub_header"},Se.codeResent&&t.createElement(E.Ay,{className:"p-enter-code-error__alert",type:E.QE.boxed,icon:"paper-plane",level:E.A_.info,align:E.AO.left,"data-qa":"2fa_code_resent_alert"},Bt?Z.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:Se.teamName,emailAddress:Se.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):Z.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Se.teamName})),Se.error&&t.createElement(g,{error:Se.error}),t.createElement("form",{ref:kt,className:"p-enter_code",method:"POST"},t.createElement("div",{className:"p-enter_code__input_container"},t.createElement("fieldset",{className:"p-enter_code__input_fieldset"},t.createElement("legend",{className:"offscreen"},Z.rt("{codeLength}-digit confirmation code",{codeLength:ze,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.createElement(W,{ref:It,onFillCode:rn,onChange:()=>{},hideDash:!0,error:Se.error,disabled:_t,codeLength:ze}),t.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:Se.magicLogin}),Se.redir.length>0&&t.createElement("input",{type:"hidden",name:"redir",value:Se.redir}),t.createElement("input",{type:"hidden",name:"remember",value:Se.remember?"1":"0"}),t.createElement("input",{type:"hidden",name:"has_remember",value:Se.hasRemember}),t.createElement("input",{type:"hidden",name:"2fa_code",value:ge}),t.createElement("input",{type:"hidden",name:"2fa_action",value:_e})))),t.createElement(P,ne({},Se),t.createElement("div",{className:"p-enter-code__button"},Rt&&t.createElement(Ye,null),Se.twoFactorBackupType&&!Jt&&t.createElement(ot,null),!Bt&&t.createElement(ht,null))),Se.loggedInTeams.length>0&&t.createElement("div",{className:"p-enter-code__logged_in_teams"},t.createElement(j,ne({},Se))))))}h(Y,"EnterCodeRoot");var q=e(6711107392),fe=e(4573965539),ce=e(5464688500),Ee=e(9476265383),Ae=e(4374711907),le=e(8000769609),oe=e(1609943317),me=e(3988784964),pe=e(1778545073),Te=e(7188858884),Me=e(4576178624);function Ue(){return Ue=Object.assign||function(Se){for(var Pe=1;Pe<arguments.length;Pe++){var Fe=arguments[Pe];for(var ge in Fe)Object.prototype.hasOwnProperty.call(Fe,ge)&&(Se[ge]=Fe[ge])}return Se},Ue.apply(this,arguments)}h(Ue,"enter_2fa_code_modal_extends");const xe=new c.Ay("2fa_modal"),Ne={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},be={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function ke(Se,Pe){const Fe=(0,l.vS)();if(Se!==void 0){const He=Fe[Se].two_factor_magic_login;He!==void 0&&He.token&&(He.token=Pe),(0,l.q9)("pendingAuthTeams",Fe)}}h(ke,"updateLocalConfig2fa");function Ke(Se){const Pe=(0,l.vS)();if(Se!==void 0){const Fe=Pe[Se];Fe.two_factor_magic_login=void 0,(0,l.q9)("pendingAuthTeams",Pe)}}h(Ke,"clearLocalConfig2faMagicLogin");function $(Se){let{magicLogin:Pe,teamId:Fe,type:ge,backupType:He,emergencyLength:Qe,emailAddress:_e,teamName:Le,currentTeamId:Ie,isOpen:we,closeModal:ze}=Se;const[ut,_t]=(0,t.useState)(Pe),[yt,Ot]=(0,t.useState)(null),[It,kt]=(0,t.useState)(!1),gt=Ie?(0,Te.oK)(Ie):void 0,Gt=(0,t.useCallback)((jt,Qt,Jt)=>{const Yt={magic_token:Jt,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:jt,two_factor_is_backup:Qt===u.REQUEST_BACKUP||Qt===u.SUBMIT_BACKUP};return Qt===u.REQUEST_CODE||Qt===u.REQUEST_BACKUP?(Yt.two_factor_pin="",kt(!0)):kt(!1),new o.S(Rt=>{(0,i.j)("auth.loginMagic",Yt,(Bt,dn)=>{if(Bt&&dn.refreshed_magic_login){var Mt;_t(dn.refreshed_magic_login),ke(Fe,dn.refreshed_magic_login),!((Mt=dn.reason)===null||Mt===void 0)&&Mt.match(/^missing_/)||Ot(dn.reason),Rt(Bt)}else Bt&&dn.team?(0,pe.A)({currentTeamStore:gt,newWorkspaceId:Fe,navigateToRouteProps:{routeName:n.o},shouldAutoSignIn:!0}).then(()=>{ze(),Rt(Bt)}):(Ke(Fe),(0,pe.A)({currentTeamStore:gt,newWorkspaceId:Fe,navigateToRouteProps:{routeName:n.o}}).then(()=>{ze(),Rt(Bt)}))})})},[Fe,gt,ze]);(0,s.A)(()=>{Gt("",u.SUBMIT_PRIMARY,ut??"")},[]);const Pt=xe.t("Finish signing into {teamName}",{teamName:Le,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return t.createElement(q.A,{isOpen:we,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:ze,dataQa:Ne.enter2faCodeModal},t.createElement(oe.A,null,t.createElement(me.A,{title:Pt})),t.createElement(ce.A,null,t.createElement(Ee.A,null,t.createElement("div",{id:"enter-code-app-root"},t.createElement(Y,Ue({},be,{teamName:Le,error:yt,action:null,magicLogin:ut||"",twoFactorType:ge,twoFactorBackupType:He,emailAddress:_e,codeResent:It,redir:"",emergencyCodeLength:Qe,isClientApp:!0,submitOverride:Gt}))))),t.createElement(Ae.A,null,t.createElement(le.A,null,t.createElement(fe.A,{type:"outline","data-qa":Ne.cancelButton,"aria-label":xe.t("Cancel")},xe.t("Cancel")))))}h($,"TwoFAModal"),$.displayName="TwoFAModal";const ae=(0,Me.e)($);var Ge=e(2691514942),nt=e(7281000332),at=e(2398473551);function Ve(Se,Pe){const Fe=(0,nt.Ry)();if(!(0,at.isWorkspacePendingTwoFactor)(Fe,Se))return!1;const ge=(0,at.getWorkspacesMeta)(Fe),He=ge==null?void 0:ge[Se],{two_factor_magic_login:Qe,name:_e}=He,{token:Le,user_2fa_type:Ie,user_2fa_backup_type:we,user_emergency_code_length:ze,email:ut}=Qe;let _t;return Pe?_t=(0,Te.oK)(Pe):_t=(0,Te.oK)((0,at.getFocusedWorkspace)(Fe)),_t?(_t.dispatch(ae({magicLogin:Le,teamId:Se,type:Ie,backupType:we,emergencyLength:ze,teamName:_e,currentTeamId:Pe,emailAddress:ut})),!0):((0,Ge.Wo)().error("TWO_FACTOR_SSB",`${Se} is pending 2fa, but no store for ${Pe}, falling back to openSignIn()`),!1)}h(Ve,"maybeRenderTwoFactorModal")},668425044:(B,A,e)=>{"use strict";e.d(A,{aT:()=>M,zw:()=>P});var t=e(7823346015),s=e(1097815650),o=e(5228113015),n=e(3278623468),c=e(3442279907),l=e(8337562693),i=e(6002388395),a=e(9348523066),r=e(1492910739),d=e(6748214069),m=e(3142213496),f=e(5666020587),u=e(2691514942),E=e(3122619948);const v={is_expired:!1,ok:!0,should_fetch_new_service_worker:!1},g={is_expired:!1,ok:!1,should_fetch_new_service_worker:!1};async function T(b){let{teamIds:S}=b;if((0,r.b3)())return(0,u.Wo)().warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.checkVersion call."),v;if(!(0,E.A)())throw new Error("client.checkVersion should only be used in the client.");try{var N;const L={team_ids:S,build_version_ts:parseInt((N=(0,d.xb)())!==null&&N!==void 0?N:"",10),build_manifest_last_modified:(0,d.z8)()},D=(0,d.Cy)();D&&(L.config_version_ts=D);const k=p(L),x=await m.A.fetch({url:"/api/client.checkVersion",httpMethod:"POST",payload:k});return JSON.parse(x)}catch(L){return(0,u.Wo)().error("Failed to fetch/parse client.checkVersion response",L),g}}h(T,"clientCheckVersion");function p(b){return(0,f.t)(b,"client.checkVersion")}h(p,"getClientCheckVersionPayload");var O=e(5222398525),y=e(1244614944),C=e(234179143);const I="MIN-VERSION";async function M(b){let{reason:S,usingTeam:N}=b;var L,D;const k=(D=(L=N==null?void 0:N.teamId)!==null&&L!==void 0?L:(0,o.oI)())!==null&&D!==void 0?D:void 0;var x;const R=(x=N==null?void 0:N.apiQ)!==null&&x!==void 0?x:(0,C.PS)(k);if(R===void 0||k===void 0)return(0,s.z3)(I,`invalid apiQ or teamId passed to checkForMinVersionBump. teamId: ${k}`),{reason:"undefined team id or apiQ",...i.Yp};if((0,l.z)()&&k!==(0,o.oI)())return{reason:"do not call shouldReload for backgrounded teams",...i.Yp};const U=(0,a.Ay)();return(0,n.z$)()?_({teamIds:U,reason:S,apiQ:R}):(0,i.kK)({teamIds:U,reason:S,apiQ:R,teamId:k})}h(M,"checkForMinVersionBump");async function _(b){let{teamIds:S,reason:N,apiQ:L}=b;const D=await T({teamIds:S}),k=D.is_expired;var x;const R=(x=D.client_min_build_version)!==null&&x!==void 0?x:0;var U;const F=(U=D.recommended_build_version)!==null&&U!==void 0?U:0;var W;const w=(W=D.build_manifest_last_modified)!==null&&W!==void 0?W:0;if(!k)return{ok:!0,client_min_version:R,client_min_build_version:R,should_reload:!1,should_fetch_new_service_worker:!1,recommended_build_version:F,build_manifest_last_modified:w};const K=(0,O.F)(),j=K.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:y.nl.ALWAYS}}),[Q,J]=(0,t.A)(S,Z=>(0,c.H)(Z));j.addTags({client_min_version:R,recommended_build_version:F,build_manifest_last_modified:w,has_gov_teams:!!Q.length,has_commercial_teams:!!J.length});const{should_reload:z,reason:ie}=await(0,i.kK)({teamIds:Q,reason:N,apiQ:L,teamId:Q[0]});if(!z)return j.count({name:"prevent"}).addTags({environment:"gov",reason:ie??"none"}),K.reportTrace(j),(0,u.Wo)().info(I,`Gov teams failed rate limit check with reason ${ie??"none"}; Preventing reload. teams: (${Q.join(",")}) `),{ok:!0,client_min_version:R,client_min_build_version:R,should_reload:!1,should_fetch_new_service_worker:!1,recommended_build_version:F,build_manifest_last_modified:w,reason:ie};const{should_reload:ee,reason:ne}=J.length!==0?await(0,i.kK)({teamIds:J,reason:N,apiQ:L,teamId:J[0],skipExpiryCheck:!0}):{should_reload:!0,reason:"no_commercial_teams"};return ee?(j.count({name:"reload"}),K.reportTrace(j),{ok:!0,client_min_version:R,client_min_build_version:R,should_reload:!0,should_fetch_new_service_worker:!1,recommended_build_version:F,build_manifest_last_modified:w}):(j.count({name:"prevent"}).addTags({environment:"commercial",reason:ne??"none"}),K.reportTrace(j),(0,u.Wo)().info(I,`Commercial teams failed rate limit check with reason ${ne??"none"}; Preventing reload. teams: (${J.join(",")})`),{ok:!0,client_min_version:R,client_min_build_version:R,should_reload:!1,should_fetch_new_service_worker:!1,recommended_build_version:F,build_manifest_last_modified:w,reason:ne})}h(_,"checkForMinVersionBumpInGovClients");function P(b){return M({usingTeam:{teamId:b.teamId,apiQ:b.bootQueue.apiQ},reason:"boot"})}h(P,"checkForMinVersionBumpOnBoot")},8337562693:(B,A,e)=>{"use strict";e.d(A,{h:()=>s,z:()=>o});var t=e(6120728640);const s="call_should_reload_once";function o(){return(0,t.fW)(s)}h(o,"isCallShouldReloadOnceEnabled")},6957598307:(B,A,e)=>{"use strict";e.d(A,{S4:()=>v,Ty:()=>L,ez:()=>E,lf:()=>N});var t=e(605568209),s=e(5478938623),o=e(3362542648),n=e(9067060313),c=e(7919365230),l=e(7406576386),i=e(293248343),a=e(542703974),r=e(3787486706),d=e(1967583025),m=e(9089824056),f=e(8253842264),u=e(3666777625),E;(function(D){D.HAS_MENTIONS="has_mentions",D.HAS_SLACK_CONNECT_INVITE="has_slack_connect_invite",D.HAS_THREADS="has_threads",D.IS_ENTERPRISE="is_enterprise",D.IS_EXISTING_JOINER="is_existing_joiner",D.IS_IN_SOLUTIONS_ONBOARDING_TRIAL="is_in_solutions_onboarding_trial",D.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL="is_in_activate_solutions_gallery_trial",D.IS_IN_TRIAL="is_in_trial",D.IS_ONBOARDING_COMPLETED="is_onboarding_completed",D.IS_OVER_TWO_WEEKS_OLD="is_over_two_weeks_old",D.IS_USER_PREF_ENABLED="is_user_pref_enabled"})(E||(E={}));const v="should_show_ia4_tabs",g={reason:E.IS_ENTERPRISE,shouldShowTabs:!0},T={reason:E.IS_EXISTING_JOINER,shouldShowTabs:!0},p={reason:E.IS_USER_PREF_ENABLED,shouldShowTabs:!0},O={reason:E.HAS_MENTIONS,shouldShowTabs:!0},y={reason:E.HAS_THREADS,shouldShowTabs:!0},C={reason:E.HAS_SLACK_CONNECT_INVITE,shouldShowTabs:!0},I={reason:E.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL,shouldShowTabs:!0},M={reason:E.IS_IN_TRIAL,shouldShowTabs:!0},_={reason:E.IS_IN_SOLUTIONS_ONBOARDING_TRIAL,shouldShowTabs:!0},P={reason:E.IS_ONBOARDING_COMPLETED,shouldShowTabs:!0},b={shouldShowTabs:!0,reason:E.IS_OVER_TWO_WEEKS_OLD},S={shouldShowTabs:!1},N=(0,c.Ay)(D=>{const k=(0,u.H7)(D);if((0,s.r7)(k))return g;const R=(0,d.w)(D);if(!(0,m._)(D)&&R)return T;if((0,i.ty)(D,v))return p;var W;if(((W=(0,n.rz)(D))!==null&&W!==void 0?W:t.Ml).length>0)return O;var K;return((K=(0,n.sG)(D))!==null&&K!==void 0?K:t.Ml).length>0?y:(0,l.RU)(D)?C:(0,a.iH)(D)?(0,a.G)(D,o.ZO.SolutionsGalleryPromo)?I:(0,f.BX)(D)?_:M:(0,i.ty)(D,"onboarding_complete")?P:(0,r.H)(D)>=14?b:S});N.meta={name:"createSelector",key:"createSelectorshouldShowTabsWithReason",description:D=>{const k=(0,u.H7)(D);if((0,s.r7)(k))return g;const R=(0,d.w)(D);if(!(0,m._)(D)&&R)return T;if((0,i.ty)(D,v))return p;var W;if(((W=(0,n.rz)(D))!==null&&W!==void 0?W:t.Ml).length>0)return O;var K;return((K=(0,n.sG)(D))!==null&&K!==void 0?K:t.Ml).length>0?y:(0,l.RU)(D)?C:(0,a.iH)(D)?(0,a.G)(D,o.ZO.SolutionsGalleryPromo)?I:(0,f.BX)(D)?_:M:(0,i.ty)(D,"onboarding_complete")?P:(0,r.H)(D)>=14?b:S}};const L=(0,c.Ay)(D=>N(D).shouldShowTabs);L.meta={name:"createSelector",key:"createSelectorshouldShowTabs",description:D=>N(D).shouldShowTabs}},8100572746:(B,A,e)=>{"use strict";e.d(A,{$:()=>t});const t={ReactionAdded:"slack#/events/reaction_added",UserJoinedChannel:"slack#/events/user_joined_channel",ListRecordCreated:"slack#/events/list_record_created",ListRecordUpdated:"slack#/events/list_record_updated",ChannelCreated:"slack#/events/channel_created",MessagePosted:"slack#/events/message_posted"}},888313528:(B,A,e)=>{"use strict";e.d(A,{G:()=>s});var t=e(7523104273);const s=(0,t.Ay)({},!0,{persistenceEnabled:!1,storeKey:"isState"});s.meta={name:"createReducer",key:"createReducerisStateReducer"}},1860446174:(B,A,e)=>{"use strict";e.d(A,{$D:()=>d,OR:()=>l,RC:()=>u,Ts:()=>a,WU:()=>f,gN:()=>i,jG:()=>m,jr:()=>E,jt:()=>c,ke:()=>t,qD:()=>r,r1:()=>n,ts:()=>s,u1:()=>o});const t="viewLayoutSidebarWidthIntent",s="viewLayoutSidebarWidthMode",o="viewLayoutSidebarWideWidthIntent",n="viewLayoutSidebarWideWidthMode",c="viewLayoutSidebarExtraWideWidthIntent",l="viewLayoutSidebarExtraWideWidthMode",i="viewLayoutSecondaryWidthIntent",a="viewLayoutSecondaryWidthMode",r="viewLayoutSplitWidthIntent",d="viewLayoutSplitWidthMode",m="viewLayoutIsSidebarVisible",f="viewLayoutIsWorkspaceSwitcherVisible",u="viewLayoutCompactModeEnabled",E="viewLayoutLastSidebarWidth"}},B=>{var A=h(t=>B(B.s=t),"__webpack_exec__");B.O(0,["gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"],()=>A(5136485128));var e=B.O()}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/client-boot.1725ecea4b4c6f14569a.min.js.map